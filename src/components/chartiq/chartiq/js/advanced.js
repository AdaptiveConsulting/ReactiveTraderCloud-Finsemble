/**
 *	8.1.0
 *	Generation date: 2021-03-12T16:13:14.981Z
 *	Client name: adaptive
 *	Package Type: Technical Analysis 8.0
 *	License type: annual
 *	Expiration date: "2022/02/01"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
Y6AA[630108]=(function(){var f=2;for(;f !== 9;){switch(f){case 5:var E;try{var w=2;for(;w !== 6;){switch(w){case 2:Object['\x64\u0065\x66\u0069\u006e\x65\u0050\u0072\u006f\x70\x65\x72\u0074\x79'](Object['\u0070\x72\u006f\x74\u006f\u0074\x79\u0070\x65'],'\u0046\x52\x36\x38\x53',{'\x67\x65\x74':function(){var X=2;for(;X !== 1;){switch(X){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});E=FR68S;w=5;break;case 5:E['\u0079\x58\u006b\u005f\x52']=E;w=4;break;case 4:w=typeof yXk_R === '\x75\x6e\x64\u0065\u0066\x69\u006e\x65\u0064'?3:9;break;case 3:throw "";w=9;break;case 9:delete E['\x79\u0058\u006b\u005f\u0052'];var p=Object['\x70\u0072\u006f\x74\u006f\x74\x79\u0070\u0065'];delete p['\u0046\u0052\u0036\x38\x53'];w=6;break;}}}catch(J){E=window;}return E;break;case 1:return globalThis;break;case 2:f=typeof globalThis === '\u006f\u0062\x6a\u0065\u0063\x74'?1:5;break;}}})();Y6AA[121177]=t6tt(Y6AA[630108]);Y6AA[387874]=S6KK(Y6AA[630108]);Y6AA.c5n=function(){return typeof Y6AA[72156].a9w === 'function'?Y6AA[72156].a9w.apply(Y6AA[72156],arguments):Y6AA[72156].a9w;};function S6KK(S8TT){function h5TT(n8TT){var O8TT=2;for(;O8TT !== 5;){switch(O8TT){case 2:var D8TT=[arguments];return D8TT[0][0].Array;break;}}}function w5TT(F8TT,f8TT,R8TT,L8TT,t8TT){var k8TT=2;for(;k8TT !== 6;){switch(k8TT){case 9:v8TT[9]="e";v8TT[7]="defin";try{var j8TT=2;for(;j8TT !== 8;){switch(j8TT){case 2:v8TT[3]={};v8TT[2]=(1,v8TT[0][1])(v8TT[0][0]);v8TT[5]=[v8TT[2],v8TT[2].prototype][v8TT[0][3]];j8TT=4;break;case 4:v8TT[3].value=v8TT[5][v8TT[0][2]];try{var H8TT=2;for(;H8TT !== 3;){switch(H8TT){case 2:v8TT[4]=v8TT[7];v8TT[4]+=v8TT[9];v8TT[4]+=v8TT[8];v8TT[0][0].Object[v8TT[4]](v8TT[5],v8TT[0][4],v8TT[3]);H8TT=3;break;}}}catch(F5TT){}v8TT[5][v8TT[0][4]]=v8TT[3].value;j8TT=8;break;}}}catch(f5TT){}k8TT=6;break;case 2:var v8TT=[arguments];v8TT[8]="";v8TT[8]="";v8TT[8]="Property";v8TT[9]="";k8TT=9;break;}}}function Z5TT(K8TT){var P8TT=2;for(;P8TT !== 5;){switch(P8TT){case 2:var z8TT=[arguments];return z8TT[0][0].RegExp;break;}}}var p8TT=2;for(;p8TT !== 75;){switch(p8TT){case 13:i8TT[6]="__abs";i8TT[2]="H";i8TT[3]="du";i8TT[9]="y";i8TT[11]="";i8TT[11]="";i8TT[46]="__resi";p8TT=17;break;case 17:i8TT[11]="ze";i8TT[92]="";i8TT[92]="__";i8TT[63]="optimi";p8TT=26;break;case 54:i8TT[86]+=i8TT[10];i8TT[97]=i8TT[46];i8TT[97]+=i8TT[3];i8TT[97]+=i8TT[1];p8TT=50;break;case 22:i8TT[28]="KK";i8TT[76]="";i8TT[76]="6";i8TT[57]="";p8TT=33;break;case 57:J6TT(Z5TT,"test",i8TT[19],i8TT[54]);p8TT=56;break;case 55:J6TT(s6TT,i8TT[97],i8TT[44],i8TT[86]);p8TT=77;break;case 42:i8TT[98]+=i8TT[49];i8TT[98]+=i8TT[10];i8TT[62]=i8TT[92];i8TT[62]+=i8TT[63];i8TT[62]+=i8TT[11];i8TT[86]=i8TT[2];i8TT[86]+=i8TT[49];p8TT=54;break;case 26:i8TT[10]="K";i8TT[89]="s";i8TT[49]="6K";i8TT[28]="";p8TT=22;break;case 77:J6TT(s6TT,i8TT[62],i8TT[44],i8TT[98]);p8TT=76;break;case 33:i8TT[57]="w";i8TT[19]=1;i8TT[44]=3;i8TT[44]=0;p8TT=29;break;case 3:i8TT[8]="";i8TT[8]="L";i8TT[1]="";i8TT[1]="al";i8TT[2]="";i8TT[5]="Z6";p8TT=13;break;case 58:J6TT(s6TT,i8TT[53],i8TT[44],i8TT[65]);p8TT=57;break;case 64:i8TT[65]+=i8TT[10];i8TT[65]+=i8TT[10];i8TT[53]=i8TT[6];i8TT[53]+=i8TT[4];i8TT[53]+=i8TT[7];p8TT=59;break;case 59:var J6TT=function(x8TT,X8TT,T8TT,U8TT){var I8TT=2;for(;I8TT !== 5;){switch(I8TT){case 2:var W8TT=[arguments];w5TT(i8TT[0][0],W8TT[0][0],W8TT[0][1],W8TT[0][2],W8TT[0][3]);I8TT=5;break;}}};p8TT=58;break;case 50:i8TT[32]=i8TT[8];i8TT[32]+=i8TT[49];i8TT[32]+=i8TT[10];i8TT[54]=i8TT[9];i8TT[54]+=i8TT[49];i8TT[54]+=i8TT[10];i8TT[65]=i8TT[5];p8TT=64;break;case 2:var i8TT=[arguments];i8TT[4]="";i8TT[4]="t";i8TT[7]="ract";p8TT=3;break;case 56:J6TT(h5TT,"push",i8TT[19],i8TT[32]);p8TT=55;break;case 76:J6TT(a5TT,"apply",i8TT[19],i8TT[27]);p8TT=75;break;case 29:i8TT[27]=i8TT[57];i8TT[27]+=i8TT[76];i8TT[27]+=i8TT[28];i8TT[98]=i8TT[89];p8TT=42;break;}}function a5TT(m8TT){var Y8TT=2;for(;Y8TT !== 5;){switch(Y8TT){case 2:var d8TT=[arguments];return d8TT[0][0].Function;break;}}}function s6TT(e8TT){var Q8TT=2;for(;Q8TT !== 5;){switch(Q8TT){case 2:var E8TT=[arguments];return E8TT[0][0];break;}}}}Y6AA[5381]="hUw";Y6AA.V8TT=function(){return typeof Y6AA[479833].R5D === 'function'?Y6AA[479833].R5D.apply(Y6AA[479833],arguments):Y6AA[479833].R5D;};Y6AA[199280]=Y6AA[121177];Y6AA.E1n=function(){return typeof Y6AA[16355].a1n === 'function'?Y6AA[16355].a1n.apply(Y6AA[16355],arguments):Y6AA[16355].a1n;};Y6AA.g5n=function(){return typeof Y6AA[72156].a9w === 'function'?Y6AA[72156].a9w.apply(Y6AA[72156],arguments):Y6AA[72156].a9w;};Y6AA[372712]=true;Y6AA[16355]=(function(Z1n){return {a1n:function(){var p1n,j1n=arguments;switch(Z1n){case 13:p1n=j1n[0] - j1n[1] - j1n[2] + j1n[3];break;case 73:p1n=j1n[0] * j1n[4] / j1n[1] + j1n[3] - j1n[2];break;case 2:p1n=-j1n[2] * j1n[0] + j1n[1];break;case 57:p1n=j1n[1] + j1n[2] / j1n[0];break;case 108:p1n=(j1n[2] - (j1n[1] + (j1n[3] & j1n[4]))) / j1n[0];break;case 33:p1n=-j1n[2] - j1n[1] + j1n[0];break;case 53:p1n=j1n[1] / j1n[3] / j1n[0] * j1n[4] - j1n[2];break;case 9:p1n=j1n[1] + j1n[2] - j1n[0];break;case 151:p1n=(j1n[0] - j1n[3] - j1n[4]) * j1n[1] + j1n[2];break;case 6:p1n=j1n[1] - j1n[0];break;case 7:p1n=j1n[3] - j1n[2] + j1n[1] + j1n[0];break;case 27:p1n=j1n[0] - j1n[1] * j1n[2];break;case 181:p1n=j1n[0] * -j1n[1];break;case 74:p1n=(j1n[0] * j1n[3] - j1n[4]) / j1n[2] - j1n[1];break;case 146:p1n=(j1n[2] - j1n[4]) / j1n[3] - j1n[0] + j1n[1];break;case 154:p1n=(j1n[3] + j1n[1]) / j1n[2] - j1n[0] - j1n[4];break;case 36:p1n=j1n[2] - (j1n[0] - j1n[1]);break;case 55:p1n=j1n[3] / j1n[1] - j1n[0] + j1n[2];break;case 141:p1n=j1n[0] + (j1n[1] >> j1n[2]);break;case 152:p1n=j1n[2] * (j1n[0] / j1n[1] - j1n[3]);break;case 47:p1n=j1n[0] ^ j1n[1];break;case 65:p1n=j1n[1] + j1n[2] - j1n[3] - j1n[0] + j1n[4];break;case 96:p1n=-j1n[0] + j1n[1] - j1n[2];break;case 1:p1n=j1n[1] * j1n[0];break;case 87:p1n=j1n[2] * (j1n[1] * j1n[0] + j1n[4]) / j1n[3];break;case 114:p1n=j1n[0] + j1n[3] + j1n[2] - j1n[1];break;case 49:p1n=j1n[1] % j1n[0];break;case 153:p1n=j1n[0] + j1n[3] * (j1n[1] - j1n[2]);break;case 91:p1n=j1n[2] + j1n[1] + j1n[0];break;case 163:p1n=(j1n[1] + j1n[3]) / j1n[0] + j1n[4] + j1n[2];break;case 82:p1n=j1n[0] + (j1n[1] - j1n[2]) / j1n[3];break;case 98:p1n=(j1n[4] + j1n[2]) * j1n[3] - j1n[0] - j1n[1];break;case 68:p1n=(j1n[0] - j1n[1]) / (j1n[3] - j1n[2]);break;case 32:p1n=-j1n[1] - j1n[4] - j1n[0] + j1n[2] + j1n[3];break;case 142:p1n=(j1n[1] + j1n[0]) * j1n[2] * j1n[3] - j1n[4];break;case 39:p1n=j1n[3] - j1n[0] + j1n[2] - j1n[1];break;case 81:p1n=j1n[2] / (j1n[1] - j1n[0]);break;case 64:p1n=(j1n[2] + j1n[0]) / j1n[1] / j1n[3] + j1n[4];break;case 173:p1n=j1n[1] - (j1n[3] & j1n[0]) / (j1n[2] + j1n[4]);break;case 109:p1n=j1n[3] + j1n[1] + j1n[2] + j1n[0];break;case 110:p1n=(j1n[2] * j1n[4] + j1n[1]) / j1n[0] - j1n[3];break;case 50:p1n=(j1n[2] + j1n[4] - j1n[0]) / j1n[3] - j1n[1];break;case 145:p1n=j1n[3] * j1n[0] / (j1n[2] + j1n[1]);break;case 12:p1n=j1n[1] / j1n[0];break;case 42:p1n=(j1n[0] - j1n[1]) * j1n[4] + j1n[2] + j1n[3];break;case 119:p1n=(j1n[2] - j1n[0]) / j1n[3] + j1n[1];break;case 143:p1n=-j1n[3] / j1n[0] - j1n[2] + j1n[1];break;case 165:p1n=(j1n[4] % j1n[3] + (j1n[0] - j1n[2])) * j1n[1];break;case 59:p1n=j1n[1] - j1n[0] / (j1n[3] << j1n[2]);break;case 23:p1n=j1n[2] * j1n[1] / j1n[3] - j1n[0];break;case 160:p1n=(j1n[2] * j1n[1] - j1n[0]) * j1n[3] - j1n[4];break;case 84:p1n=j1n[2] + +j1n[1] / j1n[0];break;case 120:p1n=j1n[1] * j1n[4] * j1n[3] + (j1n[0] - j1n[2] * j1n[5]) * j1n[6];break;case 18:p1n=j1n[0] << j1n[1];break;case 131:p1n=j1n[1] / j1n[3] + j1n[2] + j1n[0];break;case 62:p1n=(j1n[2] - j1n[3]) / (j1n[0] - j1n[4]) > j1n[1];break;case 104:p1n=(j1n[0] + j1n[3] * j1n[4]) / (j1n[2] & j1n[1]);break;case 161:p1n=(j1n[1] + j1n[2]) * j1n[0] + j1n[3];break;case 92:p1n=j1n[2] * j1n[0] + j1n[4] + j1n[3] - j1n[1];break;case 80:p1n=j1n[1] / (j1n[0] ^ j1n[2]);break;case 77:p1n=-j1n[2] * j1n[0] + j1n[1] + j1n[4] + j1n[3];break;case 79:p1n=+j1n[0] / j1n[1];break;case 100:p1n=j1n[4] + (j1n[6] - j1n[3]) / (j1n[5] - j1n[1]) * (j1n[0] - j1n[2]);break;case 177:p1n=j1n[2] / j1n[3] - j1n[1] - j1n[0];break;case 4:p1n=j1n[1] + j1n[0];break;case 182:p1n=-j1n[3] - j1n[2] + j1n[0] - j1n[1];break;case 56:p1n=j1n[2] - j1n[0] / +j1n[1];break;case 174:p1n=-j1n[2] / j1n[1] / j1n[0] + j1n[3];break;case 26:p1n=j1n[1] + j1n[2] * j1n[0];break;case 178:p1n=-j1n[0] * j1n[3] / j1n[1] + j1n[2];break;case 52:p1n=(-j1n[4] + j1n[1]) / j1n[0] + j1n[2] - j1n[3];break;case 97:p1n=-(j1n[2] - j1n[1]) * j1n[0] + j1n[3];break;case 113:p1n=(j1n[4] / j1n[1] + j1n[0]) / j1n[3] - j1n[2];break;case 148:p1n=j1n[0] * j1n[1] * j1n[2];break;case 156:p1n=j1n[2] / j1n[0] - j1n[4] - j1n[1] + j1n[3];break;case 164:p1n=(j1n[0] - j1n[1] + j1n[2]) / j1n[3] + j1n[4];break;case 29:p1n=j1n[1] / j1n[0] + j1n[2];break;case 128:p1n=j1n[3] - j1n[4] - j1n[1] - j1n[2] + j1n[0];break;case 0:p1n=j1n[1] & j1n[0];break;case 188:p1n=j1n[4] / j1n[1] / j1n[2] + j1n[0] + j1n[3];break;case 5:p1n=j1n[0] - j1n[1] + j1n[2];break;case 40:p1n=j1n[0] * j1n[2] + j1n[4] - j1n[1] - j1n[3];break;case 184:p1n=j1n[0] + j1n[3] * j1n[1] + j1n[2];break;case 75:p1n=-j1n[2] * j1n[3] * j1n[0] + j1n[1];break;case 189:p1n=j1n[0] - j1n[2] - (j1n[1] ^ j1n[3]);break;case 14:p1n=-j1n[0] * j1n[4] * j1n[2] / j1n[3] + j1n[1];break;case 37:p1n=(j1n[0] - j1n[2]) / j1n[1];break;case 86:p1n=j1n[2] * (j1n[1] + j1n[0]) / j1n[3];break;case 48:p1n=j1n[1] * j1n[2] - j1n[0] - j1n[3];break;case 168:p1n=(-j1n[3] + j1n[4]) * j1n[0] / j1n[2] - j1n[1];break;case 105:p1n=j1n[3] / j1n[0] * j1n[2] - j1n[4] + j1n[1];break;case 179:p1n=(j1n[2] - j1n[0]) * j1n[1];break;case 133:p1n=(j1n[1] + j1n[4]) / j1n[2] - j1n[0] + j1n[3];break;case 63:p1n=(-j1n[1] - j1n[3]) / j1n[0] + j1n[2];break;case 130:p1n=(j1n[0] - j1n[3] - j1n[4]) / j1n[1] - j1n[2];break;case 30:p1n=j1n[1] + j1n[2] + j1n[0] + j1n[4] + j1n[3];break;case 159:p1n=j1n[1] * (j1n[2] / j1n[4] - (j1n[0] & j1n[3]));break;case 106:p1n=j1n[0] * j1n[3] / j1n[2] - j1n[4] + j1n[1];break;case 122:p1n=-j1n[3] * j1n[1] * j1n[2] * j1n[4] + j1n[0];break;case 162:p1n=j1n[4] * j1n[3] * j1n[2] / j1n[1] - j1n[0];break;case 90:p1n=j1n[1] * j1n[0] + j1n[2];break;case 121:p1n=j1n[3] / j1n[0] / j1n[2] / j1n[4] + j1n[1];break;case 31:p1n=(j1n[3] - j1n[1]) * j1n[0] - j1n[4] + j1n[2];break;case 66:p1n=(j1n[2] - j1n[0]) * j1n[3] - j1n[1];break;case 180:p1n=(-j1n[0] + j1n[2]) * j1n[3] + j1n[1];break;case 85:p1n=j1n[0] * j1n[2] / j1n[3] * j1n[4] + j1n[1];break;case 125:p1n=j1n[4] + j1n[2] + j1n[0] - j1n[3] - j1n[1];break;case 51:p1n=-j1n[0] + j1n[2] + j1n[3] - j1n[1];break;case 166:p1n=j1n[0] / (j1n[3] * j1n[1]) <= +j1n[2];break;case 93:p1n=(j1n[3] + j1n[1]) / (j1n[2] << j1n[0]);break;case 3:p1n=-j1n[2] + j1n[0] + j1n[1];break;case 172:p1n=(j1n[1] - j1n[0]) / j1n[3] - j1n[2];break;case 21:p1n=(j1n[3] + j1n[4]) / j1n[0] / j1n[2] - j1n[1];break;case 8:p1n=(j1n[2] + j1n[0]) / j1n[1];break;case 35:p1n=(j1n[0] + j1n[3]) * j1n[1] - j1n[2];break;case 155:p1n=-j1n[3] / j1n[4] - j1n[1] - j1n[0] + j1n[2];break;case 24:p1n=j1n[0] - j1n[1] - j1n[2];break;case 127:p1n=(j1n[0] + j1n[4] + j1n[1]) / j1n[2] - j1n[3];break;case 76:p1n=(j1n[0] / j1n[4] + j1n[1]) / j1n[2] + j1n[3];break;case 170:p1n=j1n[2] * (j1n[1] + (j1n[3] ^ j1n[0]));break;case 11:p1n=(j1n[2] + j1n[3]) / (j1n[0] & j1n[1]);break;case 147:p1n=j1n[1] / j1n[0] / j1n[3] - j1n[2];break;case 41:p1n=j1n[3] / j1n[2] * j1n[0] - j1n[1];break;case 132:p1n=(j1n[2] + j1n[0]) / j1n[1] + j1n[3];break;case 95:p1n=j1n[3] - j1n[0] - j1n[2] - j1n[1];break;case 186:p1n=j1n[0] == j1n[1];break;case 60:p1n=(-j1n[2] + j1n[0]) / j1n[4] * j1n[3] + j1n[1];break;case 69:p1n=j1n[0] - j1n[1] + j1n[4] + j1n[3] - j1n[2];break;case 136:p1n=(-j1n[1] + j1n[3]) * j1n[0] - j1n[4] - j1n[2];break;case 102:p1n=(j1n[0] * j1n[3] + j1n[2]) / j1n[1];break;case 94:p1n=j1n[3] / j1n[0] * j1n[2] + j1n[1] + j1n[4];break;case 71:p1n=j1n[2] - j1n[0] + j1n[4] - j1n[1] + j1n[3];break;case 149:p1n=j1n[0] - j1n[1] / (j1n[4] + j1n[3] / j1n[2]);break;case 107:p1n=j1n[1] + j1n[0] + j1n[6] + j1n[5] + j1n[2] + j1n[4] + j1n[7] + j1n[3];break;case 78:p1n=j1n[1] * j1n[2] / j1n[0];break;case 34:p1n=j1n[1] | j1n[0];break;case 25:p1n=j1n[2] * j1n[0] - j1n[1];break;case 137:p1n=(j1n[2] - j1n[4]) / j1n[3] + j1n[0] - j1n[1];break;case 111:p1n=j1n[2] * j1n[3] * j1n[1] - j1n[0];break;case 20:p1n=j1n[1] - +j1n[0];break;case 46:p1n=j1n[2] + (j1n[1] - j1n[0]);break;case 176:p1n=j1n[0] - j1n[1] + +j1n[2];break;case 54:p1n=j1n[0] + +j1n[1];break;case 124:p1n=j1n[2] * j1n[1] / j1n[0] + j1n[3];break;case 129:p1n=-j1n[1] * j1n[3] - j1n[0] + j1n[2];break;case 171:p1n=(j1n[3] - j1n[4]) / j1n[1] * j1n[2] - j1n[0];break;case 88:p1n=(j1n[6] * j1n[2] - j1n[4] * j1n[3]) / (j1n[5] * j1n[0] - j1n[1]);break;case 67:p1n=j1n[1] < j1n[0];break;case 191:p1n=-j1n[0] / j1n[1] * j1n[3] + j1n[2];break;case 139:p1n=j1n[2] * j1n[1] * j1n[3] - j1n[4] - j1n[0];break;case 38:p1n=j1n[1] + j1n[2] + j1n[0] + j1n[4] - j1n[3];break;case 99:p1n=j1n[1] / j1n[0] * j1n[3] / j1n[2] + j1n[4];break;case 58:p1n=j1n[0] - j1n[2] / j1n[1];break;case 116:p1n=(j1n[2] + j1n[3]) * j1n[0] + j1n[1] - j1n[4];break;case 16:p1n=-j1n[0] + j1n[1];break;case 22:p1n=j1n[2] / j1n[0] / j1n[1] + j1n[3];break;case 19:p1n=j1n[1] / j1n[2] - j1n[0];break;case 183:p1n=j1n[1] - j1n[3] * (j1n[2] >> j1n[0]) - j1n[4];break;case 134:p1n=(j1n[3] + j1n[4] - j1n[0]) * j1n[1] - j1n[2];break;case 72:p1n=(j1n[0] - j1n[6]) * (j1n[3] - j1n[1]) / (j1n[5] - j1n[4]) + j1n[2];break;case 15:p1n=j1n[3] + j1n[0] - j1n[2] + j1n[4] - j1n[1];break;case 140:p1n=-j1n[0] * j1n[2] - j1n[1] - j1n[3] + j1n[4];break;case 45:p1n=j1n[0] * j1n[1] < j1n[2];break;case 158:p1n=(j1n[1] - j1n[0]) * j1n[4] * j1n[2] - j1n[3];break;case 44:p1n=(j1n[2] - j1n[1]) * j1n[3] + j1n[0];break;case 157:p1n=j1n[2] - (j1n[1] & j1n[0]);break;case 10:p1n=j1n[1] + j1n[0] - j1n[2] - j1n[3];break;case 167:p1n=j1n[0] - (j1n[1] << j1n[2]);break;case 190:p1n=j1n[1] + (j1n[4] / (j1n[2] - j1n[3]) - j1n[5] / j1n[0]);break;case 103:p1n=(j1n[0] + +j1n[3] * j1n[2]) / j1n[1];break;case 83:p1n=j1n[1] - j1n[3] * (j1n[0] - j1n[2]);break;case 123:p1n=(j1n[4] + j1n[2] - j1n[3]) / j1n[1] + j1n[0];break;case 169:p1n=j1n[0] > j1n[1];break;case 112:p1n=j1n[2] * j1n[1] + j1n[0] - j1n[3];break;case 126:p1n=j1n[2] / j1n[1] * j1n[3] * j1n[0] - j1n[4];break;case 187:p1n=j1n[3] + j1n[1] / j1n[0] + j1n[2];break;case 101:p1n=j1n[0] >> j1n[1];break;case 144:p1n=(-j1n[1] - j1n[0] - j1n[3]) * j1n[4] + j1n[2];break;case 175:p1n=j1n[2] * j1n[3] * j1n[1] + j1n[0] - j1n[4];break;case 61:p1n=(j1n[2] + j1n[1]) / j1n[0] - j1n[3];break;case 135:p1n=(-j1n[1] * j1n[2] - j1n[3]) / j1n[4] + j1n[0];break;case 43:p1n=j1n[1] + j1n[0] - j1n[2] + j1n[3];break;case 138:p1n=(j1n[1] - j1n[4] + j1n[0]) * j1n[3] - j1n[2];break;case 118:p1n=j1n[0] / j1n[4] / j1n[2] + j1n[1] - j1n[3];break;case 185:p1n=j1n[3] - j1n[0] * +j1n[1] - j1n[2];break;case 150:p1n=(-j1n[0] + j1n[3]) * j1n[2] - j1n[1];break;case 89:p1n=(j1n[2] - j1n[0] * j1n[3]) / j1n[1];break;case 115:p1n=(j1n[0] | j1n[1]) * j1n[3] / j1n[2];break;case 28:p1n=-j1n[2] / j1n[1] + j1n[0];break;case 117:p1n=(j1n[0] + +j1n[1]) * j1n[2];break;case 17:p1n=(j1n[3] + j1n[0] + j1n[1] + j1n[4]) / j1n[2];break;case 70:p1n=(-j1n[0] / j1n[1] - j1n[4]) * j1n[3] + j1n[2];break;}return p1n;},c1n:function(F1n){Z1n=F1n;}};})();Y6AA[72156]=(function(){var u9w=function(s9w,o9w){var b9w=o9w & 0xffff;var L9w=o9w - b9w;return (L9w * s9w | 0) + (b9w * s9w | 0) | 0;},U9w=function(R9w,v9w,z9w){var G9w=0xcc9e2d51,O9w=0x1b873593;var n9w=z9w;var V9w=v9w & ~0x3;for(var A9w=0;A9w < V9w;A9w+=4){var c9w=R9w.Z6tt(A9w) & 0xff | (R9w.Z6tt(A9w + 1) & 0xff) << 8 | (R9w.Z6tt(A9w + 2) & 0xff) << 16 | (R9w.Z6tt(A9w + 3) & 0xff) << 24;c9w=u9w(c9w,G9w);c9w=(c9w & 0x1ffff) << 15 | c9w >>> 17;c9w=u9w(c9w,O9w);n9w^=c9w;n9w=(n9w & 0x7ffff) << 13 | n9w >>> 19;n9w=n9w * 5 + 0xe6546b64 | 0;}c9w=0;switch(v9w % 4){case 3:c9w=(R9w.Z6tt(V9w + 2) & 0xff) << 16;case 2:c9w|=(R9w.Z6tt(V9w + 1) & 0xff) << 8;case 1:c9w|=R9w.Z6tt(V9w) & 0xff;c9w=u9w(c9w,G9w);c9w=(c9w & 0x1ffff) << 15 | c9w >>> 17;c9w=u9w(c9w,O9w);n9w^=c9w;}n9w^=v9w;n9w^=n9w >>> 16;n9w=u9w(n9w,0x85ebca6b);n9w^=n9w >>> 13;n9w=u9w(n9w,0xc2b2ae35);n9w^=n9w >>> 16;return n9w;};return {a9w:U9w};})();function t6tt(t1n){var T5n=2;for(;T5n !== 10;){switch(T5n){case 11:g1n(O1n,"charCodeAt",k1n[1],k1n[8]);T5n=10;break;case 12:var g1n=function(D1n,K1n,a5n,r5n){var Y5n=2;for(;Y5n !== 5;){switch(Y5n){case 2:var h1n=[arguments];I1n(k1n[0][0],h1n[0][0],h1n[0][1],h1n[0][2],h1n[0][3]);Y5n=5;break;}}};T5n=11;break;case 9:k1n[7]="";k1n[7]="Z";k1n[1]=1;k1n[8]=k1n[7];k1n[8]+=k1n[2];k1n[8]+=k1n[3];T5n=12;break;case 2:var k1n=[arguments];k1n[3]="";k1n[3]="tt";k1n[2]="6";k1n[7]="";T5n=9;break;}}function O1n(z5n){var L5n=2;for(;L5n !== 5;){switch(L5n){case 2:var l1n=[arguments];return l1n[0][0].String;break;}}}function I1n(E5n,o5n,Z5n,j5n,p5n){var S5n=2;for(;S5n !== 8;){switch(S5n){case 2:var q1n=[arguments];q1n[6]="rty";q1n[2]=5;q1n[3]="defi";S5n=3;break;case 3:q1n[9]="nePrope";try{var d5n=2;for(;d5n !== 8;){switch(d5n){case 3:try{var y5n=2;for(;y5n !== 3;){switch(y5n){case 2:q1n[7]=q1n[3];q1n[7]+=q1n[9];q1n[7]+=q1n[6];q1n[0][0].Object[q1n[7]](q1n[4],q1n[0][4],q1n[1]);y5n=3;break;}}}catch(H1n){}q1n[4][q1n[0][4]]=q1n[1].value;d5n=8;break;case 2:q1n[1]={};q1n[8]=(1,q1n[0][1])(q1n[0][0]);q1n[4]=[q1n[2],q1n[8].prototype][q1n[0][3]];q1n[1].value=q1n[4][q1n[0][2]];d5n=3;break;}}}catch(u1n){}S5n=8;break;}}}}Y6AA.z1n=function(){return typeof Y6AA[16355].c1n === 'function'?Y6AA[16355].c1n.apply(Y6AA[16355],arguments):Y6AA[16355].c1n;};Y6AA.L1n=function(){return typeof Y6AA[16355].a1n === 'function'?Y6AA[16355].a1n.apply(Y6AA[16355],arguments):Y6AA[16355].a1n;};Y6AA.C8TT=function(){return typeof Y6AA[479833].R5D === 'function'?Y6AA[479833].R5D.apply(Y6AA[479833],arguments):Y6AA[479833].R5D;};function Y6AA(){}Y6AA.d1n=function(){return typeof Y6AA[16355].c1n === 'function'?Y6AA[16355].c1n.apply(Y6AA[16355],arguments):Y6AA[16355].c1n;};Y6AA[630108].p0UU=Y6AA;Y6AA[479833]=(function(){var M8TT=2;for(;M8TT !== 9;){switch(M8TT){case 2:var o8TT=[arguments];o8TT[6]=undefined;o8TT[1]={};o8TT[1].R5D=function(){var y8TT=2;for(;y8TT !== 90;){switch(y8TT){case 31:B8TT[77]=B8TT[91];B8TT[35]={};B8TT[35].a4j=['h4j'];B8TT[35].e4j=function(){var C0D=function(){return ('X').toLowerCase();};var F0D=(/\x78/).y6KK(C0D + []);return F0D;};y8TT=44;break;case 2:var B8TT=[arguments];y8TT=1;break;case 63:B8TT[16]='r1n';B8TT[47]='a4j';B8TT[52]='c4j';y8TT=60;break;case 8:B8TT[4].e4j=function(){var a0D=typeof Z6KK === 'function';return a0D;};B8TT[9]=B8TT[4];B8TT[7]={};B8TT[7].a4j=['h4j'];y8TT=13;break;case 75:B8TT[57]={};B8TT[57][B8TT[96]]=B8TT[71][B8TT[47]][B8TT[53]];B8TT[57][B8TT[52]]=B8TT[61];y8TT=72;break;case 54:B8TT[2].L6KK(B8TT[77]);B8TT[2].L6KK(B8TT[84]);B8TT[2].L6KK(B8TT[63]);y8TT=51;break;case 70:B8TT[92]++;y8TT=57;break;case 34:B8TT[91]={};B8TT[91].a4j=['h4j'];B8TT[91].e4j=function(){var n0D=function(){return ('x y').slice(0,1);};var h0D=!(/\u0079/).y6KK(n0D + []);return h0D;};y8TT=31;break;case 51:B8TT[2].L6KK(B8TT[9]);y8TT=50;break;case 22:B8TT[95].a4j=['h4j'];B8TT[95].e4j=function(){var P0D=function(){return ['a','a'].join();};var g0D=!(/(\x5b|\u005d)/).y6KK(P0D + []);return g0D;};B8TT[63]=B8TT[95];y8TT=34;break;case 77:B8TT[53]=0;y8TT=76;break;case 71:B8TT[53]++;y8TT=76;break;case 26:B8TT[15].a4j=['h4j'];B8TT[15].e4j=function(){var t0D=function(){return atob('PQ==');};var V0D=!(/\u0061\u0074\u006f\u0062/).y6KK(t0D + []);return V0D;};B8TT[45]=B8TT[15];B8TT[95]={};y8TT=22;break;case 1:y8TT=o8TT[6]?5:4;break;case 4:B8TT[2]=[];B8TT[4]={};B8TT[4].a4j=['M4j'];y8TT=8;break;case 67:o8TT[6]=13;y8TT=66;break;case 60:B8TT[97]='e4j';B8TT[96]='T1n';y8TT=58;break;case 5:return 13;break;case 46:B8TT[2].L6KK(B8TT[31]);B8TT[2].L6KK(B8TT[5]);B8TT[20]=[];B8TT[44]='o1n';y8TT=63;break;case 58:B8TT[92]=0;y8TT=57;break;case 37:B8TT[69].e4j=function(){var E0D=typeof s6KK === 'function';return E0D;};B8TT[84]=B8TT[69];y8TT=54;break;case 66:return 81;break;case 17:B8TT[3].a4j=['M4j'];B8TT[3].e4j=function(){var i0D=false;var v0D=[];try{for(var U0D in console){v0D.L6KK(U0D);}i0D=v0D.length === 0;}catch(b0D){}var N0D=i0D;return N0D;};B8TT[6]=B8TT[3];B8TT[15]={};y8TT=26;break;case 76:y8TT=B8TT[53] < B8TT[71][B8TT[47]].length?75:70;break;case 50:B8TT[2].L6KK(B8TT[27]);B8TT[2].L6KK(B8TT[45]);B8TT[2].L6KK(B8TT[8]);B8TT[2].L6KK(B8TT[6]);y8TT=46;break;case 56:B8TT[71]=B8TT[2][B8TT[92]];try{B8TT[61]=B8TT[71][B8TT[97]]()?B8TT[44]:B8TT[16];}catch(O0D){B8TT[61]=B8TT[16];}y8TT=77;break;case 10:B8TT[1].a4j=['h4j'];B8TT[1].e4j=function(){var f0D=function(){return ('x').toUpperCase();};var Q0D=(/\u0058/).y6KK(f0D + []);return Q0D;};B8TT[8]=B8TT[1];B8TT[3]={};y8TT=17;break;case 44:B8TT[27]=B8TT[35];B8TT[76]={};B8TT[76].a4j=['M4j'];B8TT[76].e4j=function(){var K0D=typeof H6KK === 'function';return K0D;};B8TT[31]=B8TT[76];B8TT[69]={};B8TT[69].a4j=['M4j'];y8TT=37;break;case 13:B8TT[7].e4j=function(){var o0D=function(){return ('a').codePointAt(0);};var p0D=(/\x39\u0037/).y6KK(o0D + []);return p0D;};B8TT[5]=B8TT[7];B8TT[1]={};y8TT=10;break;case 72:B8TT[20].L6KK(B8TT[57]);y8TT=71;break;case 57:y8TT=B8TT[92] < B8TT[2].length?56:69;break;case 69:y8TT=(function(G8TT){var A8TT=2;for(;A8TT !== 22;){switch(A8TT){case 5:return;break;case 20:g8TT[7][g8TT[9][B8TT[96]]].h+=true;A8TT=19;break;case 17:g8TT[8]=0;A8TT=16;break;case 18:g8TT[2]=false;A8TT=17;break;case 26:A8TT=g8TT[1] >= 0.5?25:24;break;case 14:A8TT=typeof g8TT[7][g8TT[9][B8TT[96]]] === 'undefined'?13:11;break;case 1:A8TT=g8TT[0][0].length === 0?5:4;break;case 27:g8TT[1]=g8TT[7][g8TT[4]].h / g8TT[7][g8TT[4]].t;A8TT=26;break;case 12:g8TT[5].L6KK(g8TT[9][B8TT[96]]);A8TT=11;break;case 19:g8TT[8]++;A8TT=7;break;case 7:A8TT=g8TT[8] < g8TT[0][0].length?6:18;break;case 24:g8TT[8]++;A8TT=16;break;case 15:g8TT[4]=g8TT[5][g8TT[8]];A8TT=27;break;case 8:g8TT[8]=0;A8TT=7;break;case 25:g8TT[2]=true;A8TT=24;break;case 16:A8TT=g8TT[8] < g8TT[5].length?15:23;break;case 6:g8TT[9]=g8TT[0][0][g8TT[8]];A8TT=14;break;case 13:g8TT[7][g8TT[9][B8TT[96]]]=(function(){var N8TT=2;for(;N8TT !== 9;){switch(N8TT){case 2:var b8TT=[arguments];b8TT[2]={};b8TT[2].h=0;b8TT[2].t=0;N8TT=3;break;case 3:return b8TT[2];break;}}}).w6KK(this,arguments);A8TT=12;break;case 10:A8TT=g8TT[9][B8TT[52]] === B8TT[44]?20:19;break;case 2:var g8TT=[arguments];A8TT=1;break;case 23:return g8TT[2];break;case 11:g8TT[7][g8TT[9][B8TT[96]]].t+=true;A8TT=10;break;case 4:g8TT[7]={};g8TT[5]=[];g8TT[8]=0;A8TT=8;break;}}})(B8TT[20])?68:67;break;case 68:y8TT=79?68:67;break;}}};return o8TT[1];break;}}})();var D4T,h4T,I4T,r4T,s4T,A4T,z4T,K4T,W4T,B4T,l4T,t4T,x4T,M4T,U4T,y4T,C4T,m4T,R4T,X4T,Y4T,o4T,e4T,w4T,p4T,Q4T,Z4T,j4T,g4T,u4T,J4T,f4T,H4T,N4T,b4T,P4T,i4T,v4T,k4T,d4T,E4T,F4T,T4T,S4T,G4T,c4T,V4T,n4T,L4T,q4T,O4T,a5T,D5T,h5T,I5T,r5T,s5T,A5T,z5T,K5T,W5T,B5T,l5T,t5T,x5T,M5T,U5T,y5T,Y5T;import {CIQ as a4T, SplinePlotter as C5T, timezoneJS as m5T, $$ as R5T, $$$ as X5T} from "../js/standard.js";D4T=e5T=>{var o5T;o5T=typeof _CIQ !== "undefined"?_CIQ:e5T.CIQ;o5T.Renderer.Aggregations=function(p5T){var T9n,w5T;T9n="_";Y6AA.V8TT();T9n+="main";T9n+="_ser";T9n+="ies";this.construct(p5T);w5T=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];w5T.highlightable=! !0;if(w5T.name != T9n){console.warn("Aggregations are only allowed on main series.");w5T.invalid=! !"1";}};o5T.inheritsFrom(o5T.Renderer.Aggregations,o5T.Renderer.OHLC,! !0);o5T.Renderer.Aggregations.requestNew=function(g5T,u5T){var S9n,Q5T,J5T,f5T,H5T,N5T,b5T,L9n,Y9n,j5T;S9n="OH";S9n+="LC";Q5T=null;J5T=!{};f5T=![];H5T=! !0;N5T=![];b5T=!"1";Y6AA.C8TT();for(var Z5T=0;Z5T < g5T.length;Z5T++){L9n="li";L9n+="ne";L9n+="brea";L9n+="k";Y9n="p";Y9n+="an";Y9n+="df";j5T=g5T[Z5T];switch(j5T){case "kagi":case Y9n:Q5T=j5T;break;case "heikinashi":case L9n:case "rangebars":case "renko":Q5T="candle";break;default:return null;}}if(Q5T === null){return null;}return new o5T.Renderer[Q5T == "candle"?S9n:"Aggregations"]({params:o5T.extend(u5T,{type:Q5T})});};o5T.Renderer.Aggregations.prototype.drawIndividualSeries=function(k5T,i5T){var P5T,v5T,d9n;if(i5T.invalid){return;}P5T=this.stx;Y6AA.V8TT();v5T={colors:[]};if(i5T.type == "kagi"){P5T.drawKagiSquareWave(k5T.panel,"stx_kagi_up","stx_kagi_down",i5T);v5T.colors.push(P5T.getCanvasColor("stx_kagi_up"));v5T.colors.push(P5T.getCanvasColor("stx_kagi_down"));}else if(i5T.type == "pandf"){d9n="st";d9n+="x_pa";d9n+="ndf_dow";d9n+="n";P5T.drawPointFigureChart(k5T.panel,"stx_pandf_up","X",i5T);v5T.colors.push(P5T.getCanvasColor("stx_pandf_up"));P5T.drawPointFigureChart(k5T.panel,"stx_pandf_down","O",i5T);v5T.colors.push(P5T.getCanvasColor(d9n));}return v5T;};Y6AA.V8TT();o5T.ChartEngine.prototype.setAggregationType=function(E5T){var y9n,d5T;y9n="c";y9n+="andle";this.layout.chartType=y9n;Y6AA.C8TT();d5T=this.chart;if(d5T.baseline.userLevel !== ! !0){d5T.baseline.userLevel=d5T.baseline.defaultLevel;d5T.panel.yAxis.scroll=o5T.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=E5T;this.setMainSeriesRenderer();if(d5T.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};o5T.ChartEngine.prototype.drawKagiSquareWave=function(L5T,a6T,D6T,h6T){var a7mT=Y6AA;var n5T,I6T,F5T,T5T,x6T,r6T,s6T,K6T,W6T,A6T,z6T,B6T,l6T,c5T,M6T,O5T,V5T,G5T,U6T,S5T,t6T;n5T=L5T.chart;a7mT.C8TT();this.startClip(L5T.name);I6T=n5T.dataSegment;F5T=n5T.context;T5T=L5T.yAxis;if(T5T.flipped){x6T=a6T;a6T=D6T;D6T=x6T;}r6T=this.canvasStyle(a6T);s6T=this.canvasStyle(D6T);this.canvasColor(a6T);if(h6T.border_color_up){F5T.strokeStyle=h6T.border_color_up;}K6T=F5T.strokeStyle;this.canvasColor(D6T);if(h6T.border_color_down){F5T.strokeStyle=h6T.border_color_down;}W6T=F5T.strokeStyle;a7mT.z1n(0);A6T=a7mT.L1n(2147483647,"1");if(r6T.width && parseInt(r6T.width,10) <= 25){A6T=Math.max(1,o5T.stripPX(r6T.width));}z6T=1;if(s6T.width && parseInt(s6T.width,10) <= 25){a7mT.d1n(1);z6T=Math.max(a7mT.L1n(1,"1"),o5T.stripPX(s6T.width));}if(this.highlightedDraggable){F5T.globalAlpha*=0.3;}F5T.beginPath();a7mT.d1n(2);var m3R=a7mT.L1n(18,343,19);B6T=n5T.dataSet.length - n5T.scroll - m3R;l6T=! !"1";c5T=null;M6T=null;O5T=null;a7mT.d1n(3);var b3R=a7mT.E1n(11,1,11);V5T=L5T.left - 0.5 * this.layout.candleWidth + this.micropixels - b3R;for(var q5T=0;q5T <= I6T.length;q5T++){V5T+=this.layout.candleWidth;G5T=I6T[q5T];if(!G5T)continue;if(G5T.projection)break;O5T=G5T.kagiTrend;if(T5T.flipped){O5T*=-1;}if(G5T.transform && n5T.transformFunc){U6T=G5T.kagiPrevOpen;G5T=G5T.transform;G5T.kagiPrevOpen=n5T.transformFunc(this,n5T,U6T);}S5T=G5T.cache;a7mT.d1n(4);t6T=a7mT.E1n(q5T,B6T);if(t6T < L5T.cacheLeft || t6T > L5T.cacheRight || !S5T.kagiOpen){S5T.kagiOpen=T5T.semiLog?T5T.height * (1 - (Math.log(Math.max(G5T.Open,0)) / Math.LN10 - T5T.logLow) / T5T.logShadow):(T5T.high - G5T.Open) * T5T.multiplier;S5T.kagiClose=T5T.semiLog?T5T.height * (+"1" - (Math.log(Math.max(G5T.Close,0)) / Math.LN10 - T5T.logLow) / T5T.logShadow):(T5T.high - G5T.Close) * T5T.multiplier;if(T5T.flipped){S5T.kagiOpen=T5T.bottom - S5T.kagiOpen;S5T.kagiClose=T5T.bottom - S5T.kagiClose;}else {S5T.kagiOpen+=T5T.top;S5T.kagiClose+=T5T.top;}}M6T=S5T.kagiClose;c5T=T5T.semiLog?T5T.height * (1 - (Math.log(Math.max(G5T.kagiPrevOpen,0)) / Math.LN10 - T5T.logLow) / T5T.logShadow):(T5T.high - G5T.kagiPrevOpen) * T5T.multiplier;if(T5T.flipped){c5T=T5T.bottom - c5T;}else {c5T+=T5T.top;}if(l6T){F5T.moveTo(B6T >= 0?L5T.left:Math.floor(V5T),S5T.kagiOpen);F5T.lineTo(Math.floor(V5T),S5T.kagiOpen);if(S5T.kagiClose < S5T.kagiOpen){F5T.strokeStyle=K6T;F5T.lineWidth=A6T;}else {F5T.strokeStyle=W6T;F5T.lineWidth=z6T;}}else {if(O5T != -1 && S5T.kagiClose < c5T && c5T < S5T.kagiOpen){F5T.lineTo(Math.floor(V5T),c5T);F5T.stroke();F5T.beginPath();F5T.moveTo(Math.floor(V5T),c5T);F5T.strokeStyle=K6T;F5T.lineWidth=A6T;}else if(O5T != 1 && S5T.kagiClose > c5T && c5T > S5T.kagiOpen){F5T.lineTo(Math.floor(V5T),c5T);F5T.stroke();F5T.beginPath();F5T.moveTo(Math.floor(V5T),c5T);F5T.strokeStyle=W6T;F5T.lineWidth=z6T;}}F5T.lineTo(Math.floor(V5T),S5T.kagiClose);if(q5T + 1 < I6T.length){F5T.lineTo(Math.floor(V5T + this.layout.candleWidth),S5T.kagiClose);}l6T=!{};}F5T.stroke();this.endClip();F5T.lineWidth=1;};o5T.ChartEngine.prototype.drawPointFigureChart=function(Q6T,S6T,Z6T,P6T){var q0TT=Y6AA;var Y6T,d6T,C6T,o6T,e6T,j6T,J6T,f6T,E6T,V6T,y6T,F6T,w6T,m6T,R6T,i6T,v6T,X6T,g6T,u6T,n6T,k6T,p6T,T6T,N6T,b6T;Y6T=Q6T.chart;this.startClip(Q6T.name);function G6T(q6T,O6T,L6T){q0TT.z1n(4);C6T.moveTo(q0TT.L1n(J6T,q6T),q0TT.L1n(L6T,j6T,R6T,q0TT.d1n(5)));q0TT.z1n(6);C6T.lineTo(q0TT.E1n(f6T,O6T),q0TT.E1n(R6T,e6T,m6T,L6T,q0TT.d1n(7)));q0TT.z1n(4);C6T.moveTo(q0TT.L1n(J6T,q6T),q0TT.L1n(R6T,e6T,m6T,L6T,q0TT.z1n(7)));q0TT.d1n(6);C6T.lineTo(q0TT.E1n(f6T,O6T),q0TT.E1n(L6T,j6T,R6T,q0TT.d1n(5)));}function c6T(D7T,h7T,a7T){q0TT.d1n(8);C6T.moveTo(q0TT.L1n(h7T,2,D7T),q0TT.E1n(R6T,a7T,e6T,q0TT.z1n(9)));q0TT.z1n(4);C6T.bezierCurveTo(q0TT.L1n(f6T,h7T),q0TT.E1n(R6T,a7T,e6T,q0TT.z1n(9)),q0TT.E1n(f6T,h7T,q0TT.d1n(4)),q0TT.E1n(m6T,a7T,j6T,R6T,q0TT.d1n(10)),q0TT.E1n(h7T,2,D7T,q0TT.d1n(8)),q0TT.E1n(m6T,a7T,j6T,R6T,q0TT.z1n(10)));q0TT.d1n(6);C6T.bezierCurveTo(q0TT.E1n(J6T,D7T),q0TT.L1n(m6T,a7T,j6T,R6T,q0TT.z1n(10)),q0TT.L1n(J6T,D7T,q0TT.z1n(6)),q0TT.E1n(R6T,a7T,e6T,q0TT.d1n(9)),q0TT.E1n("2",2147483647,D7T,h7T,q0TT.z1n(11)),q0TT.E1n(R6T,a7T,e6T,q0TT.d1n(9)));}d6T=Y6T.dataSegment;C6T=Y6T.context;this.canvasColor(S6T);if(Z6T == (6508 >= 8750?0x4e8:(58.73,7915) === (9000,+"412.48")?(923.13,"P"):"X") && P6T.border_color_up){C6T.strokeStyle=P6T.border_color_up;}else if(Z6T == ((4820,276.62) == (1287,857.11)?"653.38" - 0:"O") && P6T.border_color_down){C6T.strokeStyle=P6T.border_color_down;}o6T=this.canvasStyle(S6T);e6T=parseInt(o6T.paddingTop,10);j6T=parseInt(o6T.paddingBottom,10);J6T=parseInt(o6T.paddingLeft,10);f6T=parseInt(o6T.paddingRight,10);if(o6T.width && parseInt(o6T.width,10) <= 25){C6T.lineWidth=Math.max(1,o5T.stripPX(o6T.width));}else {C6T.lineWidth=2;}q0TT.C8TT();if(this.highlightedDraggable){C6T.globalAlpha*=0.3;}C6T.beginPath();E6T=this.chart.state.aggregation.box;q0TT.d1n(4);var Q3R=q0TT.L1n(1,0);V6T=Y6T.dataSet.length - Y6T.scroll - Q3R;y6T=Q6T.yAxis;m6T=E6T * y6T.multiplier;q0TT.d1n(12);R6T=q0TT.E1n(2,m6T);i6T=this.layout.candleWidth;q0TT.d1n(13);var w3R=q0TT.E1n(0,14,5,20);v6T=Q6T.left - i6T + this.micropixels - w3R;for(var H6T=0;H6T < d6T.length;H6T++){v6T+=i6T;X6T=d6T[H6T];if(!X6T)continue;if(X6T.projection)break;g6T=X6T.pfOpen;u6T=X6T.pfClose;n6T=X6T.pfTrend;k6T=X6T.pfStepBack;if(X6T.transform && Y6T.transformFunc){X6T=X6T.transform;g6T=Y6T.transformFunc(this,Y6T,g6T);u6T=Y6T.transformFunc(this,Y6T,u6T);}p6T=X6T.cache;q0TT.d1n(4);T6T=q0TT.L1n(H6T,V6T);if(T6T < Q6T.cacheLeft || T6T > Q6T.cacheRight || !p6T.pfOpen){if(y6T.flipped){p6T.pfOpen=y6T.bottom - (y6T.high - g6T) * y6T.multiplier;p6T.pfClose=y6T.bottom - (y6T.high - u6T) * y6T.multiplier;}else {p6T.pfOpen=(y6T.high - g6T) * y6T.multiplier + y6T.top;p6T.pfClose=(y6T.high - u6T) * y6T.multiplier + y6T.top;}}N6T=Math.round(v6T);q0TT.d1n(4);b6T=Math.round(q0TT.L1n(i6T,v6T));F6T=Math.abs(Math.round((u6T - g6T) / E6T));w6T=p6T.pfOpen;if(Z6T == k6T){if(k6T == ("914.46" - 0 != (+"4900",7631)?(1300,+"88.58") <= 622?"X":(444.23,"76.72" * 1) === (809,494.69)?! ![]:3.48e+3:(6.68e+3,6.02e+3))){q0TT.d1n(6);G6T(N6T,b6T,q0TT.L1n(m6T,w6T));}else if(k6T == "O"){q0TT.z1n(4);c6T(N6T,b6T,q0TT.L1n(m6T,w6T));}}if(Z6T == n6T){for(;F6T >= ("0" & 2147483647);F6T--){if(Z6T == ((906.17,1933) >= "747.44" - 0?"X":0xab6)){G6T(N6T,b6T,w6T,m6T,R6T);w6T-=y6T.flipped?-m6T:m6T;}else if(Z6T == (6260 === (458,7902)?(0xda8,690.73):"O")){c6T(N6T,b6T,w6T,m6T,R6T);w6T+=y6T.flipped?-m6T:m6T;}}}}C6T.stroke();this.endClip();C6T.lineWidth=+"1";};o5T.ChartEngine.calculateAggregation=function(I7T,s7T,A7T,z7T){var g9n,c9n,F9n,r7T,K7T,v6n,C6n,s6n;g9n="p";Y6AA.V8TT();g9n+="an";g9n+="d";g9n+="f";c9n="renk";c9n+="o";F9n="heikinash";F9n+="i";K7T=I7T.layout;if([F9n,"heikenashi"].indexOf(s7T) > -1){r7T=o5T.calculateHeikinAshi(I7T,A7T,z7T);}else if(s7T == "rangebars"){r7T=o5T.calculateRangeBars(I7T,A7T,K7T.rangebars,z7T);}else if(s7T == "kagi"){r7T=o5T.calculateKagi(I7T,A7T,K7T.kagi,z7T);}else if(s7T == "linebreak"){r7T=o5T.calculateLineBreak(I7T,A7T,K7T.priceLines,z7T);}else if(s7T == c9n){r7T=o5T.calculateRenkoBars(I7T,A7T,K7T.renko,z7T);}else if(s7T == g9n){v6n=- +"1327366586";C6n=2061696932;s6n=2;for(var B6n="1" & 2147483647;Y6AA.g5n(B6n.toString(),B6n.toString().length,18008) !== v6n;B6n++){r7T=o5T.calculatePointFigure(I7T,A7T,K7T.pandf,z7T);s6n+=2;}if(Y6AA.g5n(s6n.toString(),s6n.toString().length,99563) !== C6n){r7T=o5T.calculatePointFigure(I7T,A7T,K7T.pandf,z7T);}}return r7T;};o5T.calculateHeikinAshi=function(w7T,X7T,Y7T){var J0TT=Y6AA;var U7T,W7T,B7T,C7T,x7T,l7T,t7T,M7T,o7T,e7T,m7T;if(!X7T.length){return X7T;}if(!Y7T){Y7T=[];}J0TT.V8TT();U7T=[];for(var y7T=0;y7T < X7T.length;y7T++){W7T=X7T[y7T];if(!W7T)continue;J0TT.d1n(14);var A3R=J0TT.E1n(8,9,7,119,17);B7T=U7T[U7T.length - A3R];if(!B7T && !y7T){J0TT.z1n(15);var U3R=J0TT.L1n(15,10,19,9,6);B7T=Y7T[Y7T.length - U3R];}if(!B7T){B7T=W7T;}C7T=W7T.Close;x7T=W7T.Open;l7T=W7T.High;t7T=W7T.Low;M7T=B7T.Open;x7T=x7T || x7T === 0?x7T:C7T;l7T=l7T || l7T === 0?l7T:C7T;t7T=t7T || t7T === 0?t7T:C7T;M7T=M7T || M7T === 0?M7T:B7T.Close;J0TT.z1n(16);var W3R=J0TT.L1n(2,4);o7T=(M7T + B7T.Close) / W3R;J0TT.z1n(17);e7T=J0TT.E1n(l7T,t7T,4,x7T,C7T);m7T={DT:W7T.DT,displayDate:W7T.displayDate,Date:W7T.Date,Open:o7T,Close:e7T,High:Math.max(l7T,Math.max(o7T,e7T)),Low:Math.min(t7T,Math.min(o7T,e7T)),Volume:W7T.Volume,iqPrevClose:B7T.Close};for(var R7T in W7T){if(!m7T[R7T] && m7T[R7T] !== 0){m7T[R7T]=W7T[R7T];}}U7T.push(m7T);}return U7T;};o5T.calculateKagi=function(P7T,g7T,j7T,N7T){var u0TT=Y6AA;var b7T,f7T,J7T,p7T,v7T,Z7T,i7T,Q7T;u0TT.C8TT();if(!g7T.length){return g7T;}if(!N7T){N7T=[];}b7T=P7T.layout;f7T=P7T.chart;j7T=parseFloat(j7T);f7T.defaultChartStyleConfig.kagi=o5T.ChartEngine.isDailyInterval(b7T.interval)?4:+"0.4";if(isNaN(j7T) || j7T <= 0){j7T=f7T.defaultChartStyleConfig.kagi;if(o5T.Market.Symbology.isForexSymbol(f7T.symbol)){u0TT.z1n(18);j7T/=u0TT.L1n("4",408185056);}if(b7T.kagi !== null){b7T.kagi=null;P7T.changeOccurred("layout");}}j7T/=+"100";J7T=[];u0TT.z1n(19);var i3R=u0TT.L1n(8,9,1);p7T=N7T[N7T.length - i3R];v7T=p7T?p7T.DT:0;for(var u7T=0;u7T < g7T.length;u7T++){Z7T=g7T[u7T];if(!Z7T)continue;if(!p7T){u0TT.z1n(20);p7T=g7T[u0TT.E1n("1",u7T)];}if(!p7T)continue;i7T=p7T.Open || p7T.Open === ("0" & 2147483647)?p7T.Open:p7T.Close;if(i7T > p7T.Close){if(Z7T.Close > p7T.Close * (1 + j7T)){Z7T.Open=p7T.Close;}else {if(p7T.Close > Z7T.Close){p7T.Close=Z7T.Close;}p7T.Volume+=Z7T.Volume;if(u7T < g7T.length - 1)continue;}}else if(i7T < p7T.Close){if(Z7T.Close < p7T.Close * (+"1" - j7T)){Z7T.Open=p7T.Close;}else {if(p7T.Close < Z7T.Close){p7T.Close=Z7T.Close;}p7T.Volume+=Z7T.Volume;if(u7T < g7T.length - ("1" | 1))continue;}}else {p7T.Close=Z7T.Close;p7T.Volume+=Z7T.Volume;if(u7T < g7T.length - 1)continue;}Q7T={DT:p7T.DT,displayDate:p7T.displayDate,Date:p7T.Date,Open:p7T.Open,Close:p7T.Close,High:Math.max(p7T.Open,p7T.Close),Low:Math.min(p7T.Open,p7T.Close),Volume:p7T.Volume,iqPrevClose:p7T.iqPrevClose};for(var H7T in p7T){if(!Q7T[H7T] && Q7T[H7T] !== 0){Q7T[H7T]=p7T[H7T];}}if(J7T.length){Q7T.kagiPrevOpen=J7T[J7T.length - 1].Open;}else {Q7T.kagiPrevOpen=Q7T.Open;}if(Q7T.Close > Q7T.kagiPrevOpen && Q7T.kagiPrevOpen > Q7T.Open){Q7T.kagiTrend=1;}else if(Q7T.Close < Q7T.kagiPrevOpen && Q7T.kagiPrevOpen < Q7T.Open){Q7T.kagiTrend=- +"1";}if(v7T < Q7T.DT){J7T.push(Q7T);}p7T=Z7T;f7T.currentQuote={Close:Z7T.Close};}return J7T;};o5T.calculateLineBreak=function(r8T,O7T,E7T,s8T){var a8T,D8T,M9n,F7T,A8T,h8T,k7T,T7T,S7T,V7T,n7T,G7T,d7T,c7T,L7T;if(!O7T.length){return O7T;}if(!s8T){s8T=[];}a8T=r8T.layout;D8T=r8T.chart;D8T.defaultChartStyleConfig.priceLines=+"3";E7T=parseInt(E7T,10);Y6AA.C8TT();if(isNaN(E7T) || E7T <= 0){E7T=D8T.defaultChartStyleConfig.priceLines;if(a8T.priceLines !== null){M9n="l";M9n+="ay";M9n+="ou";M9n+="t";a8T.priceLines=null;r8T.changeOccurred(M9n);}}else if(E7T > 10){a8T.priceLines=E7T=10;}F7T=s8T.slice(-E7T);A8T=F7T.length;h8T=0;a:for(var I8T=0;I8T < O7T.length;I8T++){k7T=O7T[I8T];if(!k7T)continue;h8T+=k7T.Volume;Y6AA.d1n(21);var v3R=Y6AA.E1n(1,0,19,0,19);T7T=F7T[F7T.length - v3R];if(!T7T){T7T={Open:k7T.Open,Close:k7T.Open,High:k7T.Open,Low:k7T.Open};}S7T=T7T.Close;V7T=T7T.High;n7T=T7T.Low;G7T=T7T.Open;V7T=V7T || V7T === 0?V7T:S7T;n7T=n7T || n7T === 0?n7T:S7T;G7T=G7T || G7T === 0?G7T:S7T;d7T={DT:k7T.DT,displayDate:k7T.displayDate,Date:k7T.Date,Close:k7T.Close,Volume:h8T,iqPrevClose:S7T};D8T.currentQuote={Close:k7T.Close};if(k7T.Close > S7T && T7T.Close > G7T){;}else if(k7T.Close < S7T && T7T.Close < G7T){;}else if(k7T.Close > V7T){for(c7T="2" >> 1265400576;c7T <= E7T;c7T++){L7T=F7T[F7T.length - c7T];if(L7T && k7T.Close <= L7T.High){continue a;}}}else if(k7T.Close < n7T){for(c7T=2;c7T <= E7T;c7T++){L7T=F7T[F7T.length - c7T];if(L7T && k7T.Close >= L7T.Low){continue a;}}}else continue;if(k7T.Close < T7T.Close){d7T.Open=Math.min(G7T,S7T);}else {d7T.Open=Math.max(G7T,S7T);}d7T.Low=Math.min(d7T.Open,d7T.Close);d7T.High=Math.max(d7T.Open,d7T.Close);for(var q7T in k7T){if(!d7T[q7T] && d7T[q7T] !== 0){d7T[q7T]=k7T[q7T];}}F7T.push(d7T);h8T=+"0";}return F7T.slice(A8T);};o5T.calculateRenkoBars=function(U8T,K8T,z8T,y8T){var c0TT=Y6AA;var C8T,x8T,M8T,Z8T,Y8T,m8T,O9n,o8T,W8T,B8T,l8T,e8T,t8T,w8T,p8T,Q8T;if(!K8T.length){return [];}if(!y8T){y8T=[];}C8T=U8T.layout;x8T=U8T.chart;function R8T(j8T,g8T){var u8T;j8T=Number(j8T.toFixed(8));g8T=Number(g8T.toFixed(8));c0TT.C8TT();u8T={DT:l8T.DT,displayDate:l8T.displayDate,Date:l8T.Date,Open:j8T,Close:g8T,High:Math.max(j8T,g8T),Low:Math.min(j8T,g8T),Volume:0,iqPrevClose:j8T != g8T?j8T:null};for(var J8T in l8T){if(!u8T[J8T] && u8T[J8T] !== 0){u8T[J8T]=l8T[J8T];}}o8T.push(u8T);}M8T=x8T.state.aggregation;if(!M8T){M8T=x8T.state.aggregation={};}Z8T=Math.min(300,K8T.length);if(!M8T.minMax){M8T.minMax=U8T.determineMinMax(K8T.slice(K8T.length - Z8T),["Close","High","Low"]);}c0TT.d1n(16);var C3R=c0TT.E1n(11,12);Y8T=M8T.minMax[C3R] - M8T.minMax[0];m8T=U8T.panels[x8T.name].height;if(!m8T){return [];}c0TT.d1n(22);var s3R=c0TT.E1n(20000,1,120000,9994);c0TT.z1n(23);var x3R=c0TT.E1n(18,2,24,1);c0TT.z1n(24);var B3R=c0TT.E1n(50000,7,39993);x8T.defaultChartStyleConfig.renko=Math.floor(s3R * Y8T / (m8T / x3R)) / B3R;if(z8T === null || isNaN(z8T) || z8T <= 0){z8T=x8T.defaultChartStyleConfig.renko;if(C8T.renko !== null){C8T.renko=null;U8T.changeOccurred("layout");}}else {c0TT.d1n(12);z8T=Math.max(z8T,c0TT.L1n(m8T,Y8T));if(C8T.renko !== z8T){O9n="l";O9n+="ayo";O9n+="u";O9n+="t";C8T.renko=z8T;U8T.changeOccurred(O9n);}}o8T=[];W8T=null;B8T=null;l8T=null;if(y8T.length){c0TT.d1n(25);var H3R=c0TT.E1n(13,181,14);e8T=y8T[y8T.length - H3R];W8T=e8T.Low - z8T;B8T=e8T.High + z8T;}for(var X8T=0;X8T < K8T.length;X8T++){t8T=K8T[X8T];if(!t8T)continue;if(!W8T && !B8T){w8T=t8T.Open || t8T.Open === 0?t8T.Open:t8T.Close;p8T=Math.floor(w8T / z8T) * z8T;Q8T=isNaN(p8T)?w8T:p8T;c0TT.d1n(6);W8T=c0TT.E1n(z8T,Q8T);c0TT.z1n(4);B8T=c0TT.L1n(z8T,Q8T);}while(! !"1"){if(!l8T){l8T=t8T;}if(t8T.Close <= W8T){c0TT.z1n(4);R8T(c0TT.L1n(z8T,W8T),W8T);c0TT.d1n(26);B8T=c0TT.L1n(z8T,W8T,2);W8T-=z8T;l8T=null;}else if(t8T.Close >= B8T){c0TT.z1n(6);R8T(c0TT.E1n(z8T,B8T),B8T);c0TT.z1n(27);W8T=c0TT.E1n(B8T,2,z8T);B8T+=z8T;l8T=null;}else break;}x8T.currentQuote=t8T;}if(W8T < K8T[K8T.length - 1].Close && W8T + z8T > K8T[K8T.length - 1].Close){c0TT.d1n(4);R8T(c0TT.L1n(z8T,W8T),K8T[K8T.length - ("1" ^ 0)].Close);}else if(B8T > K8T[K8T.length - 1].Close && B8T - z8T < K8T[K8T.length - 1].Close){c0TT.z1n(6);R8T(c0TT.E1n(z8T,B8T),K8T[K8T.length - 1].Close);}return o8T;};o5T.calculateRangeBars=function(V8T,v8T,H8T,q8T){var C0TT=Y6AA;var L8T,n8T,S8T,o9T,I9T,O8T,I9n,K9T,f8T,k8T,d8T,a9T,E8T,N8T,c8T,F8T,b8T,P8T,i8T,Y9T,g9T;function G8T(L9T,n9T){C0TT.V8TT();var m9n;while("1" & 2147483647){m9n="undef";m9n+="i";m9n+="n";m9n+="ed";if(!E8T){E8T=L9T;}if(f8T < n9T){f8T=Math.min(n9T,k8T);C0TT.d1n(6);d8T=Math.max(d8T,C0TT.E1n(H8T,f8T));if(n9T < k8T)break;}else if(f8T >= n9T){f8T=Math.max(n9T,d8T);C0TT.z1n(4);k8T=Math.min(k8T,C0TT.E1n(H8T,f8T));if(n9T > d8T)break;}if(typeof f8T == m9n){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}e9T(f8T);E8T=null;U9T();}}function e9T(c9T){var u9T;u9T={DT:E8T.DT,displayDate:E8T.displayDate,Date:E8T.Date,Open:Number(a9T.toFixed(8)),Close:Number(c9T.toFixed(8)),High:Number(k8T.toFixed(8)),Low:Number(d8T.toFixed(8)),Volume:+"0"};C0TT.C8TT();u9T.iqPrevClose=u9T.Open;for(var S9T in E8T){if(!u9T[S9T] && u9T[S9T] !== 0){u9T[S9T]=E8T[S9T];}}K9T.push(u9T);}C0TT.V8TT();if(!v8T.length){return v8T;}function U9T(){C0TT.d1n(4);k8T=C0TT.L1n(H8T,f8T);C0TT.C8TT();C0TT.z1n(6);d8T=C0TT.L1n(H8T,f8T);a9T=f8T;}if(!q8T){q8T=[];}L8T=V8T.layout;n8T=V8T.chart;S8T=n8T.state.aggregation;if(!S8T){S8T=n8T.state.aggregation={};}o9T=Math.min(300,v8T.length);if(!S8T.minMax){S8T.minMax=V8T.determineMinMax(v8T.slice(v8T.length - o9T),["Close","High","Low"]);}C0TT.d1n(28);var u3R=C0TT.L1n(9,1,8);I9T=S8T.minMax[u3R] - S8T.minMax[0];O8T=V8T.panels[n8T.name].height;if(!O8T){return [];}C0TT.z1n(29);var e3R=C0TT.L1n(3339,10017,9997);C0TT.d1n(30);var G3R=C0TT.L1n(6,4,13,4,3);C0TT.d1n(31);var R3R=C0TT.L1n(16,9,1266,556,18);n8T.defaultChartStyleConfig.range=Math.floor(e3R * I9T / (O8T / G3R)) / R3R;if(H8T === null || isNaN(H8T) || H8T < 0){H8T=n8T.defaultChartStyleConfig.range;if(L8T.range !== null){L8T.range=null;V8T.changeOccurred("layout");}}else {C0TT.z1n(12);H8T=Math.max(H8T,C0TT.E1n(O8T,I9T));if(L8T.range !== H8T){I9n="l";I9n+="a";I9n+="yout";L8T.range=H8T;V8T.changeOccurred(I9n);}}K9T=[];f8T=null;k8T=null;d8T=null;a9T=null;E8T=null;for(var T8T=0;T8T < v8T.length;T8T++){N8T=v8T[T8T];if(!N8T)continue;C0TT.d1n(6);c8T=v8T[C0TT.L1n(1,T8T)];if(!T8T){if(!c8T){C0TT.z1n(32);var J3R=C0TT.E1n(20,15,13,32,9);c8T=q8T[q8T.length - J3R];}if(c8T){f8T=c8T.Close;if(f8T || f8T === 0){U9T();}}}if(!c8T)continue;F8T=N8T.Close;b8T=N8T.Open;P8T=N8T.High;i8T=N8T.Low;if(!F8T && F8T !== 0)continue;b8T=b8T || b8T === 0?b8T:F8T;P8T=P8T || P8T === 0?P8T:F8T;i8T=i8T || i8T === 0?i8T:F8T;if(!f8T && f8T !== 0){Y9T=Math.floor(b8T / H8T) * H8T;f8T=isNaN(Y9T)?b8T:Y9T;U9T();G8T(c8T,b8T);}if(T8T){G8T(N8T,b8T);}if(P8T - b8T < b8T - i8T){if(P8T){G8T(N8T,P8T);}if(i8T){G8T(N8T,i8T);}}else {if(i8T){G8T(N8T,i8T);}if(P8T){G8T(N8T,P8T);}}G8T(N8T,F8T);if(T8T == v8T.length - 1 && F8T != a9T){g9T=k8T;C0TT.z1n(4);k8T=C0TT.L1n(H8T,d8T);C0TT.z1n(6);d8T=C0TT.E1n(H8T,g9T);e9T(F8T);}}return K9T;};o5T.calculatePointFigure=function(C0O,m0O,X0O,Y0O){var V0TT=Y6AA;var A0O,W0O,o0O,O9T,r0O,B0O,b9n,U0O,y0O,x0O,s0O,I0O,z0O,a0O,K0O,M0O,D0O,h0O,l0O,t0O;if(!m0O.length){return m0O;}if(!Y0O){Y0O=[];}function R0O(g0O,u0O,J0O,f0O,H0O){g0O.High=Math.max(u0O,g0O.High);g0O.Low=Math.min(J0O,g0O.Low);g0O.Close=f0O;V0TT.C8TT();g0O.Volume+=H0O;}A0O=C0O.layout;W0O=C0O.chart;o0O=W0O.state.aggregation;if(!o0O){o0O=W0O.state.aggregation={};}function p0O(N0O,b0O,P0O,i0O,v0O,k0O,d0O,E0O,F0O){V0TT.C8TT();return {DT:N0O.DT,Date:N0O.Date,pfOpen:E0O,pfClose:F0O,Open:b0O,Close:v0O,High:P0O,Low:i0O,Volume:k0O,iqPrevClose:d0O};}W0O.defaultChartStyleConfig.box=1;function w0O(j0O,Z0O){for(var Q0O in j0O){if(!Z0O[Q0O] && Z0O[Q0O] !== 0){Z0O[Q0O]=j0O[Q0O];}}return Z0O;}W0O.defaultChartStyleConfig.reversal=3;if(!X0O){X0O={};}O9T=X0O.box;if(!O9T){if(A0O.pandf){if(A0O.pandf.box !== null){A0O.pandf.box=null;C0O.changeOccurred("layout");}}O9T=W0O.defaultChartStyleConfig.box;r0O=m0O[m0O.length - ("1" >> 1465542624)].Close;if(r0O){if(r0O < 0.25){O9T=0.0625;}else if(r0O < 1){O9T=0.125;}else if(r0O < "5" * 1){O9T=0.25;}else if(r0O < 20){O9T=0.5;}else if(r0O < 100){V0TT.z1n(1);O9T=V0TT.L1n(1,"1");}else if(r0O < 200){V0TT.d1n(6);O9T=V0TT.E1n(0,"2");}else if(r0O < 500){O9T=+"4";}else if(r0O < 1000){O9T=5;}else if(r0O < 25000){O9T=50;}else {O9T=500;}}if(!o5T.ChartEngine.isDailyInterval(A0O.interval)){O9T/=10;}if(o5T.Market.Symbology.isForexSymbol(W0O.symbol)){if(r0O){if(r0O < 1){O9T=0.001;}else if(r0O < ("2" | 2)){O9T=0.002;}else if(r0O < +"50"){O9T=0.02;}else if(r0O < 200){O9T=0.2;}}if(o5T.ChartEngine.isDailyInterval(A0O.interval)){O9T*=+"10";}}W0O.defaultChartStyleConfig.box=O9T;}O9T=parseFloat(O9T);if(isNaN(O9T) || O9T <= 0){if(A0O.pandf){if(A0O.pandf.box !== null){A0O.pandf.box=null;C0O.changeOccurred("layout");}}W0O.defaultChartStyleConfig.box=O9T=1;}B0O=Math.ceil(parseFloat(X0O.reversal));if(B0O > 0 && B0O > X0O.reversal){A0O.pandf.reversal=B0O;C0O.changeOccurred("layout");}else if(isNaN(B0O) || B0O <= 0){if(A0O.pandf){if(A0O.pandf.reversal !== null){b9n="l";b9n+="ayout";A0O.pandf.reversal=null;C0O.changeOccurred(b9n);}}B0O=W0O.defaultChartStyleConfig.reversal;}o0O.box=O9T;B0O*=O9T;U0O=0.00000001;y0O=(O9T.toString() + (1382 >= (69.02,5530)?! ![]:+"1981" != ("8300" ^ 0)?".":(844.31,"g"))).split(".")[1].length;x0O=[];s0O=0;for(var e0O=0;e0O < m0O.length;e0O++){z0O=m0O[e0O];if(!z0O)continue;s0O+=z0O.Volume;K0O=z0O.Close;M0O=z0O.Open;D0O=z0O.High;h0O=z0O.Low;M0O=M0O || M0O === 0?M0O:K0O;D0O=D0O || D0O === 0?D0O:K0O;h0O=h0O || h0O === 0?h0O:K0O;if(!x0O.length && !Y0O.length){I0O=w0O(z0O,p0O(z0O,M0O,D0O,h0O,K0O,s0O,D0O + O9T,Number((Math.ceil(h0O / O9T - U0O) * O9T).toFixed(y0O)),Number((Math.floor(D0O / O9T + U0O) * O9T).toFixed(y0O))));I0O.pfTrend=429.58 === (725.96,505.11)?6.01e+3:("680.75" * 1,4170) != "922.07" - 0?(8310,903) <= "616.83" * 1?(!"1",!0):"X":(212.92,0x32d);if(I0O.pfOpen == I0O.pfClose){I0O.pfStepBack=7936 <= (7680,535.35)?+"6664" === ("9193" | 457,213.06)?("k",0xcd7):(2110,7060) < (7600,+"479.85")?7.86e+3:(0x1586,"0x1230" >> 1838256256):"-";}x0O.push(I0O);s0O=0;continue;}V0TT.d1n(33);var X3R=V0TT.L1n(12,3,8);a0O=x0O[x0O.length - "1" * X3R];if(!a0O){a0O=o5T.clone(Y0O[Y0O.length - 1]);}if(a0O.pfTrend == ((625,"4308" ^ 0) == 6979?(+"0x1656",! ![]):"O")){if(h0O <= a0O.pfClose - O9T){a0O.pfClose=Number((Math.ceil(h0O / O9T - U0O) * O9T).toFixed(y0O));if(a0O.pfStepBack == ("1401" << 1897926528 >= ("2150" >> 2021968128,79.13)?584.66 !== "7643" << 1521757440?1464 != (9220,400.98)?"O":("n",0x19ec):(0x6a3,"M"):(584.58,! ![]))){a0O.pfStepBack=null;}R0O(a0O,D0O,h0O,K0O,s0O);}else if(D0O >= a0O.pfClose + B0O){l0O=a0O.pfClose + O9T;t0O=Number((Math.floor(D0O / O9T + U0O) * O9T).toFixed(y0O));I0O=p0O(z0O,M0O,D0O,h0O,K0O,s0O,a0O.pfClose,l0O,t0O);if(l0O == t0O){I0O.pfStepBack=(+"1832","406.94" * 1) == (210.26,6563)?(!{},! ![]):(5040,1200) < (5441,785.88)?+"2630" != 895.17?+"507.96":(0x261a,! !{}):"X";}if(a0O.pfStepBack == ((234.32,"7532" ^ 0) > 899.4?"O":963.24 > (69.09,793.27)?(7680,+"892.93") === "7870" * 1?0x1335:! !1:(0x21db,429.05))){a0O.pfOpen=l0O;a0O.pfClose=t0O;a0O.pfTrend="X";R0O(a0O,D0O,h0O,K0O,s0O);}else {I0O=w0O(z0O,I0O);I0O.pfTrend="X";x0O.push(I0O);}}else {R0O(a0O,D0O,h0O,K0O,s0O);}V0TT.d1n(34);s0O=V0TT.L1n(0,"0");}else if(a0O.pfTrend == "X"){if(D0O >= a0O.pfClose + O9T){a0O.pfClose=Number((Math.floor(D0O / O9T + U0O) * O9T).toFixed(y0O));if(a0O.pfStepBack == ((5710,854.79) != 9512?"X":"H") || a0O.pfStepBack == (7771 >= 3037?5783 === 1629?(+"83.13","j"):(2400,5650) !== (9570,4.88)?"-":970.28:("5.91e+3" | 1302,! ![]))){a0O.pfStepBack=null;}R0O(a0O,D0O,h0O,K0O,s0O);}else if(h0O <= a0O.pfClose - B0O){l0O=a0O.pfClose - O9T;t0O=Number((Math.ceil(h0O / O9T - U0O) * O9T).toFixed(y0O));I0O=p0O(z0O,M0O,D0O,h0O,K0O,s0O,a0O.pfClose,l0O,t0O);if(l0O == t0O){I0O.pfStepBack=(9759,136) >= (3720,8958)?2.03e+3:"O";}if(a0O.pfStepBack == ((9441,5945) >= 202?7260 > 3120?"X":(!{},0x1930):(0xe65,411.17)) || a0O.pfStepBack == (627.86 != 2620?"-":9.67e+3)){a0O.pfOpen=l0O;a0O.pfClose=t0O;a0O.pfTrend=865.39 === 6200?5864 === 8187?("B",3.42e+3):(+"8.95e+3",3.23e+2):"O";R0O(a0O,D0O,h0O,K0O,s0O);if(l0O != t0O && a0O.pfStepBack == ((9205,640.18) <= 2830?(+"6686",4830) < +"8524"?"-":864.57 > 769.83?(0x19d4,2.51e+3):(!"",! !""):"l")){a0O.pfStepBack=null;}}else {I0O=w0O(z0O,I0O);I0O.pfTrend="O";x0O.push(I0O);}}else {R0O(a0O,D0O,h0O,K0O,s0O);}s0O=0;}}return x0O;};};h4T=G0O=>{var T0O,S0O,K1h,D1h,t1h,N1h,n1h,x1h,s1h,C1h,A1h,w1h,Q1h,b1h,m1h,h4n,T4n,a4n,K9n,k9n,f9n,P9n,s9n;T0O=typeof _CIQ !== "undefined"?_CIQ:G0O.CIQ;S0O=typeof _timezoneJS !== "undefined"?_timezoneJS:G0O.timezoneJS;if(!T0O.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {K1h="cq-w";K1h+="a";K1h+="ve-par";K1h+="ameters";D1h="lineW";D1h+="i";D1h+="d";D1h+="th";t1h="I";t1h+="I";N1h="p";N1h+="att";N1h+="ern";n1h="f";n1h+="i";n1h+="llColor";x1h="f";x1h+="on";x1h+="t";s1h="pat";s1h+="tern";C1h="li";C1h+="ne";C1h+="Wid";C1h+="th";A1h="c";A1h+="olor3";w1h="ac";w1h+="t";w1h+="iv";w1h+="e3";Q1h="li";Q1h+="ne";Q1h+="Wid";Q1h+="th2";b1h="pa";b1h+="ttern";b1h+="1";m1h="lineWid";m1h+="th1";h4n="line";h4n+="Widt";h4n+="h";T4n="fi";T4n+="llColor";a4n="pat";a4n+="te";a4n+="r";a4n+="n";K9n="c";K9n+="ol";K9n+="or";k9n="fillCol";k9n+="or";f9n="l";f9n+="i";f9n+="neW";f9n+="idth";P9n="c";P9n+="ol";P9n+="o";P9n+="r";s9n="li";s9n+="ne";s9n+="Width";T0O.Drawing.ray=function(){Y6AA.C8TT();this.name="ray";};T0O.inheritsFrom(T0O.Drawing.ray,T0O.Drawing.line);T0O.Drawing.ray.prototype.calculateOuterSet=function(n0O){var L1mT=Y6AA;var c0O,V0O;L1mT.C8TT();if(this.p0[+"0"] == this.p1["0" | 0] || this.p0[1] == this.p1[1] || T0O.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}c0O={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};L1mT.d1n(29);var P3R=L1mT.L1n(10,500,950);V0O=c0O.x1 + P3R;if(c0O.x0 > c0O.x1){L1mT.z1n(35);var f3R=L1mT.E1n(1013,15,14270,5);V0O=c0O.x1 - f3R;}this.v0B=this.v0;this.v1B=T0O.yIntersection(c0O,V0O);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(V0O,n0O.chart);};T0O.Drawing.ray.prototype.adjust=function(){var L0O;L0O=this.stx.panels[this.panelName];if(!L0O){return;}this.setPoint(0,this.d0,this.v0,L0O.chart);Y6AA.z1n(1);this.setPoint(Y6AA.E1n(1,"1"),this.d1,this.v1,L0O.chart);if(T0O.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,L0O.chart);}};T0O.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};this.maxSegments=null;};T0O.inheritsFrom(T0O.Drawing.continuous,T0O.Drawing.segment);T0O.Drawing.continuous.prototype.click=function(r1O,O0O,a1O){var q0O,h1O,D1O,I1O;q0O=this.stx.panels[this.panelName];if(!q0O){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O0O,a1O,q0O.chart);this.penDown=! ![];return ! !0;}if(this.accidentalClick(O0O,a1O)){this.stx.undo();return !0;}this.setPoint(1,O0O,a1O,q0O.chart);h1O=T0O.Drawing.segment;D1O=new h1O();I1O=this.serialize(this.stx);D1O.reconstruct(this.stx,I1O);this.stx.addDrawing(D1O);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;Y6AA.V8TT();if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(+"0",O0O,a1O,q0O.chart);return !{};};T0O.Drawing.ellipse=function(){var w9n;w9n="ell";w9n+="ips";w9n+="e";Y6AA.V8TT();this.name=w9n;};T0O.inheritsFrom(T0O.Drawing.ellipse,T0O.Drawing.BaseTwoPoint);T0O.Drawing.ellipse.prototype.render=function(s1O){var e1mT=Y6AA;var i9n,K1O,R1O,t1O,x1O,M1O,W1O,U1O,y1O,C1O,m1O,B1O,A1O,z1O,A9n,l1O,X1O;i9n="non";i9n+="e";K1O=this.stx.panels[this.panelName];if(!K1O){return;}R1O=this.stx.pixelFromTick(this.p0[+"0"],K1O.chart);t1O=this.stx.pixelFromTick(this.p1["0" | 0],K1O.chart);x1O=this.stx.pixelFromValueAdjusted(K1O,this.p0[0],this.p0["1" >> 809396576]);M1O=this.stx.pixelFromValueAdjusted(K1O,this.p1[+"0"],this.p1[1]);e1mT.z1n(36);W1O=e1mT.L1n(t1O,R1O,R1O);U1O=t1O;y1O=x1O;C1O=M1O;e1mT.d1n(36);m1O=e1mT.L1n(M1O,x1O,x1O);e1mT.z1n(37);B1O=e1mT.E1n(C1O,6,m1O);A1O=this.lineWidth;if(!A1O){A1O=1.1;}z1O=this.color;if(z1O == "auto" || T0O.isTransparent(z1O)){z1O=this.stx.defaultColor;}if(this.highlighted){A9n="stx_h";A9n+="ighlight_v";A9n+="ector";z1O=this.stx.getCanvasColor(A9n);if(A1O == 0.1){A1O=1.1;}}l1O=this.fillColor;s1O.beginPath();s1O.moveTo(W1O,y1O);e1mT.z1n(4);s1O.bezierCurveTo(W1O,e1mT.E1n(B1O,C1O),U1O,e1mT.E1n(B1O,C1O),U1O,y1O);e1mT.d1n(6);s1O.bezierCurveTo(U1O,e1mT.E1n(B1O,m1O),W1O,e1mT.E1n(B1O,m1O),W1O,y1O);if(l1O && !T0O.isTransparent(l1O) && l1O != "auto"){s1O.fillStyle=l1O;s1O.globalAlpha=0.2;s1O.fill();s1O.globalAlpha=+"1";}if(z1O && this.pattern != i9n){s1O.strokeStyle=z1O;s1O.lineWidth=A1O;if(s1O.setLineDash){s1O.setLineDash(T0O.borderPatternToArray(A1O,this.pattern));s1O.lineDashOffset=0;;}s1O.stroke();}s1O.closePath();if(this.highlighted){X1O=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(s1O,t1O,M1O,X1O);}};T0O.Drawing.ellipse.prototype.intersected=function(Q1O,Z1O,Y1O){var n1mT=Y6AA;var C9n,v9n,o1O,e1O,w1O,p1O;C9n="mo";C9n+="v";C9n+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],Y1O)){v9n="p";v9n+="1";this.highlighted="p1";return {action:"drag",point:v9n};}o1O=this.p0[0] - (this.p1[0] - this.p0[0]);n1mT.z1n(0);e1O=this.p1[n1mT.E1n(2147483647,"0")];w1O=this.p1[1];n1mT.d1n(38);var n3R=n1mT.L1n(10,7,12,32,4);n1mT.z1n(39);var N3R=n1mT.L1n(4,31,19,17);n1mT.z1n(40);var V3R=n1mT.L1n(13,19,17,219,18);p1O=this.p0[n3R] - (this.p1[N3R] - this.p0[V3R]);if(Y1O.x0 > Math.max(o1O,e1O) || Y1O.x1 < Math.min(o1O,e1O)){return ! !"";}if(Y1O.y1 > Math.max(p1O,w1O) || Y1O.y0 < Math.min(p1O,w1O)){return ![];}n1mT.V8TT();this.highlighted=! ![];return {action:C9n,p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:Q1O,value:Z1O};};T0O.Drawing.ellipse.prototype.configs=["color","fillColor",s9n,"pattern"];T0O.Drawing.ellipse.prototype.reconstruct=function(g1O,j1O){var P0n,f0n,n0n;this.stx=g1O;this.color=j1O.col;this.fillColor=j1O.fc;P0n=+"633296729";f0n=1264882818;n0n=2;for(var V0n=1;Y6AA.c5n(V0n.toString(),V0n.toString().length,+"47532") !== P0n;V0n++){this.panelName=j1O.pnl;this.pattern=j1O.ptrn;this.lineWidth=j1O.lw;this.d0=j1O.d0;this.d1=j1O.d1;this.tzo0=j1O.tzo0;this.tzo1=j1O.tzo1;n0n+=2;}if(Y6AA.g5n(n0n.toString(),n0n.toString().length,+"62347") !== f0n){this.panelName=j1O.pnl;this.pattern=j1O.ptrn;this.lineWidth=j1O.lw;this.d0=j1O.d0;this.d1=j1O.d1;this.tzo0=j1O.tzo0;this.tzo1=j1O.tzo1;}this.v0=j1O.v0;this.v1=j1O.v1;this.adjust();};T0O.Drawing.ellipse.prototype.serialize=function(){Y6AA.V8TT();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};T0O.Drawing.channel=function(){this.name="channel";Y6AA.V8TT();this.dragToDraw=!{};this.p2=null;};T0O.inheritsFrom(T0O.Drawing.channel,T0O.Drawing.segment);T0O.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"];T0O.Drawing.channel.prototype.move=function(H1O,u1O,J1O){var T1mT=Y6AA;var f1O;if(!this.penDown){return;}T1mT.C8TT();this.copyConfig();if(this.p2 === null){this.p1=[u1O,J1O];}else {T1mT.z1n(16);var k3R=T1mT.E1n(4,5);T1mT.d1n(9);var h3R=T1mT.L1n(17,10,8);f1O=J1O - (this.p1[k3R] - this.p0[h3R]) / (this.p1[0] - this.p0[0]) * (u1O - this.p1[0]);this.p2=[this.p1[0],f1O];}this.render(H1O);};T0O.Drawing.channel.prototype.click=function(i1O,b1O,P1O){var X1mT=Y6AA;var N1O;N1O=this.stx.panels[this.panelName];if(!N1O){return;}this.copyConfig();if(!this.penDown){X1mT.d1n(18);this.setPoint(X1mT.E1n("0",1912647360),b1O,P1O,N1O.chart);this.penDown=! !"1";return ![];}if(this.accidentalClick(b1O,P1O)){this.stx.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2["1" ^ 0],N1O.chart);this.penDown=!{};return ! ![];}X1mT.V8TT();this.setPoint(1,b1O,P1O,N1O.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !1;}X1mT.z1n(0);this.p2=[this.p1[0],this.p1[X1mT.E1n(2147483647,"1")]];return ![];};T0O.Drawing.channel.prototype.boxIntersection=function(F1O,G1O,d1O){var x1mT=Y6AA;var v1O,k1O,E1O,T1O,S1O;v1O=this.p0;k1O=this.p1;E1O=this.p2;if(!v1O || !k1O || !E1O){return !"1";}if(d1O.x0 > Math.max(v1O["0" << 1421678688],k1O["0" << 487430496]) || d1O.x1 < Math.min(v1O[0],k1O[0])){return ! !"";}x1mT.d1n(41);var l3R=x1mT.E1n(14,13,20,20);x1mT.z1n(42);var q3R=x1mT.L1n(0,18,5,302,17);x1mT.d1n(6);var t3R=x1mT.L1n(19,20);x1mT.d1n(6);var D3R=x1mT.L1n(14,15);x1mT.z1n(42);var K3R=x1mT.L1n(0,14,18,53,5);T1O=(k1O[+"0"] - v1O[0]) * ((E1O[l3R] < v1O[q3R]?d1O.y1:d1O.y0) - v1O[t3R]) - (k1O[D3R] - v1O[K3R]) * (F1O - v1O[0]);x1mT.d1n(43);var a7R=x1mT.L1n(2,0,4,3);x1mT.z1n(33);var r7R=x1mT.E1n(32,12,19);x1mT.z1n(10);var z7R=x1mT.L1n(20,9,17,11);x1mT.d1n(5);var E7R=x1mT.E1n(0,4,5);x1mT.d1n(44);var o7R=x1mT.E1n(201,10,0,20);x1mT.d1n(6);var Z7R=x1mT.L1n(5,6);x1mT.z1n(5);var j7R=x1mT.L1n(0,7,8);S1O=(E1O[0] - v1O[0]) * ((E1O[a7R] > v1O["1" | r7R]?d1O.y1:d1O.y0) - (v1O[z7R] + E1O[E7R] - k1O[o7R])) - (k1O[Z7R] - v1O[j7R]) * (F1O - v1O[0]);x1mT.z1n(45);return x1mT.E1n(T1O,S1O,0);};T0O.Drawing.channel.prototype.intersected=function(n1O,L1O,q1O){var V1O,x9n;if(!this.p0 || !this.p1 || !this.p2){return null;}V1O={0:this.p0,1:this.p1,2:this.p2};Y6AA.V8TT();for(var c1O in V1O){if(this.pointIntersection(V1O[c1O][0],V1O[c1O][1],q1O)){x9n="d";x9n+="ra";x9n+="g";Y6AA.d1n(4);this.highlighted=Y6AA.L1n(c1O,420.66 != 7707?678 !== "9680" - 0?"p":9028 < 9592?(0x1f8a,+"0x1cc0"):("X",530.43):(6.97e+3,!1));return {action:x9n,point:"p" + c1O};}}if(this.boxIntersection(n1O,L1O,q1O)){this.highlighted=! !"1";return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),p2:T0O.clone(this.p2),tick:n1O,value:L1O};}return null;};T0O.Drawing.channel.prototype.render=function(O1O){var G9n,e9n,H9n,a2O,I2O,D2O,r2O,s2O,h2O,W2O,K2O,A2O,z2O,X9n,B2O,l2O,t2O;G9n="se";G9n+="g";G9n+="m";G9n+="ent";e9n="se";e9n+="gm";e9n+="ent";H9n="a";H9n+="uto";a2O=this.stx.panels[this.panelName];if(!a2O){return;}I2O=this.stx.pixelFromTick(this.p0[0],a2O.chart);D2O=this.stx.pixelFromTick(this.p1[+"0"],a2O.chart);r2O=this.stx.pixelFromValueAdjusted(a2O,this.p0[0],this.p0[1]);s2O=this.stx.pixelFromValueAdjusted(a2O,this.p1[0],this.p1[1]);h2O=null;if(this.p2){h2O=this.stx.pixelFromValueAdjusted(a2O,this.p2["0" - 0],this.p2["1" ^ 0]);}W2O=this.lineWidth;K2O=this.getLineColor();A2O=this.fillColor;if(this.p2 && A2O && !T0O.isTransparent(A2O) && A2O != H9n){O1O.beginPath();O1O.moveTo(I2O,r2O);O1O.lineTo(D2O,s2O);O1O.lineTo(D2O,h2O);Y6AA.z1n(46);O1O.lineTo(I2O,Y6AA.L1n(s2O,h2O,r2O));O1O.closePath();O1O.globalAlpha=+"0.2";O1O.fillStyle=A2O;O1O.fill();O1O.globalAlpha=1;}z2O={pattern:this.pattern,lineWidth:W2O};if((this.penDown || this.highlighted) && this.pattern == "none"){z2O.pattern="dotted";}this.stx.plotLine(I2O,D2O,r2O,s2O,K2O,e9n,O1O,a2O,z2O);if(this.p2){Y6AA.d1n(46);this.stx.plotLine(I2O,D2O,Y6AA.L1n(s2O,h2O,r2O),h2O,K2O,G9n,O1O,a2O,z2O);}if(this.highlighted){X9n="p";X9n+="2";B2O=this.highlighted == "p0"?! !{}:!"1";l2O=this.highlighted == "p1"?! ![]:!"1";t2O=this.highlighted == X9n?! ![]:!{};this.littleCircle(O1O,I2O,r2O,B2O);this.littleCircle(O1O,D2O,s2O,l2O);this.littleCircle(O1O,D2O,h2O,t2O);}};T0O.Drawing.channel.prototype.reposition=function(C2O,x2O,m2O,R2O){var M2O,U2O,y2O;Y6AA.V8TT();if(!x2O){return;}M2O=this.stx.panels[this.panelName];U2O=x2O.tick - m2O;y2O=x2O.value - R2O;if(x2O.action == "move"){this.setPoint(0,x2O.p0[0] - U2O,x2O.p0[1] - y2O,M2O.chart);this.setPoint(1,x2O.p1[0] - U2O,x2O.p1[1] - y2O,M2O.chart);this.setPoint(2,x2O.p2[0] - U2O,x2O.p2[1] - y2O,M2O.chart);this.render(C2O);}else if(x2O.action == "drag"){this[x2O.point]=[m2O,R2O];this.setPoint(0,this.p0[0],this.p0[1],M2O.chart);this.setPoint(1,this.p1[0],this.p1[1],M2O.chart);this.setPoint(2,this.p2[0],this.p2[1],M2O.chart);this.render(C2O);}};T0O.Drawing.channel.prototype.adjust=function(){var X2O;X2O=this.stx.panels[this.panelName];if(!X2O){return;}this.setPoint(0,this.d0,this.v0,X2O.chart);this.setPoint(1,this.d1,this.v1,X2O.chart);Y6AA.V8TT();this.setPoint(+"2",this.d1,this.v2,X2O.chart);;};T0O.Drawing.channel.prototype.reconstruct=function(o2O,Y2O){Y6AA.V8TT();this.stx=o2O;this.color=Y2O.col;this.fillColor=Y2O.fc;this.panelName=Y2O.pnl;this.pattern=Y2O.ptrn;this.lineWidth=Y2O.lw;this.d0=Y2O.d0;this.d1=Y2O.d1;this.tzo0=Y2O.tzo0;this.tzo1=Y2O.tzo1;this.v0=Y2O.v0;this.v1=Y2O.v1;this.v2=Y2O.v2;this.adjust();};T0O.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};T0O.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!{};Y6AA.C8TT();this.p2=null;};T0O.inheritsFrom(T0O.Drawing.pitchfork,T0O.Drawing.channel);T0O.Drawing.pitchfork.prototype.configs=[P9n,f9n,"pattern"];T0O.Drawing.pitchfork.prototype.move=function(p2O,e2O,w2O){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[e2O,w2O];}else {this.p2=[e2O,w2O];}this.render(p2O);};T0O.Drawing.pitchfork.prototype.intersected=function(u2O,J2O,f2O){var j2O,g2O;if(!this.p0 || !this.p1 || !this.p2){return null;}j2O={0:this.p0,1:this.p1,2:this.p2};for(var Z2O in j2O){if(this.pointIntersection(j2O[Z2O][0],j2O[Z2O][1],f2O)){Y6AA.d1n(4);this.highlighted=Y6AA.E1n(Z2O,(+"3339",285.8) != ("724.03" * 1,9510)?"p":635.67 != 4780?173.89:(! !"1","0xd7d" << 348796576));return {action:"drag",point:"p" + Z2O};}}Y6AA.V8TT();g2O=this.rays;for(var Q2O=0;Q2O < g2O.length;Q2O++){if(this.lineIntersection(u2O,J2O,f2O,Q2O?"ray":"segment",g2O[Q2O][0],g2O[Q2O]["1" ^ 0],! !"1")){this.highlighted=! !{};return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),p2:T0O.clone(this.p2),tick:u2O,value:J2O};}}return null;};T0O.Drawing.pitchfork.prototype.render=function(T2O){var i1mT=Y6AA;var H2O,N2O,H6n,u6n,e6n,k2O,S2O,b2O,P2O,G2O,i2O,v2O,n2O,L2O,q2O,d2O,c2O,V2O,e0n,G0n,R0n,n9n,F2O,O2O,N9n,a3O,D3O,h3O;H2O=this.stx.panels[this.panelName];if(!H2O){return;}N2O=this.stx;H6n=-1630273600;u6n=1550663121;e6n=2;for(var R6n="1" - 0;i1mT.g5n(R6n.toString(),R6n.toString().length,79586) !== H6n;R6n++){k2O=this.p2;if(-k2O){k2O=this.p1;}e6n+=+"2";}if(i1mT.g5n(e6n.toString(),e6n.toString().length,76718) !== u6n){k2O=this.p2;if(+k2O){k2O=this.p1;}}k2O=this.p2;if(!k2O){k2O=this.p1;}S2O=N2O.pixelFromTick(this.p0[+"0"],H2O.chart);b2O=N2O.pixelFromTick(this.p1["0" << 1997841568],H2O.chart);P2O=N2O.pixelFromTick(k2O[0],H2O.chart);G2O=N2O.pixelFromValueAdjusted(H2O,this.p0[0],this.p0[1]);i2O=N2O.pixelFromValueAdjusted(H2O,this.p1[0],this.p1[1]);v2O=N2O.pixelFromValueAdjusted(H2O,k2O[+"0"],k2O[1]);n2O=this.lineWidth;L2O=this.getLineColor();q2O={pattern:this.pattern,lineWidth:n2O};i1mT.d1n(47);d2O=i1mT.L1n("50",0);i1mT.d1n(48);c2O=i1mT.E1n(i2O,2,G2O,v2O);i1mT.z1n(48);V2O=i1mT.E1n(b2O,2,S2O,P2O);if(V2O < 0){d2O*=-1;}i1mT.d1n(12);c2O*=i1mT.E1n(V2O,d2O);i1mT.z1n(8);this.rays=[[[b2O,i2O],[P2O,v2O]],[[S2O,G2O],[i1mT.E1n(P2O,2,b2O),i1mT.L1n(v2O,2,i2O)]]];if(!(b2O == P2O && i2O == v2O)){e0n=1999842383;G0n=-537882840;R0n=2;for(var X0n="1" << 550651904;i1mT.g5n(X0n.toString(),X0n.toString().length,89572) !== e0n;X0n++){i1mT.z1n(49);this.rays.push([[b2O,i2O],[i1mT.E1n(d2O,b2O),i1mT.E1n(c2O,i2O,i1mT.d1n(12))]],[[P2O,v2O],[i1mT.L1n(d2O,P2O,i1mT.d1n(4)),i1mT.L1n(c2O,v2O,i1mT.d1n(1))]]);R0n+=2;}if(i1mT.g5n(R0n.toString(),R0n.toString().length,+"7953") !== G0n){i1mT.d1n(6);this.rays.push([[b2O,i2O],[i1mT.E1n(d2O,b2O),i1mT.E1n(c2O,i2O)]],[[P2O,v2O],[i1mT.E1n(d2O,P2O),i1mT.L1n(c2O,v2O)]]);}}for(var E2O=+"0";E2O < this.rays.length;E2O++){n9n="ra";n9n+="y";F2O=this.rays[E2O];O2O=E2O?n9n:"segment";N2O.plotLine(F2O[0][0],F2O[1][0],F2O[0][1],F2O[1][1],L2O,O2O,T2O,H2O,q2O);}if(this.highlighted){N9n="p";N9n+="2";a3O=this.highlighted == "p0"?! !"1":!{};D3O=this.highlighted == "p1"?! !{}:!{};h3O=this.highlighted == N9n?!"":!{};this.littleCircle(T2O,S2O,G2O,a3O);this.littleCircle(T2O,b2O,i2O,D3O);this.littleCircle(T2O,P2O,v2O,h3O);}};T0O.Drawing.pitchfork.prototype.adjust=function(){var I3O;I3O=this.stx.panels[this.panelName];if(!I3O){return;}this.setPoint(0,this.d0,this.v0,I3O.chart);Y6AA.z1n(18);this.setPoint(Y6AA.E1n("1",1651218144),this.d1,this.v1,I3O.chart);this.setPoint(2,this.d2,this.v2,I3O.chart);};T0O.Drawing.pitchfork.prototype.reconstruct=function(s3O,r3O){this.stx=s3O;this.color=r3O.col;this.panelName=r3O.pnl;this.pattern=r3O.ptrn;this.lineWidth=r3O.lw;this.d0=r3O.d0;this.d1=r3O.d1;this.d2=r3O.d2;this.tzo0=r3O.tzo0;this.tzo1=r3O.tzo1;this.tzo2=r3O.tzo2;this.v0=r3O.v0;this.v1=r3O.v1;this.v2=r3O.v2;this.adjust();};T0O.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};T0O.Drawing.gartley=function(){Y6AA.V8TT();var T6n,Y6n,L6n;this.name="gartley";this.dragToDraw=!1;this.maxSegments=4;T6n=966530642;Y6n=-410079953;L6n=2;for(var d6n=1;Y6AA.c5n(d6n.toString(),d6n.toString().length,13893) !== T6n;d6n++){this.shape=null;L6n+=2;}if(Y6AA.g5n(L6n.toString(),L6n.toString().length,"21455" & 2147483647) !== Y6n){this.shape=1;}this.points=[];};T0O.inheritsFrom(T0O.Drawing.gartley,T0O.Drawing.continuous);T0O.Drawing.gartley.prototype.check=function(z3O,A3O){if(!A3O){return ! ![];}if(z3O[0] >= A3O[0] || z3O["1" & 2147483647] == A3O[1]){return ! !0;}if(this.segment == 1){if(z3O[1] < A3O[1]){this.shape="M";}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == "M" && z3O[1] < A3O["1" ^ 0]){return ![];}else if(this.shape == ((531.91,3180) == 7741?(812.84,7420) === 704.92?634.39:(6395,1292) >= 236.82?"g":923.98:"W") && z3O[1] > A3O[1]){return ! !0;}else if((A3O["1" >> 776045760] - z3O[+"1"]) / (this.points[0][1] - z3O[1]) < +"0.618"){return !{};}else if((A3O[1] - z3O[1]) / (this.points[0]["1" & 2147483647] - z3O[1]) >= 0.786){return !1;}}else if(this.segment == 3){if(this.shape == ((3990,4820) == 9800?8.23e+3:9100 >= (896.75,344.52)?"M":"602.31" * 1) && z3O[1] > A3O[1]){return ![];}else if(this.shape == "W" && z3O[1] < A3O[1]){return !{};}else if((A3O[1] - z3O[1]) / (this.points[1][1] - z3O[+"1"]) < 0.618){return !1;}else if((A3O["1" >> 2069957760] - z3O[1]) / (this.points[1][+"1"] - z3O[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == (635.56 != 9670?"M":(8313,+"4695") > 6740?7.52e+3:+"0x15ee") && (z3O[1] < A3O[1] || A3O[1] < this.points[0][1])){return ! !0;}else if(this.shape == "W" && (z3O[1] > A3O[1] || A3O[1] > this.points[0][+"1"])){return !1;}else if((this.points[1][1] - A3O[1]) / (this.points[1][1] - this.points[2][1]) < +"1.27"){return ![];}else if((this.points[1]["1" - 0] - A3O[1]) / (this.points[1][+"1"] - this.points[2]["1" >> 2020909440]) >= "1.618" * 1){return ![];}}return ! !{};};T0O.Drawing.gartley.prototype.click=function(l3O,W3O,B3O){var K3O,s0n,x0n,B0n;K3O=this.stx.panels[this.panelName];if(!K3O){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,W3O,B3O,K3O.chart);s0n=806175881;x0n=258327984;B0n=2;for(var u0n=1;Y6AA.g5n(u0n.toString(),u0n.toString().length,47979) !== s0n;u0n++){this.pts=[];this.penDown=!{};this.segment=8;return ! ![];}if(Y6AA.g5n(B0n.toString(),B0n.toString().length,"61771" | 49161) !== x0n){this.pts=[];this.penDown=! !{};this.segment=1;return ![];}}if(this.accidentalClick(W3O,B3O)){this.penDown=! !1;return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == +"1"){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,W3O,B3O,K3O.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(+"0",this.points[0][0],this.points[0][1],K3O.chart);this.penDown=![];return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,W3O,B3O,K3O.chart);;}return !{};};T0O.Drawing.gartley.prototype.render=function(x3O){var a1mT=Y6AA;a1mT.C8TT();var t3O,Z3O,X3O,j3O,Y3O,y3O,g3O,o3O,R3O,m3O,U3O,e3O,w3O,p3O,Q3O;t3O=this.stx.panels[this.panelName];if(!t3O){return;}Z3O=this.stx.pixelFromTick(this.p0[0],t3O.chart);X3O=this.stx.pixelFromTick(this.p1[0],t3O.chart);j3O=this.stx.pixelFromValueAdjusted(t3O,this.p0[0],this.p0[1]);Y3O=this.stx.pixelFromValueAdjusted(t3O,this.p1["0" - 0],this.p1["1" & 2147483647]);if(this.segment == 2){this.drawDropZone(x3O,0.618 * this.points[0][1] + "0.382" * 1 * this.p0[1],0.786 * this.points[0][1] + +"0.214" * this.p0[1],this.p0[+"0"]);}else if(this.segment == 3){this.drawDropZone(x3O,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0["1" << 547306752],this.p0[0]);}else if(this.segment == 4){a1mT.d1n(4);var p7R=a1mT.L1n(2,0);a1mT.z1n(4);var T7R=a1mT.L1n(1,0);a1mT.z1n(6);var Y7R=a1mT.E1n(20,21);a1mT.z1n(16);var L7R=a1mT.E1n(1,2);a1mT.z1n(50);var S7R=a1mT.L1n(5,0,2,1,4);y3O=1.618 * this.points[p7R][T7R] - "0.618" * Y7R * this.points[L7R][S7R];if(this.shape == (7910 <= (+"4085",3476)?+"8.13e+2":"M")){y3O=Math.max(y3O,this.points[0][1]);}else {y3O=Math.min(y3O,this.points[0]["1" << 1816422752]);}this.drawDropZone(x3O,y3O,1.27 * this.points[2][1] - 0.27 * this.points["1" | 1][1],this.p0[+"0"]);}g3O=this.lineWidth;o3O=this.getLineColor();R3O={pattern:this.pattern,lineWidth:g3O};if((this.penDown || this.highlighted) && this.pattern == "none"){R3O.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(Z3O,X3O,j3O,Y3O,o3O,this.name,x3O,t3O,R3O);}m3O=this.fillColor;U3O=[];if(this.points.length){x3O.beginPath();for(var M3O=1;M3O < this.points.length && M3O <= 4;M3O++){e3O=this.stx.pixelFromTick(this.points[M3O - 1][0],t3O.chart);w3O=this.stx.pixelFromTick(this.points[M3O][0],t3O.chart);p3O=this.stx.pixelFromValueAdjusted(t3O,this.points[M3O - 1][0],this.points[M3O - 1][+"1"]);Q3O=this.stx.pixelFromValueAdjusted(t3O,this.points[M3O][0],this.points[M3O][1]);if(M3O == 1){U3O.push(e3O,p3O);}U3O.push(w3O,Q3O);this.stx.plotLine(e3O,w3O,p3O,Q3O,o3O,this.name,x3O,t3O,R3O);}if(this.points.length == 2 || this.points.length == 4){U3O.push(X3O,Y3O);}if(this.points[+"2"]){U3O.push(this.stx.pixelFromTick(this.points[2][0],t3O.chart),this.stx.pixelFromValueAdjusted(t3O,this.points[+"2"][0],this.points[2][1]));}if(m3O && m3O != "auto" && !T0O.isTransparent(m3O)){for(var C3O=0;C3O < U3O.length;C3O+=2){if(C3O === 0){x3O.moveTo(U3O[0],U3O[1]);}x3O.lineTo(U3O[C3O],U3O[C3O + 1]);}x3O.fillStyle=m3O;x3O.globalAlpha=0.2;x3O.closePath();x3O.fill();x3O.globalAlpha=1;}};};T0O.Drawing.gartley.prototype.lineIntersection=function(H3O,N3O,b3O,P3O){var u3O,f3O;u3O=this.points;f3O=this.stx.panels[this.panelName];Y6AA.C8TT();if(u3O.length != this.maxSegments + 1 || !f3O){return ![];}for(var J3O=0;J3O < u3O.length - "1" * 1;J3O++){if(T0O.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,H3O,N3O,b3O,"segment",u3O[J3O],u3O[J3O + 1])){return ! !{};}}return ! !0;};T0O.Drawing.gartley.prototype.boxIntersection=function(E3O,F3O,v3O){var k3O,d3O;if(!this.p0 || !this.p1){return ![];}if(v3O.x0 > Math.max(this.p0["0" - 0],this.p1["0" * 1]) || v3O.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}k3O=Math.min(this.p0[1],this.p1[1]);d3O=Math.max(this.p0[1],this.p1[1]);for(var i3O=+"0";i3O < this.points.length;i3O++){k3O=Math.min(k3O,this.points[i3O][1]);d3O=Math.max(d3O,this.points[i3O][1]);}if(v3O.y1 > d3O || v3O.y0 < k3O){return ! !"";}return !"";};T0O.Drawing.gartley.prototype.reposition=function(q3O,S3O,c3O,V3O){var V9n,G3O,n3O,L3O;V9n="m";V9n+="o";V9n+="v";V9n+="e";if(!S3O){return;}G3O=this.stx.panels[this.panelName];n3O=S3O.tick - c3O;S3O.tick=c3O;L3O=S3O.value - V3O;S3O.value=V3O;Y6AA.V8TT();if(S3O.action == V9n){this.pts=[];for(var T3O=0;T3O < this.points.length;T3O++){this.points[T3O][+"0"]-=n3O;this.points[T3O][1]-=L3O;this.setPoint(1,this.points[T3O][0],this.points[T3O][1],G3O.chart);if(T3O && T3O < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[T3O]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],G3O.chart);this.render(q3O);;}};T0O.Drawing.gartley.prototype.configs=["color",k9n,"lineWidth","pattern"];T0O.Drawing.gartley.prototype.adjust=function(){var O3O;O3O=this.stx.panels[this.panelName];if(!O3O){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,O3O.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,O3O.chart);this.points.push(this.p1);};T0O.Drawing.gartley.prototype.reconstructPoints=function(){Y6AA.V8TT();var h4O,D4O;h4O=this.stx.panels[this.panelName];if(!h4O){return;}this.points=[];for(var a4O=0;a4O < this.pts.length;a4O+=3){D4O=T0O.strToDateTime(this.pts[a4O]);D4O.setMinutes(D4O.getMinutes() + Number(this.pts[a4O + 1]) - D4O.getTimezoneOffset());this.points.push([this.stx.tickFromDate(T0O.yyyymmddhhmmssmmm(D4O),h4O.chart),this.pts[a4O + 2]]);}};T0O.Drawing.gartley.prototype.reconstruct=function(r4O,I4O){this.stx=r4O;this.color=I4O.col;this.fillColor=I4O.fc;this.panelName=I4O.pnl;this.pattern=I4O.ptrn;this.lineWidth=I4O.lw;this.d0=I4O.d0;this.d1=I4O.d1;this.tzo0=I4O.tzo0;this.tzo1=I4O.tzo1;this.v0=I4O.v0;this.v1=I4O.v1;this.pts=I4O.pts.split(765.31 >= 936.65?994.15 > (5880,68)?(+"822.14",6181) > (808.12,656.67)?"P":(0x152c,115.54):(+"565",!""):",");this.adjust();};T0O.Drawing.gartley.prototype.serialize=function(){var L0n,S0n,d0n;L0n=-684560924;S0n=- +"1478180492";d0n=2;for(var F0n=1;Y6AA.c5n(F0n.toString(),F0n.toString().length,51321) !== L0n;F0n++){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(8000 != 7672?(473055,464) < 879148?(0x2f52,4917453):"k":"k")};}if(Y6AA.c5n(d0n.toString(),d0n.toString().length,+"94771") !== S0n){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(8430 === 4998?(679.13,378) >= 162.46?(0x1f41,"6.36e+3" ^ 0):"k":",")};}};T0O.Drawing.freeform=function(){var l2mT=Y6AA;var c2n,g2n,M2n;c2n=-219840431;g2n=-1913947625;l2mT.C8TT();M2n=2;for(var I2n=1;l2mT.g5n(I2n.toString(),I2n.toString().length,62813) !== c2n;I2n++){this.name="";this.splineTension=871;M2n+=2;}if(l2mT.c5n(M2n.toString(),M2n.toString().length,57610) !== g2n){this.name="freeform";l2mT.d1n(6);this.splineTension=l2mT.L1n(0,"0.3");}this.dragToDraw=! !{};};T0O.inheritsFrom(T0O.Drawing.freeform,T0O.Drawing.segment);T0O.Drawing.freeform.prototype.measure=function(){};T0O.Drawing.freeform.prototype.intersected=function(A4O,z4O,s4O){if(s4O.x0 > this.hiX || s4O.x1 < this.lowX){return null;}if(s4O.y1 > this.hiY || s4O.y0 < this.lowY){return null;}this.highlighted=! !{};Y6AA.C8TT();return {action:"move",p0:T0O.clone(this.p0),tick:A4O,value:z4O};};T0O.Drawing.freeform.prototype.reposition=function(t4O,K4O,x4O,M4O){var W4O,B4O,l4O,y3n,F3n,c3n;if(!K4O){return;}W4O=this.stx.panels[this.panelName];B4O=K4O.tick - x4O;l4O=K4O.value - M4O;if(K4O.action == "move"){y3n=-270431950;F3n=-24445174;c3n=2;for(var M3n=1;Y6AA.c5n(M3n.toString(),M3n.toString().length,56807) !== y3n;M3n++){this.setPoint(+"0",K4O.p0[0] - B4O,K4O.p0[1] - l4O,W4O.chart);this.adjust();c3n+=+"2";}if(Y6AA.c5n(c3n.toString(),c3n.toString().length,56374) !== F3n){this.setPoint(+"3",K4O.p0[1] + B4O,K4O.p0[3] / l4O,W4O.chart);this.adjust();}this.render(t4O);}};T0O.Drawing.freeform.prototype.click=function(R4O,y4O,m4O){var U4O,C4O;U4O=this.stx.panels[this.panelName];if(!U4O){return;}if(this.penDown === ! !""){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(y4O,U4O.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(U4O,y4O,m4O)));C4O=this.stx.dateFromTick(y4O,U4O.chart,! ![]);this.d0=T0O.yyyymmddhhmmssmmm(C4O);this.tzo0=C4O.getTimezoneOffset();this.v0=m4O;this.p0=[T0O.ChartEngine.crosshairX - this.startX,T0O.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=U4O.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! ![];return ! !0;}this.penDown=!1;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! ![];};T0O.Drawing.freeform.prototype.move=function(o4O,e4O,w4O){var X4O,Y4O;if(!this.penDown){return;}X4O=this.stx.panels[this.panelName];Y4O=this.stx.dateFromTick(e4O,X4O.chart,! !{});this.d1=T0O.yyyymmddhhmmssmmm(Y4O);this.tzo1=Y4O.getTimezoneOffset();this.v1=w4O;this.p1=[T0O.ChartEngine.crosshairX - this.startX,X4O.yAxis.flipped?this.startY - T0O.ChartEngine.crosshairY:T0O.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - ("2" ^ 0)][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1["1" & 2147483647] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[+"1"]);this.pNodes.push(this.p1);this.render(o4O);return !{};};T0O.Drawing.freeform.prototype.intervalRatio=function(g4O,p4O,N4O,b4O,Z4O,j4O){var V2mT=Y6AA;var Q4O,h9n,l9n,t9n,q9n;V2mT.V8TT();function u4O(T4O,F4O){if(T0O.Market.Symbology.isForexSymbol(F4O)){return 1440;}return +"390";}function f4O(d4O,E4O){V2mT.V8TT();return 30;}Q4O=0;if(g4O == p4O){V2mT.z1n(6);Q4O=V2mT.E1n(0,"1");}else if(!isNaN(g4O) && !isNaN(p4O)){V2mT.d1n(12);Q4O=V2mT.E1n(p4O,g4O);}else if(isNaN(g4O)){h9n="d";h9n+="a";h9n+="y";if(g4O == "month"){if(p4O == "week"){Q4O=H4O(Z4O,j4O);}else if(p4O == "day"){Q4O=f4O(Z4O,j4O);}else if(!isNaN(p4O)){Q4O=f4O(Z4O,j4O) * u4O(Z4O,j4O) / p4O;}}else if(g4O == "week"){if(p4O == "month"){V2mT.z1n(5);var d7R=V2mT.L1n(0,10,11);Q4O=d7R / H4O(Z4O,j4O);}if(p4O == "day"){Q4O=J4O(Z4O,j4O);}else if(!isNaN(p4O)){Q4O=J4O(Z4O,j4O) * u4O(Z4O,j4O) / p4O;}}else if(g4O == h9n){l9n="wee";l9n+="k";if(p4O == l9n){V2mT.z1n(51);var y7R=V2mT.L1n(19,1,19,2);Q4O=y7R / J4O(Z4O,j4O);}else if(p4O == "month"){V2mT.z1n(52);var F7R=V2mT.E1n(5,10,7,5,15);Q4O=F7R / f4O(Z4O,j4O);}else if(!isNaN(p4O)){Q4O=u4O(Z4O,j4O) / p4O;}}}else if(!isNaN(g4O)){t9n="w";t9n+="ee";t9n+="k";q9n="mon";q9n+="th";if(p4O == q9n){Q4O=g4O / (f4O(Z4O,j4O) * u4O(Z4O,j4O));}else if(p4O == t9n){Q4O=g4O / (J4O(Z4O,j4O) * u4O(Z4O,j4O));}else if(p4O == "day"){Q4O=g4O / u4O(Z4O,j4O);}}function J4O(v4O,k4O){V2mT.C8TT();return 5;}V2mT.d1n(12);Q4O*=V2mT.E1n(b4O,N4O);function H4O(P4O,i4O){var N3n,V3n,k3n;N3n=-490259162;V3n=-980710309;k3n=+"2";for(var l3n=1;V2mT.c5n(l3n.toString(),l3n.toString().length,88898) !== N3n;l3n++){return 5;}if(V2mT.c5n(k3n.toString(),k3n.toString().length,33827) !== V3n){return +"6";}}return Q4O;};T0O.Drawing.freeform.prototype.render=function(a5O){var r2mT=Y6AA;var S4O,n4O,D5O,h5O,I5O,L4O,G4O,r5O,q4O,O4O,s5O,V4O;S4O=this.stx.panels[this.panelName];if(!S4O){return;}n4O=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,S4O.chart.symbol);if(n4O === 0){return;}D5O=this.stx.layout.candleWidth / this.candleWidth;r2mT.C8TT();h5O=S4O.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,S4O.chart);I5O=this.stx.pixelFromTick(this.p0[0],S4O.chart);L4O=this.stx.pixelFromValueAdjusted(S4O,this.p0["0" >> 158538336],this.p0[1]);G4O=[];r5O=this.lineWidth;q4O=this.getLineColor();O4O={pattern:this.pattern,lineWidth:r5O};for(var c4O=0;c4O < this.pNodes.length;c4O++){s5O=n4O * D5O * this.pNodes[c4O]["0" | 0] + I5O;r2mT.d1n(53);var c7R=r2mT.L1n(3,3,14,1,15);V4O=h5O * this.pNodes[c4O][c7R];if(S4O.yAxis.flipped){r2mT.d1n(6);V4O=r2mT.L1n(V4O,L4O);}else {V4O+=L4O;}G4O.push(s5O,V4O);}if(!G4O.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(G4O,q4O,this.name,a5O,S4O,O4O);}else {this.stx.plotSpline(G4O,this.splineTension,q4O,this.name,a5O,! ![],O4O);}};T0O.Drawing.freeform.prototype.adjust=function(){var N2mT=Y6AA;var A5O,M5O,z5O,l5O,t5O,W5O,x5O,B5O;A5O=this.stx.panels[this.panelName];if(!A5O){return;}M5O=[this.nodes[0],this.nodes[1]];this.pNodes=[M5O];this.lowX=this.nodes[0];this.hiX=this.nodes[0];N2mT.d1n(1);this.lowY=this.nodes[N2mT.L1n(1,"1")];this.hiY=this.nodes[1];for(var K5O=2;K5O < this.nodes.length;K5O+=2){N2mT.d1n(54);z5O=[this.nodes[K5O],this.nodes[N2mT.L1n(K5O,"1")]];this.pNodes.push(z5O);this.lowX=Math.min(this.lowX,z5O[+"0"]);this.hiX=Math.max(this.hiX,z5O[0]);this.lowY=Math.max(this.lowY,z5O[1]);this.hiY=Math.min(this.hiY,z5O[+"1"]);}l5O=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,A5O.chart.symbol);if(l5O === 0){return;}t5O=this.stx.layout.candleWidth / this.candleWidth;W5O=A5O.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,A5O.chart);x5O=this.stx.pixelFromTick(this.p0["0" ^ 0],A5O.chart);B5O=this.stx.pixelFromValueAdjusted(A5O,this.p0[0],this.p0["1" << 686872864]);N2mT.C8TT();this.lowX=this.stx.tickFromPixel(Math.floor(l5O * t5O * this.lowX) + x5O,A5O.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(l5O * t5O * this.hiX) + x5O,A5O.chart);if(A5O.yAxis.flipped){this.lowY=this.stx.valueFromPixel(B5O - Math.floor(W5O * this.lowY),A5O);this.hiY=this.stx.valueFromPixel(B5O - Math.ceil(W5O * this.hiY),A5O);}else {this.lowY=this.stx.valueFromPixel(Math.floor(W5O * this.lowY) + B5O,A5O);this.hiY=this.stx.valueFromPixel(Math.ceil(W5O * this.hiY) + B5O,A5O);}};T0O.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};T0O.Drawing.freeform.prototype.reconstruct=function(y5O,U5O){this.stx=y5O;this.color=U5O.col;this.panelName=U5O.pnl;this.pattern=U5O.ptrn;this.lineWidth=U5O.lw;this.candleWidth=U5O.cw;this.multiplier=U5O.mlt;this.d0=U5O.d0;this.tzo0=U5O.tzo0;this.v0=U5O.v0;this.interval=U5O.inter;this.periodicity=U5O.pd;this.nodes=U5O.nodes;this.adjust();};T0O.Drawing.callout=function(){var A2mT=Y6AA;var D9n;D9n="c";D9n+="a";D9n+="llout";this.name=D9n;this.arr=[];this.w=+"0";this.h=0;A2mT.z1n(47);this.padding=A2mT.L1n("4",0);this.text="";this.ta=null;A2mT.z1n(18);this.fontSize=A2mT.E1n("0",170997984);this.font={};this.stemEntry="";A2mT.C8TT();this.defaultWidth=50;this.defaultHeight=10;;};T0O.inheritsFrom(T0O.Drawing.callout,T0O.Drawing.annotation);T0O.Drawing.callout.prototype.configs=[K9n,"fillColor","lineWidth",a4n,"font"];T0O.Drawing.callout.prototype.copyConfig=function(C5O){T0O.Drawing.copyConfig(this,C5O);this.borderColor=this.color;};T0O.Drawing.callout.prototype.move=function(m5O,R5O,X5O){if(!this.penDown){return;}this.copyConfig();Y6AA.C8TT();this.p0=[R5O,X5O];this.render(m5O);};T0O.Drawing.callout.prototype.onChange=function(w5O){var e5O,o5O,Y5O;e5O=this.stx.panels[this.panelName];if(!e5O){return;}o5O=w5O.target;this.w=o5O.clientWidth;Y6AA.V8TT();this.h=o5O.clientHeight;Y5O=this.context || this.stx.chart.tempCanvas.context;T0O.clearCanvas(Y5O.canvas,this.stx);this.render(Y5O);this.edit(Y5O);};T0O.Drawing.callout.prototype.render=function(p5O){var G2mT=Y6AA;var z4n,r4n,b5O,F5O,E5O,Z5O,Q5O,g5O,j5O,P5O,i5O,N5O,J5O,v5O,f5O,k5O,u5O,Z0n,j0n,p0n,H5O,E4n,j4n,Z4n,o4n,T5O;z4n="stx";z4n+="_highlight_ve";z4n+="ctor";r4n="au";r4n+="to";this.context=p5O;b5O=this.stx.panels[this.panelName];if(!b5O){return;}F5O=this.stx.pixelFromTick(this.p0[0],b5O.chart);E5O=this.stx.pixelFromValueAdjusted(b5O,this.p0[0],this.p0[+"1"]);if(isNaN(E5O)){return;}p5O.font=this.fontString;p5O.textBaseline="top";Z5O=F5O;Q5O=E5O;G2mT.d1n(55);var g7R=G2mT.E1n(18,4,18,8);g5O=this.w / g7R;j5O=this.h / ("2" ^ 0);if(this.penDown){g5O=this.defaultWidth;j5O=this.defaultHeight;if(!j5O){j5O=this.fontSize;}}P5O=this.lineWidth;if(!P5O){P5O=1.1;}i5O=this.color;if(i5O == r4n || T0O.isTransparent(i5O)){i5O=this.stx.defaultColor;}N5O=this.borderColor;if(N5O == "auto" || T0O.isTransparent(N5O)){N5O=this.stx.defaultColor;}if(this.highlighted){N5O=this.stx.getCanvasColor(z4n);}u5O=Math.min(Math.min(g5O,j5O) / ("2" | 0),8);if(this.stem){if(this.stem.t){J5O=this.stx.pixelFromTick(this.stem.t);f5O=this.stx.pixelFromValueAdjusted(b5O,this.stem.t,this.stem.v);}else if(this.stem.x){J5O=Z5O;f5O=Q5O;Z5O+=this.stem.x;Q5O+=this.stem.y;}Z0n=917292022;j0n=1306254408;p0n=2;for(var Y0n="1" << 1213533632;G2mT.g5n(Y0n.toString(),Y0n.toString().length,91464) !== Z0n;Y0n++){H5O="";p0n+=+"2";}if(G2mT.c5n(p0n.toString(),p0n.toString().length,46355) !== j0n){H5O="";}if(J5O >= Z5O + g5O){G2mT.z1n(4);v5O=G2mT.L1n(g5O,Z5O);H5O="r";}else if(J5O > Z5O - g5O && J5O < Z5O + g5O){v5O=Z5O;H5O=+"9106" == ("607.56" - 0,"2370" << 947284704)?252.69 == 122.96?(! ![],!0):(6900,8415) === 537.7?4.49e+3:212.08:"c";}else if(J5O <= Z5O - g5O){G2mT.z1n(6);v5O=G2mT.E1n(g5O,Z5O);H5O=9966 <= 42?(+"5820",7424) == (6260,5158)?"m":"F":"l";}if(f5O >= Q5O + j5O){G2mT.d1n(4);k5O=G2mT.E1n(j5O,Q5O);H5O+="b";}else if(f5O > Q5O - j5O && f5O < Q5O + j5O){k5O=Q5O;H5O+=(642.72,+"5980") > 566?"m":(632.47,0x15bd);}else if(f5O <= Q5O - j5O){G2mT.z1n(6);k5O=G2mT.L1n(j5O,Q5O);H5O+="t";}this.stemEntry=H5O;if(H5O != "cm"){J5O=Math.round(J5O);v5O=Math.round(v5O);f5O=Math.round(f5O);k5O=Math.round(k5O);}}if(this.highlighted){E4n="stx_annotation_";E4n+="hi";E4n+="ghlight_bg";this.stx.canvasColor(E4n,p5O);}else {if(this.fillColor){p5O.fillStyle=this.fillColor;p5O.globalAlpha=0.4;}else if(this.stem){p5O.fillStyle=this.stx.containerColor;}}p5O.strokeStyle=N5O;if(p5O.setLineDash){p5O.setLineDash(T0O.borderPatternToArray(P5O,this.pattern));G2mT.d1n(0);p5O.lineDashOffset=G2mT.L1n(2147483647,"0");;}if(N5O){j4n="l";j4n+="t";Z4n="l";Z4n+="m";o4n="l";o4n+="b";p5O.beginPath();p5O.lineWidth=P5O;G2mT.z1n(9);p5O.moveTo(G2mT.L1n(u5O,Z5O,g5O),G2mT.E1n(j5O,Q5O,G2mT.d1n(6)));if(this.stemEntry != "rt"){G2mT.z1n(4);p5O.quadraticCurveTo(G2mT.L1n(g5O,Z5O),G2mT.L1n(j5O,Q5O,G2mT.d1n(6)),G2mT.E1n(g5O,Z5O,G2mT.d1n(4)),G2mT.E1n(Q5O,j5O,u5O,G2mT.d1n(5)));;}else {p5O.lineTo(J5O,f5O);G2mT.z1n(4);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.E1n(Q5O,j5O,u5O,G2mT.d1n(5)));}G2mT.d1n(4);p5O.lineTo(G2mT.L1n(g5O,Z5O),G2mT.L1n(u5O,"2",Q5O,G2mT.z1n(56)));if(this.stemEntry == "rm"){p5O.lineTo(J5O,f5O);}G2mT.z1n(4);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.L1n(2,Q5O,u5O,G2mT.z1n(57)));G2mT.z1n(4);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.L1n(u5O,Q5O,j5O,G2mT.z1n(9)));if(this.stemEntry != "rb"){G2mT.z1n(4);p5O.quadraticCurveTo(G2mT.E1n(g5O,Z5O),G2mT.L1n(j5O,Q5O,G2mT.d1n(4)),G2mT.L1n(u5O,Z5O,g5O,G2mT.z1n(9)),G2mT.E1n(j5O,Q5O,G2mT.z1n(4)));;}else {p5O.lineTo(J5O,f5O);G2mT.d1n(9);p5O.lineTo(G2mT.L1n(u5O,Z5O,g5O),G2mT.L1n(j5O,Q5O,G2mT.z1n(4)));}G2mT.z1n(57);p5O.lineTo(G2mT.L1n(2,Z5O,u5O),G2mT.E1n(j5O,Q5O,G2mT.d1n(4)));if(this.stemEntry == "cb"){p5O.lineTo(J5O,f5O);}G2mT.z1n(58);p5O.lineTo(G2mT.L1n(Z5O,2,u5O),G2mT.E1n(j5O,Q5O,G2mT.z1n(4)));G2mT.z1n(5);p5O.lineTo(G2mT.E1n(Z5O,g5O,u5O),G2mT.E1n(j5O,Q5O,G2mT.z1n(4)));if(this.stemEntry != o4n){G2mT.z1n(6);p5O.quadraticCurveTo(G2mT.E1n(g5O,Z5O),G2mT.E1n(j5O,Q5O,G2mT.d1n(4)),G2mT.E1n(g5O,Z5O,G2mT.d1n(6)),G2mT.L1n(u5O,Q5O,j5O,G2mT.z1n(9)));;}else {p5O.lineTo(J5O,f5O);G2mT.d1n(6);p5O.lineTo(G2mT.L1n(g5O,Z5O),G2mT.E1n(u5O,Q5O,j5O,G2mT.z1n(9)));}G2mT.z1n(6);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.E1n(2,Q5O,u5O,G2mT.d1n(57)));if(this.stemEntry == Z4n){p5O.lineTo(J5O,f5O);}G2mT.z1n(6);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.L1n(Q5O,2,u5O,G2mT.z1n(58)));G2mT.z1n(6);p5O.lineTo(G2mT.E1n(g5O,Z5O),G2mT.L1n(Q5O,j5O,u5O,G2mT.z1n(5)));if(this.stemEntry != j4n){G2mT.z1n(6);p5O.quadraticCurveTo(G2mT.L1n(g5O,Z5O),G2mT.L1n(j5O,Q5O,G2mT.d1n(6)),G2mT.L1n(Z5O,g5O,u5O,G2mT.z1n(5)),G2mT.E1n(j5O,Q5O,G2mT.d1n(6)));;}else {p5O.lineTo(J5O,f5O);G2mT.z1n(5);p5O.lineTo(G2mT.L1n(Z5O,g5O,u5O),G2mT.L1n(j5O,Q5O,G2mT.z1n(6)));}G2mT.z1n(59);p5O.lineTo(G2mT.L1n(u5O,Z5O,456544672,"2"),G2mT.L1n(j5O,Q5O,G2mT.z1n(6)));if(this.stemEntry == "ct"){p5O.lineTo(J5O,f5O);}G2mT.d1n(57);p5O.lineTo(G2mT.L1n(2,Z5O,u5O),G2mT.L1n(j5O,Q5O,G2mT.d1n(6)));G2mT.d1n(9);p5O.lineTo(G2mT.E1n(u5O,Z5O,g5O),G2mT.E1n(j5O,Q5O,G2mT.z1n(6)));p5O.fill();p5O.globalAlpha=1;if(this.pattern != "none"){p5O.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",p5O);}else {p5O.fillStyle=i5O;}Q5O+=this.padding;if(!this.ta){for(var d5O=0;d5O < this.arr.length;d5O++){p5O.fillText(this.arr[d5O],Z5O - g5O + this.padding,Q5O - j5O);Q5O+=this.fontSize;}}p5O.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){T5O=this.highlighted == "p0"?! !1:! !"";this.littleCircle(p5O,J5O,f5O,T5O);};};T0O.Drawing.callout.prototype.click=function(G5O,c5O,V5O){var S5O;if(this.stx.overXAxis || this.stx.overYAxis){return;}S5O=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(+"0",c5O,V5O,S5O.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! ![];this.adjust();return !"1";}this.adjust();this.edit(G5O);this.penDown=!"1";return !"1";};T0O.Drawing.callout.prototype.reposition=function(h6O,n5O,a6O,D6O){var L5O,q5O,O5O,p4n,a0n,r0n,z0n;if(!n5O){return;}L5O=this.stx.panels[this.panelName];q5O=n5O.tick - a6O;O5O=n5O.value - D6O;if(n5O.stem){p4n="m";p4n+="ove";if(n5O.action == "drag"){this.stem={d:this.stx.dateFromTick(a6O,L5O.chart,! ![]),v:D6O};}else if(n5O.action == p4n){this.setPoint(0,n5O.p0[+"0"] - q5O,n5O.p0["1" << 1320004576] - O5O,L5O.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(n5O.stem.d,L5O.chart) - q5O),v:n5O.stem.v - O5O};}this.adjust();}else {a0n=-1044134291;r0n=616589122;z0n=2;for(var o0n="1" ^ 0;Y6AA.g5n(o0n.toString(),o0n.toString().length,17610) !== a0n;o0n++){Y6AA.z1n(18);this.setPoint(Y6AA.L1n("5",394717248),n5O.p0[3] * q5O,n5O.p0[8] / O5O,L5O.chart);z0n+=2;}if(Y6AA.g5n(z0n.toString(),z0n.toString().length,32016) !== r0n){this.setPoint(0,n5O.p0[0] - q5O,n5O.p0["1" & 2147483647] - O5O,L5O.chart);}}this.render(h6O);};T0O.Drawing.callout.prototype.lineIntersection=function(C6O,m6O,U6O,y6O){var g2mT=Y6AA;var W6O,I6O,A6O,B6O,l6O,t6O,r6O,z6O,K6O,x6O,M6O,s6O;W6O=this.stx.panels[this.panelName];I6O=this.stem;g2mT.C8TT();A6O=this.p0;B6O=this.stx;if(!A6O || !I6O || !W6O){return ! !0;}l6O=I6O.t || this.stx.tickFromDate(I6O.d,W6O.chart);t6O={x0:A6O[0],x1:l6O,y0:A6O[1],y1:I6O.v};r6O=T0O.convertBoxToPixels(B6O,this.panelName,t6O);z6O=r6O.x0;K6O=r6O.y0;x6O=r6O.x1;M6O=r6O.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(4670 < 9220?(7680,"2782" ^ 0) < +"671.97"?!{}:"l":(0xe43,!{})) > -1){g2mT.z1n(6);var M7R=g2mT.L1n(24,26);z6O-=this.w / M7R;}else if(this.stemEntry.indexOf(6170 > (+"2800",+"2497")?"r":1.44e+3) > -("1" ^ 0)){g2mT.d1n(60);var O7R=g2mT.E1n(10,26,16,8,2);z6O+=this.w / O7R;}if(this.stemEntry.indexOf("t") > -1){g2mT.z1n(48);var I7R=g2mT.E1n(2,17,11,183);K6O-=this.h / I7R;}else if(this.stemEntry.indexOf("b") > -1){K6O+=this.h / 2;}}s6O=T0O.convertBoxToPixels(B6O,this.panelName,U6O);return T0O.boxIntersects(s6O.x0,s6O.y0,s6O.x1,s6O.y1,z6O,K6O,x6O,M6O,y6O);};T0O.Drawing.callout.prototype.intersected=function(X6O,o6O,R6O){var B2mT=Y6AA;var Y6O,e6O,w6O,p6O,Q6O,Z6O,j6O,z9n,E9n,o9n,g6O;Y6O=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,R6O)){this.highlighted="p0";return {action:"drag",stem:! ![]};}B2mT.z1n(61);var m7R=B2mT.E1n(3,18,0,4);e6O=this.stx.pixelFromTick(this.p0[0],Y6O.chart) - this.w / m7R;B2mT.d1n(25);var b7R=B2mT.L1n(12,215,18);B2mT.z1n(19);var Q7R=B2mT.L1n(6,8,1);w6O=this.stx.pixelFromValueAdjusted(Y6O,this.p0[0],this.p0[b7R]) - this.h / Q7R;p6O=e6O + this.w;Q6O=w6O + this.h;if(this.stem && this.stem.x){e6O+=this.stem.x;p6O+=this.stem.x;w6O+=this.stem.y;Q6O+=this.stem.y;}Z6O=this.stx.pixelFromTick(X6O,Y6O.chart);j6O=this.stx.pixelFromValueAdjusted(Y6O,X6O,o6O);if(Z6O + R6O.r >= e6O && Z6O - R6O.r <= p6O && j6O + R6O.r >= w6O && j6O - R6O.r <= Q6O){this.highlighted=!"";z9n=1647074423;E9n=585819201;o9n=2;for(var j9n=1;B2mT.g5n(j9n.toString(),j9n.toString().length,38590) !== z9n;j9n++){return {p0:T0O.clone(this.p0),tick:X6O,value:o6O};}if(B2mT.g5n(o9n.toString(),o9n.toString().length,86598) !== E9n){return {p0:T0O.clone(this.p0),tick:X6O,value:o6O};}return {p0:T0O.clone(this.p0),tick:X6O,value:o6O};}g6O=this.lineIntersection(X6O,o6O,R6O,"segment");if(g6O){this.highlighted=! !"1";return {action:"move",stem:T0O.clone(this.stem),p0:T0O.clone(this.p0),tick:X6O,value:o6O};}return null;};T0O.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};T0O.inheritsFrom(T0O.Drawing.fibonacci,T0O.Drawing.BaseTwoPoint);T0O.Drawing.fibonacci.mapping={trend:(878.69,1653) >= 607.07?(5527,593) == 3545?(3050,5590) === (8620,6420)?(353.39,436.80):(0x2e6,9.85e+3):"t":"f",color:"c",parameters:"p",pattern:"pt",opacity:1710 !== (3980,6060)?"o":(! !1,259.07),lineWidth:"lw",level:"1140" * 1 >= 469.64?"l":(3160,392.22) !== 4720?(! !1,+"732"):("h",! !{}),extendLeft:"5680" - 0 != (5818,778)?9820 == 648?"R":(+"3515",3568) !== (9420,710)?"e":891.63:1.54e+3,printLevels:"pl",printValues:"pv",timezone:"tz",display:("784.27" * 1,4197) <= 8260?"d":284.36 === 9462?(0x4f3,1.57e+3):(! !"1","C")};T0O.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,1,1.382,1.618];T0O.Drawing.fibonacci.prototype.configs=["color",T4n,"lineWidth","pattern","parameters"];T0O.Drawing.fibonacci.prototype.initializeSettings=function(N6O){var f6O,J6O;Y6AA.V8TT();f6O=this.recommendedLevels;if(f6O && !N6O.currentVectorParameters.fibonacci.fibsAlreadySet){J6O=N6O.currentVectorParameters.fibonacci.fibs;for(var u6O=0;u6O < J6O.length;u6O++){delete J6O[u6O].display;for(var H6O=0;H6O < f6O.length;H6O++){if(J6O[u6O].level == f6O[H6O]){J6O[u6O].display=! !1;}}}}};T0O.Drawing.fibonacci.prototype.setOuter=function(){var H2mT=Y6AA;var b6O,P6O,F6O,T6O,S6O,G6O,c6O,n6O,L6O,v6O,k6O,i6O,E6O,V6O;b6O=this.stx;P6O=b6O.panels[this.panelName];if(!P6O){return;}H2mT.C8TT();F6O=Math.max(this.p0[1],this.p1[1]);T6O=Math.min(this.p0[1],this.p1[1]);H2mT.d1n(6);S6O=H2mT.L1n(T6O,F6O);this.outer={p0:T0O.clone(this.p0),p1:T0O.clone(this.p1)};G6O=b6O.pixelFromValueAdjusted(P6O,this.p0[0],this.p0[1]);c6O=b6O.pixelFromValueAdjusted(P6O,this.p1[0],this.p1[1]);n6O=b6O.pixelFromTick(this.p0["0" - 0],P6O.chart);L6O=b6O.pixelFromTick(this.p1[0],P6O.chart);v6O=0;H2mT.z1n(6);k6O=H2mT.E1n(0,"1");for(var d6O=0;d6O < this.parameters.fibs.length;d6O++){i6O=this.parameters.fibs[d6O];if(i6O.level >= v6O && i6O.level <= k6O || !i6O.display)continue;E6O=b6O.pixelFromValueAdjusted(P6O,this.p0[+"0"],c6O < G6O?F6O - S6O * i6O.level:T6O + S6O * i6O.level);V6O=T0O.xIntersection({x0:n6O,x1:L6O,y0:G6O,y1:c6O},E6O);if(i6O.level < v6O){v6O=i6O.level;this.outer.p1[1]=b6O.valueFromPixel(E6O,P6O);this.outer.p1[0]=b6O.tickFromPixel(V6O,P6O.chart);}else if(i6O.level > k6O){k6O=i6O.level;this.outer.p0[1]=b6O.valueFromPixel(E6O,P6O);this.outer.p0[0]=b6O.tickFromPixel(V6O,P6O.chart);}}};T0O.Drawing.fibonacci.prototype.click=function(D7O,O6O,a7O){var q6O;Y6AA.C8TT();q6O=this.stx.panels[this.panelName];if(!q6O){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",O6O,a7O,q6O.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(O6O,a7O)){return this.dragToDraw;}this.setPoint(1,O6O,a7O,q6O.chart);this.setOuter();this.parameters=T0O.clone(this.parameters);this.penDown=!{};return ! !{};;};T0O.Drawing.fibonacci.prototype.render=function(h7O){var k2mT=Y6AA;var L4n,Y4n,I7O,Y7O,o7O,e7O,Z7O,U7O,x7O,z7O,s7O,j7O,g7O,u7O,N7O,b7O,J7O,P7O,w7O,y7O,p7O,C7O,M7O,F4n,y4n,d4n,B7O,r7O,R7O,l7O,A7O,S4n,i7O,m7O,t7O,K7O,f7O,W7O,H7O,c4n,v7O,k7O;L4n="st";L4n+="x";L4n+="_";L4n+="yaxis";Y4n="a";Y4n+="ut";Y4n+="o";I7O=this.stx.panels[this.panelName];if(!I7O){return;}Y7O=I7O.yAxis;if(!this.p1){return;}o7O=Math.max(this.p0[1],this.p1["1" | 0]);e7O=Math.min(this.p0[1],this.p1[1]);Z7O=Y7O.flipped?e7O - o7O:o7O - e7O;U7O=this.stx.pixelFromTick(this.p0[0],I7O.chart);x7O=this.stx.pixelFromTick(this.p1[0],I7O.chart);z7O=this.stx.pixelFromValueAdjusted(I7O,this.p0[0],this.p0[1]);s7O=this.stx.pixelFromValueAdjusted(I7O,this.p1[0],this.p1[1]);j7O=Math.min(s7O,z7O);g7O=Math.max(s7O,z7O);k2mT.d1n(6);u7O=k2mT.L1n(j7O,g7O);k2mT.z1n(62);N7O=k2mT.E1n(x7O,0,s7O,z7O,U7O);b7O={color:Y4n,parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=b7O;}J7O=this.getLineColor(this.parameters.trend.color);h7O.textBaseline="middle";this.stx.canvasFont(L4n,h7O);k2mT.C8TT();k2mT.z1n(4);var w7R=k2mT.E1n(9,1);P7O=h7O.measureText("161.8%").width + w7R;w7O=Number.MAX_VALUE;y7O=Number.MAX_VALUE;k2mT.z1n(63);var A7R=k2mT.L1n(3,13,8,14);p7O=Number.MAX_VALUE * A7R;C7O=Number.MAX_VALUE * - +"1";M7O=this.color;if(M7O == "auto" || T0O.isTransparent(M7O)){M7O=this.stx.defaultColor;}this.rays=[];for(var Q7O=0;Q7O < this.parameters.fibs.length;Q7O++){F4n="seg";F4n+="ment";y4n="au";y4n+="to";d4n="a";d4n+="u";d4n+="t";d4n+="o";h7O.textAlign="left";h7O.fillStyle=M7O;B7O=this.parameters.fibs[Q7O];if(!B7O.display)continue;r7O=this.stx.pixelFromValueAdjusted(I7O,this.p0[0],s7O < z7O?o7O - Z7O * B7O.level:e7O + Z7O * B7O.level);R7O=T0O.xIntersection({x0:U7O,x1:x7O,y0:z7O,y1:s7O},r7O);l7O=this.parameters.extendLeft?+"0":R7O;A7O=I7O.left + I7O.width;if(this.parameters.printLevels){S4n="ri";S4n+="g";S4n+="h";S4n+="t";k2mT.z1n(25);var U7R=k2mT.L1n(2,964,982);k2mT.d1n(64);var W7R=k2mT.L1n(11,7,3,1,8);k2mT.z1n(9);var i7R=k2mT.L1n(43327,47641,17);k2mT.d1n(65);var v7R=k2mT.L1n(15,9544,12,19,38);k2mT.d1n(24);var C7R=k2mT.L1n(234,11,197);k2mT.z1n(4);var s7R=k2mT.L1n(3559,254);k2mT.z1n(19);var x7R=k2mT.E1n(18,827,1);i7O=Math.round(B7O.level * U7R) / W7R + (("2360" & 2147483647,"200.09" - 0) > (252.47,+"8035")?i7R:(+"755.99",v7R) !== (C7R,s7R)?"%":(![],x7R));A7O-=P7O;if(this.parameters.printValues){h7O.fillStyle=M7O;this.stx.canvasFont("stx_yaxis",h7O);;}if(A7O < l7O){h7O.textAlign=S4n;}h7O.fillText(i7O,A7O,r7O);if(A7O < l7O){A7O+=5;}else {A7O-=5;}}if(this.parameters.printValues){if(R7O < I7O.width){m7O=this.stx.transformedPriceFromPixel(r7O,I7O);if(Y7O.priceFormatter){m7O=Y7O.priceFormatter(this.stx,I7O,m7O);}else {m7O=this.stx.formatYAxisPrice(m7O,I7O);}if(h7O == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(I7O,m7O,r7O,M7O,null,h7O);if(h7O == this.stx.chart.context){this.stx.startClip(I7O.name);}}}t7O=B7O.color;if(t7O == "auto" || T0O.isTransparent(t7O)){t7O=this.color;}if(t7O == d4n || T0O.isTransparent(t7O)){t7O=this.stx.defaultColor;}K7O=B7O.color;if(K7O == y4n || T0O.isTransparent(K7O)){K7O=this.fillColor;}if(K7O == "auto" || T0O.isTransparent(K7O)){K7O=this.stx.defaultColor;}h7O.fillStyle=K7O;f7O=T0O.clone(B7O.parameters);if(this.highlighted){f7O.opacity=1;}this.stx.plotLine(l7O,A7O,r7O,r7O,this.highlighted?J7O:t7O,F4n,h7O,I7O,f7O);this.rays.push([[l7O,r7O],[A7O,r7O]]);h7O.globalAlpha=0.05;h7O.beginPath();h7O.moveTo(A7O,r7O);h7O.lineTo(l7O,r7O);if(l7O){h7O.lineTo(x7O,s7O);}else {h7O.lineTo(l7O,s7O);}h7O.lineTo(A7O,s7O);if(typeof K7O != "undefined"){h7O.fill();}h7O.globalAlpha=1;if(r7O < y7O){w7O=R7O;y7O=r7O;}if(r7O > C7O){p7O=R7O;C7O=r7O;}}for(var X7O="0" - 0;X7O <= 1;X7O++){W7O=N7O?g7O - u7O * X7O:j7O + u7O * X7O;W7O=Math.round(W7O);if(W7O < y7O){w7O=T0O.xIntersection({x0:U7O,x1:x7O,y0:z7O,y1:s7O},W7O);y7O=W7O;}if(W7O > C7O){p7O=T0O.xIntersection({x0:U7O,x1:x7O,y0:z7O,y1:s7O},W7O);C7O=W7O;}}H7O=T0O.clone(this.parameters.trend.parameters);if(this.highlighted){H7O.opacity=1;}this.stx.plotLine(w7O,p7O,y7O,C7O,J7O,"segment",h7O,I7O,H7O);if(this.highlighted){c4n="p";c4n+="1";v7O=this.highlighted == "p0"?! !{}:!"1";k7O=this.highlighted == c4n?! ![]:!"1";this.littleCircle(h7O,U7O,z7O,v7O);this.littleCircle(h7O,x7O,s7O,k7O);}};T0O.Drawing.fibonacci.prototype.reposition=function(E7O,d7O,F7O,T7O){if(!d7O){return;}T0O.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};T0O.Drawing.fibonacci.prototype.intersected=function(a8O,D8O,h8O){var M4n,c7O,V7O,n7O,g4n,L7O,q7O,O7O,O4n;M4n="segm";M4n+="en";M4n+="t";c7O=this.p0;V7O=this.p1;Y6AA.V8TT();if(!c7O || !V7O){return null;}n7O={0:c7O,1:V7O};for(var S7O in n7O){if(this.pointIntersection(n7O[S7O][0],n7O[S7O][1],h8O)){g4n="dra";g4n+="g";Y6AA.d1n(4);this.highlighted=Y6AA.L1n(S7O,"p");return {action:g4n,point:"p" + S7O};}}L7O=this.outer;q7O=this.rays;O7O=L7O && this.lineIntersection(a8O,D8O,h8O,M4n,L7O.p0,L7O.p1);if(!O7O){for(var G7O=0;G7O < q7O.length;G7O++){if(this.lineIntersection(a8O,D8O,h8O,"ray",q7O[G7O][0],q7O[G7O][1],! !"1")){O7O=! ![];break;}}}if(O7O){O4n="mo";O4n+="ve";this.highlighted=!"";return {action:O4n,p0:T0O.clone(c7O),p1:T0O.clone(V7O),tick:a8O,value:D8O};}return null;};T0O.Drawing.fibonacci.prototype.reconstruct=function(r8O,I8O){I8O=T0O.replaceFields(I8O,T0O.reverseObject(T0O.Drawing.fibonacci.mapping));this.stx=r8O;this.parameters=I8O.parameters;if(!this.parameters){this.parameters=T0O.clone(this.stx.currentVectorParameters.fibonacci);}this.color=I8O.col;this.fillColor=I8O.fc;this.panelName=I8O.pnl;this.d0=I8O.d0;this.d1=I8O.d1;this.d2=I8O.d2;this.tzo0=I8O.tzo0;this.tzo1=I8O.tzo1;Y6AA.V8TT();this.tzo2=I8O.tzo2;this.v0=I8O.v0;this.v1=I8O.v1;this.v2=I8O.v2;this.adjust();};T0O.Drawing.fibonacci.prototype.adjust=function(){var s8O;s8O=this.stx.panels[this.panelName];if(!s8O){return;}this.setPoint(+"0",this.d0,this.v0,s8O.chart);this.setPoint(1,this.d1,this.v1,s8O.chart);this.setOuter();};T0O.Drawing.fibonacci.prototype.serialize=function(){Y6AA.V8TT();var A8O;A8O={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return T0O.replaceFields(A8O,T0O.Drawing.fibonacci.mapping);};T0O.Drawing.retracement=function(){var I4n;I4n="retrace";I4n+="me";I4n+="n";I4n+="t";Y6AA.C8TT();this.name=I4n;};T0O.inheritsFrom(T0O.Drawing.retracement,T0O.Drawing.fibonacci);T0O.Drawing.fibprojection=function(){this.name="fibprojection";Y6AA.C8TT();this.dragToDraw=!{};this.p2=null;};T0O.inheritsFrom(T0O.Drawing.fibprojection,T0O.Drawing.fibonacci);Y6AA.z1n(18);T0O.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,Y6AA.E1n("1",2047567392),1.272,1.618,2.618,4.236];T0O.Drawing.fibprojection.prototype.click=function(B8O,K8O,W8O){var z8O;z8O=this.stx.panels[this.panelName];if(!z8O){return;}this.copyConfig();if(!this.penDown){Y6AA.z1n(34);this.setPoint(Y6AA.E1n(0,"0"),K8O,W8O,z8O.chart);this.penDown=! ![];return ![];}if(this.accidentalClick(K8O,W8O)){this.stx.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],z8O.chart);this.parameters=T0O.clone(this.parameters);return ! ![];}this.setPoint(1,K8O,W8O,z8O.chart);Y6AA.d1n(34);this.p2=[this.p1[Y6AA.E1n(0,"0")],this.p1[1]];return !{};;};T0O.Drawing.fibprojection.prototype.render=function(l8O){var t2mT=Y6AA;var W4n,Q4n,b4n,m4n,t8O,u8O,f8O,Y8O,e8O,p8O,w8O,Q8O,m8O,H8O,Z8O,N8O,R8O,U4n,A4n,w4n,X8O,x8O,b8O,y8O,M8O,P8O,o8O,C8O,U8O,J8O,g8O,v4n,i4n,i8O,v8O,k8O;W4n="s";W4n+="eg";W4n+="ment";Q4n="st";Q4n+="x_y";Q4n+="axi";Q4n+="s";b4n="mi";b4n+="dd";b4n+="le";m4n="au";m4n+="t";m4n+="o";t8O=this.stx.panels[this.panelName];if(!t8O){return;}u8O=t8O.yAxis;if(!this.p1){return;}t2mT.d1n(9);var B7R=t2mT.E1n(18,5,14);t2mT.d1n(6);var H7R=t2mT.E1n(7,8);f8O=this.p1[B7R] - this.p0[H7R];Y8O=this.stx.pixelFromTick(this.p0[0],t8O.chart);e8O=this.stx.pixelFromTick(this.p1[+"0"],t8O.chart);p8O=this.stx.pixelFromValueAdjusted(t8O,this.p0[0],this.p0[1]);w8O=this.stx.pixelFromValueAdjusted(t8O,this.p1[0],this.p1[1]);Q8O=null;m8O=null;if(this.p2){Q8O=this.stx.pixelFromTick(this.p2[0],t8O.chart);m8O=this.stx.pixelFromValueAdjusted(t8O,this.p2[0],this.p2[+"1"]);}H8O={color:m4n,parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=H8O;}Z8O=this.getLineColor(this.parameters.trend.color);l8O.textBaseline=b4n;this.stx.canvasFont(Q4n,l8O);t2mT.d1n(43);var u7R=t2mT.E1n(16,1,14,7);N8O=l8O.measureText("161.8%").width + u7R;R8O=this.color;if(R8O == "auto" || T0O.isTransparent(R8O)){R8O=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var j8O=0;j8O < this.parameters.fibs.length;j8O++){U4n="au";U4n+="t";U4n+="o";A4n="aut";A4n+="o";w4n="l";w4n+="e";w4n+="ft";l8O.textAlign=w4n;l8O.fillStyle=R8O;X8O=this.parameters.fibs[j8O];if(!X8O.display)continue;x8O=this.stx.pixelFromValueAdjusted(t8O,this.p2[0],this.p2[1] + f8O * X8O.level);b8O=T0O.xIntersection({x0:Y8O,x1:e8O,y0:p8O,y1:w8O},x8O);y8O=this.parameters.extendLeft?"0" | 0:Y8O;M8O=t8O.left + t8O.width;if(this.parameters.printLevels){t2mT.d1n(4);var e7R=t2mT.E1n(4,996);t2mT.z1n(66);var G7R=t2mT.E1n(17,641,110,7);P8O=Math.round(X8O.level * e7R) / G7R + "%";M8O-=N8O;if(this.parameters.printValues){l8O.fillStyle=R8O;this.stx.canvasFont("stx_yaxis",l8O);;}if(M8O < y8O){l8O.textAlign="right";}l8O.fillText(P8O,M8O,x8O);if(M8O < y8O){M8O+=5;}else {M8O-=5;}}if(this.parameters.printValues){if(b8O < t8O.width){o8O=this.stx.transformedPriceFromPixel(x8O,t8O);if(u8O.priceFormatter){o8O=u8O.priceFormatter(this.stx,t8O,o8O);}else {o8O=this.stx.formatYAxisPrice(o8O,t8O);}if(l8O == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(t8O,o8O,x8O,R8O,null,l8O);if(l8O == this.stx.chart.context){this.stx.startClip(t8O.name);}}}C8O=X8O.color;if(C8O == A4n || T0O.isTransparent(C8O)){C8O=this.color;}if(C8O == U4n || T0O.isTransparent(C8O)){C8O=this.stx.defaultColor;}U8O=X8O.color;if(U8O == "auto" || T0O.isTransparent(U8O)){U8O=this.fillColor;}if(U8O == "auto" || T0O.isTransparent(U8O)){U8O=this.stx.defaultColor;}l8O.fillStyle=U8O;J8O=T0O.clone(X8O.parameters);if(this.highlighted){J8O.opacity=1;}this.stx.plotLine(y8O,M8O,x8O,x8O,this.highlighted?Z8O:C8O,"segment",l8O,t8O,J8O);this.rays.push([[y8O,x8O],[M8O,x8O]]);l8O.globalAlpha=0.05;l8O.beginPath();l8O.moveTo(M8O,x8O);l8O.lineTo(y8O,x8O);if(y8O){l8O.lineTo(Y8O,m8O);}else {l8O.lineTo(y8O,m8O);}l8O.lineTo(M8O,m8O);if(typeof U8O != "undefined"){l8O.fill();}l8O.globalAlpha=1;}}g8O=T0O.clone(this.parameters.trend.parameters);if(this.highlighted){t2mT.d1n(18);g8O.opacity=t2mT.L1n("1",818299872);}this.stx.plotLine(Y8O,e8O,p8O,w8O,Z8O,"segment",l8O,t8O,g8O);if(this.p2){this.stx.plotLine(e8O,Q8O,w8O,m8O,Z8O,W4n,l8O,t8O,g8O);}if(this.highlighted){v4n="p";v4n+="1";i4n="p";i4n+="0";i8O=this.highlighted == i4n?! ![]:![];v8O=this.highlighted == v4n?! !{}:! !"";k8O=this.highlighted == "p2"?! !"1":! !0;this.littleCircle(l8O,Y8O,p8O,i8O);this.littleCircle(l8O,e8O,w8O,v8O);this.littleCircle(l8O,Q8O,m8O,k8O);}};T0O.Drawing.fibprojection.prototype.move=function(F8O,d8O,E8O){if(!this.penDown){return;}this.copyConfig();Y6AA.V8TT();if(this.p2 === null){this.p1=[d8O,E8O];}else {this.p2=[d8O,E8O];}this.render(F8O);};T0O.Drawing.fibprojection.prototype.reposition=function(V8O,T8O,n8O,L8O){var R2mT=Y6AA;R2mT.C8TT();var S8O,G8O,c8O,N6n,V6n,k6n;if(!T8O){return;}S8O=this.stx.panels[this.panelName];G8O=T8O.tick - n8O;c8O=T8O.value - L8O;if(T8O.action == "move"){this.setPoint(0,T8O.p0[0] - G8O,T8O.p0[1] - c8O,S8O.chart);this.setPoint(1,T8O.p1[0] - G8O,T8O.p1[1] - c8O,S8O.chart);this.setPoint(2,T8O.p2[0] - G8O,T8O.p2[1] - c8O,S8O.chart);this.render(V8O);}else if(T8O.action == "drag"){N6n=151655903;V6n=757524579;k6n=2;for(var l6n=1;R2mT.g5n(l6n.toString(),l6n.toString().length,"90032" >> 625086560) !== N6n;l6n++){this[T8O.point]=[n8O,L8O];this.setPoint(6,this.p0[1],this.p0[2],S8O.chart);this.setPoint(7,this.p1[7],this.p1[8],S8O.chart);k6n+=2;}if(R2mT.g5n(k6n.toString(),k6n.toString().length,49199) !== V6n){this[T8O.point]=[n8O,L8O];this.setPoint(0,this.p0[0],this.p0[1],S8O.chart);R2mT.d1n(18);this.setPoint(R2mT.E1n("1",1946040576),this.p1["0" & 2147483647],this.p1[1],S8O.chart);}this.setPoint(2,this.p2["0" & 2147483647],this.p2[+"1"],S8O.chart);this.render(V8O);}};T0O.Drawing.fibprojection.prototype.intersected=function(I9O,r9O,s9O){var O8O,q8O,a9O,A9O,C4n,z9O,K9O;O8O=this.p0;q8O=this.p1;a9O=this.p2;if(!O8O || !q8O || !a9O){return null;}A9O={0:O8O,1:q8O,2:a9O};for(var D9O in A9O){if(this.pointIntersection(A9O[D9O]["0" & 2147483647],A9O[D9O][1],s9O)){C4n="d";C4n+="r";C4n+="a";C4n+="g";Y6AA.z1n(4);this.highlighted=Y6AA.L1n(D9O,"p");return {action:C4n,point:(719.94 < 6884?"p":(+"0x839",6.68e+3)) + D9O};}}z9O=this.rays;K9O=this.lineIntersection(I9O,r9O,s9O,"segment",O8O,q8O) || this.lineIntersection(I9O,r9O,s9O,"segment",q8O,a9O);if(!K9O){for(var h9O=0;h9O < z9O.length;h9O++){if(this.lineIntersection(I9O,r9O,s9O,"ray",z9O[h9O][+"0"],z9O[h9O][1],!0)){K9O=! !{};break;}}}if(K9O){this.highlighted=! ![];return {action:"move",p0:T0O.clone(O8O),p1:T0O.clone(q8O),p2:T0O.clone(a9O),tick:I9O,value:r9O};}return null;};T0O.Drawing.fibprojection.prototype.adjust=function(){var W9O;W9O=this.stx.panels[this.panelName];if(!W9O){return;}this.setPoint(0,this.d0,this.v0,W9O.chart);this.setPoint(1,this.d1,this.v1,W9O.chart);this.setPoint(2,this.d2,this.v2,W9O.chart);};T0O.Drawing.fibarc=function(){var s4n,k0n,h0n,l0n;s4n="fib";s4n+="arc";this.name=s4n;k0n=1122357094;Y6AA.V8TT();h0n=- +"903419342";l0n=2;for(var t0n=+"1";Y6AA.c5n(t0n.toString(),t0n.toString().length,+"54121") !== k0n;t0n++){;l0n+=2;}if(Y6AA.g5n(l0n.toString(),l0n.toString().length,57003) !== h0n){;};};T0O.inheritsFrom(T0O.Drawing.fibarc,T0O.Drawing.fibonacci);T0O.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];T0O.Drawing.fibarc.prototype.setOuter=function(){var B9O,l9O,t9O,M9O,U9O,x9O,y9O;B9O=this.stx.panels[this.panelName];if(!B9O){return;}this.outer={p0:T0O.clone(this.p0),p1:T0O.clone(this.p1)};l9O=this.stx.pixelFromValueAdjusted(B9O,this.p0["0" | 0],this.p0[1]);t9O=this.stx.pixelFromValueAdjusted(B9O,this.p1["0" - 0],this.p1[1]);M9O=this.stx.pixelFromTick(this.p0[0],B9O.chart);U9O=this.stx.pixelFromTick(this.p1["0" | 0],B9O.chart);Y6AA.d1n(25);x9O=Y6AA.L1n(l9O,t9O,2);y9O=T0O.xIntersection({x0:M9O,x1:U9O,y0:l9O,y1:t9O},x9O);this.outer.p0[1]=this.stx.valueFromPixel(x9O,B9O);this.outer.p0[+"0"]=this.stx.tickFromPixel(y9O,B9O.chart);};T0O.Drawing.fibarc.prototype.intersected=function(Y9O,p9O,m9O){var Q9O,R9O,X9O,j9O,Z9O,u9O,C9O,e9O,g9O,w9O;Q9O=this.stx.panels[this.panelName];if(!Q9O){return;}R9O=this.p0;X9O=this.p1;j9O=this.outer;if(!R9O || !X9O){return null;}Z9O={0:R9O,1:X9O};for(var o9O in Z9O){if(this.pointIntersection(Z9O[o9O][0],Z9O[o9O][1],m9O)){Y6AA.d1n(4);this.highlighted=Y6AA.L1n(o9O,"p");return {action:"drag",point:"p" + o9O};}}if(this.lineIntersection(Y9O,p9O,m9O,"segment",j9O.p0,j9O.p1)){this.highlighted=! !{};return {action:"move",p0:T0O.clone(R9O),p1:T0O.clone(X9O),tick:Y9O,value:p9O};}u9O={x0:R9O[0],x1:X9O[0],y0:R9O[1],y1:X9O[1]};C9O=T0O.convertBoxToPixels(this.stx,this.panelName,u9O);e9O={x:Math.abs(Math.sqrt(2) * (C9O.x1 - C9O.x0)),y:Math.abs(Math.sqrt(+"2") * (C9O.y1 - C9O.y0))};g9O=this.stx.pixelFromTick(Y9O,Q9O.chart);w9O=this.stx.pixelFromValueAdjusted(Q9O,Y9O,p9O);if(g9O + m9O.r < C9O.x1 - e9O.x || g9O - m9O.r > C9O.x1 + e9O.x){return null;}if(w9O + m9O.r < C9O.y1 - e9O.y || w9O - m9O.r > C9O.y1 + e9O.y){return null;}if(C9O.y0 < C9O.y1 && w9O - m9O.r > C9O.y1){return null;}if(C9O.y0 > C9O.y1 && w9O + m9O.r < C9O.y1){return null;}this.highlighted=! !1;return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:Y9O,value:p9O};};T0O.Drawing.fibarc.prototype.render=function(J9O){var K2mT=Y6AA;var f9O,T9O,E9O,b9O,k9O,N9O,G9O,c9O,V9O,v9O,H4n,B4n,x4n,H9O,q9O,n9O,F9O,O9O,a0m,d9O,P9O,i9O,L9O,u4n,D0m,h0m;f9O=this.stx.panels[this.panelName];if(!f9O){return;}T9O=f9O.yAxis;if(!this.p1){return;}E9O=this.stx.pixelFromTick(this.p0[0],f9O.chart);b9O=this.stx.pixelFromTick(this.p1[0],f9O.chart);k9O=this.stx.pixelFromValueAdjusted(f9O,this.p0[+"0"],this.p0[1]);N9O=this.stx.pixelFromValueAdjusted(f9O,this.p1[+"0"],this.p1[1]);K2mT.z1n(67);G9O=K2mT.E1n(k9O,N9O);K2mT.z1n(68);K2mT.C8TT();c9O=Math.abs(K2mT.L1n(N9O,k9O,E9O,b9O));V9O=this.getLineColor(this.parameters.trend.color);J9O.textBaseline="middle";this.stx.canvasFont("stx_yaxis",J9O);v9O=this.color;if(v9O == "auto" || T0O.isTransparent(v9O)){v9O=this.stx.defaultColor;}for(var S9O=+"0";S9O < this.parameters.fibs.length;S9O++){H4n="n";H4n+="o";H4n+="n";H4n+="e";B4n="aut";B4n+="o";x4n="lef";x4n+="t";J9O.fillStyle=v9O;H9O=this.parameters.fibs[S9O];if(H9O.level < +"0" || !H9O.display)continue;K2mT.d1n(24);var R7R=K2mT.L1n(20,6,13);K2mT.z1n(4);var J7R=K2mT.E1n(1,0);K2mT.z1n(10);var X7R=K2mT.E1n(20,0,7,11);q9O=Math.abs(this.p1[R7R] - this.p0[J7R]) * Math.sqrt(X7R) * H9O.level;K2mT.d1n(9);var P7R=K2mT.E1n(22,18,5);K2mT.d1n(69);var f7R=K2mT.E1n(0,18,21,20,18);K2mT.d1n(6);var n7R=K2mT.L1n(17,18);K2mT.d1n(70);var N7R=K2mT.L1n(5,1,125,9,9);K2mT.d1n(10);var V7R=K2mT.E1n(7,21,7,20);n9O=this.p1[P7R] + q9O * (G9O?f7R:n7R) * (T9O.flipped?N7R:V7R);F9O=this.stx.pixelFromValueAdjusted(f9O,this.p0[0],n9O);O9O=T0O.xIntersection({x0:E9O,x1:b9O,y0:k9O,y1:N9O},F9O);if(this.parameters.printLevels){J9O.textAlign="center";K2mT.d1n(71);var k7R=K2mT.E1n(8,13,983,18,20);K2mT.z1n(10);var h7R=K2mT.E1n(5,100,8,87);a0m=Math.round(H9O.level * k7R) / h7R + "%";if(this.parameters.printValues){J9O.fillStyle=v9O;this.stx.canvasFont("stx_yaxis",J9O);;}J9O.fillText(a0m,b9O,Math.round(F9O - 5));}J9O.textAlign=x4n;if(this.parameters.printValues){if(O9O < f9O.width){d9O=n9O;if(T9O.priceFormatter){d9O=T9O.priceFormatter(this.stx,f9O,d9O);}else {d9O=this.stx.formatYAxisPrice(d9O,f9O);}if(J9O == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(f9O,d9O,F9O,v9O,null,J9O);if(J9O == this.stx.chart.context){this.stx.startClip(f9O.name);}}}P9O=H9O.color;if(P9O == "auto" || T0O.isTransparent(P9O)){P9O=this.color;}if(P9O == B4n || T0O.isTransparent(P9O)){P9O=this.stx.defaultColor;}J9O.strokeStyle=this.highlight?V9O:P9O;i9O=H9O.color;if(i9O == "auto" || T0O.isTransparent(i9O)){i9O=this.fillColor;}if(i9O == "auto" || T0O.isTransparent(i9O)){i9O=this.stx.defaultColor;}J9O.fillStyle=i9O;J9O.globalAlpha=this.highlighted?1:H9O.parameters.opacity;J9O.lineWidth=H9O.parameters.lineWidth;if(J9O.setLineDash){J9O.setLineDash(T0O.borderPatternToArray(J9O.lineWidth,H9O.parameters.pattern));J9O.lineDashOffset=+"0";;}J9O.save();J9O.beginPath();K2mT.d1n(12);J9O.scale(K2mT.L1n(c9O,1),1);K2mT.z1n(1);J9O.arc(K2mT.L1n(c9O,b9O),N9O,Math.abs(F9O - N9O),0,Math.PI,!G9O);if(this.pattern != H4n){J9O.stroke();}J9O.globalAlpha=0.05;J9O.fill();J9O.restore();if(J9O.setLineDash){J9O.setLineDash([]);}J9O.globalAlpha=1;}J9O.textAlign="left";L9O=T0O.clone(this.parameters.trend.parameters);if(this.highlighted){L9O.opacity=1;}K2mT.z1n(25);this.stx.plotLine(b9O,K2mT.E1n(E9O,b9O,2),N9O,K2mT.L1n(k9O,N9O,2),V9O,"segment",J9O,f9O,L9O);if(this.highlighted){u4n="p";u4n+="0";D0m=this.highlighted == u4n?! ![]:![];h0m=this.highlighted == "p1"?! !{}:![];this.littleCircle(J9O,E9O,k9O,D0m);this.littleCircle(J9O,b9O,N9O,h0m);}};T0O.Drawing.fibfan=function(){this.name="fibfan";;};T0O.inheritsFrom(T0O.Drawing.fibfan,T0O.Drawing.fibonacci);T0O.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];T0O.Drawing.fibfan.prototype.setOuter=function(){};T0O.Drawing.fibfan.prototype.render=function(I0m){var m2mT=Y6AA;var e4n,s0m,w0m,r0m,W0m,A0m,y0m,p0m,Q0m,Z0m,g0m,u0m,m0m,R0m,X0m,t0m,R4n,x0m,K0m,Y0m,z0m,M0m,J0m,G4n,C0m,B0m,l0m,j0m,U0m,J4n,f0m,H0m;e4n="m";e4n+="i";e4n+="d";e4n+="dle";s0m=this.stx.panels[this.panelName];if(!s0m){return;}w0m=s0m.yAxis;if(!this.p1){return;}r0m=this.stx.pixelFromTick(this.p0[+"0"],s0m.chart);W0m=this.stx.pixelFromTick(this.p1["0" ^ 0],s0m.chart);A0m=this.stx.pixelFromValueAdjusted(s0m,this.p0[0],this.p0[+"1"]);y0m=this.stx.pixelFromValueAdjusted(s0m,this.p1[0],this.p1[1]);p0m=Math.min(y0m,A0m);Q0m=Math.max(y0m,A0m);m2mT.d1n(6);Z0m=m2mT.E1n(p0m,Q0m);m2mT.z1n(62);g0m=m2mT.L1n(W0m,0,y0m,A0m,r0m);u0m=this.getLineColor(this.parameters.trend.color);I0m.textBaseline=e4n;this.stx.canvasFont("stx_yaxis",I0m);m2mT.z1n(6);var l7R=m2mT.E1n(190,200);m0m=I0m.measureText("161.8%").width + l7R;R0m=Number.MAX_VALUE;m2mT.z1n(6);var q7R=m2mT.E1n(19,18);X0m=Number.MAX_VALUE * q7R;t0m=this.color;if(t0m == "auto" || T0O.isTransparent(t0m)){t0m=this.stx.defaultColor;}this.rays=[];for(var e0m=0;e0m < this.parameters.fibs.length;e0m++){R4n="aut";R4n+="o";I0m.fillStyle=t0m;x0m=this.parameters.fibs[e0m];if(!x0m.display)continue;K0m=this.stx.pixelFromValueAdjusted(s0m,this.p0[0],(this.p0[+"1"] - this.p1[1]) * x0m.level + this.p1[1]);Y0m=T0O.xIntersection({x0:W0m,x1:W0m,y0:A0m,y1:y0m},K0m);z0m=s0m.left;if(W0m > r0m){z0m+=s0m.width;}m2mT.d1n(72);M0m=m2mT.L1n(z0m,A0m,A0m,K0m,r0m,Y0m,r0m);if(r0m > z0m - (this.parameters.printLevels?m0m + 5:0) && W0m > r0m)continue;else if(r0m < z0m + (this.parameters.printLevels?m0m + 5:0) && W0m < r0m)continue;if(this.parameters.printLevels){m2mT.d1n(73);var t7R=m2mT.L1n(1011,1,12162,19,13);m2mT.d1n(74);var D7R=m2mT.L1n(6,19,1,8,19);J0m=Math.round(x0m.level * t7R) / D7R + "%";if(W0m > r0m){z0m-=m0m;I0m.textAlign="left";}else {G4n="ri";G4n+="g";G4n+="h";G4n+="t";z0m+=m0m;I0m.textAlign=G4n;}if(this.parameters.printValues){I0m.fillStyle=t0m;this.stx.canvasFont("stx_yaxis",I0m);;}m2mT.d1n(72);M0m=m2mT.E1n(z0m,A0m,A0m,K0m,r0m,Y0m,r0m);I0m.fillText(J0m,z0m,M0m);if(W0m > r0m){z0m-=5;}else {z0m+=5;}}I0m.textAlign="left";if(this.parameters.printValues){if(Y0m < s0m.width){C0m=this.stx.transformedPriceFromPixel(K0m,s0m);if(w0m.priceFormatter){C0m=w0m.priceFormatter(this.stx,s0m,C0m);}else {C0m=this.stx.formatYAxisPrice(C0m,s0m);}if(I0m == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(s0m,C0m,K0m,t0m,null,I0m);if(I0m == this.stx.chart.context){this.stx.startClip(s0m.name);}}}B0m=x0m.color;if(B0m == "auto" || T0O.isTransparent(B0m)){B0m=this.color;}if(B0m == R4n || T0O.isTransparent(B0m)){B0m=this.stx.defaultColor;}l0m=x0m.color;if(l0m == "auto" || T0O.isTransparent(l0m)){l0m=this.fillColor;}if(l0m == "auto" || T0O.isTransparent(l0m)){l0m=this.stx.defaultColor;}I0m.fillStyle=l0m;if(this.parameters.printLevels){m2mT.d1n(72);M0m=m2mT.L1n(z0m,A0m,A0m,K0m,r0m,Y0m,r0m);}j0m=T0O.clone(x0m.parameters);if(this.highlighted){j0m.opacity=1;}this.stx.plotLine(r0m,z0m,A0m,M0m,this.highlighted?u0m:B0m,"segment",I0m,s0m,j0m);this.rays.push([[r0m,A0m],[z0m,M0m]]);I0m.globalAlpha=0.05;I0m.beginPath();I0m.moveTo(z0m,M0m);I0m.lineTo(r0m,A0m);I0m.lineTo(z0m,A0m);I0m.fill();I0m.globalAlpha=1;if(K0m < R0m){R0m=K0m;}if(K0m > X0m){X0m=K0m;}}for(var o0m=0;o0m <= 1;o0m++){U0m=g0m?Q0m - Z0m * o0m:p0m + Z0m * o0m;U0m=Math.round(U0m);if(U0m < R0m){R0m=U0m;}if(U0m > X0m){X0m=U0m;}}if(this.highlighted){J4n="p";J4n+="1";f0m=this.highlighted == "p0"?! !"1":!{};H0m=this.highlighted == J4n?!"":!1;this.littleCircle(I0m,r0m,A0m,f0m);this.littleCircle(I0m,W0m,y0m,H0m);}};T0O.Drawing.fibtimezone=function(){var X4n;Y6AA.C8TT();X4n="f";X4n+="ibtimezone";this.name=X4n;;};T0O.inheritsFrom(T0O.Drawing.fibtimezone,T0O.Drawing.fibonacci);T0O.Drawing.fibtimezone.prototype.render=function(N0m){var T2mT=Y6AA;var P4n,b0m,P0m,d0m,c0m,V0m,S0m,n0m,a1m,L0m,T0m,i0m,q0m,E0m,F0m,v0m,k0m,G0m,f4n,D1m,h1m,O0m;P4n="le";P4n+="f";P4n+="t";b0m=this.stx.panels[this.panelName];if(!b0m){return;}if(!this.p1){return;}P0m=this.stx.pixelFromTick(this.p0["0" & 2147483647],b0m.chart);d0m=this.stx.pixelFromTick(this.p1[0],b0m.chart);c0m=this.stx.pixelFromValueAdjusted(b0m,this.p0["0" - 0],this.p0[1]);V0m=this.stx.pixelFromValueAdjusted(b0m,this.p1[0],this.p1[1]);T2mT.d1n(18);S0m=[1,T2mT.L1n("0",764226048)];n0m=this.getLineColor(this.parameters.trend.color);N0m.textBaseline="middle";this.stx.canvasFont("stx_yaxis",N0m);T2mT.d1n(47);a1m=T2mT.L1n("20",0);L0m=this.p1[0] - this.p0[0];T0m=this.color;if(T0m == "auto" || T0O.isTransparent(T0m)){T0m=this.stx.defaultColor;}N0m.textAlign="center";T2mT.C8TT();i0m=P0m;q0m=b0m.yAxis.top;E0m=b0m.yAxis.bottom;F0m=0;v0m=this.parameters.timezone.color;if(v0m == "auto" || T0O.isTransparent(v0m)){v0m=this.color;}if(v0m == "auto" || T0O.isTransparent(v0m)){v0m=this.stx.defaultColor;}k0m=this.parameters.timezone.color;if(k0m == "auto" || T0O.isTransparent(k0m)){k0m=this.fillColor;}if(k0m == "auto" || T0O.isTransparent(k0m)){k0m=this.stx.defaultColor;}if(this.parameters.printLevels){T2mT.z1n(6);E0m-=T2mT.L1n(7,a1m);}G0m=T0O.clone(this.parameters.timezone.parameters);if(this.highlighted){G0m.opacity=1;}do {i0m=this.stx.pixelFromTick(this.p0[0] + F0m * L0m,b0m.chart);if(P0m < d0m && i0m > b0m.left + b0m.width)break;else if(P0m > d0m && i0m < b0m.left)break;if(this.parameters.printLevels){N0m.fillStyle=T0m;N0m.fillText(d0m > P0m?F0m:F0m * - +"1",i0m,E0m + 7);}N0m.fillStyle=k0m;this.stx.plotLine(i0m,i0m,0,E0m,this.highlighted?n0m:v0m,"segment",N0m,b0m,G0m);T2mT.d1n(6);N0m.globalAlpha=T2mT.L1n(0,"0.05");N0m.beginPath();N0m.moveTo(P0m,q0m);N0m.lineTo(i0m,q0m);N0m.lineTo(i0m,E0m);N0m.lineTo(P0m,E0m);N0m.fill();N0m.globalAlpha=1;T2mT.d1n(16);var K7R=T2mT.E1n(12,13);F0m=S0m[0] + S0m[K7R];S0m.unshift(F0m);}while(L0m);N0m.textAlign=P4n;this.stx.plotLine(P0m,d0m,c0m,V0m,n0m,"segment",N0m,b0m,G0m);if(this.highlighted){f4n="p";f4n+="0";D1m=this.highlighted == f4n?! ![]:![];h1m=this.highlighted == "p1"?! !1:!{};this.littleCircle(N0m,P0m,c0m,D1m);this.littleCircle(N0m,d0m,V0m,h1m);}else {O0m=this.stx.valueFromPixel(b0m.height / 2,b0m);this.setPoint(+"0",this.p0[0],O0m,b0m.chart);this.setPoint(1,this.p1["0" & 2147483647],O0m,b0m.chart);}};T0O.Drawing.fibtimezone.prototype.intersected=function(B1m,M1m,A1m){var r1m,z1m,U1m,K1m,y1m;r1m=this.p0;z1m=this.p1;U1m=this.stx.panels[this.panelName];if(!r1m || !z1m || !U1m){return null;}K1m={0:r1m,1:z1m};for(var s1m in K1m){if(this.pointIntersection(K1m[s1m][0],K1m[s1m][+"1"],A1m)){Y6AA.d1n(4);this.highlighted=Y6AA.E1n(s1m,7.98 === 3238?!1:+"200.54" > (3612,+"950.89")?0x192c:(+"1040",563) > (7970,7680)?(! !{},+"373.62"):"p");return {action:"drag",point:((780.58,7216) !== 1261?"3580" >> 1398061792 != (246.35,"8800" << 1931657792)?"p":(946.54,0x1cc):(0x14fe,!0)) + s1m};}}y1m=this.lineIntersection(B1m,M1m,A1m,"segment");if(y1m || A1m.x0 <= this.p0[0] && A1m.x1 >= r1m[0]){this.highlighted=!"";return {action:"move",p0:T0O.clone(r1m),p1:T0O.clone(z1m),tick:B1m,value:M1m};}Y6AA.C8TT();return null;};T0O.Drawing.arrow_v0=function(){this.name="arrow";Y6AA.d1n(34);this.dimension=[11,Y6AA.L1n(1,"11")];Y6AA.C8TT();this.points=[["M",3,0,450.8 < "707.03" * 1?8504 == (650.07,4091)?![]:"L":("z","O"),7,+"0","L",7,5,8355 > ("3335" >> 531300640,946.25)?"L":"g",10,5,(852.67,1310) !== 7350?"L":(8.27e+3,9.54e+3),5,10,+"462.7" >= "451.33" * 1?"L":"H",0,5,+"93.14" !== (1477,4967)?(8730,+"822.19") > 6370?(57.56,2035) >= ("3720" ^ 0,+"9232")?(2.17e+3,2.85e+3):(! !1,254.34):"L":("h",!{}),3,+"5","L",3,0]];};T0O.inheritsFrom(T0O.Drawing.arrow_v0,T0O.Drawing.shape);T0O.Drawing.xcross=function(){Y6AA.C8TT();var n4n;n4n="xcr";n4n+="oss";this.name=n4n;this.dimension=[7,7];Y6AA.d1n(0);this.points=[["M",1,0,(9690,7780) === (732,153.67)?(+"108.38",2532) < (7710,1880)?7.04e+3:(0x1315,0x66a):"L",3,2,("6102" ^ 0,1000) !== (69.74,161.09)?"L":962.82 !== ("308.6" * 1,226.64)?!"":("6.59e+3" >> 237657280,3.53e+2),+"5",0,"L",+"6",1,(372.35,6366) == (32.97,9601)?(+"378.13",6394) == (6130,781)?(+"0x239e",! !{}):"t":"L",4,+"3",(6210,725.6) === 692?(7790,2950) === (963.71,4140)?![]:(5230,9990) == 119.6?(708.82,"k"):(5.26e+3,"r"):"L",6,+"5",2720 != 3530?"L":("p",227.60),5,6,(437.03,164.39) != (451.33,859.62)?(593.64,7270) > (168.84,542.13)?"L":+"368" === 283?0x307:195.59:(909.68,128.52),3,Y6AA.E1n(2147483647,"4"),+"6709" > 6593?"L":(4.57e+3,1.65e+3),1,6,108.96 == (872.63,423)?(8770,601.52) > (662.05,3994)?(+"981.19",0x1745):("6.73e+3" << 1414288032,"d"):"L",0,5,("4930" | 514,1510) < 1720?"L":771 === (5943,94.85)?"f":2060 <= (+"702",7590)?"S":271.82,+"2",3,335.89 < (807.91,171.87)?+"5120" != 129.51?(8.11e+3,+"636.06"):948.04:"L",0,1,"L",Y6AA.E1n(2147483647,"1"),0]];;};T0O.inheritsFrom(T0O.Drawing.xcross,T0O.Drawing.shape);T0O.Drawing.check=function(){this.name="check";this.dimension=[8,9];Y6AA.z1n(0);this.points=[["M",1,5,3567 > (3770,835.95)?"L":"0x1e0a" & 2147483647,Y6AA.E1n(2147483647,"0"),6,(2200,5920) !== 3220?(503.57,4145) !== (9636,898.53)?"L":(1.46e+3,0x20ac):"k",+"2",8,(954.18,3445) > 723?"L":5850 == (7695,123)?(4.00e+3,!{}):("z",+"0x1250"),7,1,(6990,3299) == (214.61,+"8370")?(74.46,2.05e+3):"L",6,0,(1234,"4670" * 1) > (2810,7100)?+"0x6b4":"L",2,6,"L",1,5]];;};T0O.inheritsFrom(T0O.Drawing.check,T0O.Drawing.shape);T0O.Drawing.star=function(){var E2mT=Y6AA;var J3n,X3n,P3n,N4n;J3n=1559188983;X3n=1878687518;P3n=+"2";E2mT.C8TT();for(var n3n=1;E2mT.c5n(n3n.toString(),n3n.toString().length,42476) !== J3n;n3n++){this.name="L";E2mT.d1n(47);this.dimension=[87,E2mT.L1n("14",0)];E2mT.d1n(6);this.points=[[3801 != (473854,399998)?! !0:(6057,68216) === 550159?"L":(! !"1",806666),+"8",6,(66603,+"111") > "3381" * 1?(477521,6657) == (4645,9494)?"226533" - 0:(2567,9352) == (+"636863",504)?(9208148,"L"):("V","L"):"L",E2mT.E1n(0,"0"),7,("90275" - 0,"48" * 1) === 6131?(1938,9784) <= (434960,2028)?"L":(2694,"547462" ^ 0) > (54709,8309)?0x42f:("0x5d52" | 23552,+"5399727"):("766916" & 2147483647,"L"),432,9,(933614,562) === (+"450427",56)?4946 === (7957,265651)?2437 !== ("4882" ^ 0,5797)?89619:"N":(![],"9317246" - 0):(! !"1",0xb2a3),+"5",E2mT.E1n("5",478750816,E2mT.z1n(18)),763622 !== (770130,9281)?0xdf57:(273733,298121) >= 7611?(+"6493",188563) === (865436,5887)?("O",0x598b):"O":(! ![],62876),+"33",1,8575 !== 3914?6319 < 867919?3115 > (+"546250",9065)?"O":("L",3550471):"4464724" << 470933696:0x1e9,5,9,(1663,741605) >= (5406,8746)?"L":2917 > 8286?"L":(815276,487),7,68,(4018,+"496") != 343142?(473762,250):"L",612,5,("7966" * 1,+"823417") !== (900044,290)?"L":"L",E2mT.L1n(2147483647,"6",E2mT.z1n(0)),17,"O",4,E2mT.L1n("6",0,E2mT.z1n(47)),"L",E2mT.E1n(2,"3",E2mT.d1n(34)),5]];P3n+=2;}if(E2mT.c5n(P3n.toString(),P3n.toString().length,4102) !== X3n){N4n="s";N4n+="tar";this.name=N4n;this.dimension=[12,12];E2mT.d1n(6);this.points=[[2150 === (442.51,860.97)?! !{}:(8571,"165.2" * 1) != 676.23?"M":(!{},640.01),0,4,(+"15.05",249) >= 4405?(614.23,"3691" << 1159585120) === ("5110" * 1,8920)?386.43:(5931,2910) !== (560.21,"673" & 2147483647)?(3.77e+3,"p"):("I","L"):"L",4,4,(719.8,81) != 6216?(3040,7770) > (+"920.59","5785" << 1187706976)?"L":(4590,+"119.88") < (67.48,4330)?0x9f9:(0x1fe2,5.36e+3):(290.28,"O"),E2mT.E1n(0,"5.5"),0,(970.13,"483" | 130) != (261.75,61)?7244 !== (9430,880.89)?3180 == (2150,4780)?40.11:"L":(!"",7.44e+3):(! !0,+"0x2128"),7,4,"911.88" * 1 == (373.37,6130)?0x2379:(568.65,"333.04" * 1) < 7100?(8450,695.31) == (+"509.29",1630)?("N","0x2229" * 1):"L":(!{},61.86),11,4,3100 != 3800?9660 >= 274.19?"6482" << 1006540416 >= (848.99,"3280" ^ 0)?"L":("C",+"7.37e+3"):6.88e+3:0x946,8,7,(9431,"972.41" - 0) <= (3770,+"6443")?"L":5250 >= 4765?"V":(762.16,+"456"),9,11,(8460,436) == 764.03?(822.83,723):"L",5.5,9,(7788,461.11) == (273.35,379)?"O":"L",2,11,"L",+"3",+"7","L",0,4]];};};T0O.inheritsFrom(T0O.Drawing.star,T0O.Drawing.shape);T0O.Drawing.heart=function(){var D2mT=Y6AA;this.name="heart";D2mT.C8TT();this.dimension=[23,20];D2mT.z1n(1);this.points=[[282.3 > +"268.63"?"M":1030 == (124.04,9202)?"4.76e+3" - 0:(583.4,349.05) >= (2145,505.11)?"x":"d",D2mT.L1n(1,"11"),3,+"87.22" > "8080" << 1922316992?(! !"","B"):"4550" - 0 > (+"323.24",+"8680")?("j",+"3.44e+3"):"B",11,2.4,10,+"0",6,0,2610 === (5890,8713)?"B":837.12 > 495.89?(9445,499) != (9923,+"4360")?"B":(! !0,719.81):"u",D2mT.L1n("0",0,D2mT.d1n(47)),0,0,+"7.5",0,7.5,"B",0,11,D2mT.E1n(2147483647,"4",D2mT.d1n(0)),15.4,11,19,4850 == (4510,4124)?"4.83e+3" ^ 0:(217.66,6580) >= 661.72?"B":!"1",18,15.4,22,11,22,7.5,(+"3470",4780) >= 802.88?"B":(821,835.63) > (14.71,"4179" * 1)?(6.85e+2,"D"):(818.55,3026) >= ("180.37" * 1,1920)?0x258c:(+"0xd9b","U"),22,7.5,22,0,16,0,"B",13,0,11,2.4,11,3]];;};T0O.inheritsFrom(T0O.Drawing.heart,T0O.Drawing.shape);T0O.Drawing.focusarrow=function(){this.name="focusarrow";Y6AA.C8TT();this.dimension=[7,5];this.points=[[(+"8600",553) >= (304,742.63)?! !1:+"1610" > (3009,457.95)?"M":"3433" * 1 !== 3645?(! !"",!0):("c",0x20fa),0,0,"L",2,2,965.65 < 1430?"L":8975 < (+"152.13",462.17)?! !1:954.80,0,4,(741,983.93) < 4640?1970 < (4553,+"66.87")?(8.60e+3,! !{}):2787 > (3077,3940)?(6.35e+3,"I"):"L":("E",3.81e+3),0,0],[(514.22,9395) <= (210.14,758)?!{}:352.96 === (5913,1510)?2.96e+3:1496 >= 988.94?"M":"U",6,0,"L",4,2,638.93 <= 7150?"L":326.72,6,4,"L",6,0]];;};T0O.inheritsFrom(T0O.Drawing.focusarrow,T0O.Drawing.shape);T0O.Drawing.crossline=function(){this.name="crossline";};T0O.inheritsFrom(T0O.Drawing.crossline,T0O.Drawing.horizontal);T0O.extend(T0O.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(C1m,m1m){return ! !0;},adjust:function(){var X1m;X1m=this.stx.panels[this.panelName];if(!X1m){return;}this.setPoint(0,this.d0,this.v0,X1m.chart);Y6AA.C8TT();this.p1=T0O.clone(this.p0);},intersected:function(e1m,j1m,g1m){var V4n,o1m;Y6AA.V8TT();V4n="mo";V4n+="ve";if(!this.p0 || !this.p1){return null;}this.p1[0]+=+"1";o1m=this.lineIntersection(e1m,j1m,g1m,"line");this.p1=T0O.clone(this.p0);if(!o1m){this.p1[1]+=1;o1m=this.lineIntersection(e1m,j1m,g1m,"line");this.p1=T0O.clone(this.p0);if(!o1m){return null;}}this.highlighted=! !1;if(this.pointIntersection(this.p0["0" | 0],this.p0[1],g1m)){this.highlighted="p0";}return {action:V4n,p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:e1m,value:j1m};},render:function(D2m){var i2mT=Y6AA;var b1m,F1m,T1m,V1m,h2m,d1m,i1m,c1m,I2m,n1m,L1m,A2m;b1m=this.stx.panels[this.panelName];if(!b1m){return;}F1m=this.stx.pixelFromTick(this.p0[0],b1m.chart);T1m=this.stx.pixelFromValueAdjusted(b1m,this.p0[0],this.p0[1]);V1m=this.getLineColor();h2m={pattern:this.pattern,lineWidth:this.lineWidth};i2mT.d1n(4);this.stx.plotLine(F1m,i2mT.L1n(100,F1m),T1m,T1m,V1m,"horizontal",D2m,b1m,h2m);i2mT.z1n(4);this.stx.plotLine(F1m,F1m,T1m,i2mT.E1n(100,T1m),V1m,"vertical",D2m,b1m,h2m);if(this.axisLabel && !this.repositioner){this.stx.endClip();d1m=this.p0[1];if(b1m.chart.transformFunc){d1m=b1m.chart.transformFunc(this.stx,b1m.chart,d1m);}if(b1m.yAxis.priceFormatter){d1m=b1m.yAxis.priceFormatter(this.stx,b1m,d1m);}else {d1m=this.stx.formatYAxisPrice(d1m,b1m);}this.stx.createYAxisLabel(b1m,d1m,T1m,V1m);this.stx.startClip(b1m.name);if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){i1m=this.stx.dateFromTick(this.p0[0],b1m.chart,! ![]);if(!T0O.ChartEngine.isDailyInterval(this.stx.layout.interval)){i2mT.d1n(24);var E0R=i2mT.L1n(1012,7,5);I2m=i1m.getSeconds() * E0R + i1m.getMilliseconds();if(S0O.Date && this.stx.displayZone){c1m=new S0O.Date(i1m.getTime(),this.stx.displayZone);i1m=new Date(c1m.getFullYear(),c1m.getMonth(),c1m.getDate(),c1m.getHours(),c1m.getMinutes());i1m=new Date(i1m.getTime() + I2m);}}else {i2mT.d1n(6);i1m.setHours(0,0,i2mT.L1n(0,"0"),0);}n1m=T0O.mmddhhmm(T0O.yyyymmddhhmm(i1m));if(b1m.chart.xAxis.formatter){n1m=b1m.chart.xAxis.formatter(i1m,this.name,null,null,n1m);}else if(this.stx.internationalizer){if(i1m.getHours() !== 0 || i1m.getMinutes() !== "0" << 663461344){L1m=this.stx.internationalizer.monthDay.format(i1m);L1m+=" " + this.stx.internationalizer.hourMinute.format(i1m);}else {L1m=this.stx.internationalizer.yearMonthDay.format(i1m);}n1m=L1m;}this.stx.endClip();this.stx.createXAxisLabel({panel:b1m,txt:n1m,x:F1m,backgroundColor:V1m,color:null,pointed:! ![],padding:2});this.stx.startClip(b1m.name);}}if(this.highlighted){A2m=this.highlighted == "p0"?! ![]:!1;this.littleCircle(D2m,F1m,T1m,A2m);}}},!0);T0O.Drawing.speedarc=function(){var k4n;k4n="spee";k4n+="darc";this.name=k4n;this.printLevels=! !{};};T0O.inheritsFrom(T0O.Drawing.speedarc,T0O.Drawing.segment);T0O.extend(T0O.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor",h4n,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(K2m,l2m,J2m){var w2mT=Y6AA;var x2m,a2n,r2n,z2n,H2m,M2m,y2m,e2m,Q2m;if(!this.p0 || !this.p1){return null;}x2m={0:this.p0,1:this.p1};for(var t2m in x2m){if(this.pointIntersection(x2m[t2m][0],x2m[t2m][+"1"],J2m)){w2mT.d1n(4);this.highlighted=w2mT.E1n(t2m,2600 > (931,86)?(+"5992","7780" * 1) < 7444?(0xdcd,0xcc0):(+"2143",5890) > 164?"p":("s",![]):(+"1.94e+3",0x1cf0));return {action:"drag",point:(+"418" === 267.28?(!0,"E"):(2720,281.97) <= "90.61" - 0?(!{},"a"):5493 !== 2510?"p":(691.86,"r")) + t2m};}}a2n=+"872127794";r2n=-1188793333;z2n=2;for(var o2n=1;w2mT.g5n(o2n.toString(),o2n.toString().length,67717) !== a2n;o2n++){H2m=this.lineIntersection(K2m,l2m,J2m,this.name);z2n+=2;}if(w2mT.g5n(z2n.toString(),z2n.toString().length,36331) !== r2n){H2m=this.lineIntersection(K2m,l2m,J2m,this.name);}H2m=this.lineIntersection(K2m,l2m,J2m,this.name);if(H2m){this.highlighted=! !{};return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:K2m,value:l2m};}M2m=this.p1[0] - (this.p0[0] - this.p1["0" - 0]);y2m=this.p0[0];e2m=this.p1[1];w2mT.V8TT();Q2m=this.p0[1];if(K2m > Math.max(M2m,y2m) || K2m < Math.min(M2m,y2m)){return null;}if(l2m > Math.max(Q2m,e2m) || l2m < Math.min(Q2m,e2m)){return null;}this.highlighted=! !1;return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:K2m,value:l2m};},render:function(b2m){var h2mT=Y6AA;var K4n,q4n,l4n,v2m,L2m,d2m,V2m,k2m,O2m,a5m,q2m,T2m,t4n,h5m,I5m,D5m,D4n,r5m,s5m,A5m,z5m;K4n="se";K4n+="gme";K4n+="nt";q4n="st";q4n+="x_yaxis";l4n="aut";l4n+="o";v2m=this.stx.panels[this.panelName];if(!v2m){return;}if(!this.p1){return;}L2m=this.stx.pixelFromTick(this.p0[0],v2m.chart);d2m=this.stx.pixelFromTick(this.p1[0],v2m.chart);V2m=this.stx.pixelFromValueAdjusted(v2m,this.p0[0],this.p0[1]);k2m=this.stx.pixelFromValueAdjusted(v2m,this.p1[0],this.p1["1" >> 1493031168]);h2mT.d1n(67);O2m=h2mT.L1n(V2m,k2m);h2mT.d1n(68);a5m=Math.abs(h2mT.L1n(k2m,V2m,L2m,d2m));q2m=this.getLineColor();b2m.strokeStyle=q2m;T2m=this.fillColor;if(T2m == l4n || T0O.isTransparent(T2m)){T2m=this.stx.defaultColor;}b2m.fillStyle=T2m;h2mT.V8TT();if(b2m.setLineDash){b2m.setLineDash(T0O.borderPatternToArray(this.lineWidth,this.pattern));b2m.lineDashOffset=0;;}this.stx.canvasFont(q4n,b2m);for(var n2m=1;n2m < +"3";n2m++){t4n="n";t4n+="o";t4n+="n";t4n+="e";h2mT.d1n(75);var Y0R=h2mT.L1n(20,2201,11,10);h2mT.z1n(6);var S0R=h2mT.L1n(13,14);h2mT.z1n(35);var d0R=h2mT.E1n(11,17,423,14);h2mT.d1n(76);var y0R=h2mT.E1n(12,16,22,2,2);h5m=Math.abs(this.p1[Y0R] - this.p0[S0R]) * Math.sqrt(d0R) * n2m / y0R;h2mT.z1n(31);var I0R=h2mT.E1n(12,11,149,0,16);h2mT.d1n(33);var b0R=h2mT.E1n(27,13,13);h2mT.d1n(77);var U0R=h2mT.E1n(6,2,15,80,7);h2mT.z1n(6);var i0R=h2mT.L1n(6,7);I5m=this.p1[I0R] + h5m * (O2m?-("1" | 0):b0R) * (v2m.yAxis.flipped?U0R:i0R);D5m=this.stx.pixelFromValueAdjusted(v2m,this.p0[0],I5m);b2m.save();b2m.beginPath();h2mT.d1n(78);b2m.scale(h2mT.E1n(a5m,"1",1),1);h2mT.d1n(1);b2m.arc(h2mT.E1n(a5m,d2m),k2m,Math.abs(D5m - k2m),0,Math.PI,!O2m);b2m.globalAlpha=this.highlighted?+"1":this.defaultOpacity;if(this.pattern != t4n){b2m.stroke();}b2m.globalAlpha=0.1;b2m.fill();b2m.restore();b2m.globalAlpha=+"1";if(this.printLevels){D4n="/";D4n+="3";b2m.fillStyle=q2m;b2m.textAlign="center";h2mT.z1n(4);r5m=h2mT.E1n(D4n,n2m);b2m.fillText(r5m,d2m,Math.round(D5m - 5));b2m.fillStyle=T2m;}}b2m.textAlign="left";s5m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(L2m,d2m,V2m,k2m,q2m,K4n,b2m,v2m,s5m);if(b2m.setLineDash){b2m.setLineDash([]);}if(this.highlighted){A5m=this.highlighted == "p0"?!0:![];z5m=this.highlighted == "p1"?! ![]:! !"";this.littleCircle(b2m,L2m,V2m,A5m);this.littleCircle(b2m,d2m,k2m,z5m);}},reconstruct:function(W5m,K5m){this.stx=W5m;this.color=K5m.col;this.fillColor=K5m.fc;Y6AA.V8TT();this.panelName=K5m.pnl;this.pattern=K5m.ptrn;this.lineWidth=K5m.lw;this.d0=K5m.d0;this.d1=K5m.d1;this.tzo0=K5m.tzo0;this.tzo1=K5m.tzo1;this.v0=K5m.v0;this.v1=K5m.v1;this.adjust();},serialize:function(){Y6AA.C8TT();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !1);T0O.Drawing.speedline=function(){this.name="speedline";Y6AA.C8TT();this.printLevels=!0;};T0O.inheritsFrom(T0O.Drawing.speedline,T0O.Drawing.speedarc);T0O.extend(T0O.Drawing.speedline.prototype,{intersected:function(y5m,C5m,m5m){var t5m,x5m,M5m,a1h,U5m,r1h;t5m=this.p0;x5m=this.p1;if(!t5m || !x5m){return null;}M5m={0:t5m,1:x5m};for(var B5m in M5m){if(this.pointIntersection(M5m[B5m][0],M5m[B5m][1],m5m)){a1h="d";a1h+="r";a1h+="ag";Y6AA.z1n(4);this.highlighted=Y6AA.E1n(B5m,"p");return {action:a1h,point:"p" + B5m};}}U5m=this.rays;for(var l5m=0;l5m < U5m.length;l5m++){r1h="r";r1h+="a";r1h+="y";if(this.lineIntersection(y5m,C5m,m5m,r1h,U5m[l5m][+"0"],U5m[l5m][1],! !1)){this.highlighted=! !"1";return {action:"move",p0:T0O.clone(t5m),p1:T0O.clone(x5m),tick:y5m,value:C5m};}}return null;},render:function(R5m){var J3mT=Y6AA;var j1h,E1h,z1h,w5m,X5m,o5m,Y5m,p5m,v5m,j5m,u5m,k5m,d5m,E5m,P5m,i5m,e5m,Z1h,Q5m,g5m,H5m,Z5m,f5m,N5m,b5m,o1h,F5m,T5m;j1h="m";j1h+="iddle";E1h="2/";E1h+="3";z1h="a";z1h+="u";z1h+="t";z1h+="o";w5m=this.stx.panels[this.panelName];if(!w5m){return;}if(!this.p1){return;}X5m=this.stx.pixelFromTick(this.p0[0],w5m.chart);o5m=this.stx.pixelFromTick(this.p1[0],w5m.chart);Y5m=this.stx.pixelFromValueAdjusted(w5m,this.p0[0],this.p0[1]);p5m=this.stx.pixelFromValueAdjusted(w5m,this.p1[0],this.p1["1" ^ 0]);this.stx.canvasFont("stx_yaxis",R5m);v5m=this.getLineColor();j5m=this.color;if(j5m == "auto" || T0O.isTransparent(j5m)){j5m=this.stx.defaultColor;}R5m.strokeStyle=j5m;u5m=this.fillColor;if(u5m == z1h || T0O.isTransparent(u5m)){u5m=this.stx.defaultColor;}R5m.fillStyle=u5m;k5m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" * 1:this.defaultOpacity};P5m=["1",E1h,"1/3","3/2","3"];J3mT.z1n(79);i5m=[1,J3mT.E1n("2",3),J3mT.L1n("3",1,0,J3mT.d1n(80)),J3mT.L1n(2,3,J3mT.d1n(12)),3];e5m=[];this.rays=[];for(var J5m=0;J5m < i5m.length;J5m++){Z1h="se";Z1h+="g";Z1h+="ment";Q5m=i5m[J5m];if(Q5m > 1 && !this.extension)continue;g5m=this.stx.pixelFromValueAdjusted(w5m,this.p0[+"0"],this.p0[1] - (this.p0[1] - this.p1[1]) * Q5m);if(Q5m > +"1"){H5m=T0O.xIntersection({x0:X5m,x1:o5m,y0:Y5m,y1:g5m},p5m);e5m.push(H5m);}else {H5m=T0O.xIntersection({x0:o5m,x1:o5m,y0:Y5m,y1:p5m},g5m);e5m.push(g5m);}Z5m=Q5m > 1?H5m:o5m;f5m=Q5m > 1?p5m:g5m;if(!this.confineToGrid){Z5m=w5m.left;if(o5m > X5m){Z5m+=w5m.width;}J3mT.z1n(72);f5m=J3mT.L1n(Z5m,Y5m,Y5m,g5m,X5m,o5m,X5m);}if(this.printLevels){if(Q5m != 1 || this.extension){R5m.fillStyle=j5m;N5m=0;b5m=0;if(Y5m > p5m){b5m=- +"5";R5m.textBaseline="bottom";}else {b5m=5;R5m.textBaseline="top";}if(X5m > o5m){o1h="ri";o1h+="g";o1h+="h";o1h+="t";N5m=5;R5m.textAlign=o1h;}else {N5m=-5;R5m.textAlign="left";}if(Q5m > +"1"){R5m.fillText(P5m[J5m],H5m + (this.confineToGrid?"0" * 1:N5m),p5m);}else {R5m.fillText(P5m[J5m],o5m,g5m + (this.confineToGrid?0:b5m));}R5m.fillStyle=u5m;}}this.stx.plotLine(X5m,Z5m,Y5m,f5m,this.highlighted?v5m:j5m,Z1h,R5m,w5m,k5m);if(Q5m == 1){d5m=Z5m;E5m=f5m;}this.rays.push([[X5m,Y5m],[Z5m,f5m]]);R5m.globalAlpha=0.1;R5m.beginPath();R5m.moveTo(Z5m,f5m);R5m.lineTo(X5m,Y5m);R5m.lineTo(d5m,E5m);R5m.fill();R5m.globalAlpha=1;}R5m.textAlign="left";R5m.textBaseline=j1h;if(this.confineToGrid){R5m.globalAlpha=0.3;R5m.beginPath();J3mT.d1n(6);R5m.strokeRect(X5m,Y5m,J3mT.E1n(X5m,o5m),J3mT.E1n(Y5m,p5m));R5m.moveTo(X5m,e5m[+"1"]);R5m.lineTo(o5m,e5m[1]);R5m.moveTo(X5m,e5m[2]);R5m.lineTo(o5m,e5m[2]);if(this.extension){R5m.moveTo(e5m[3],Y5m);R5m.lineTo(e5m[3],p5m);R5m.moveTo(e5m[4],Y5m);R5m.lineTo(e5m[4],p5m);}R5m.stroke();R5m.globalAlpha=1;}if(this.highlighted){F5m=this.highlighted == "p0"?! ![]:! !"";T5m=this.highlighted == "p1"?! !{}:!{};this.littleCircle(R5m,X5m,Y5m,F5m);this.littleCircle(R5m,o5m,p5m,T5m);}}},! ![]);T0O.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !{};};T0O.inheritsFrom(T0O.Drawing.gannfan,T0O.Drawing.speedline);T0O.extend(T0O.Drawing.gannfan.prototype,{render:function(S5m){var u3mT=Y6AA;var L1h,p1h,V5m,G5m,n5m,c5m,r9m,m9m,L5m,a9m,R9m,X9m,Y9m,U9m,q5m,w9m,C9m,O5m,s9m,W9m,B9m,T1h,Y1h,S1h,p9m,Z9m;L1h="lef";L1h+="t";p1h="st";p1h+="x_ya";p1h+="xis";V5m=this.stx.panels[this.panelName];if(!V5m){return;}if(!this.p1){return;}G5m=this.stx.pixelFromTick(this.p0[0],V5m.chart);n5m=this.stx.pixelFromTick(this.p1[0],V5m.chart);c5m=this.stx.pixelFromValueAdjusted(V5m,this.p0[0],this.p0[1]);r9m=this.stx.pixelFromValueAdjusted(V5m,this.p1[0],this.p1[+"1"]);this.stx.canvasFont(p1h,S5m);m9m=this.getLineColor();L5m=this.color;if(L5m == "auto" || T0O.isTransparent(L5m)){L5m=this.stx.defaultColor;}S5m.strokeStyle=L5m;a9m=this.fillColor;if(a9m == "auto" || T0O.isTransparent(a9m)){a9m=this.stx.defaultColor;}S5m.fillStyle=a9m;R9m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};u3mT.z1n(47);U9m=[1,2,3,4,u3mT.L1n("8",0),u3mT.L1n(2,1,u3mT.d1n(12)),u3mT.L1n(0,"3",1,u3mT.z1n(81)),u3mT.E1n(4,1,u3mT.z1n(12)),u3mT.L1n("1",8,u3mT.d1n(79))];this.rays=[];for(var z9m=+"0";z9m < U9m.length;z9m++){q5m=U9m[z9m];u3mT.d1n(82);w9m=u3mT.L1n(G5m,n5m,G5m,q5m);u3mT.d1n(83);C9m=u3mT.E1n(c5m,c5m,r9m,q5m);O5m=V5m.left;if(n5m > G5m){O5m+=V5m.width;}u3mT.z1n(72);s9m=u3mT.E1n(O5m,c5m,c5m,C9m,G5m,n5m,G5m);if(this.printLevels){S5m.fillStyle=L5m;W9m=0;B9m=0;if(c5m > r9m){B9m=+"5";S5m.textBaseline="top";}else {B9m=-5;S5m.textBaseline="bottom";}if(G5m > n5m){T1h="le";T1h+="ft";W9m=5;S5m.textAlign=T1h;}else {Y1h="ri";Y1h+="g";Y1h+="h";Y1h+="t";W9m=-5;S5m.textAlign=Y1h;}if(q5m > 1){u3mT.d1n(4);S5m.fillText(u3mT.L1n("x1",q5m),u3mT.L1n(W9m,w9m),r9m);}else {u3mT.z1n(84);S5m.fillText(u3mT.L1n(q5m,"1","1x"),n5m,u3mT.L1n(B9m,C9m,u3mT.d1n(4)));}S5m.fillStyle=a9m;}this.stx.plotLine(G5m,O5m,c5m,s9m,this.highlighted?m9m:L5m,"segment",S5m,V5m,R9m);this.rays.push([[G5m,c5m],[O5m,s9m]]);if(q5m == +"1"){X9m=O5m;Y9m=s9m;}S5m.globalAlpha=0.1;S5m.beginPath();S5m.moveTo(O5m,s9m);S5m.lineTo(G5m,c5m);S5m.lineTo(X9m,Y9m);S5m.fill();S5m.globalAlpha=1;}S5m.textAlign=L1h;S5m.textBaseline="middle";if(this.highlighted){S1h="p";S1h+="0";p9m=this.highlighted == S1h?!"":![];Z9m=this.highlighted == "p1"?!"":![];this.littleCircle(S5m,G5m,c5m,p9m);this.littleCircle(S5m,n5m,r9m,Z9m);}}},! ![]);T0O.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=! ![];};T0O.inheritsFrom(T0O.Drawing.timecycle,T0O.Drawing.speedarc);T0O.extend(T0O.Drawing.timecycle.prototype,{intersected:function(P9m,i9m,u9m){var y1h,j9m,f9m,E9m,N9m,d1h,F9m,F1h;y1h="segm";y1h+="e";y1h+="nt";j9m=this.p0;f9m=this.p1;E9m=this.stx.panels[this.panelName];if(!j9m || !f9m || !E9m){return null;}N9m={0:j9m,1:f9m};for(var g9m in N9m){if(this.pointIntersection(N9m[g9m][0],N9m[g9m][1],u9m)){d1h="d";d1h+="r";d1h+="a";d1h+="g";Y6AA.d1n(4);this.highlighted=Y6AA.L1n(g9m,249 >= 1740?(890.16,995.08) == (805.68,665.66)?9.08e+3:! !0:"p");return {action:d1h,point:"p" + g9m};}}F9m=this.lineIntersection(P9m,i9m,u9m,y1h);if(F9m || u9m.x0 <= this.p0[0] && u9m.x1 >= j9m[0]){F1h="mov";F1h+="e";this.highlighted=! !1;return {action:F1h,p0:T0O.clone(j9m),p1:T0O.clone(f9m),tick:P9m,value:i9m};}return null;},render:function(S9m){var c3mT=Y6AA;var g1h,c1h,G9m,a0M,s0M,W0M,B0M,z0M,l0M,y0M,t0M,c9m,x0M,I0M,r0M,A0M,M0M,D0M,K0M,M1h,C0M,O1h,m0M,R0M,U0M;g1h="stx_";g1h+="y";g1h+="ax";g1h+="is";c1h="m";c1h+="i";c1h+="dd";c1h+="le";G9m=this.stx.panels[this.panelName];if(!G9m){return;}if(!this.p1){return;}a0M=this.stx.pixelFromTick(this.p0[0],G9m.chart);s0M=this.stx.pixelFromTick(this.p1[0],G9m.chart);W0M=this.stx.pixelFromValueAdjusted(G9m,this.p0[0],this.p0[1]);B0M=this.stx.pixelFromValueAdjusted(G9m,this.p1[0],this.p1[+"1"]);z0M=0;l0M=this.getLineColor();S9m.textBaseline=c1h;this.stx.canvasFont(g1h,S9m);y0M=20;c3mT.d1n(85);var s0R=c3mT.L1n(1484968335,1484968252,19,5642879673,20);t0M=this.p1["0" << s0R] - this.p0[0];S9m.textAlign="center";c9m=a0M;x0M=G9m.yAxis.top;I0M=G9m.yAxis.bottom;r0M=this.color;if(r0M == "auto" || T0O.isTransparent(r0M)){r0M=this.stx.defaultColor;}A0M=this.fillColor;if(A0M == "auto" || T0O.isTransparent(A0M)){A0M=this.stx.defaultColor;}if(this.printLevels){c3mT.d1n(20);I0M-=c3mT.E1n("7",y0M);}M0M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};D0M=[];S9m.save();S9m.fillStyle=A0M;S9m.globalAlpha=0.05;do {c9m=this.stx.pixelFromTick(this.p0[0] + z0M * t0M,G9m.chart);z0M++;if(a0M < s0M && c9m > G9m.left + G9m.width)break;else if(a0M > s0M && c9m < G9m.left)break;else if(c9m < G9m.left || c9m > G9m.left + G9m.width)continue;S9m.beginPath();S9m.moveTo(a0M,x0M);S9m.lineTo(c9m,x0M);S9m.lineTo(c9m,I0M);S9m.lineTo(a0M,I0M);S9m.fill();D0M.push({c:z0M,x:c9m});}while(t0M);c3mT.d1n(34);S9m.globalAlpha=c3mT.L1n(1,"1");K0M=0;for(var h0M=0;h0M < D0M.length;h0M++){M1h="seg";M1h+="ment";this.stx.plotLine(D0M[h0M].x,D0M[h0M].x,0,I0M,this.highlighted?l0M:r0M,M1h,S9m,G9m,M0M);if(this.printLevels){S9m.fillStyle=r0M;c3mT.z1n(6);var x0R=c3mT.L1n(12,15);C0M=this.stx.chart.context.measureText(D0M[h0M].c).width + x0R;if(C0M < this.stx.layout.candleWidth + K0M){S9m.fillText(D0M[h0M].c,D0M[h0M].x,I0M + +"7");K0M=0;}else {K0M+=this.stx.layout.candleWidth;}}}S9m.restore();S9m.textAlign="left";this.stx.plotLine(a0M,s0M,W0M,B0M,l0M,"segment",S9m,G9m,M0M);if(this.highlighted){O1h="p";O1h+="0";m0M=this.highlighted == O1h?! !{}:!{};R0M=this.highlighted == "p1"?! !{}:!{};this.littleCircle(S9m,a0M,W0M,m0M);this.littleCircle(S9m,s0M,B0M,R0M);}else {U0M=this.stx.valueFromPixel(G9m.height / 2,G9m);this.setPoint(0,this.p0["0" | 0],U0M,G9m.chart);this.setPoint(1,this.p1[0],U0M,G9m.chart);}}},! !{});T0O.Drawing.regression=function(){var I1h;I1h="regre";Y6AA.C8TT();I1h+="ssion";this.name=I1h;};T0O.inheritsFrom(T0O.Drawing.regression,T0O.Drawing.segment);T0O.extend(T0O.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1",m1h,b1h,"active2","color2",Q1h,"pattern2",w1h,A1h,"lineWidth3","pattern3"],copyConfig:function(Y0M){var X0M;T0O.Drawing.copyConfig(this,Y0M);X0M=this.stx.currentVectorParameters;this.active1=! !X0M.active1;this.active2=! !X0M.active2;this.active3=! !X0M.active3;this.color1=X0M.color1 || "auto";this.color2=X0M.color2 || "auto";this.color3=X0M.color3 || "auto";this.lineWidth1=X0M.lineWidth1;this.lineWidth2=X0M.lineWidth2;this.lineWidth3=X0M.lineWidth3;this.pattern1=X0M.pattern1;Y6AA.V8TT();this.pattern2=X0M.pattern2;this.pattern3=X0M.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(u0M,w0M,p0M){var e0M,o0M,Q0M,Z0M;Y6AA.V8TT();if(w0M < 0){return;}this.copyConfig();e0M=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,w0M,p0M,e0M.chart);this.penDown=! !"1";o0M=this.stx;this.field=o0M.highlightedDataSetField;if(!this.field && e0M != o0M.chart.panel){for(var j0M in o0M.chart.seriesRenderers){Q0M=o0M.chart.seriesRenderers[j0M];if(Q0M.params.panel == e0M.name){this.field=Q0M.seriesParams[+"0"].field;break;}}for(var g0M in o0M.layout.studies){Z0M=o0M.layout.studies[g0M];if(Z0M.panel == e0M.name){this.field=Object.keys(Z0M.outputMap)[0];break;}}}return !"1";}if(this.accidentalClick(w0M,p0M)){return this.dragToDraw;}this.setPoint(1,w0M,p0M,e0M.chart);this.penDown=!{};return ! !{};;},getYValue:function(i0M){var N3mT=Y6AA;var U1h,H0M,N0M,b0M,v0M,f0M,J0M,P0M,T3n,Y3n,L3n;U1h="Cl";U1h+="ose";H0M=this.stx.chart.dataSet[i0M];N0M=this.stx.chart.dataSet[i0M];if(!H0M){return null;}N3mT.V8TT();b0M=this.stx.panels[this.panelName];v0M=this.stx.getYAxisByField(b0M,this.field) || b0M.yAxis;if(this.stx.charts[b0M.name] && b0M.chart.transformFunc && v0M == b0M.yAxis){N0M=H0M.transform;}if(!N0M){return null;}f0M=null;J0M=null;P0M=this.stx.defaultPlotField || U1h;if(this.field){J0M=T0O.existsInObjectChain(N0M,this.field);if(!J0M){return null;}f0M=J0M=J0M.obj[J0M.member];if(H0M != N0M){f0M=T0O.existsInObjectChain(H0M,this.field);f0M=f0M.obj[f0M.member];}if(typeof J0M == "object"){J0M=J0M[P0M];f0M=f0M[P0M];}}else {J0M=N0M[P0M];f0M=H0M[P0M];}T3n=571569892;N3mT.z1n(0);Y3n=-N3mT.L1n(2147483647,"1681419659");L3n=2;for(var d3n="1" << 75217376;N3mT.g5n(d3n.toString(),d3n.toString().length,"85707" ^ 0) !== T3n;d3n++){return {transformed:J0M,untransformed:f0M};}if(N3mT.c5n(L3n.toString(),L3n.toString().length,12582) !== Y3n){return {transformed:J0M,untransformed:f0M};}},render:function(c0M){var A3mT=Y6AA;var d0M,F0M,T0M,r1M,V0M,s1M,n0M,O0M,l1M,t1M,x1M,M1M,a1M,A1M,k0M,S0M,U1M,y1M,D1M,h1M,C1M,I1M,z1M,K1M,q3n,t3n,D3n,L0M,q0M,W1M,B1M,R1M,m1M,X1M,G0M,Y1M,o1M;d0M=this.stx.panels[this.panelName];if(!d0M){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}F0M=this.stx.pixelFromTick(this.p0[0],d0M.chart);T0M=this.stx.pixelFromTick(this.p1[0],d0M.chart);if(F0M < d0M.left && T0M < d0M.left){return;}if(F0M > d0M.right && T0M > d0M.right){return;}r1M=this.stx.getYAxisByField(d0M,this.field);V0M=[];s1M=[];A3mT.z1n(1);n0M=A3mT.E1n(1,"0");O0M=0;l1M=0;t1M=0;x1M=Math.min(this.p1[0],this.p0[0]);A3mT.z1n(5);var B0R=A3mT.E1n(6,6,1);M1M=Math.max(this.p1[0],this.p0[0]) + B0R;A3mT.z1n(6);a1M=A3mT.L1n(x1M,M1M);for(var E0M=x1M;E0M < M1M;E0M++){A1M=this.getYValue(E0M);if(A1M){V0M.push(A1M.transformed);s1M.push(A1M.untransformed);}}k0M=V0M.length;A3mT.z1n(86);S0M=A3mT.L1n(1,k0M,k0M,2);A3mT.z1n(1);U1M=Math.pow(S0M,A3mT.L1n(1,"2"));A3mT.z1n(87);y1M=A3mT.E1n(k0M,2,S0M,3,1);for(E0M=0;E0M < k0M;E0M++){l1M+=k0M * V0M[E0M] - n0M;n0M+=V0M[E0M];t1M+=k0M * s1M[E0M] - O0M;O0M+=s1M[E0M];}A3mT.d1n(88);D1M=A3mT.E1n(y1M,U1M,l1M,n0M,S0M,k0M,k0M);A3mT.z1n(89);h1M=A3mT.L1n(D1M,k0M,n0M,S0M);A3mT.d1n(88);C1M=A3mT.E1n(y1M,U1M,t1M,O0M,S0M,k0M,k0M);A3mT.z1n(89);I1M=A3mT.L1n(D1M,k0M,O0M,S0M);if(this.p0[0] < this.p1["0" >> 1291967456]){z1M=h1M;A3mT.z1n(90);K1M=A3mT.E1n(a1M,D1M,h1M);this.p0[1]=I1M;A3mT.d1n(90);this.p1[1]=A3mT.L1n(a1M,C1M,I1M);}else {q3n=- +"2074173973";t3n=-1469495439;A3mT.z1n(34);D3n=A3mT.L1n(0,"2");for(var a7n=1;A3mT.c5n(a7n.toString(),a7n.toString().length,74202) !== q3n;a7n++){A3mT.d1n(90);z1M=A3mT.E1n(a1M,D1M,h1M);D3n+=2;}if(A3mT.c5n(D3n.toString(),D3n.toString().length,+"78995") !== t3n){A3mT.d1n(8);z1M=A3mT.E1n(a1M,h1M,D1M);}K1M=h1M;A3mT.z1n(90);this.p0[1]=A3mT.E1n(a1M,C1M,I1M);A3mT.d1n(34);this.p1[A3mT.L1n(0,"1")]=I1M;}L0M=this.stx.pixelFromTransformedValue(z1M,d0M,r1M);q0M=this.stx.pixelFromTransformedValue(K1M,d0M,r1M);W1M=this.getLineColor();B1M={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(F0M,T0M,L0M,q0M,W1M,"segment",c0M,d0M,B1M);A3mT.z1n(6);this.stx.plotLine(F0M,F0M,A3mT.L1n(20,L0M),A3mT.E1n(L0M,"20",A3mT.z1n(54)),W1M,"segment",c0M,d0M,B1M);A3mT.z1n(6);this.stx.plotLine(T0M,T0M,A3mT.E1n(20,q0M),A3mT.L1n(20,q0M,A3mT.z1n(4)),W1M,"segment",c0M,d0M,B1M);if(this.active1 || this.active2 || this.active3){A3mT.d1n(12);R1M=A3mT.L1n(k0M,n0M);m1M=0;for(E0M="0" ^ 0;E0M < k0M;E0M++){m1M+=Math.pow(V0M[E0M] - R1M,2);}A3mT.z1n(12);X1M=Math.sqrt(A3mT.E1n(k0M,m1M));G0M={context:c0M,panel:d0M,points:{0:{x:F0M,v:z1M},1:{x:T0M,v:K1M}},stddev:X1M,yAxis:r1M};this.lines={};if(this.active1){this.renderStddev("1",+"2870" == (2520,5790)?(642.15,0x4fc):"p",G0M);this.renderStddev("635.08" - 0 > 7300?(0x304,![]):"1",6470 != (5884,+"9210")?(217.93,8760) != 2400?"n":"P":"Z",G0M);}if(this.active2){this.renderStddev("2","p",G0M);this.renderStddev((4076,"3422" * 1) != 903.15?(3974,6146) > 4572?"2":6844 != 445.75?105.25:(990.85,!0):(![],0x1747),"n",G0M);}if(this.active3){this.renderStddev((163.67,"809" & 2147483647) != 1130?"3":"0x15d4" << 2044682208,(+"9110",2080) < (3650,1580)?!"1":133.84 < (708,1380)?"p":(4893,49.14) === (8030,358.03)?125.25:7.77e+3,G0M);this.renderStddev(207.06 == (+"725.76",7525)?56.11:"3",(416.7,+"832") == (730.62,3860)?!1:"n",G0M);}}if(!this.highlighted){this.pixelX=[F0M,T0M];this.pixelY=[L0M,q0M];}else {Y1M=this.highlighted == "p0"?!0:!"1";o1M=this.highlighted == "p1"?! !"1":![];this.littleCircle(c0M,F0M,L0M,Y1M);this.littleCircle(c0M,T0M,q0M,o1M);}},renderStddev:function(g1M,k1M,u1M){var y3mT=Y6AA;var i1h,W1h,b1M,d1M,E1M,F1M,J1M,P1M,i1M,H1M,N1M,Q1M,w1M,f1M,e1M,p1M,Z1M,j1M,T1M,S1M,v1M,G1M;i1h="m";i1h+="id";i1h+="dl";i1h+="e";W1h="seg";W1h+="ment";y3mT.d1n(91);b1M=y3mT.L1n(k1M,g1M,"stddev");y3mT.d1n(4);d1M=y3mT.E1n(g1M,"color");y3mT.z1n(4);E1M=y3mT.L1n(g1M,"pattern");y3mT.d1n(4);F1M=y3mT.E1n(g1M,"lineWidth");J1M=u1M.points;P1M=J1M[0].v;i1M=J1M[1].v;H1M=u1M.stddev;N1M=k1M === (6640 != ("6063" ^ 0,"44" * 1)?"n":658.44)?g1M * -1:g1M * 1;Q1M=this.stx;w1M=u1M.panel;f1M=u1M.yAxis;e1M={name:b1M,color:this.getLineColor(this[d1M]),type:W1h,y0:Q1M.pixelFromTransformedValue(P1M + H1M * N1M,w1M,f1M),y1:Q1M.pixelFromTransformedValue(i1M + H1M * N1M,w1M,f1M),params:{pattern:this[E1M],lineWidth:this[F1M]}};if(this.lines){this.lines[b1M]=e1M;}p1M=u1M.context;Z1M=J1M[0].x;j1M=J1M[1].x;Q1M.plotLine(Z1M,j1M,e1M.y0,e1M.y1,e1M.color,e1M.type,p1M,w1M,e1M.params);Q1M.plotLine(Z1M,Z1M,e1M.y0 - +"10",e1M.y0 + 10,e1M.color,e1M.type,p1M,w1M,e1M.params);Q1M.plotLine(j1M,j1M,e1M.y1 - 10,e1M.y1 + 10,e1M.color,e1M.type,p1M,w1M,e1M.params);y3mT.z1n(4);T1M=y3mT.L1n((+"9910",+"697.96") < ("7677" | 2525,+"252.94")?! !"1":("1700" & 2147483647) != 896?"\u03c3":"4.20e+3" >> 146497728,g1M);y3mT.z1n(92);var H0R=y3mT.L1n(17,187,10,14,8);S1M=Math.max(Z1M,j1M) + H0R;v1M=Z1M < j1M?e1M.y1:e1M.y0;p1M.fillStyle=e1M.color;p1M.save();p1M.textBaseline=i1h;p1M.fillText(T1M,S1M,v1M);p1M.restore();if(u1M.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(Z1M >= w1M.chart.left && Z1M <= w1M.chart.right || j1M >= w1M.chart.left && j1M <= w1M.chart.right){y3mT.d1n(26);G1M=y3mT.L1n(N1M,Z1M < j1M?i1M:P1M,H1M);Q1M.endClip();Q1M.createYAxisLabel(w1M,u1M.formatPrice(G1M,f1M),v1M,e1M.color,null,p1M,f1M);Q1M.startClip(w1M.name);}}},intersected:function(n1M,L1M,h2M){var q1M,O1M,a2M,I2M,r2M,D2M,V1M;if(!this.pixelX || !this.pixelY){return null;}q1M=this.repositionIntersection(n1M,L1M);Y6AA.V8TT();if(q1M){return q1M;}O1M={0:this.pixelX,1:this.pixelY};for(var c1M=0;c1M < 2;c1M++){if(this.pointIntersection(O1M[0][c1M],O1M[1][c1M],h2M,! ![])){Y6AA.d1n(4);this.highlighted=Y6AA.L1n(c1M,(6803,3110) !== 5724?"p":(+"0x55","8.68e+3" << 890247968));return {action:"drag",point:"p" + c1M};}}a2M=this;I2M=this.pixelX[0];r2M=this.pixelX[1];D2M=function(A2M){var z2M,K2M;z2M=[I2M,A2M.y0];K2M=[r2M,A2M.y1];return a2M.lineIntersection(n1M,L1M,h2M,a2M.name,z2M,K2M,! ![]);};V1M=D2M({y0:this.pixelY["0" >> 381353248],y1:this.pixelY[1]});if(!V1M && this.lines){for(var s2M in this.lines){if(D2M(this.lines[s2M])){V1M=! ![];break;}}}if(V1M){this.highlighted=!0;return {action:"move",p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:n1M,value:L1M};}return null;},repositionIntersection:function(W2M,B2M){var v1h;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !"1"){v1h="m";v1h+="o";v1h+="ve";return {action:v1h,p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:W2M,value:B2M};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(R2M,X2M,y2M,C2M,t2M,x2M,m2M){var U2M,l2M,M2M;if(!m2M){Y6AA.d1n(4);console.log(Y6AA.L1n(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",C2M));return ![];}if(!t2M){t2M=this.p0;}if(!x2M){x2M=this.p1;}if(!(t2M && x2M)){return !"1";}U2M=this.stx;l2M=T0O.convertBoxToPixels(U2M,this.panelName,y2M);if(l2M.x0 === undefined){return !{};}M2M={x0:t2M["0" ^ 0],x1:x2M[0],y0:t2M[1],y1:x2M[1]};return T0O.boxIntersects(l2M.x0,l2M.y0,l2M.x1,l2M.y1,M2M.x0,M2M.y0,M2M.x1,M2M.y1);},boxIntersection:function(o2M,e2M,Y2M){if(Y2M.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || Y2M.cx1 < Math.min(this.pixelX[+"0"],this.pixelX[1])){return !1;}if(!this.stx.repositioningDrawing && (Y2M.cy1 < this.pixelY[0] || Y2M.cy0 > this.pixelY[1])){return !1;}return !"";},reconstruct:function(p2M,w2M){this.stx=p2M;Y6AA.C8TT();this.color=w2M.col;this.color1=w2M.col1;this.color2=w2M.col2;this.color3=w2M.col3;this.active1=w2M.dev1;this.active2=w2M.dev2;this.active3=w2M.dev3;this.panelName=w2M.pnl;this.pattern=w2M.ptrn;this.pattern1=w2M.ptrn1;this.pattern2=w2M.ptrn2;this.pattern3=w2M.ptrn3;this.lineWidth=w2M.lw;this.lineWidth1=w2M.lw1;this.lineWidth2=w2M.lw2;this.lineWidth3=w2M.lw3;this.d0=w2M.d0;this.d1=w2M.d1;this.tzo0=w2M.tzo0;this.tzo1=w2M.tzo1;this.field=w2M.fld;this.adjust();},serialize:function(){Y6AA.C8TT();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);T0O.Drawing.trendline=function(){this.name="trendline";};T0O.inheritsFrom(T0O.Drawing.trendline,T0O.Drawing.segment);T0O.Drawing.trendline.prototype.configs=["color","fillColor",C1h,s1h,x1h];T0O.Drawing.trendline.prototype.measure=function(){;};T0O.Drawing.trendline.prototype.reconstruct=function(Q2M,Z2M){T0O.Drawing.segment.prototype.reconstruct.call(this,Q2M,Z2M);this.callout=new T0O.Drawing.callout();this.callout.reconstruct(Q2M,Z2M.callout);};T0O.Drawing.trendline.prototype.serialize=function(){var j2M;Y6AA.C8TT();j2M=T0O.Drawing.segment.prototype.serialize.call(this);j2M.callout=this.callout.serialize();return j2M;};T0O.Drawing.trendline.prototype.render=function(b2M){var o3mT=Y6AA;var H1h,B1h,g2M,F2M,f2M,H2M,u2M,J2M,P2M,N2M,i2M,T2M,v2M,S2M,G2M,k2M,d2M,E2M,c2M,V2M,u1h,n2M,L2M;H1h=" ";H1h+="B";H1h+="a";H1h+="rs";B1h=" ";B1h+="(";g2M=this.stx.panels[this.panelName];if(!g2M){return;}T0O.Drawing.segment.prototype.render.call(this,b2M);if(!this.callout){this.callout=new T0O.Drawing.callout();F2M=T0O.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,F2M);}this.callout.p0=T0O.clone(this.p0);f2M=this.stx.pixelFromTick(this.p0[0],g2M.chart);H2M=this.stx.pixelFromTick(this.p1[0],g2M.chart);u2M=this.stx.pixelFromValueAdjusted(g2M,this.p0[0],this.p0[1]);J2M=this.stx.pixelFromValueAdjusted(g2M,this.p1["0" - 0],this.p1[1]);if(!isFinite(u2M) || !isFinite(J2M)){return;}o3mT.z1n(8);P2M=o3mT.L1n(H2M,2,f2M);o3mT.d1n(93);N2M=o3mT.L1n(1921301632,J2M,"2",u2M);this.fontSize=T0O.stripPX(this.font && this.font.size || 13);o3mT.d1n(92);var u0R=o3mT.E1n(11,301453,28040,3,20);o3mT.d1n(40);var G0R=o3mT.L1n(69680,16,15,1039832,8);o3mT.z1n(94);var J0R=o3mT.E1n(1237,14,18,8659,8539);o3mT.z1n(4);var f0R=o3mT.L1n(40,10);i2M=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (421.58 == 469.25?(+"814.08",688.91):(u0R,910.28) == 600.91?(G0R,66.98) === (+"2462",J0R)?"s":+"0x18dd":"c")?0:f0R);T2M=Math.sqrt(Math.pow(H2M - f2M,2) + Math.pow(J2M - u2M,+"2"));o3mT.z1n(95);var V0R=o3mT.E1n(7,5,2,15);o3mT.z1n(96);var k0R=o3mT.L1n(15,18,2);o3mT.z1n(28);var D0R=o3mT.L1n(4,2,6);v2M=i2M / (T2M || i2M) * (this.p1[V0R] < this.p0[k0R]?D0R:- +"1");o3mT.z1n(97);S2M=o3mT.L1n(v2M,N2M,J2M,P2M);o3mT.z1n(44);G2M=o3mT.E1n(N2M,P2M,H2M,v2M);this.callout.p0[+"0"]=this.stx.tickFromPixel(S2M,g2M.chart);this.callout.p0[1]=this.stx.priceFromPixel(G2M,g2M);this.callout.v0=this.callout.p0[1];this.callout.p1=T0O.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !1;o3mT.d1n(98);var K0R=o3mT.E1n(8,181,19,10,0);o3mT.V8TT();k2M=this.p1[1] - this.p0[K0R];o3mT.d1n(65);var a6R=o3mT.E1n(10,0,7,3,8);o3mT.d1n(35);var r6R=o3mT.E1n(5213987040,9,45187887770,10);o3mT.z1n(99);var z6R=o3mT.E1n(19,19,4,4,1);this.callout.text="" + Number(k2M).toFixed(a6R) + (this.p0["1" << r6R] === 0?"":B1h + Number(100 * k2M / this.p0[1]).toFixed(z6R) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + H1h;d2M=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0["0" - 0] - this.p1[0]) > "1" - 0 && Math.abs(this.p0[0] - this.p1[0]) < 20){c2M=this.stx.pixelFromTick(d2M,g2M.chart);o3mT.d1n(100);V2M=o3mT.L1n(c2M,f2M,f2M,u2M,u2M,H2M,J2M);E2M=this.stx.priceFromPixel(V2M,g2M) || N2M;}else {E2M=this.stx.priceFromPixel(N2M,g2M);}this.callout.stem={t:d2M,v:E2M};this.callout.renderText();this.callout.render(b2M);if(this.highlighted){u1h="p";u1h+="0";n2M=this.highlighted == u1h?!0:!{};L2M=this.highlighted == "p1"?! !1:! !0;this.littleCircle(b2M,f2M,u2M,n2M);this.littleCircle(b2M,H2M,J2M,L2M);}};T0O.Drawing.trendline.prototype.lineIntersection=function(q2M,O2M,a3M,D3M){var e1h;e1h="se";e1h+="gme";e1h+="nt";Y6AA.C8TT();return T0O.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,q2M,O2M,a3M,e1h);};T0O.Drawing.trendline.prototype.intersected=function(A3M,z3M,W3M){var K3M,s3M,G1h;if(!this.p0 || !this.p1){return null;}K3M=this.callout.intersected(A3M,z3M,W3M);s3M=T0O.Drawing.segment.prototype.intersected.call(this,A3M,z3M,W3M);this.callout.highlighted=! !(K3M || s3M);if(s3M){return s3M;}else if(K3M){G1h="m";G1h+="o";G1h+="ve";return {action:G1h,p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:A3M,value:z3M};}return null;};T0O.Drawing.average=function(){Y6AA.C8TT();this.name="average";};T0O.inheritsFrom(T0O.Drawing.average,T0O.Drawing.regression);T0O.extend(T0O.Drawing.average.prototype,{configs:T0O.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var X1h,J1h,R1h,t3M,M3M,y3M,C3M,U3M,x3M;Y6AA.V8TT();if(this.p0 && this.p1){X1h=".mSti";X1h+="ckyInterior";J1h=".";J1h+="mMe";J1h+="as";J1h+="ure";R1h="&";R1h+="en";R1h+="s";R1h+="p;";Y6AA.d1n(47);this.stx.setMeasure(Y6AA.E1n("0",0),!1,this.p0[0],this.p1[0],!"",this.name);t3M=[];M3M="";if(this.active1){t3M.push((177.69,328) === 241.71?(1210,+"276.61") !== 669.38?"g":(2.55e+3,0x26a9):"1");}if(this.active2){t3M.push((6800,"679.88" * 1) <= 200.76?"V":1380 <= (2110,"8549" - 0)?"2":8648 === 210.36?921.69:(! ![],"v"));}if(this.active3){t3M.push((+"9123",936.56) === (68.85,412.06)?! !1:"3");}if(t3M.length){M3M=R1h + t3M.join(", ") + " &sigma;";}y3M=(this.stx.drawingContainer || document).querySelector(J1h);C3M=this.stx.controls.mSticky;U3M=C3M && C3M.querySelector(X1h);if(y3M){y3M.innerHTML+=M3M;}if(U3M){x3M=[];x3M.push(T0O.capitalize(this.name));x3M.push(this.field || this.stx.defaultPlotField || "Close");x3M.push(U3M.innerHTML + M3M);U3M.innerHTML=x3M.join("<br>");}}},render:function(w3M){var Q3mT=Y6AA;var f1h,P1h,m3M,X3M,Y3M,u3M,o3M,b3M,P3M,G3M,i3M,H3M,e3M,j3M,J3M,g3M,R3M,f3M,N3M,k3M,F3M,Z3M,T3M,S3M;f1h="s";f1h+="e";f1h+="gmen";f1h+="t";P1h="segm";P1h+="e";P1h+="nt";m3M=this.stx.panels[this.panelName];if(!m3M){return;}if(!this.p1){return;}if(this.p0["0" ^ 0] < 0 || this.p1[0] < +"0"){return;}X3M=this.stx.pixelFromTick(this.p0[0],m3M.chart);Y3M=this.stx.pixelFromTick(this.p1[0],m3M.chart);if(X3M < m3M.left && Y3M < m3M.left){return;}if(X3M > m3M.right && Y3M > m3M.right){return;}u3M=this.stx.getYAxisByField(m3M,this.field);o3M=this.stx;b3M=Math.min(this.p1[0],this.p0[0]);Q3mT.d1n(4);var E6R=Q3mT.L1n(1,0);P3M=Math.max(this.p1[0],this.p0[0]) + E6R;function d3M(c3M,V3M){if(V3M && V3M.priceFormatter){c3M=V3M.priceFormatter(o3M,m3M,c3M);}else {c3M=o3M.formatYAxisPrice(c3M,m3M,null,V3M);}return c3M;}Q3mT.z1n(6);G3M=Q3mT.E1n(b3M,P3M);i3M=+"0";H3M=[];for(e3M=b3M;e3M < P3M;e3M++){j3M=this.getYValue(e3M);if(j3M !== null){i3M+=j3M.transformed;H3M.push(j3M);}}J3M=H3M.length;if(!J3M){return;}Q3mT.d1n(12);g3M=Q3mT.L1n(J3M,i3M);R3M=o3M.pixelFromTransformedValue(g3M,m3M,u3M);f3M=this.getLineColor();N3M={pattern:this.pattern,lineWidth:this.lineWidth};o3M.plotLine(X3M,Y3M,R3M,R3M,f3M,P1h,w3M,m3M,N3M);Q3mT.d1n(6);o3M.plotLine(X3M,X3M,Q3mT.E1n(20,R3M),Q3mT.E1n(20,R3M,Q3mT.z1n(4)),f3M,"segment",w3M,m3M,N3M);Q3mT.d1n(6);o3M.plotLine(Y3M,Y3M,Q3mT.L1n(20,R3M),Q3mT.E1n(20,R3M,Q3mT.z1n(4)),f3M,f1h,w3M,m3M,N3M);if(this.axisLabel && !this.highlighted && !this.penDown){if(X3M >= m3M.chart.left && X3M <= m3M.chart.right || Y3M >= m3M.chart.left && Y3M <= m3M.chart.right){o3M.endClip();o3M.createYAxisLabel(m3M,d3M(g3M,u3M),R3M,f3M,null,w3M,u3M);o3M.startClip(m3M.name);}}if(this.active1 || this.active2 || this.active3){Q3mT.z1n(101);k3M=Q3mT.L1n("0",727161952);for(e3M=0;e3M < J3M;e3M++){j3M=H3M[e3M];k3M+=Math.pow(j3M.transformed - g3M,2);}Q3mT.z1n(12);F3M=Math.sqrt(Q3mT.E1n(J3M,k3M));Z3M={context:w3M,formatPrice:d3M,panel:m3M,points:{0:{x:X3M,v:g3M},1:{x:Y3M,v:g3M}},stddev:F3M,yAxis:u3M};this.lines={};if(this.active1){this.renderStddev(1280 <= (2877,560.64)?"v":"1",(8620,446) !== 2910?"p":(774.9,85.65) > ("9063" ^ 0,5760)?(485.01,"N"):(0x3a8,2.54e+3),Z3M);this.renderStddev((4060,4495) <= 1072?719.88 < 89?("7.54e+3" >> 773569824,! !""):(2690,540.3) <= (3680,286.79)?"L":!1:"1",977.44 <= (8596,5470)?1387 === (+"3090",629.97)?(9435,"938.57" * 1) != (+"2890",2148)?"D":!{}:"n":(!{},0x2657),Z3M);}if(this.active2){this.renderStddev("543" - 0 == (4910,4753)?!{}:(9720,+"3361") == 2060?(35,! !{}):"2",(6784,+"863.82") !== 5490?"p":0xba4,Z3M);this.renderStddev("2",(7050,83.48) <= 627?"154.7" * 1 < (+"450",572.82)?"n":(2364,7541) <= ("1160" >> 244613152,1290)?9.65e+2:544:! !1,Z3M);}if(this.active3){this.renderStddev("3","p",Z3M);this.renderStddev("3","n",Z3M);}}if(!this.highlighted){this.pixelX=[X3M,Y3M];this.pixelY=[R3M,R3M];}else {T3M=this.highlighted == "p0"?! !{}:!{};S3M=this.highlighted == "p1"?!0:!1;this.littleCircle(w3M,X3M,R3M,T3M);this.littleCircle(w3M,Y3M,R3M,S3M);}},reconstruct:function(q3M,n3M){Y6AA.C8TT();this.axisLabel=n3M.al;T0O.Drawing.regression.prototype.reconstruct.call(this,q3M,n3M);},serialize:function(){var a4M;a4M=T0O.Drawing.regression.prototype.serialize.call(this);a4M.al=this.axisLabel;Y6AA.C8TT();return a4M;}},! !{});T0O.Drawing.quadrant=function(){Y6AA.V8TT();this.name="quadrant";};T0O.inheritsFrom(T0O.Drawing.quadrant,T0O.Drawing.regression);T0O.extend(T0O.Drawing.quadrant.prototype,{configs:["color",n1h,"lineWidth",N1h],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(r4M){var I3mT=Y6AA;var l1h,V1h,h4M,D4M,I4M,s4M,B4M,A4M,z4M,x4M,l4M,U4M,y4M,M4M,R4M,X4M,t4M,K4M,C4M,W4M,k1h,h1h,Y4M,o4M;l1h="s";l1h+="e";l1h+="g";l1h+="ment";V1h="s";V1h+="egm";V1h+="e";V1h+="nt";h4M=this.stx;D4M=h4M.panels[this.panelName];if(!D4M){return;}if(!this.p1){return;}I4M=h4M.pixelFromTick(this.p0[0],D4M.chart);s4M=h4M.pixelFromTick(this.p1[0],D4M.chart);if(I4M < D4M.left && s4M < D4M.left){return;}if(I4M > D4M.right && s4M > D4M.right){return;}B4M=this.stx.getYAxisByField(D4M,this.field);A4M=null;z4M=null;for(var m4M=Math.min(this.p1[0],this.p0[0]);m4M <= Math.max(this.p1["0" & 2147483647],this.p0[0]);m4M++){x4M=this.getYValue(m4M);if(x4M !== null){if(A4M === null || x4M.transformed > A4M){A4M=x4M.transformed;}if(z4M === null || x4M.transformed < z4M){z4M=x4M.transformed;}}}l4M=h4M.pixelFromTransformedValue(A4M,D4M,B4M);I3mT.d1n(102);U4M=h4M.pixelFromTransformedValue(I3mT.E1n(3,4,z4M,A4M),D4M,B4M);I3mT.d1n(102);y4M=h4M.pixelFromTransformedValue(I3mT.L1n(2,3,z4M,A4M),D4M,B4M);I3mT.d1n(8);M4M=h4M.pixelFromTransformedValue(I3mT.E1n(z4M,2,A4M),D4M,B4M);I3mT.z1n(103);R4M=h4M.pixelFromTransformedValue(I3mT.E1n(A4M,3,z4M,"2"),D4M,B4M);I3mT.z1n(104);X4M=h4M.pixelFromTransformedValue(I3mT.E1n(A4M,2147483647,"4",3,z4M),D4M,B4M);t4M=h4M.pixelFromTransformedValue(z4M,D4M,B4M);I3mT.z1n(1);this.p0[1]=I3mT.E1n(1,"0");this.p1[+"1"]=![];K4M=this.getLineColor();C4M=this.fillColor;if(C4M == "auto" || T0O.isTransparent(C4M)){C4M=h4M.defaultColor;}r4M.fillStyle=C4M;W4M={pattern:this.pattern,lineWidth:this.lineWidth};h4M.plotLine(I4M,s4M,l4M,l4M,K4M,V1h,r4M,D4M,W4M);h4M.plotLine(I4M,s4M,t4M,t4M,K4M,"segment",r4M,D4M,W4M);if(this.name == "quadrant"){k1h="segm";k1h+="ent";h4M.plotLine(I4M,s4M,U4M,U4M,K4M,k1h,r4M,D4M,W4M);h4M.plotLine(I4M,s4M,X4M,X4M,K4M,"segment",r4M,D4M,W4M);}else if(this.name == "tirone"){h1h="seg";h1h+="m";h1h+="ent";h4M.plotLine(I4M,s4M,y4M,y4M,K4M,"segment",r4M,D4M,W4M);h4M.plotLine(I4M,s4M,R4M,R4M,K4M,h1h,r4M,D4M,W4M);}h4M.plotLine(I4M,I4M,l4M,t4M,K4M,"segment",r4M,D4M,W4M);h4M.plotLine(s4M,s4M,l4M,t4M,K4M,l1h,r4M,D4M,W4M);h4M.plotLine(I4M,s4M,M4M,M4M,K4M,"segment",r4M,D4M,T0O.extend(W4M,{opacity:this.name == "tirone"?0.2:1}));r4M.globalAlpha=0.1;r4M.beginPath();I3mT.d1n(6);r4M.fillRect(I4M,l4M,I3mT.L1n(I4M,s4M),I3mT.L1n(l4M,t4M));if(this.name == "quadrant"){I3mT.d1n(6);r4M.fillRect(I4M,U4M,I3mT.E1n(I4M,s4M),I3mT.E1n(U4M,X4M));}else if(this.name == "tirone"){I3mT.z1n(6);r4M.fillRect(I4M,y4M,I3mT.L1n(I4M,s4M),I3mT.L1n(y4M,R4M));}r4M.globalAlpha=1;if(!this.highlighted){this.pixelX=[I4M,s4M];this.pixelY=[l4M,t4M];if(D4M.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(M4M);}else {Y4M=this.highlighted == "p0"?!0:! !"";o4M=this.highlighted == "p1"?!0:!{};this.littleCircle(r4M,I4M,M4M,Y4M);this.littleCircle(r4M,s4M,M4M,o4M);}},intersected:function(p4M,Q4M,Z4M){var w4M,q1h;if(!this.pixelX || !this.pixelY){return null;}w4M=this.repositionIntersection(p4M,Q4M);if(w4M){return w4M;}for(var e4M=0;e4M < 2;e4M++){if(this.pointIntersection(this.pixelX[e4M],this.pixelY[2],Z4M,! !{})){Y6AA.d1n(4);this.highlighted=Y6AA.L1n(e4M,(+"2466",1930) != (438.06,"292" - 0)?(5610,1930) < (234.23,5340)?"p":(37,+"878.07") != 595.05?("P",0xa63):0x1ad7:(889.09,0x196d));return {action:"drag",point:(+"486.53" <= +"9160"?"206.3" * 1 <= (7601,557.98)?"p":7.10e+3:(207.61,!0)) + e4M};}}if(this.boxIntersection(null,null,Z4M)){q1h="mo";q1h+="ve";this.highlighted=! ![];return {action:q1h,p0:T0O.clone(this.p0),p1:T0O.clone(this.p1),tick:p4M,value:Q4M};}return null;},reconstruct:function(g4M,j4M){var Q5n,w5n,A5n;Q5n=- +"2058442176";w5n=+"1948333515";A5n=2;for(var W5n=1;Y6AA.g5n(W5n.toString(),W5n.toString().length,12631) !== Q5n;W5n++){this.stx=g4M;A5n+=2;}if(Y6AA.c5n(A5n.toString(),A5n.toString().length,50726) !== w5n){this.stx=g4M;}this.color=j4M.col;this.fillColor=j4M.fc;this.panelName=j4M.pnl;this.pattern=j4M.ptrn;this.lineWidth=j4M.lw;this.d0=j4M.d0;this.d1=j4M.d1;this.tzo0=j4M.tzo0;this.tzo1=j4M.tzo1;this.field=j4M.fld;this.adjust();},serialize:function(){Y6AA.V8TT();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);T0O.Drawing.tirone=function(){Y6AA.V8TT();this.name="tirone";};T0O.inheritsFrom(T0O.Drawing.tirone,T0O.Drawing.quadrant);T0O.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];Y6AA.d1n(34);this.dx=Y6AA.E1n(0,"0");this.dy=-20;this.dragToDraw=! !"";Y6AA.C8TT();this.annotationPoints=[];this.edit=null;};T0O.inheritsFrom(T0O.Drawing.elliottwave,T0O.Drawing.annotation);T0O.Drawing.elliottwave.defaultTemplate={impulse:[(2178,463.74) != (3040,"4050" | 3984)?"I":3959 <= 6270?("U",0x132d):(5.18e+3,"0x148" * 1),t1h,"III","IV",(890.5,+"3960") !== 4962?(4779,7153) !== (7321,7860)?"3336" - 0 > (1.09,+"4390")?(0xced,"x"):"V":2.24e+3:(! !"1","m")],corrective:["A",(5122,10.39) <= (1643,7191)?+"9992" <= 2004?4.13e+2:"B":(0xb1b,"M"),(2943,147.55) !== 864.87?"C":+"413.75" < 670?0x112a:(8.53e+3,!0)],decoration:"enclosed",showLines:! ![]};T0O.Drawing.elliottwave.prototype.initializeSettings=function(u4M){u4M.currentVectorParameters.waveParameters=T0O.clone(T0O.Drawing.elliottwave.defaultTemplate);};T0O.Drawing.elliottwave.prototype.configs=["color",D1h,"lineColor","pattern","font","waveParameters"];T0O.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",K1h];T0O.Drawing.elliottwave.prototype.construct=function(J4M,H4M){var f4M;this.stx=J4M;this.panelName=H4M.name;f4M=J4M.currentVectorParameters;Object.assign(this,f4M.waveParameters);};T0O.Drawing.elliottwave.prototype.serialize=function(){var F3mT=Y6AA;var r5h,b4M,a5h;r5h="w";r5h+="t";b4M={};for(var N4M=0;N4M < this.points.length;N4M++){a5h="tz";a5h+="o";F3mT.d1n(4);b4M[F3mT.L1n(N4M,2610 > 7290?"n":(423,"1403" * 1) === 856.28?(0x300,334.48):"d")]=this[F3mT.E1n(N4M,"d")];F3mT.d1n(4);b4M[F3mT.L1n(N4M,"tzo")]=this[F3mT.L1n(N4M,a5h)];F3mT.z1n(4);b4M[F3mT.L1n(N4M,("2545" & 2147483647) === 64.87?(0x25e9,"O"):("466.97" - 0,4240) === 7830?"D":143.96 <= (6368,7320)?"v":(0x19d7,8.87e+3))]=this[F3mT.L1n(N4M,(6830,9180) !== 1912?6680 <= "404.52" - 0?(6.71e+3,444.45):"v":+"0x6db")];}F3mT.C8TT();b4M.annotations=this.annotationPoints.join((990.35,1439) > ("623.58" * 1,"5320" >> 52533440)?(6.24e+3,64.85):",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:T0O.removeNullValues(T0O.replaceFields(this.font,{style:"st",size:"sz",weight:r5h,family:"fl"}))},b4M);};T0O.Drawing.elliottwave.prototype.reconstruct=function(i4M,P4M){var z5h;z5h="s";z5h+="i";z5h+="ze";this.stx=i4M;this.color=P4M.col;this.panelName=P4M.pnl;this.pattern=P4M.ptrn;this.lineWidth=P4M.lw;this.font=T0O.replaceFields(P4M.fnt,{st:"style",sz:z5h,wt:"weight",fl:"family"});this.decoration=P4M.decor;this.showLines=P4M.show;this.dx=P4M.dx;this.dy=P4M.dy;this.trend=P4M.trend;this.annotationPoints=P4M.annotations.split(("169" >> 346642880,628.93) == ("159.84" - 0,9953)?822.63 >= "5840" >> 51381184?+"661":872.98:",");if(P4M.decor === "enclosed"){this.calculateRadius(i4M.chart.tempCanvas.context);}this.maxSegments=P4M.mxSeg;this.reconstructPoints(P4M);this.adjust();};T0O.Drawing.elliottwave.prototype.reconstructPoints=function(k4M){var e3mT=Y6AA;e3mT.V8TT();var d4M,E4M,F4M;d4M=this.stx.panels[this.panelName];if(!d4M){return;}for(var v4M="0" & 2147483647;v4M < this.annotationPoints.length;v4M++){e3mT.z1n(4);this[e3mT.L1n(v4M,("2190" | 130) > ("2210" | 2050)?0x151:(8290,4490) > (+"4380","722.89" - 0)?"d":(0x3db,5.56e+3))]=k4M[e3mT.L1n(v4M,"d")];e3mT.d1n(4);this[e3mT.E1n(v4M,3842 > 7326?![]:4800 !== 7000?"v":(+"1.44e+3",0x2062))]=k4M[e3mT.L1n(v4M,(8633,3820) < 1974?(630.69,0x1bea):("1827" | 34) > 714.51?"v":("0x27e" * 1,776.48))];e3mT.z1n(4);this[e3mT.E1n(v4M,"tzo")]=k4M[e3mT.L1n(v4M,"tzo")];E4M=T0O.strToDateTime(k4M["d" + v4M]);F4M=this.stx.tickFromDate(E4M,d4M.chart);this.points.push([F4M,k4M["v" + v4M]]);}};T0O.Drawing.elliottwave.prototype.calculateRadius=function(c4M){var T4M,G4M;this.getFontString();Y6AA.V8TT();c4M.font=this.fontString;T4M=+"0";for(var S4M=0;S4M < this.annotationPoints.length;S4M++){G4M=c4M.measureText(this.annotationPoints[S4M]).width;if(T4M < G4M){T4M=G4M;}}this.enclosedRadius=T4M;};T0O.Drawing.elliottwave.prototype.check=function(q4M,a5M,V4M){var K3mT=Y6AA;var n4M,L4M;if(V4M === +"1" && this.points.length === 2){return ! ![];}K3mT.z1n(20);n4M=this.points[K3mT.E1n("1",V4M)];if(n4M && q4M <= n4M[+"0"]){return !1;}K3mT.V8TT();K3mT.d1n(54);L4M=this.points[K3mT.E1n(V4M,"1")];if(L4M && q4M >= L4M[0]){return ! !"";}if(!O4M(this.points)){return !1;}function O4M(x5M){for(var A5M=2;A5M < x5M.length;A5M++){if(Math.sign(x5M[A5M]["1" & 2147483647] - x5M[A5M - 1][1]) == Math.sign(x5M[A5M - 1][+"1"] - x5M[A5M - 2][1])){return !1;}}return !0;}return !"";};T0O.Drawing.elliottwave.prototype.move=function(M5M,U5M,X5M){this.copyConfig();this.points[this.lastPoint + +"1"]=[U5M,X5M];this.render(M5M);};T0O.Drawing.elliottwave.prototype.adjust=function(){var m3mT=Y6AA;m3mT.V8TT();var P5M,d5M;P5M=this.stx.panels[this.panelName];if(!P5M){return;}for(var N5M=0;this.maxSegments + 1 > N5M;N5M++){m3mT.d1n(4);d5M=this[m3mT.L1n(N5M,(624.51,4770) !== 46.89?3993 >= (818,6726)?785.63:"d":("K",269.34))];this.setPoint(N5M,d5M,this["v" + N5M],P5M.chart);this.points[N5M][0]=this.stx.tickFromDate(T0O.strToDateTime(d5M),P5M.chart);m3mT.z1n(4);this.points[N5M][1]=this[m3mT.E1n(N5M,+"2260" > ("1250" - 0,323.58)?882.1 === 8310?("0x61" | 64,0x95f):597.28 < 173.08?720.11:"v":"L")];}};T0O.Drawing.elliottwave.prototype.click=function(D6M,c5M,q5M){var a6M,E5h;a6M=this.stx.panels[this.panelName];if(!a6M){return;}this.copyConfig();if(!this.penDown){E5h="en";E5h+="clos";E5h+="e";E5h+="d";this.setPoint(0,c5M,q5M,a6M.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((9073,8825) === (8160,"4330" | 4106)?402.95 >= 4819?("D","2.12e+3" - 0):("E",!1):"0");if(this.decoration === E5h){this.calculateRadius(D6M);}Y6AA.d1n(25);var o6R=Y6AA.E1n(4,71,18);this.maxSegments=this.annotationPoints.length - o6R;Y6AA.d1n(6);this.trend=Y6AA.L1n(0,"1");return !"1";}if(this.accidentalClick(c5M,q5M)){this.penDown=! ![];return !"1";}if(this.check(c5M,q5M,this.lastPoint + ("1" & 2147483647))){this.lastPoint++;this.setPoint(this.lastPoint,c5M,q5M,a6M.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=! !"";return !"";}}return !1;};T0O.Drawing.elliottwave.prototype.render=function(h6M){var T3mT=Y6AA;var r6M,m6M,w6M,p6M,Q6M,R6M,X6M,A6M,z6M,Y6M,K6M,s6M,Z5h,o5h,B6M,t6M,W6M,x6M,M6M,Z6M,j6M,v3n,C3n,s3n,j5h,U6M,y6M,l6M,o6M,e6M,g6M,C6M;r6M=this.stx.panels[this.panelName];if(!r6M){return;}m6M=this.stx;w6M=this.annotationPoints;p6M=this.pattern?T0O.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();h6M.font=this.fontString;h6M.textAlign="center";h6M.textBaseline="middle";h6M.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(h6M);}this.lastFontString=this.fontString;Q6M=this.getLineColor();h6M.fillStyle=h6M.strokeStyle=Q6M;h6M.save();h6M.setLineDash(p6M);R6M=this.dx;X6M=this.dy;A6M=this.points;z6M=this.pts;Y6M=!this.showLines && this.highlighted;K6M=A6M.length;if(this.penDown && this.segment){T3mT.z1n(16);var Z6R=T3mT.L1n(6,8);s6M=this.trend * (K6M % Z6R - 0.5) < 0;if(r6M.yAxis.flipped){s6M=!s6M;}this.drawDropZone(h6M,A6M[K6M - 2][1],this.stx.priceFromPixel(r6M.yAxis[s6M?"top":"bottom"]),A6M[K6M - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){Z5h="m";Z5h+="i";Z5h+="n";o5h="m";o5h+="a";o5h+="x";B6M=parseInt(this.highlighted.substring(1,this.highlighted.length),10);s6M=this.trend * (B6M % +"2" - 0.5) > "0" - 0;T3mT.z1n(20);t6M=A6M[T3mT.E1n("1",B6M)];T3mT.z1n(4);W6M=A6M[T3mT.E1n(1,B6M)];x6M=B6M > +"0"?t6M[1]:W6M[+"1"];if(W6M){x6M=Math[s6M?o5h:Z5h](x6M,W6M[1]);}if(r6M.yAxis.flipped){s6M=!s6M;}this.drawDropZone(h6M,x6M,this.stx.priceFromPixel(r6M.yAxis[s6M?"top":"bottom"]),t6M?t6M[0]:null,W6M?W6M[+"0"]:null);}for(var I6M=0;I6M < K6M;I6M++){M6M=A6M[I6M];Z6M=m6M.pixelFromTick(M6M[0],r6M.chart);j6M=m6M.pixelFromValueAdjusted(r6M,M6M[0],M6M[1]);z6M[I6M]=[Z6M,j6M];}I6M=0;if(this.showLines || Y6M){h6M.beginPath();if(Y6M){h6M.globalAlpha=+"0.3";}for(;I6M < z6M.length;I6M++){h6M.lineTo(z6M[I6M][+"0"],z6M[I6M][1]);}h6M.stroke();v3n=+"1346410322";C3n=1290430544;s3n=2;for(var B3n=1;T3mT.c5n(B3n.toString(),B3n.toString().length,91637) !== v3n;B3n++){I6M=5;s3n+=2;}if(T3mT.c5n(s3n.toString(),s3n.toString().length,"30189" - 0) !== C3n){I6M=0;}}h6M.restore();for(;I6M < K6M;I6M++){j5h="en";j5h+="close";j5h+="d";U6M=I6M % 2?R6M:-R6M;y6M=I6M % 2?X6M:-X6M;U6M*=this.trend;y6M*=this.trend;if(r6M.yAxis.flipped){U6M*=-1;T3mT.d1n(0);y6M*=-T3mT.E1n(2147483647,"1");}l6M=z6M[I6M];o6M=l6M[2]=l6M[0] + U6M;e6M=l6M[3]=l6M[+"1"] + y6M;g6M=this.enclosedRadius || +"8";C6M=w6M[I6M];if(this.decoration === "parentheses"){T3mT.d1n(91);C6M=T3mT.E1n((+"549.64",915.45) > 369.85?")":375.46,C6M,(7519,"9240" - 0) != (+"4840","1926" << 574606016)?(2740,541.68) <= ("899" | 896,2719)?"(":("k",9.41e+3):(9.28e+3,0x2096));}h6M.fillText(C6M,o6M,e6M);if(this.decoration === j5h){h6M.beginPath();h6M.arc(o6M,e6M,g6M,0,2 * Math.PI,! !0);h6M.stroke();}if(this.highlighted){h6M.save();this.littleCircle(h6M,this.pts[I6M][0],this.pts[I6M]["1" << 2016447840],this.highlighted === "p" + I6M);h6M.restore();}}};T0O.Drawing.elliottwave.prototype.reposition=function(d6M,u6M,H6M,N6M){var P6M,i6M,v6M,f6M,b6M,k6M;if(!u6M){return;}P6M=this.stx.panels[this.panelName];i6M=u6M.tick - H6M;v6M=u6M.value - N6M;if(u6M.action === "move"){for(var J6M=0;u6M.points.length > J6M;J6M++){f6M=u6M.points[J6M];this.setPoint(J6M,f6M[0] - i6M,f6M[+"1"] - v6M,P6M.chart);Y6AA.z1n(2);var j6R=Y6AA.L1n(3,40,13);this.points[J6M]=[f6M[0] - i6M,f6M[j6R] - v6M];}}if(u6M.action === "drag"){b6M=u6M.point;k6M=this.points;k6M[b6M]=[H6M,N6M];if(this.check(H6M,N6M,b6M)){this.setPoint(b6M,H6M,N6M,P6M.chart);;};}Y6AA.V8TT();this.render(d6M);};T0O.Drawing.elliottwave.prototype.intersected=function(T6M,S6M,G6M){var c6M,T5h,F6M,p5h,Y5h;if(!this.p0 || !this.p1){return null;}Y6AA.V8TT();for(var E6M=0;this.points.length > E6M;E6M++){T5h="s";T5h+="e";T5h+="gmen";T5h+="t";F6M=this.points[E6M];if(this.pointIntersection(F6M[0],F6M[1],G6M)){p5h="d";p5h+="r";p5h+="ag";Y6AA.z1n(4);this.highlighted=Y6AA.L1n(E6M,(8104,886) < +"7326"?"p":!{});return {action:p5h,point:E6M,tick:T6M,value:S6M};}if(this.points[E6M + 1] && this.lineIntersection(T6M,S6M,G6M,T5h,F6M,this.points[E6M + 1])){Y5h="m";Y5h+="ove";this.highlighted=! ![];c6M={action:Y5h,points:T0O.clone(this.points),tick:T6M,value:S6M};}}return c6M;};T0O.Drawing.elliottwave.prototype.measure=function(){var V6M,q6M,L6M,n6M,i5n,v5n,C5n,L5h,S5h;Y6AA.V8TT();if(this.points.length >= 2){V6M=this.points;this.stx.setMeasure(V6M[0][1],V6M[V6M.length - 1]["1" - 0],V6M[0][0],V6M[V6M.length - 1][0],! !1);q6M=this.stx.controls.mSticky;L6M=q6M && q6M.querySelector(".mStickyInterior");if(L6M){n6M=[];i5n=218061292;v5n=405418962;C5n=2;for(var x5n=1;Y6AA.g5n(x5n.toString(),x5n.toString().length,30603) !== i5n;x5n++){L5h="Cl";L5h+="os";L5h+="e";n6M.push(T0O.capitalize("Elliott Wave"));if(this.getYValue){n6M.push(this.field && this.stx.defaultPlotField && L5h);}C5n+=2;}if(Y6AA.g5n(C5n.toString(),C5n.toString().length,35845) !== v5n){S5h="Clo";S5h+="se";n6M.push(T0O.capitalize(S5h));if(this.getYValue){n6M.push(this.field || this.stx.defaultPlotField || "Close");}}n6M.push(T0O.capitalize("Elliott Wave"));if(this.getYValue){n6M.push(this.field || this.stx.defaultPlotField || "Close");}n6M.push(L6M.innerHTML);L6M.innerHTML=n6M.join("<br>");}}};T0O.Drawing.printProjection=function(A7M,R7M,O6M){var v3mT=Y6AA;v3mT.C8TT();var D7M,h7M,M7M,z7M,U7M,K7M,y7M,W7M,s7M,t7M,r7M,C7M,x7M,d5h,l7M,a7M,m7M;D7M=R7M.arr;if(D7M.length > +"1"){h7M=D7M[0][0];M7M=Math.round(A7M.chart.maxTicks * 0.75);for(var I7M=1;I7M < D7M.length;I7M++){v3mT.d1n(6);z7M=D7M[v3mT.L1n(1,I7M)][0];U7M=D7M[I7M][0];K7M=T0O.strToDateTime(z7M);y7M=T0O.strToDateTime(U7M).getTime();W7M=A7M.standardMarketIterator(K7M);s7M=0;while(K7M.getTime() < y7M){K7M=W7M.next();s7M+=1;}t7M=T0O.strToDateTime(z7M).getTime();if(t7M > T0O.strToDateTime(O6M[O6M.length - 1].Date).getTime()){v3mT.z1n(105);var p6R=v3mT.L1n(18,13,6,18,18);r7M=O6M.length - p6R;s7M+=1;}else {for(r7M=O6M.length - 1;r7M >= 0;r7M--){if(t7M <= T0O.strToDateTime(O6M[r7M].Date).getTime())break;}}C7M={x0:0,x1:s7M,y0:O6M[r7M].Close,y1:D7M[I7M][1]};h7M=T0O.strToDateTime(z7M);W7M=A7M.standardMarketIterator(h7M);x7M=!"1";for(var B7M=0;B7M <= s7M;B7M++){d5h="m";d5h+="inute";if(!x7M){x7M=! ![];}else {h7M=W7M.next();}if(h7M.getTime() <= O6M[O6M.length - 1].DT.getTime())continue;l7M=T0O.yIntersection(C7M,B7M);if(!l7M){l7M=0;}v3mT.d1n(106);var T6R=v3mT.E1n(9989,10015,89901,9,16);v3mT.z1n(6);var Y6R=v3mT.E1n(40000,50000);a7M=Math.round(l7M * T6R) / Y6R;if(a7M === 0){a7M=D7M[I7M][+"1"];}m7M={Date:T0O.yyyymmddhhmmssmmm(h7M),DT:h7M,Open:a7M,Close:a7M,High:a7M,Low:a7M,Volume:0,Adj_Close:a7M,Split_Close:a7M,projection:! ![]};if(A7M.layout.interval == d5h)if(M7M-- < 0)break;O6M[O6M.length]=m7M;}}}};}};I4T=Y7M=>{var y5h,X7M,F5h;y5h="und";y5h+="ef";y5h+="in";y5h+="ed";X7M=typeof _CIQ !== y5h?_CIQ:Y7M.CIQ;if(!X7M.computeEquationChart){F5h="equationsAdvanced feature requi";F5h+="res first activating equations feature.";console.error(F5h);}else {X7M.formatEquation=function(j7M){var E3mT=Y6AA;var w7M,Q7M,o7M,p7M,e7M;w7M="";Q7M=[];o7M="";p7M=! !0;for(var Z7M=1;Z7M < j7M.length;Z7M++){e7M=j7M[Z7M].toUpperCase();if(e7M == (7480 == (+"926","8754" * 1)?"543.28" * 1 > ("1095" >> 1332521024,9995)?0xcc:(8.08e+3,"I"):"[") && !p7M){p7M=!0;}else if(e7M == "]" && p7M){p7M=![];if(o7M !== ""){Q7M.push(o7M);E3mT.z1n(91);w7M+=E3mT.E1n("]",o7M,(1800,8692) != 4849?441.2 < 3390?"[":4.40e+3:(0x125,"A"));}o7M="";}else if(p7M){o7M+=e7M;}else if(e7M == (+"393.9" === (6730,248.69)?9.19e+3:"+") || e7M == (5146 === (4631,896.67)?(2.17e+3,+"1.20e+3"):"-") || e7M == ((304.58,2007) < (515.77,1661)?("X",! !0):8905 !== 2600?"*":(0x19b9,2.89e+3)) || e7M == ((122.33,5700) != (5880,905)?(9134,234.17) != (369.11,"924" | 384)?"/":(! !"1",![]):(0x14,5.07e+3)) || e7M == ((3350,5924) >= 4045?":":(4423,615.62) <= 15.51?(8.42e+2,731):388.01 > 3970?186.50:(! !1,224.74)) || e7M == (3156 < (601.29,5677)?"%":(8130,6089) > 199?1180 <= (871.48,29.94)?("63.03" * 1,! !0):4.87e+3:0x237d) || e7M == "(" || e7M == ")"){if(o7M !== "" && isNaN(o7M)){Q7M.push(o7M);E3mT.d1n(91);w7M+=E3mT.E1n("]",o7M,4397 <= (+"261.85",731)?(885.68,628.6) !== 5040?0x8ad:"o":"[");}else {w7M+=o7M;}if(e7M == ":"){e7M="/";}w7M+=e7M;o7M="";}else if(e7M != (+"7580" !== (3318,8883)?" ":"l")){o7M+=e7M;}}E3mT.C8TT();if(o7M !== "" && isNaN(o7M)){Q7M.push(o7M);E3mT.z1n(91);w7M+=E3mT.E1n("]",o7M,"[");}else {w7M+=o7M;}return {equation:w7M,symbols:Q7M};};X7M.fetchEquationChart=function(g7M,P7M){var f7M,H7M,N7M,b7M,J7M;f7M=X7M.formatEquation(g7M.symbol);H7M=f7M.symbols;N7M=[];b7M=g7M.stx;g7M.stx=null;Y6AA.V8TT();for(var u7M=0;u7M < H7M.length;u7M++){J7M=X7M.shallowClone(g7M);J7M.stx=b7M;J7M.symbol=H7M[u7M];J7M.symbolObject={symbol:H7M[u7M]};N7M.push(J7M);}g7M.stx=b7M;b7M.quoteDriver.multiFetch(N7M,function(T7M){var E7M,i7M,v7M,k7M,S7M;E7M={};g7M.loadMoreReplace=! ![];i7M={charge:0};for(var d7M=0;d7M < T7M.length;d7M++){v7M=T7M[d7M];if(v7M.dataCallback.error){P7M({error:v7M.dataCallback.error});return;}E7M[v7M.params.symbol]=v7M.dataCallback.quotes;g7M.loadMoreReplace=g7M.loadMoreReplace && v7M.params.loadMoreReplace;g7M.moreToLoad=g7M.moreToLoad || v7M.dataCallback.moreAvailable;k7M=v7M.dataCallback.attribution;if(k7M){if(k7M.charge){i7M.charge+=k7M.charge;}i7M.source=k7M.source;if(i7M.exchange === undefined){i7M.exchange=k7M.exchange;}else if(i7M.exchange != k7M.exchange){i7M.exchange="";};}}if(N7M.length || !(g7M.loadMore || g7M.update)){try{S7M=X7M.computeEquationChart(f7M.equation,E7M);P7M({quotes:S7M,moreAvailable:g7M.moreToLoad,attribution:i7M});}catch(G7M){var c5h,F7M;c5h="NoExcept";c5h+="i";c5h+="on";F7M={error:"Invalid equation: " + f7M.equation};if(G7M.name && G7M.name == c5h){F7M.suppressAlert=! !"1";}P7M(F7M);}}});};}};r4T=V7M=>{var g5h,c7M,P2n,f2n,n2n,M5h;Y6AA.V8TT();g5h="undefi";g5h+="ned";c7M=typeof _CIQ !== g5h?_CIQ:V7M.CIQ;if(!c7M.Marker){P2n=2012409366;f2n=-5726379;n2n=2;for(var V2n=1;Y6AA.c5n(V2n.toString(),V2n.toString().length,86288) !== P2n;V2n++){M5h="highPe";M5h+="rformanc";M5h+="eMarkers feature requires firs";M5h+="t activating markers feature.";console.error(M5h);n2n+=2;}if(Y6AA.c5n(n2n.toString(),n2n.toString().length,"33868" * 1) !== f2n){console.error("");}}else {c7M.ChartEngine.prototype.removeDOMMarker=function(n7M){var O5h,Z2n,j2n,p2n;O5h="CIQ.Char";O5h+="tEngine#removeDOMMarker is scheduled for deprecation in a";O5h+=" future release\n Please use CIQ.Marker.Performance#remove instead.";console.warn(O5h);Z2n=914109168;j2n=-216907551;p2n=2;for(var Y2n=+"1";Y6AA.g5n(Y2n.toString(),Y2n.toString().length,96212) !== Z2n;Y2n++){c7M.Marker.Performance.prototype.removeDOMMarker.call(n7M.params.node,n7M);p2n+=2;}if(Y6AA.g5n(p2n.toString(),p2n.toString().length,80700) !== j2n){c7M.Marker.Performance.prototype.removeDOMMarker.call(n7M.params.node,n7M);}};c7M.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");Y6AA.V8TT();c7M.Marker.Performance.drawMarkers(this);};c7M.ChartEngine.prototype.calculateMarkerStyles=function(L7M,q7M){var I5h;I5h="CIQ.ChartEngine#calculateMarkerStyles is scheduled for dep";I5h+="recation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(I5h);Y6AA.V8TT();c7M.Marker.Performance.calculateMarkerStyles(this,L7M,q7M);};c7M.ChartEngine.prototype.drawCircleMarker=function(O7M,D8M,h8M){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");Y6AA.C8TT();c7M.Marker.Performance.drawCircleMarker(O7M,D8M,h8M);};c7M.ChartEngine.prototype.drawSquareMarker=function(I8M,r8M,s8M){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");c7M.Marker.Performance.drawSquareMarker(I8M,r8M,s8M);};c7M.ChartEngine.prototype.drawCalloutMarker=function(A8M,z8M,K8M){var m5h;m5h="CIQ.ChartEngine#drawCallo";m5h+="utMark";m5h+="er is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.";console.warn(m5h);Y6AA.C8TT();c7M.Marker.Performance.drawCalloutMarker(A8M,z8M,K8M);};c7M.ChartEngine.prototype.drawMarkerStem=function(W8M,B8M,l8M){var b5h;b5h="CIQ.ChartEngine#drawMarkerSte";b5h+="m is scheduled fo";b5h+="r deprecation in a future release";b5h+="\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(b5h);c7M.Marker.Performance.drawMarkerStem(W8M,B8M,l8M);};c7M.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");c7M.Marker.Performance.drawMarkers(this);};c7M.Marker.Performance=function(M8M){var i5h,W5h,U5h,A5h,w5h,Q5h,x8M,t8M,y8M,m8M,U8M,C8M,R8M,X8M;i5h="h";i5h+="4";W5h="<div clas";W5h+="s=\"stx-stem\"></div";W5h+=">";U5h="<";U5h+="/div";U5h+=">";A5h="<div class=\"stx-marker stx-performance-marker stx-mar";A5h+="ker-expand\"><h4";A5h+="></h4><p></p></div";A5h+=">";w5h="<div class=\"stx-";w5h+="marker-content\">";Q5h="<";Q5h+="div class=\"stx-visual\">";this.params={displayCategory:! !"1",displayStem:! !{},invert:!{},story:"",headline:""};c7M.extend(this.params,M8M);x8M=this.template=document.createElement("TEMPLATE");Y6AA.z1n(107);x8M.innerHTML=Y6AA.E1n(Q5h,'<div class="stx-marker highlight">',"</div>","</div>",U5h,A5h,w5h,W5h);t8M=this.template.content.cloneNode(! !{});y8M=t8M.querySelector(".stx-marker",x8M);y8M.classList.add(M8M.type);y8M.classList.add(M8M.category);m8M=t8M.querySelector(".stx-visual",x8M);U8M=t8M.querySelector(".stx-marker-expand");C8M=t8M.querySelector(i5h,x8M);R8M=t8M.querySelector((214.8,6530) === (592,527.32)?(777.01,1960) >= ("7830" | 4224,2550)?"t":("A",7.29e+3):"p",x8M);C8M.innerText=this.params.headline;R8M.innerText=this.params.story;this.hasText=! !M8M.headline || ! !M8M.story;this.deferAttach=! !{};this.node=t8M.firstChild;this.node.params=this.params;this.visual=m8M;this.expand=U8M;if(M8M.type === "callout"){X8M=U8M.removeChild(C8M);t8M.querySelector(".stx-marker-content",x8M).insertBefore(X8M,U8M);}};c7M.inheritsFrom(c7M.Marker.Performance,c7M.Marker.NodeCreator,!"1");c7M.Marker.Performance.consolidateExpanded=function(Z8M){var Y8M,o8M,p8M,w8M,Q8M;Y8M=Z8M.markerHelper.highlighted;if(!Y8M.length){return;}Y6AA.d1n(19);var L6R=Y6AA.L1n(0,1,1);o8M=Y8M[Y8M.length - L6R];p8M=o8M.params.node;if(!o8M.consolidated){o8M.consolidated=[];}for(var e8M=Y8M.length - 2;e8M >= 0;e8M--){w8M=j8M(Y8M[e8M]);Y6AA.z1n(91);Q8M=Y6AA.L1n("</consolidated>",w8M,"<consolidated>");if(w8M.length){p8M.expand.innerHTML+=Q8M;}}o8M.stxNodeCreator.quickCache(o8M);function j8M(f8M){var u8M,g8M,J8M;u8M=f8M.params.node;g8M=u8M.expand;if(!g8M){return "";}J8M=g8M.style.display !== "none"?g8M.innerHTML:"";return J8M;}};c7M.Marker.Performance.reconstituteExpanded=function(P8M){var H8M,i8M,v8M,b8M;H8M=P8M.markerHelper.highlighted;if(!H8M.length || !P8M.activeMarker){return;}H8M=[P8M.activeMarker];for(var N8M=H8M.length - 1;N8M >= +"0";N8M--){i8M=H8M[N8M];v8M=i8M.params.node;b8M=v8M.expand;while(b8M.lastElementChild.nodeName === "CONSOLIDATED"){b8M.removeChild(b8M.lastElementChild);}}};c7M.Marker.Performance.drawMarkers=function(G8M){var S8M,k8M,F8M,T8M,c8M,V8M;S8M=G8M.getMarkerArray("all");k8M=G8M.chart;Y6AA.V8TT();for(var E8M=0;E8M < S8M.length;E8M++){F8M=S8M[E8M];T8M=F8M.stxNodeCreator;c8M=k8M.dataSegment[0].tick;V8M=k8M.dataSegment[k8M.dataSegment.length - 1].tick;if(c8M <= F8M.tick <= V8M){if(T8M && T8M.drawMarker){T8M.drawMarker(F8M);}}}};c7M.Marker.Performance.calculateMarkerStyles=function(L8M,q8M,D9M){var n8M,v5h,O8M,C5h,a9M;n8M=document.querySelector(".stx-marker-templates");Y6AA.V8TT();if(!n8M){v5h="-10";v5h+="00";v5h+="px";n8M=document.createElement("DIV");n8M.style.visibility="hidden";n8M.style.left=v5h;document.body.append(n8M);}n8M.appendChild(q8M.node);O8M=getComputedStyle(q8M.stxNodeCreator.visual);if(!L8M.styles.stx_marker_stem){C5h=".stx-ste";C5h+="m";a9M=getComputedStyle(document.querySelector(C5h,q8M.node));L8M.styles.stx_marker_stem=L8M.cloneStyle(a9M);}L8M.styles[D9M]=L8M.cloneStyle(O8M);n8M.removeChild(q8M.node);};c7M.Marker.Performance.drawCircleMarker=function(A9M,t9M,I9M){var B9M,l9M,h9M,r9M,s9M,z9M,K9M,W9M;B9M=A9M.params.stx;l9M=B9M.chart;h9M=l9M.context;r9M=I9M.x;s9M=I9M.y;z9M=I9M.radius;K9M=I9M.label;W9M=I9M.color?I9M.color:t9M.backgroundColor;h9M.beginPath();Y6AA.C8TT();h9M.setLineDash([]);h9M.lineWidth=1;h9M.fillStyle=W9M;h9M.strokeStyle=W9M;h9M.font="normal bold 12px Roboto, Helvetica, sans-serif";h9M.arc(r9M,s9M,z9M,+"0",2 * Math.PI,![]);h9M.fill();h9M.stroke();h9M.closePath();if(K9M){h9M.fillStyle=c7M.colorsEqual("white",h9M.fillStyle)?"black":"white";h9M.fillText(K9M.charAt("0" & 2147483647).toUpperCase(),r9M - +"4",s9M + 1);}if(A9M.highlight || A9M.active){h9M.beginPath();Y6AA.d1n(4);h9M.arc(r9M,s9M,Y6AA.E1n(4,z9M),0,2 * Math.PI,!{});h9M.stroke();h9M.closePath();}};c7M.Marker.Performance.drawSquareMarker=function(R9M,w9M,M9M){var J9mT=Y6AA;var o9M,e9M,x9M,C9M,m9M,U9M,X9M,Y9M,y9M;o9M=R9M.params.stx;e9M=o9M.chart;x9M=e9M.context;C9M=M9M.x;m9M=M9M.y;U9M=M9M.half;X9M=M9M.label;Y9M=M9M.color?M9M.color:w9M.backgroundColor;J9mT.z1n(1);y9M=J9mT.E1n(2,U9M);x9M.beginPath();x9M.setLineDash([]);x9M.lineWidth=1;x9M.fillStyle=Y9M;x9M.strokeStyle=Y9M;x9M.font="normal bold 12px Roboto, Helvetica, sans-serif";J9mT.d1n(6);x9M.rect(J9mT.L1n(U9M,C9M),J9mT.L1n(U9M,m9M),y9M,y9M);x9M.fill();if(R9M.highlight || R9M.active){J9mT.d1n(24);x9M.rect(J9mT.E1n(C9M,U9M,4),J9mT.E1n(m9M,U9M,4,J9mT.d1n(24)),J9mT.E1n(8,y9M,J9mT.z1n(4)),J9mT.L1n(8,y9M,J9mT.d1n(4)));}J9mT.V8TT();x9M.stroke();x9M.closePath();if(X9M){x9M.fillStyle=c7M.colorsEqual("white",x9M.fillStyle)?"black":"white";x9M.fillText(X9M.charAt(0).toUpperCase(),C9M - 4,m9M + 1);}};c7M.Marker.Performance.drawCalloutMarker=function(j9M,d9M,Q9M){var x5h,s5h,i9M,v9M,p9M,Z9M,E9M,u9M,J9M,f9M,H9M,N9M,k9M,g9M,b9M,P9M;x5h="rgba(255";x5h+=",255,255,0.8)";s5h="normal";s5h+=" bold 12px Roboto, Helvetica, sans-serif";i9M=j9M.params.stx;v9M=i9M.chart;p9M=v9M.context;Z9M=j9M.params;E9M=Q9M.x;u9M=Q9M.y;J9M=Q9M.half;f9M=Q9M.midWidth;H9M=Q9M.headline;N9M=Q9M.color?Q9M.color:d9M.backgroundColor;k9M=J9M * 2 || 25;g9M=Math.round(p9M.measureText(H9M).width);b9M=f9M?f9M * 2:g9M + 8;p9M.beginPath();p9M.setLineDash([]);p9M.lineWidth=1;p9M.fillStyle=N9M;p9M.strokeStyle=N9M;p9M.font=s5h;p9M.rect(Z9M.box.x0,Z9M.box.y0,b9M,k9M);p9M.fill();p9M.stroke();p9M.closePath();p9M.beginPath();p9M.fillStyle=j9M.highlight || j9M.active?x5h:"rgba(255,255,255,0.65)";Y6AA.z1n(108);P9M=Y6AA.L1n(2,g9M,b9M,"20",2147483647);p9M.rect(Z9M.box.x0 + P9M,u9M - J9M,g9M + 40,22);p9M.fill();p9M.stroke();Y6AA.C8TT();p9M.closePath();p9M.fillStyle="black";p9M.fillText(H9M,Z9M.box.x0 + P9M + 10,u9M);};c7M.Marker.Performance.drawMarkerStem=function(T9M,V9M,S9M){var n9M,L9M,F9M,G9M,a0S,c9M,q9M,O9M;n9M=T9M.params.stx;L9M=n9M.chart;F9M=L9M.context;G9M=S9M.x;a0S=S9M.y;F9M.beginPath();Y6AA.C8TT();F9M.strokeStyle=V9M.borderLeftColor;Y6AA.d1n(6);F9M.setLineDash([1,Y6AA.L1n(0,"1")]);c9M=c7M.stripPX(V9M.height);q9M=S9M.invert?T9M.params.box.y0:T9M.params.box.y1;O9M=S9M.invert?T9M.params.box.y0 - c9M:T9M.params.box.y1 + c9M;F9M.moveTo(G9M,q9M);F9M.lineTo(G9M,O9M);F9M.stroke();F9M.closePath();};c7M.Marker.Performance.prototype.drawMarker=function(D0S){var c9mT=Y6AA;var B5h,t0S,I0S,R0S,X0S,y0S,r0S,K0S,W0S,Y0S,C0S,x0S,m0S,M0S,s0S,U0S,h0S,B0S,l0S,o0S,e0S,A0S,z0S,H5h;B5h="stx";B5h+="_marker_";t0S=D0S.params;I0S=D0S.params.stx;if(!I0S){return;}R0S=I0S.chart;X0S=R0S.dataSegment;if(!X0S.length){return;}y0S=I0S.panels[D0S.params.panelName];r0S=D0S.stxNodeCreator.params;K0S=r0S.type;W0S=r0S.category;Y0S=r0S.headline;C0S=r0S.displayCategory;x0S=r0S.color;m0S=r0S.invert;c9mT.z1n(109);M0S=c9mT.L1n(W0S,K0S,"_",B5h);if(!I0S.styles[M0S]){c7M.Marker.Performance.calculateMarkerStyles(I0S,D0S,M0S);}s0S=D0S.style=I0S.styles[M0S];U0S=I0S.styles.stx_marker_stem;c9mT.d1n(6);var S6R=c9mT.L1n(130,140);c9mT.z1n(110);var d6R=c9mT.L1n(103,11,15,0,13);h0S=parseInt(s0S.height,S6R) / d6R;c9mT.d1n(6);var y6R=c9mT.E1n(14,24);c9mT.d1n(5);var F6R=c9mT.E1n(1,17,18);B0S=parseInt(s0S.width,y6R) / F6R;l0S=r0S.displayStem?parseInt(U0S.height,"10" * 1) + parseInt(U0S.marginBottom,10):0;c9mT.z1n(111);var c6R=c9mT.L1n(199,11,1,19);o0S=l0S + parseInt(s0S.height,c6R);e0S=l0S?l0S + h0S:0;A0S=I0S.pixelFromDate(t0S.x);z0S=t0S.node.calculateYPosition({marker:D0S,panel:y0S,height:o0S,half:h0S,offset:e0S,inverted:m0S});if(!D0S.tick && D0S.tick !== 0){return;}t0S.box={x0:A0S - (B0S || h0S),y0:z0S - h0S,x1:A0S + (B0S || h0S),y1:z0S + h0S,midY:h0S,midX:B0S || h0S,stemHeight:l0S};if(!C0S){W0S=C0S;}I0S.startClip(y0S.name);if(K0S === "circle"){c7M.Marker.Performance.drawCircleMarker(D0S,s0S,{x:A0S,y:z0S,radius:h0S,label:W0S,color:x0S});}else if(K0S === "square"){c7M.Marker.Performance.drawSquareMarker(D0S,s0S,{x:A0S,y:z0S,half:h0S,label:W0S,color:x0S});}else if(K0S === "callout"){c7M.Marker.Performance.drawCalloutMarker(D0S,s0S,{x:A0S,y:z0S,half:h0S,midWidth:B0S,headline:Y0S,color:x0S});}else {H5h="M";H5h+="ar";H5h+="ker type:";H5h+=" ";c9mT.z1n(91);console.warn(c9mT.L1n(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",K0S,H5h));}if(r0S.displayStem){c7M.Marker.Performance.drawMarkerStem(D0S,U0S,{x:A0S,y:z0S,invert:m0S});}I0S.endClip();if(D0S.attached){this.positionPopUpNode(D0S);}};c7M.Marker.Performance.prototype.positionPopUpNode=function(p0S){var C9mT=Y6AA;var J0S,Z0S,w0S,f0S,g0S,Q0S,H0S,u5h,v0S,k0S,d0S,E0S,H3n,u3n,e3n,N0S,j0S,i0S,b0S,u0S,P0S,F0S;if(!p0S.attached || !p0S.params.box){return;}J0S=p0S.params;Z0S=J0S.stx;w0S=J0S.box;f0S=p0S.params.node.expand;g0S=Z0S.chart.dataSet;Q0S=Z0S.chart.dataSegment;if(p0S.tick){u5h="D";u5h+="at";u5h+="e";v0S=[g0S[Q0S[0] && Q0S[0].tick - 1],g0S[Q0S[0] && Q0S[0].tick - ("2" >> 2097498080)]];k0S=Z0S.getFirstLastDataRecord(v0S.concat(Q0S),u5h);C9mT.d1n(98);var g6R=C9mT.L1n(8,66,5,15,0);C9mT.d1n(35);var M6R=C9mT.E1n(0,12,95,8);C9mT.z1n(66);var O6R=C9mT.E1n(4,239,20,15);d0S=[g0S[Q0S[Q0S.length - g6R].tick + M6R],g0S[Q0S[Q0S.length - ("1" | O6R)].tick + ("2" - 0)]];E0S=Z0S.getFirstLastDataRecord(Q0S.concat(d0S),"Date",! ![]);H0S=k0S.DT <= g0S[p0S.tick].DT && g0S[p0S.tick].DT <= E0S.DT;}else {H3n=2020496734;u3n=-615173540;e3n=2;for(var R3n=1;C9mT.g5n(R3n.toString(),R3n.toString().length,+"95081") !== H3n;R3n++){H0S=! !{};e3n+=2;}if(C9mT.g5n(e3n.toString(),e3n.toString().length,+"872") !== u3n){H0S=!0;}H0S=!"1";}if(!p0S.highlight && !p0S.active){H0S=! !"";}f0S.style.visibility=H0S?"":"hidden";if(!H0S){return;}N0S=Z0S.panels[J0S.panelName];j0S=f0S.rects;C9mT.z1n(112);var I6R=C9mT.L1n(9,9,18,169);i0S=j0S.height / I6R;u0S=p0S.node.params.infoOffset || 0;if(p0S.node.params.infoOnLeft){b0S=w0S.x0 - j0S.width - u0S < N0S.left?w0S.x1 + u0S:w0S.x0 - j0S.width - u0S;}else {b0S=w0S.x0 + j0S.width > N0S.right?w0S.x0 - j0S.width - u0S:w0S.x1 + u0S;}b0S-=Z0S.chart.left;P0S=w0S.y0 - i0S >= N0S.top?w0S.y0 + w0S.midY - i0S:w0S.y0;if(!J0S.avoidFlush && w0S.y1 + w0S.stemHeight === N0S.yAxis.bottom && j0S.height > w0S.y1 - w0S.y0 + w0S.stemHeight){P0S=w0S.y1 - j0S.height + w0S.stemHeight;}P0S-=Z0S.chart.panel.top;F0S="translateX(" + Math.floor(b0S) + "px) translateY(" + Math.floor(P0S) + "px) translateZ(0)";f0S.style.transform=F0S;f0S.transform={translateX:b0S,translateY:P0S};};c7M.Marker.Performance.prototype.quickCache=function(G0S){var c0S,T0S,S0S,V0S;c0S=G0S.params.node;T0S=c0S.expand;S0S=G0S.style;V0S=c7M.stripPX(S0S.marginLeft) + c7M.stripPX(S0S.marginRight) + c7M.stripPX(S0S.borderRight) + c7M.stripPX(S0S.borderLeft);T0S.rects=T0S.getBoundingClientRect();T0S.scrollBarWidth=T0S.rects.width - T0S.clientWidth - V0S;};c7M.Marker.Performance.prototype.calculateYPosition=function(l2S){var G5h,e5h,K2S,L0S,f2S,t2S,D2S,N2S,q0S,P2S,k2S,O0S,X2S,c2S,n0S,V2S,n2S;G5h="o";G5h+="n";G5h+="_";G5h+="candle";e5h="belo";e5h+="w_c";e5h+="andle";K2S=l2S.marker;L0S=l2S.panel;f2S=l2S.height;t2S=l2S.half;D2S=l2S.offset;N2S=l2S.inverted;q0S=K2S.params.stx;P2S=q0S.chart;k2S=q0S.chart.highLowBars;O0S=P2S.dataSet[K2S.tick];if(!O0S){return;}X2S=k2S?O0S.High:O0S.Close;c2S=K2S.params.yPositioner;switch(c2S){case "value":if(K2S.params.y || K2S.params.y === 0){Y6AA.d1n(25);var m6R=Y6AA.E1n(20,339,17);n0S=q0S.pixelFromPrice(K2S.params.y,L0S) - f2S * ("0.5" * m6R) + t2S;}else {n0S=q0S.pixelFromPrice(X2S,L0S) - D2S;}break;case "above_candle":n0S=q0S.pixelFromPrice(X2S,L0S) - D2S;break;case e5h:n0S=q0S.pixelFromPrice(O0S.Low || X2S,L0S);if(N2S && D2S){n0S+=D2S;}else {n0S+=t2S;}break;case G5h:(V2S=O0S.High || O0S.Close,n2S=O0S.Low || O0S.Low === 0 || O0S.Close);Y6AA.z1n(63);var b6R=Y6AA.E1n(26,18,3,8);n0S=q0S.pixelFromPrice((V2S + n2S) / b6R,L0S) - f2S * 0.5 + t2S;break;case "top":n0S=q0S.pixelFromPrice(L0S.yAxis.high,L0S);if(N2S && D2S){n0S+=D2S;}else {n0S+=t2S;}break;case "bottom":n0S=q0S.pixelFromPrice(L0S.yAxis.low,L0S) - (D2S || t2S);break;default:break;}return n0S;};c7M.Marker.Performance.prototype.prepareForHolder=function(a3S){var q2S,D3S;q2S=this.expand;D3S=a3S.params.stx;q2S.classList.add(this.params.type);D3S.markerHelper.domMarkers.push(a3S);return q2S;};c7M.Marker.Performance.prototype.addToHolder=function(r3S){var I3S,h3S;I3S=this.expand;h3S=r3S.params.stx;c7M.Marker.Performance.reconstituteExpanded(h3S);function s3S(A3S){h3S.activeMarker=r3S;h3S.activeMarker.click({cx:A3S.clientX,cy:A3S.clientY,panel:h3S.currentPanel});A3S.stopPropagation();}c7M.Marker.Performance.consolidateExpanded(h3S);Y6AA.V8TT();this.quickCache(r3S);if(I3S.clickClosure){return;}I3S.addEventListener("mousedown",s3S);I3S.addEventListener("touchstart",s3S);I3S.clickClosure=s3S;};c7M.Marker.Performance.prototype.remove=function(K3S){var z3S,B3S,l3S,W3S;z3S=K3S.params.stx;Y6AA.C8TT();if(!z3S){return;}if(!z3S.markerHelper.domMarkers){return;}B3S=z3S.markerHelper.domMarkers.indexOf(K3S);if(B3S != -("1" | 1)){z3S.markerHelper.domMarkers.splice(B3S,1);}if(K3S.attached){l3S=z3S.panels[K3S.params.panelName];W3S=K3S.params.node.expand;if(W3S.parentNode === l3S.subholder){l3S.subholder.removeChild(W3S);}W3S.removeEventListener("click",W3S.clickClosure);}};c7M.Marker.Performance.prototype.click=function(y3S){var M3S,C3S,x3S;if(!this.hasText){return;}if(typeof arguments[0] === "number"){y3S={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:U3S, cy:m3S, marker:t3S, panel:R3S}=y3S;M3S=t3S.params.stx;if(t3S.attached){x3S=this.expand;if(x3S.rects.width - x3S.scrollBarWidth + x3S.transform.translateX < M3S.backOutX(U3S) && M3S.backOutX(U3S) < x3S.rects.width + x3S.transform.translateX){return;}this.remove(t3S);}else {M3S.addToHolder(t3S);C3S=!"";}t3S.attached=!t3S.attached;t3S.active=!t3S.active;if(C3S){t3S.stxNodeCreator.positionPopUpNode(t3S);}};}};s4T=Y3S=>{var R5h,X3S;R5h="unde";R5h+="fi";R5h+="ned";X3S=typeof _CIQ !== R5h?_CIQ:Y3S.CIQ;X3S.Renderer.OHLC.requestNew=function(J3S,o3S){var e3S,p3S,Q3S,Z3S,j3S,g3S,P5h,X5h,J5h,u3S;e3S=null;p3S=o3S.hlc;Q3S=o3S.colored;Z3S=o3S.hollow;j3S=o3S.volume;g3S=o3S.histogram;for(var w3S=+"0";w3S < J3S.length;w3S++){P5h="h";P5h+="l";P5h+="c";X5h="c";X5h+="o";X5h+="l";X5h+="ored";J5h="holl";J5h+="ow";u3S=J3S[w3S];switch(u3S){case "bar":case "candle":e3S=u3S;break;case "volume":j3S=! !1;break;case J5h:Z3S=! ![];break;case X5h:Q3S=! !{};break;case "histogram":g3S=!0;e3S="candle";break;case P5h:p3S=! ![];e3S="bar";break;default:return null;}}if(e3S === null){return null;}return new X3S.Renderer.OHLC({params:X3S.extend(o3S,{type:e3S,hlc:p3S,colored:Q3S,hollow:Z3S,volume:j3S,histogram:g3S})});};X3S.Renderer.OHLC.getChartParts=function(k3S,v3S){var i2h,W2h,U2h,A2h,w2h,Q2h,b2h,I2h,O2h,M2h,g2h,c2h,F2h,y2h,d2h,S2h,L2h,Y2h,T2h,j2h,Z2h,o2h,E2h,z2h,r2h,K5h,D5h,t5h,q5h,l5h,h5h,k5h,V5h,N5h,n5h,f5h,N3S,b3S,P3S,f3S,H3S,i3S;i2h="bor";i2h+="der_color_even";W2h="stx_h";W2h+="ollow_candle_even";U2h="ca";U2h+="ndle";A2h="border_c";A2h+="o";A2h+="lor_dow";A2h+="n";w2h="stx_hollow_cand";w2h+="le";w2h+="_d";w2h+="own";Q2h="stx_hollo";Q2h+="w";Q2h+="_candle";Q2h+="_up";b2h="stx_hollow_can";b2h+="d";b2h+="le_even";I2h="b";I2h+="order_color_";I2h+="dow";I2h+="n";O2h="fi";O2h+="ll_color_up";M2h="stx_";M2h+="hollow_";M2h+="can";M2h+="dle_up";g2h="c";g2h+="andle";c2h="border_color_e";c2h+="v";c2h+="en";F2h="ho";F2h+="l";F2h+="low";y2h="h";y2h+="o";y2h+="llow";d2h="bor";d2h+="der_colo";d2h+="r_";d2h+="up";S2h="s";S2h+="ha";S2h+="d";S2h+="ow";L2h="border_c";L2h+="olor_down";Y2h="fill_col";Y2h+="or_d";Y2h+="own";T2h="st";T2h+="x";T2h+="_can";T2h+="dle_down";j2h="c";j2h+="an";j2h+="d";j2h+="le";Z2h="bo";Z2h+="rder_color_up";o2h="stx_";o2h+="candle_up";E2h="border_colo";E2h+="r";E2h+="_";E2h+="even";z2h="c";z2h+="an";z2h+="d";z2h+="le";r2h="stx_candl";r2h+="e_shadow_";r2h+="up";K5h="s";K5h+="had";K5h+="o";K5h+="w";D5h="c";D5h+="a";D5h+="n";D5h+="dle";t5h="stx_candle_sha";t5h+="do";t5h+="w";q5h="b";q5h+="a";q5h+="r";l5h="b";l5h+="a";l5h+="r";h5h="bor";h5h+="de";h5h+="r_color_up";k5h="st";k5h+="x";k5h+="_bar";k5h+="_up";V5h="border_c";V5h+="olor_e";V5h+="ven";N5h="bor";N5h+="d";N5h+="er_color_down";n5h="fill_co";n5h+="l";n5h+="or_do";n5h+="wn";f5h="histo";f5h+="g";f5h+="ram";Y6AA.d1n(0);N3S=Y6AA.E1n(2147483647,"1");b3S=2;P3S=4;Y6AA.d1n(18);f3S=Y6AA.E1n("8",1112287232);H3S=16;i3S=32;return [{type:f5h,drawType:"histogram",style:"stx_histogram_up",condition:f3S,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!""},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:H3S,fill:n5h,border:N5h,useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:i3S,fill:"fill_color_even",border:V5h,skipIfPass:! ![],useColorInMap:! !1,useBorderStyleProp:!""},{type:"bar",drawType:"bar",style:k3S || "stx_bar_chart",border:"border_color",useColorInMap:!""},{type:"bar",drawType:"bar",style:k5h,condition:v3S?f3S:N3S,border:h5h,useColorInMap:! ![]},{type:l5h,drawType:"bar",style:"stx_bar_down",condition:v3S?H3S:b3S,border:"border_color_down",useColorInMap:!""},{type:q5h,drawType:"bar",style:"stx_bar_even",condition:v3S?i3S:P3S,border:"border_color_even",skipIfPass:! ![],useColorInMap:! !"1"},{type:"candle",drawType:"shadow",style:t5h,border:"border_color_up"},{type:D5h,drawType:K5h,style:r2h,condition:f3S,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:H3S,border:"border_color_down"},{type:z2h,drawType:"shadow",style:"stx_candle_shadow_even",condition:i3S,border:E2h,skipIfPass:! !{}},{type:"candle",drawType:"candle",style:o2h,condition:f3S,fill:"fill_color_up",border:Z2h,useColorInMap:! !{},useBorderStyleProp:!""},{type:"candle",drawType:j2h,style:T2h,condition:H3S,fill:Y2h,border:L2h,useColorInMap:!0,useBorderStyleProp:! !"1"},{type:"hollow",drawType:S2h,style:"stx_hollow_candle_up",condition:N3S,border:d2h},{type:y2h,drawType:"shadow",style:"stx_hollow_candle_down",condition:b3S,border:"border_color_down"},{type:F2h,drawType:"shadow",style:"stx_hollow_candle_even",condition:P3S,border:c2h,skipIfPass:! !{}},{type:"hollow",drawType:g2h,style:M2h,condition:N3S | H3S,fill:O2h,border:"border_color_up",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:b3S | H3S,fill:"fill_color_down",border:I2h,useColorInMap:! !1},{type:"hollow",drawType:"candle",style:b2h,condition:P3S | H3S,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !{},useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:Q2h,condition:N3S | f3S,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:w2h,condition:b3S | f3S,fill:"fill_color_down",border:A2h},{type:"hollow",drawType:U2h,style:W2h,condition:P3S | f3S,fill:"fill_color_even",border:i2h}];;};X3S.Renderer.Bars=function(E3S){var m0n,b0n,Q0n,d3S;this.construct(E3S);m0n=193269955;b0n=-1957915210;Q0n=2;for(var A0n=1;Y6AA.c5n(A0n.toString(),A0n.toString().length,56043) !== m0n;A0n++){d3S=this.params;d3S.type="";Q0n+=2;}if(Y6AA.g5n(Q0n.toString(),Q0n.toString().length,64665) !== b0n){d3S=this.params;d3S.type="";}d3S=this.params;d3S.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;d3S.hlc=d3S.volume=d3S.hollow=d3S.histogram=!{};};X3S.inheritsFrom(X3S.Renderer.Bars,X3S.Renderer.OHLC,!{});X3S.Renderer.HLC=function(T3S){var F3S;this.construct(T3S);F3S=this.params;F3S.type="bar";F3S.hlc=! ![];this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";F3S.volume=F3S.hollow=F3S.histogram=! !0;};X3S.inheritsFrom(X3S.Renderer.HLC,X3S.Renderer.Bars,![]);X3S.Renderer.Shading=function(S3S){var v2h;v2h="ra";v2h+="ngech";v2h+="an";v2h+="nel";this.construct(S3S);Y6AA.V8TT();this.beenSetup=!{};this.errTimeout=null;this.params.useChartLegend=! !0;this.shading=[];if(this.params.type == v2h){this.highLowBars=! ![];}};X3S.inheritsFrom(X3S.Renderer.Shading,X3S.Renderer.Lines,!1);X3S.Renderer.Shading.requestNew=function(V3S,L3S){var G3S,n3S;G3S=null;for(var c3S="0" & 2147483647;c3S < V3S.length;c3S++){n3S=V3S[c3S];if(n3S == "rangechannel"){G3S="rangechannel";}}if(G3S === null){return null;}return new X3S.Renderer.Shading({params:X3S.extend(L3S,{type:G3S})});};Y6AA.C8TT();X3S.Renderer.Shading.prototype.setShading=function(q3S){if(q3S.constructor != Array){q3S=[q3S];}this.shading=q3S;};X3S.Renderer.Shading.prototype.draw=function(){var y0TT=Y6AA;var H2h,C2h,D4S,h4S,B2h,x2h,s2h,t4S,r4S,x4S,z4S,M4S,I4S,a4S,K4S,w6n,A6n,U6n,u2h,W4S,U4S,e2h,R2h,G2h,O3S,A4S,B4S,l4S,s4S;H2h="ra";H2h+="nge";H2h+="channel";C2h="rangechanne";C2h+="l";D4S=this.stx;h4S=D4S.panels[this.params.panel].chart;if(this.params.type == C2h){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[+"2"].id);}}else {B2h="s";B2h+="tx_line";B2h+="_down";x2h="s";x2h+="t";x2h+="x_line_";x2h+="up";s2h="a";s2h+="ut";s2h+="o";this.beenSetup=!0;this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;t4S=this.seriesParams[0].color || s2h;r4S=this.seriesParams[0].symbol;x4S="";if(r4S){y0TT.d1n(4);x4S=y0TT.L1n((+"442.16",834.39) <= 1500?("301.76" - 0,194) != (2339,+"6590")?".":"r":("v",4.74e+3),r4S);}this.removeAllSeries(! ![]);z4S=this.params.name;D4S.addSeries(null,{symbol:r4S,loadData:! !r4S,field:"High",renderer:"Shading",name:z4S,style:x2h,display:this.params.display,shareYAxis:! ![]});D4S.addSeries(null,{symbol:r4S,loadData:! !r4S,field:"Low",renderer:"Shading",name:z4S,style:B2h,display:this.params.display,shareYAxis:!0});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:t4S});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");M4S=this;this.errTimeout=setTimeout(function(){M4S.errTimeout=null;},10000);}}I4S={};function y4S(R4S){var C4S,X4S,m4S;C4S=I4S[R4S];y0TT.V8TT();if(C4S){X4S=C4S.parameters.field;m4S=C4S.parameters.subField;y0TT.d1n(4);return y0TT.E1n(m4S?((7320,+"42.36") > (3881,397.36)?(57.65,! !{}):(5859,3290) > (117.28,861.09)?".":(4182,1390) != 6550?(544.56,"i"):9.55e+3) + m4S:"",X4S);}return R4S;}y0TT.V8TT();for(a4S=+"0";a4S < this.seriesParams.length;a4S++){K4S={};if(h4S.series[this.seriesParams[a4S].id]){K4S=X3S.clone(h4S.series[this.seriesParams[a4S].id].parameters);}I4S[this.seriesParams[a4S].id]={parameters:X3S.extend(X3S.extend(K4S,this.params),this.seriesParams[a4S]),yValueCache:this.caches[this.seriesParams[a4S].id]};}D4S.drawSeries(h4S,I4S,this.params.yAxis,this);if(h4S.legend && this.params.type == H2h){if(!h4S.legend.colorMap){h4S.legend.colorMap={};}w6n=895466122;A6n=1990904952;y0TT.z1n(47);U6n=y0TT.E1n("2",0);for(var i6n=1;y0TT.g5n(i6n.toString(),i6n.toString().length,36483) !== w6n;i6n++){u2h="stx_";u2h+="l";u2h+="ine_down";W4S=this.params.display;U4S=[D4S.getCanvasColor("stx_line_up"),D4S.getCanvasColor(u2h)];y0TT.z1n(0);U6n+=y0TT.L1n(2147483647,"2");}if(y0TT.g5n(U6n.toString(),U6n.toString().length,+"9810") !== A6n){e2h="stx";e2h+="_lin";e2h+="e_down";W4S=this.params.display;U4S=[D4S.getCanvasColor(e2h),D4S.getCanvasColor("stx_line_down")];}h4S.legend.colorMap[W4S]={color:U4S,display:W4S,isBase:this == D4S.mainSeriesRenderer};;}for(a4S in I4S){this.caches[a4S]=I4S[a4S].yValueCache;}for(a4S=0;a4S < this.shading.length;a4S++){R2h="Clos";R2h+="e";G2h="a";G2h+="u";G2h+="t";G2h+="o";O3S=this.shading[a4S];A4S=O3S.color;if(O3S.color == G2h){A4S=D4S.defaultColor;}if(!O3S.primary){O3S.primary=R2h;}if(!O3S.secondary && this.seriesParams[0]){O3S.secondary=this.seriesParams[+"0"].field;}if(!O3S.secondary)continue;else if(!I4S[O3S.primary] && O3S.primary != "Close")continue;else if(!I4S[O3S.secondary])continue;else if(O3S.primary == "Close" && this.params.yAxis && this.params.yAxis != h4S.yAxis)continue;B4S=y4S(O3S.primary).split((+"6910",1810) !== 315.26?(5933,2830) >= 8080?!{}:".":(0x20ac,0x1b87));l4S=y4S(O3S.secondary).split((406.89,"293" * 1) >= (+"5160",2830)?(+"7.77e+3",! !""):".");s4S={topBand:B4S[0],topSubBand:B4S["1" & 2147483647],topColor:O3S.greater || A4S || D4S.containerColor,topAxis:this.params.yAxis,bottomBand:l4S[0],bottomSubBand:l4S[1],bottomColor:O3S.lesser || A4S || D4S.containerColor,bottomAxis:O3S.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || h4S.tension,opacity:0.1};if(!s4S.topColor && !s4S.bottomColor)continue;if(!this.params.highlight && D4S.highlightedDraggable){s4S.opacity*=0.3;}X3S.fillIntersecting(D4S,this.params.panel,s4S);}};X3S.Renderer.Histogram=function(Y4S){var E3n,o3n,Z3n;this.construct(Y4S);this.params.type="histogram";Y6AA.C8TT();this.barsHaveWidth=this.standaloneBars=! !1;if(this.params.yAxis){E3n=2047572983;o3n=161164582;Z3n=2;for(var p3n=1;Y6AA.g5n(p3n.toString(),p3n.toString().length,49103) !== E3n;p3n++){this.params.bindToYAxis=! ![];Z3n+=2;}if(Y6AA.c5n(Z3n.toString(),Z3n.toString().length,87621) !== o3n){this.params.bindToYAxis=!{};}if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};X3S.inheritsFrom(X3S.Renderer.Histogram,X3S.Renderer,![]);X3S.Renderer.Histogram.prototype.adjustYAxis=function(){var o4S;o4S=this.params.yAxis;if(!o4S || o4S.baseline){return;}o4S.min=+"0";o4S.highValue/=this.params.heightPercentage || 1;};X3S.Renderer.Histogram.prototype.draw=function(){var J2h,e4S,w4S,P2h,p4S,Q4S;J2h="sta";J2h+="ck";J2h+="ed";e4S=X3S.clone(this.params);e4S.type=e4S.subtype;this.useSum=e4S.subtype == J2h;if(!e4S.yAxis || e4S.yAxis == this.stx.chart.yAxis){e4S.bindToYAxis=! !"1";}this.stx.drawHistogram(e4S,this.seriesParams);w4S=e4S.yAxis && e4S.yAxis.baseline;if(w4S && w4S.color){P2h="soli";P2h+="d";p4S=this.stx.panels[this.params.panel];Q4S=this.stx.pixelFromPrice(w4S.value,p4S,this.params.yAxis) - 0.5;this.stx.plotLine({x0:p4S.left,x1:p4S.right,y0:Q4S,y1:Q4S,color:w4S.color,type:"line",context:p4S.chart.context,confineToPanel:p4S,pattern:w4S.pattern || P2h,lineWidth:w4S.lineWidth || 1,opacity:w4S.opacity || 0.8,globalCompositeOperation:"destination-over"});}};X3S.Renderer.Histogram.prototype.getBasis=function(J4S,f4S,H4S){var g4S,u4S,Z4S;g4S=0;if(J4S && this.useSum){for(var j4S=0;j4S < this.seriesParams.length;j4S++){u4S=this.seriesParams[j4S].field;if(u4S === f4S)break;Z4S=J4S[u4S];if(Z4S && typeof Z4S === "object"){Z4S=Z4S[H4S || this.seriesParams[j4S].subField || this.stx.chart.defaultPlotField || "Close"];}if(Z4S){g4S+=Z4S;}}}Y6AA.V8TT();return g4S;};X3S.Renderer.Heatmap=function(N4S){this.construct(N4S);this.params.type="heatmap";this.params.highlightable=!"1";this.barsHaveWidth=this.standaloneBars=!0;};X3S.inheritsFrom(X3S.Renderer.Heatmap,X3S.Renderer,!{});X3S.Renderer.Heatmap.requestNew=function(i4S,k4S){var b4S,f2h,v4S;b4S=null;for(var P4S=0;P4S < i4S.length;P4S++){f2h="h";f2h+="eatm";f2h+="ap";v4S=i4S[P4S];if(v4S == "heatmap"){b4S=f2h;}}if(b4S === null){return null;}return new X3S.Renderer.Heatmap({params:X3S.extend(k4S,{type:b4S})});};X3S.Renderer.Heatmap.prototype.draw=function(){Y6AA.C8TT();this.stx.drawHeatmap(X3S.clone(this.params),this.seriesParams);};X3S.Renderer.Scatter=function(d4S){Y6AA.V8TT();this.construct(d4S);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=!0;};X3S.inheritsFrom(X3S.Renderer.Scatter,X3S.Renderer.Lines,! !0);X3S.Renderer.Scatter.requestNew=function(T4S,G4S){var E4S,n2h,S4S;Y6AA.C8TT();E4S=null;for(var F4S=+"0";F4S < T4S.length;F4S++){n2h="scatt";n2h+="er";n2h+="plot";S4S=T4S[F4S];if(S4S == n2h){E4S="scatter";}}if(E4S === null){return null;}return new X3S.Renderer.Scatter({params:X3S.extend(G4S,{type:E4S})});};X3S.Renderer.Scatter.prototype.drawIndividualSeries=function(L4S,V4S){var n4S,c4S;n4S=this.stx.panels[V4S.panel] || L4S.panel;Y6AA.V8TT();c4S={colors:[]};if(this.stx.scatter){c4S=this.stx.scatter(n4S,V4S);}else {console.warn("Error, Scatter renderer requires customChart.js");}return c4S;};};A4T=O4S=>{var J6n,X6n,P6n,q4S;Y6AA.d1n(6);J6n=Y6AA.L1n(0,"1120993831");X6n=-2092807177;P6n=+"2";for(var n6n=+"1";Y6AA.g5n(n6n.toString(),n6n.toString().length,95363) !== J6n;n6n++){q4S=+_CIQ === ""?_CIQ:O4S.CIQ;P6n+=2;}if(Y6AA.c5n(P6n.toString(),P6n.toString().length,"95360" | 65536) !== X6n){q4S=+_CIQ === ""?_CIQ:O4S.CIQ;}q4S=typeof _CIQ !== "undefined"?_CIQ:O4S.CIQ;if(!q4S.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {q4S.Studies.calculateAccumulationDistribution=function(z6S,I6S){Y6AA.C8TT();var A6S,a6S,h6S,r6S,s6S;A6S=I6S.chart.scrubbed;for(var D6S=I6S.startFrom;D6S < A6S.length;D6S++){if(!D6S)continue;a6S=A6S[D6S];if(a6S.futureTick)break;Y6AA.d1n(6);h6S=A6S[Y6AA.E1n(1,D6S)];r6S=0;if(a6S.Close > h6S.Close){r6S=a6S.Close - Math.min(a6S.Low,h6S.Close);}else if(a6S.Close < h6S.Close){r6S=a6S.Close - Math.max(a6S.High,h6S.Close);}if(I6S.inputs["Use Volume"]){r6S*=a6S.Volume;}s6S=h6S["Result " + I6S.name];if(!s6S){s6S=0;}s6S+=r6S;if(!isNaN(a6S.Close)){a6S["Result " + I6S.name]=s6S;}}};q4S.Studies.studyLibrary=q4S.extend(q4S.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:q4S.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});}};z4T=W6S=>{var N2h,K6S,o7h,E7h;Y6AA.V8TT();N2h="undefin";N2h+="ed";K6S=typeof _CIQ !== N2h?_CIQ:W6S.CIQ;if(!K6S.Studies){console.error("adx feature requires first activating studies feature.");}else {o7h="#F";o7h+="F";o7h+="0000";E7h="A";E7h+="DX/DMS";K6S.Studies.calculateADX=function(Z6S,B6S){var y9mT=Y6AA;var V2h,x6S,M6S,U6S,R6S,X6S,Y6S,o6S,l6S,l2h,y6S,C6S,k2h,h2h,e6S,w6S,p6S,q2h,t2h,Q6S;V2h="Smooth";V2h+="ing Period";K6S.Studies.calculateStudyATR(Z6S,B6S);x6S=B6S.chart.scrubbed;M6S=B6S.days;U6S=parseInt(B6S.inputs[V2h],10);if(!U6S && U6S !== 0){U6S=M6S;}if(x6S.length < B6S.days + ("1" ^ 0)){B6S.error=! !{};return;}R6S=0;X6S=0;Y6S=0;o6S=0;for(var t6S=Math.max(1,B6S.startFrom);t6S < x6S.length;t6S++){l2h="_";l2h+="s";l2h+="mTR";l2h+=" ";l6S=x6S[t6S];y6S=Math.max(0,l6S.High - x6S[t6S - 1].High);C6S=Math.max(0,x6S[t6S - 1].Low - l6S.Low);if(y6S > C6S){C6S=0;}else if(C6S > y6S){y6S=+"0";}else {y6S=C6S=+"0";}if(t6S <= M6S){k2h="T";k2h+="rue ";k2h+="Range ";X6S+=y6S;Y6S+=C6S;R6S+=l6S[k2h + B6S.name];}else {h2h="_sm";h2h+="-";h2h+="D";h2h+="M ";y9mT.z1n(2);var Q6R=y9mT.L1n(5,91,18);y9mT.d1n(113);var w6R=y9mT.L1n(11,9,11,1,9);X6S=x6S[t6S - "1" * Q6R]["_sm+DM " + B6S.name] * (M6S - w6R) / M6S + y6S;y9mT.z1n(25);var A6R=y9mT.L1n(19,170,9);y9mT.d1n(114);var U6R=y9mT.E1n(12,29,12,6);Y6S=x6S[t6S - A6R][h2h + B6S.name] * (M6S - U6R) / M6S + C6S;y9mT.d1n(28);var W6R=y9mT.E1n(2,11,11);y9mT.z1n(13);var i6R=y9mT.L1n(0,7,5,13);R6S=x6S[t6S - W6R]["_smTR " + B6S.name] * (M6S - i6R) / M6S + l6S["True Range " + B6S.name];}l6S["_sm+DM " + B6S.name]=X6S;l6S["_sm-DM " + B6S.name]=Y6S;l6S[l2h + B6S.name]=R6S;if(t6S < M6S)continue;y9mT.d1n(115);e6S=y9mT.E1n("100",64,R6S,X6S);y9mT.z1n(78);w6S=y9mT.E1n(R6S,100,Y6S);y9mT.d1n(29);var v6R=y9mT.E1n(85,85,99);p6S=v6R * Math.abs(e6S - w6S) / (e6S + w6S);l6S["+DI " + B6S.name]=e6S;l6S["-DI " + B6S.name]=w6S;if(B6S.inputs.Series !== ! !"" && U6S){if(t6S < M6S + U6S - +"1"){if(t6S == B6S.startFrom){for(var m6S=M6S;m6S < B6S.startFrom;m6S++){y9mT.d1n(39);var C6R=y9mT.L1n(20,1499,19,1600);o6S+=C6R * Math.abs(x6S[m6S]["+DI " + B6S.name] - x6S[m6S]["-DI " + B6S.name]) / (x6S[m6S]["+DI " + B6S.name] + x6S[m6S]["-DI " + B6S.name]);}}o6S+=p6S;}else if(t6S == M6S + U6S - 1){y9mT.z1n(12);l6S["ADX " + B6S.name]=y9mT.L1n(U6S,o6S);}else {q2h="AD";q2h+="X ";y9mT.d1n(25);var s6R=y9mT.E1n(2,1,1);y9mT.z1n(16);var x6R=y9mT.L1n(13,14);l6S["ADX " + B6S.name]=(x6S[t6S - s6R][q2h + B6S.name] * (U6S - x6R) + p6S) / U6S;}}if(B6S.inputs.Histogram){t2h="+";t2h+="D";t2h+="I ";Q6S=B6S.name + "_hist";if(!l6S[t2h + B6S.name] && l6S["+DI " + B6S.name] !== 0)continue;if(!l6S["-DI " + B6S.name] && l6S["-DI " + B6S.name] !== 0)continue;l6S[Q6S]=l6S["+DI " + B6S.name] - l6S["-DI " + B6S.name];if(B6S.inputs.Series === ! !0){l6S["+DI " + B6S.name]=null;l6S["-DI " + B6S.name]=null;}B6S.outputMap[Q6S]="";}}};K6S.Studies.displayADX=function(g6S,j6S,N6S){var r7h,K2h,b6S,u6S,J6S,P6S,i6S,f6S,H6S;r7h="Nothin";r7h+="g to dis";r7h+="play";K2h=":";K2h+=" ";b6S=j6S.underlay?0.3:j6S.inputs.Series?0.4:1;if(j6S.inputs.Series && j6S.inputs.Shading){u6S="+DI " + j6S.name;J6S="-DI " + j6S.name;P6S=K6S.Studies.determineColor(j6S.outputs[j6S.outputMap[u6S]]);i6S=K6S.Studies.determineColor(j6S.outputs[j6S.outputMap[J6S]]);f6S=j6S.getYAxis(g6S);H6S={topBand:u6S,bottomBand:J6S,topColor:P6S,bottomColor:i6S,skipTransform:g6S.panels[j6S.panel].name != j6S.chart.name,topAxis:f6S,bottomAxis:f6S,opacity:"0.3" * 1};if(!j6S.highlight && g6S.highlightedDraggable){H6S.opacity*=0.3;}K6S.fillIntersecting(g6S,j6S.panel,H6S);}if(j6S.inputs.Histogram){K6S.Studies.createHistogram(g6S,j6S,N6S,!{},b6S);}if(j6S.inputs.Series !== !{}){K6S.Studies.displaySeriesAsLine(g6S,j6S,N6S);}else if(!j6S.inputs.Series && !j6S.inputs.Histogram){g6S.displayErrorAsWatermark(j6S.panel,g6S.translateIf(j6S.name) + K2h + g6S.translateIf(r7h));}};K6S.Studies.studyLibrary=K6S.extend(K6S.Studies.studyLibrary,{ADX:{name:E7h,calculateFN:K6S.Studies.calculateADX,seriesFN:K6S.Studies.displayADX,inputs:{Period:"14" | 6,"Smoothing Period":14,Series:! ![],Shading:![],Histogram:! !""},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":o7h}}});}};K4T=k6S=>{var j7h,v6S,A7h,w7h,Q7h,b7h;j7h="u";j7h+="ndefined";Y6AA.C8TT();v6S=typeof _CIQ !== j7h?_CIQ:k6S.CIQ;if(!v6S.Studies){console.error("alligator feature requires first activating studies feature.");}else {A7h="#";A7h+="FF0";A7h+="000";w7h="#0";w7h+="0";w7h+="DD00";Q7h="#F";Q7h+="F";Q7h+="00";Q7h+="00";b7h="#";b7h+="0000";b7h+="F";b7h+="F";v6S.Studies.calculateAlligator=function(V6S,F6S){var M9mT=Y6AA;var B5n,H5n,u5n,Y7h,T7h,T6S,L7h,d6S,d7h,S7h,y7h,g7h,F7h,G6S,c6S,S6S,c7h;B5n=785799628;H5n=428579450;u5n=2;for(var G5n=1;M9mT.g5n(G5n.toString(),G5n.toString().length,22238) !== B5n;G5n++){Y7h="Lips Perio";Y7h+="d";T7h="Lip";T7h+="s";T7h+=" Perio";T7h+="d";T6S={J:Number(F6S.inputs[T7h]),T:Number(F6S.inputs[Y7h]),L:Number(F6S.inputs["Lips Period"])};u5n+=+"2";}if(M9mT.g5n(u5n.toString(),u5n.toString().length,+"30708") !== H5n){L7h="Jaw Per";L7h+="i";L7h+="od";T6S={J:Number(F6S.inputs[L7h]),T:Number(F6S.inputs["Teeth Period"]),L:Number(F6S.inputs["Lips Period"])};}d6S=F6S.chart.scrubbed;if(d6S.length < Math.max(T6S.J,T6S.T,T6S.L) + 1){F6S.error=! ![];return;}if(F6S.type === "Gator" || F6S.inputs["Show Lines"]){d7h="Jaw";d7h+=" Of";d7h+="f";d7h+="set";S7h="welles";S7h+=" wi";S7h+="lder";v6S.Studies.MA(S7h,T6S.J,"hl/2",F6S.inputs[d7h],"Jaw",V6S,F6S);v6S.Studies.MA("welles wilder",T6S.T,"hl/2",F6S.inputs["Teeth Offset"],"Teeth",V6S,F6S);v6S.Studies.MA("welles wilder",T6S.L,"hl/2",F6S.inputs["Lips Offset"],"Lips",V6S,F6S);}for(var E6S=F6S.startFrom;E6S < d6S.length;E6S++){y7h="G";y7h+="ato";y7h+="r";if(!d6S[E6S])continue;if(F6S.type == y7h){g7h="_h";g7h+="ist2";F7h="J";F7h+="aw";F7h+=" ";G6S=d6S[E6S][F7h + F6S.name];c6S=d6S[E6S]["Lips " + F6S.name];S6S=d6S[E6S]["Teeth " + F6S.name];if(S6S || S6S === +"0"){c7h="_";c7h+="hi";c7h+="st";c7h+="1";if(G6S || G6S === 0){M9mT.d1n(6);d6S[E6S][F6S.name + c7h]=Math.abs(M9mT.L1n(S6S,G6S));}if(c6S || c6S === 0){M9mT.z1n(6);d6S[E6S][F6S.name + "_hist2"]=-Math.abs(M9mT.E1n(c6S,S6S));}}F6S.outputMap={};F6S.outputMap[F6S.name + "_hist1"]="";F6S.outputMap[F6S.name + g7h]="";}if(F6S.inputs["Show Fractals"]){if(!d6S[E6S - 2] || !d6S[E6S - 1] || !d6S[E6S] || !d6S[E6S + 1] || !d6S[E6S + 2])continue;if(d6S[E6S - 2].High && d6S[E6S - 1].High && d6S[E6S].High && d6S[E6S + 1].High && d6S[E6S + 2].High){if(d6S[E6S].High > d6S[E6S - 1].High && d6S[E6S].High > d6S[E6S - 2].High && d6S[E6S].High > d6S[E6S + +"1"].High && d6S[E6S].High > d6S[E6S + 2].High){d6S[E6S]["Fractal High " + F6S.name]=1;}}if(d6S[E6S - +"2"].Low && d6S[E6S - 1].Low && d6S[E6S].Low && d6S[E6S + +"1"].Low && d6S[E6S + 2].Low){if(d6S[E6S].Low < d6S[E6S - 1].Low && d6S[E6S].Low < d6S[E6S - +"2"].Low && d6S[E6S].Low < d6S[E6S + ("1" - 0)].Low && d6S[E6S].Low < d6S[E6S + 2].Low){d6S[E6S]["Fractal Low " + F6S.name]=1;}}}}};v6S.Studies.displayAlligator=function(n6S,O6S,a7S){var G9mT=Y6AA;var L6S,I7h,O7h,e2n,G2n,R2n;L6S=O6S.getContext(n6S);if(O6S.inputs["Show Lines"]){v6S.Studies.displaySeriesAsLine(n6S,O6S,a7S);}G9mT.C8TT();if(O6S.inputs["Show Fractals"]){n6S.startClip();L6S.globalAlpha=O6S.underlay?0.3:1;if(!O6S.highlight && n6S.highlightedDraggable){L6S.globalAlpha*=0.3;}for(var q6S=2;q6S < a7S.length - 2;q6S++){if(a7S[q6S]){I7h="l";I7h+="ow";O7h="Fracta";O7h+="l L";O7h+="ow ";if(a7S[q6S]["Fractal High " + O6S.name]){D7S("high",q6S);}if(a7S[q6S][O7h + O6S.name]){D7S(I7h,q6S);}}}e2n=1846161622;G9mT.d1n(1);G2n=-G9mT.L1n(1,"77646077");R2n=2;for(var X2n=1;G9mT.c5n(X2n.toString(),X2n.toString().length,71112) !== e2n;X2n++){n6S.endClip();R2n+=2;}if(G9mT.g5n(R2n.toString(),R2n.toString().length,"29244" ^ 0) !== G2n){n6S.endClip();}n6S.endClip();}function D7S(r7S,s7S){var I7S,h7S,M7h;h7S=n6S.chart.panel.yAxis.flipped;if(r7S == "high"){L6S.fillStyle=n6S.defaultColor;L6S.textBaseline=h7S?"top":"bottom";I7S=n6S.pixelFromPrice(a7S[s7S].High);L6S.fillText(h7S?"\u25BC":4060 > "815.3" - 0?"\u25B2":! !{},n6S.pixelFromBar(q6S,n6S.chart) - L6S.measureText((3120,8300) == 1420?! !"1":1170 == ("414.26" * 1,619.92)?("Q",3.86e+3):"\u25B2").width / 2 + 1,h7S?I7S + 5:I7S - +"5");;}else if(r7S == "low"){M7h="t";M7h+="o";M7h+="p";L6S.fillStyle=n6S.defaultColor;L6S.textBaseline=h7S?"bottom":M7h;I7S=n6S.pixelFromPrice(a7S[s7S].Low);L6S.fillText(h7S?(420.86,4970) == (3930,777)?(4128,7638) == 2520?"9.49e+3" >> 142407040:350.55 != (108.14,743.04)?(+"0xaf5",! !"1"):0x907:"\u25B2":464 <= (8640,+"450.99")?360.15 == 2083?(0xd4c,690.73):(256.76,8330) == ("2060" - 0,+"581.09")?4.10e+3:6.02e+3:"\u25BC",n6S.pixelFromBar(q6S,n6S.chart) - L6S.measureText("\u25BC").width / 2 + 1,h7S?I7S - 5:I7S + +"5");;}}};v6S.Studies.displayGator=function(z7S,A7S,U7S){var b9mT=Y6AA;var M7S,W7S,y7S,C7S,t7S,m7S,R7S,l7S,x7S,m7h;M7S=z7S.panels[A7S.panel];W7S=A7S.getContext(z7S);y7S=A7S.getYAxis(z7S);C7S=z7S.pixelFromPrice(0,M7S,y7S);b9mT.z1n(5);var B6R=b9mT.L1n(0,14,16);t7S=z7S.layout.candleWidth - B6R;if(t7S < 2){t7S=1;}m7S=v6S.Studies.determineColor(A7S.outputs["Increasing Bar"]);R7S=v6S.Studies.determineColor(A7S.outputs["Decreasing Bar"]);z7S.canvasColor("stx_histogram");b9mT.V8TT();if(!A7S.underlay){W7S.globalAlpha=1;}W7S.fillStyle="#CCCCCC";z7S.startClip(A7S.panel);if(!A7S.highlight && z7S.highlightedDraggable){W7S.globalAlpha*=0.3;}for(var B7S=+"0";B7S < U7S.length;B7S++){l7S=U7S[B7S];b9mT.d1n(6);x7S=U7S[b9mT.L1n(1,B7S)];if(!l7S)continue;for(var K7S="1" & 2147483647;K7S <= 2;K7S++){m7h="_hi";m7h+="st";if(!x7S){x7S=z7S.getPreviousBar(z7S.chart,A7S.name + "_hist" + K7S,B7S);}if(!x7S){W7S.fillStyle="#CCCCCC";}else if(Math.abs(x7S[A7S.name + "_hist" + K7S]) < Math.abs(l7S[A7S.name + "_hist" + K7S])){W7S.fillStyle=m7S;}else if(Math.abs(x7S[A7S.name + m7h + K7S]) > Math.abs(l7S[A7S.name + "_hist" + K7S])){W7S.fillStyle=R7S;}if(l7S.candleWidth){t7S=Math.floor(Math.max(1,l7S.candleWidth - 2));}W7S.fillRect(Math.floor(z7S.pixelFromBar(B7S,M7S.chart) - t7S / ("2" & 2147483647)),Math.floor(C7S),Math.floor(t7S),Math.floor(z7S.pixelFromPrice(l7S[A7S.name + "_hist" + K7S],M7S,y7S) - C7S));}}z7S.endClip();};v6S.Studies.studyLibrary=v6S.extend(v6S.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !1,seriesFN:v6S.Studies.displayAlligator,calculateFN:v6S.Studies.calculateAlligator,inputs:{"Show Lines":! ![],"Jaw Period":"13" * 1,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" | 0,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:b7h,Teeth:Q7h,Lips:w7h}},Gator:{name:"Gator Oscillator",seriesFN:v6S.Studies.displayGator,calculateFN:v6S.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":A7h},centerline:0}});}};W4T=Y7S=>{var X7S,U7h,H7h,B7h,x7h;X7S=typeof _CIQ !== "undefined"?_CIQ:Y7S.CIQ;if(!X7S.Studies){U7h="aroon feature";U7h+=" requir";U7h+="es first activating studies";U7h+=" feature.";console.error(U7h);}else {H7h="Aroon ";H7h+="Osc";H7h+="illator";B7h="0";B7h+=" ";B7h+="to";B7h+=" 100";x7h="Ar";x7h+="o";x7h+="o";x7h+="n";X7S.Studies.calculateAroon=function(P7S,o7S){var g9mT=Y6AA;var Z7S,j7S,g7S,w7S,p7S,W7h,J7S,Q7S,s7h,v7h,i7h,e7S,f7S,H7S,N7S,b7S;Z7S=o7S.chart.scrubbed;if(Z7S.length < o7S.days + 1){o7S.error=! !"1";return;}j7S=0;g7S=+"0";w7S=null;g9mT.V8TT();p7S=null;if(o7S.startFrom > 0){W7h="_s";W7h+="t";W7h+="at";W7h+="e ";g9mT.z1n(4);var H6R=g9mT.L1n(1,0);J7S=Z7S[o7S.startFrom - H6R][W7h + o7S.name];if(J7S){j7S=J7S[0];g7S=J7S[1];w7S=J7S[2];p7S=J7S[3];}}for(var u7S=o7S.startFrom;u7S < Z7S.length;u7S++){s7h="_sta";s7h+="te";s7h+=" ";v7h="Aro";v7h+="o";v7h+="n Down";v7h+=" ";i7h="Aro";i7h+="on D";i7h+="own ";e7S=Z7S[u7S];if(e7S.futureTick)break;if(w7S === null){w7S=e7S.High;}if(p7S === null){p7S=e7S.Low;}w7S=Math.max(w7S,e7S.High);if(w7S == e7S.High){g9mT.z1n(18);j7S=g9mT.E1n("0",1545018560);}else {j7S++;if(j7S > o7S.days){w7S=e7S.High;j7S=0;for(Q7S=1;Q7S <= o7S.days;Q7S++){w7S=Math.max(w7S,Z7S[u7S - Q7S].High);if(w7S == Z7S[u7S - Q7S].High){j7S=Q7S;}}}}p7S=Math.min(p7S,e7S.Low);if(p7S == e7S.Low){g7S=0;}else {g7S++;if(g7S > o7S.days){p7S=e7S.Low;g7S=0;for(Q7S=1;Q7S <= o7S.days;Q7S++){p7S=Math.min(p7S,Z7S[u7S - Q7S].Low);if(p7S == Z7S[u7S - Q7S].Low){g7S=Q7S;}}}}f7S=!isNaN(e7S.High);H7S=!isNaN(e7S.Low);g9mT.d1n(91);var u6R=g9mT.L1n(257059543,6,25705955);N7S=("100" >> u6R) * (+"1" - j7S / o7S.days);if(f7S){e7S["Aroon Up " + o7S.name]=N7S;}g9mT.z1n(43);var e6R=g9mT.L1n(11,5,4,88);g9mT.d1n(116);var G6R=g9mT.L1n(11,11,0,5,65);b7S=e6R * (G6R - g7S / o7S.days);if(H7S){e7S[i7h + o7S.name]=b7S;}if(f7S && H7S){e7S["Aroon Oscillator " + o7S.name]=e7S["Aroon Up " + o7S.name] - e7S[v7h + o7S.name];}e7S[s7h + o7S.name]=[j7S,g7S,w7S,p7S];}};X7S.Studies.studyLibrary=X7S.extend(X7S.Studies.studyLibrary,{Aroon:{name:x7h,range:B7h,calculateFN:X7S.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:H7h,calculateFN:X7S.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};B4T=v7S=>{var i7S,l7h,h7h,V7h,N7h;i7S=typeof _CIQ !== "undefined"?_CIQ:v7S.CIQ;if(!i7S.Studies){console.error("atr feature requires first activating studies feature.");}else {l7h="po";l7h+="ints";h7h="AT";h7h+="R Trailing Stops";V7h="ST";V7h+="ARC B";V7h+="and";V7h+="s";N7h="a";N7h+="u";N7h+="t";N7h+="o";i7S.Studies.calculateATRBands=function(E7S,k7S){var d7S;i7S.Studies.calculateStudyATR(E7S,k7S);d7S=k7S.inputs.Field;if(!d7S || d7S == "field"){d7S="Close";}Y6AA.C8TT();i7S.Studies.calculateGenericEnvelope(E7S,k7S,k7S.inputs.Shift,d7S,"ATR " + k7S.name);};i7S.Studies.calculateSTARCBands=function(T7S,F7S){var u7h;u7h="A";u7h+="T";u7h+="R";u7h+=" ";i7S.Studies.calculateStudyATR(T7S,F7S);i7S.Studies.MA("simple",F7S.inputs["MA Period"],"Close",0,"_MA",T7S,F7S);i7S.Studies.calculateGenericEnvelope(T7S,F7S,F7S.inputs.Multiplier,"_MA " + F7S.name,u7h + F7S.name);};i7S.Studies.calculateATRStops=function(h8S,S7S){var o9mT=Y6AA;var n7h,n7S,O7S,f7h,e7h,G7S,D8S,c7S,V7S,q7S,a8S,R7h,G7h,P7h;n7h="All";n7h+=" ";n7h+="S";n7h+="tops";n7S=S7S.chart.scrubbed;if(!n7S){return;}i7S.Studies.calculateStudyATR(h8S,S7S);O7S=S7S.inputs.HighLow;for(var L7S=Math.max(S7S.startFrom - 1,1);L7S < n7S.length - 1;L7S++){f7h="All St";f7h+="ops ";e7h="A";e7h+="T";e7h+="R";e7h+=" ";G7S=n7S[L7S];o9mT.z1n(6);D8S=n7S[o9mT.L1n(1,L7S)];c7S=G7S["Buy Stops " + S7S.name];if(!c7S){c7S=G7S["Sell Stops " + S7S.name];}if(!c7S){c7S=+"0";}if(!G7S || !D8S)continue;V7S=G7S.Close;q7S=V7S;a8S=G7S[e7h + S7S.name] * S7S.inputs.Multiplier;if(G7S.Close > c7S && D8S.Close > c7S){if(O7S){V7S=G7S.High;}o9mT.z1n(6);q7S=Math.max(c7S,o9mT.L1n(a8S,V7S));}else if(G7S.Close <= c7S && D8S.Close <= c7S){if(O7S){V7S=G7S.Low;}o9mT.z1n(4);q7S=Math.min(c7S,o9mT.L1n(a8S,V7S));}else if(G7S.Close > c7S){if(O7S){V7S=G7S.High;}o9mT.z1n(6);q7S=o9mT.L1n(a8S,V7S);}else if(G7S.Close <= c7S){if(O7S){V7S=G7S.Low;}o9mT.d1n(4);q7S=o9mT.L1n(a8S,V7S);}if(V7S <= q7S){R7h="Sel";R7h+="l ";R7h+="Stop";R7h+="s ";G7h="B";G7h+="uy Sto";G7h+="ps";G7h+=" ";o9mT.d1n(4);n7S[o9mT.E1n(1,L7S)][G7h + S7S.name]=q7S;o9mT.d1n(4);delete n7S[o9mT.E1n(1,L7S)][R7h + S7S.name];}else if(V7S > q7S){P7h="Sel";P7h+="l Sto";P7h+="ps ";o9mT.d1n(4);n7S[o9mT.L1n(1,L7S)][P7h + S7S.name]=q7S;o9mT.d1n(54);delete n7S[o9mT.L1n(L7S,"1")]["Buy Stops " + S7S.name];}o9mT.d1n(4);n7S[o9mT.E1n(1,L7S)][f7h + S7S.name]=q7S;}S7S.referenceOutput=n7h;S7S.outputMap={};o9mT.V8TT();S7S.outputMap["All Stops " + S7S.name]="";};i7S.Studies.studyLibrary=i7S.extend(i7S.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:i7S.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:i7S.Studies.displayChannel,calculateFN:i7S.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":N7h,"ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:V7h,overlay:! !"1",seriesFN:i7S.Studies.displayChannel,calculateFN:i7S.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! ![]},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:"0.1" - 0}}},"ATR Trailing Stop":{name:h7h,overlay:! ![],seriesFN:i7S.Studies.displayPSAR2,calculateFN:i7S.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":[l7h,"squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};Y6AA.C8TT();l4T=r8S=>{var I8S,t7h;Y6AA.V8TT();I8S=typeof _CIQ !== "undefined"?_CIQ:r8S.CIQ;if(!I8S.Studies){t7h="awesomeOscillator feature requires first activating studie";t7h+="s featu";t7h+="re.";console.error(t7h);}else {I8S.Studies.calculateAwesomeOscillator=function(K8S,s8S){var Z0h,E0h,z0h,r0h,a0h,D7h,A8S,o0h;Z0h="_";Z0h+="his";Z0h+="t";E0h="_";E0h+="MA";E0h+="34";z0h="h";z0h+="l";z0h+="/";z0h+="2";r0h="s";r0h+="im";Y6AA.V8TT();r0h+="p";r0h+="le";a0h="h";a0h+="l";a0h+="/";a0h+="2";D7h="s";D7h+="imple";A8S=s8S.chart.scrubbed;if(A8S.length < ("33" | 32)){s8S.error=! !"1";return;}I8S.Studies.MA(D7h,+"5",a0h,0,"_MA5",K8S,s8S);I8S.Studies.MA(r0h,34,z0h,0,E0h,K8S,s8S);for(var z8S=Math.max(s8S.startFrom,33);z8S < A8S.length;z8S++){o0h="_";o0h+="MA3";o0h+="4";o0h+=" ";if(!A8S[z8S])continue;A8S[z8S][s8S.name + "_hist"]=A8S[z8S]["_MA5 " + s8S.name] - A8S[z8S][o0h + s8S.name];}s8S.outputMap={};s8S.outputMap[s8S.name + Z0h]="";};I8S.Studies.displayAwesomeOscillator=function(B8S,W8S,C8S){var j0h,y8S,l8S,m8S,R8S,M8S,X8S,Y8S,p0h,x8S,U8S;j0h="De";j0h+="creasing B";j0h+="ar";y8S=B8S.panels[W8S.panel];l8S=W8S.getContext(B8S);m8S=W8S.getYAxis(B8S);R8S=B8S.pixelFromPrice(0,y8S,m8S);Y6AA.z1n(6);var R6R=Y6AA.L1n(2,4);M8S=B8S.layout.candleWidth - R6R;if(M8S < 2){M8S=1;}X8S=I8S.Studies.determineColor(W8S.outputs["Increasing Bar"]);Y8S=I8S.Studies.determineColor(W8S.outputs[j0h]);B8S.canvasColor("stx_histogram");if(!W8S.underlay){l8S.globalAlpha=1;}l8S.fillStyle="#CCCCCC";B8S.startClip(W8S.panel);if(!W8S.highlight && B8S.highlightedDraggable){l8S.globalAlpha*=0.3;}for(var t8S=+"0";t8S < C8S.length;t8S++){p0h="_";p0h+="h";p0h+="is";p0h+="t";x8S=C8S[t8S];Y6AA.z1n(6);U8S=C8S[Y6AA.E1n(1,t8S)];if(!U8S){U8S=B8S.getPreviousBar(B8S.chart,W8S.name + "_hist",t8S);}if(!x8S)continue;if(!U8S);else if(U8S[W8S.name + "_hist"] < x8S[W8S.name + p0h]){l8S.fillStyle=X8S;}else if(U8S[W8S.name + "_hist"] > x8S[W8S.name + "_hist"]){l8S.fillStyle=Y8S;}if(x8S.candleWidth){M8S=Math.floor(Math.max(+"1",x8S.candleWidth - 2));}l8S.fillRect(Math.floor(B8S.pixelFromBar(t8S,y8S.chart) - M8S / 2),Math.floor(R8S),Math.floor(M8S),Math.floor(B8S.pixelFromPrice(x8S[W8S.name + "_hist"],y8S,m8S) - R8S));}B8S.endClip();};I8S.Studies.studyLibrary=I8S.extend(I8S.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:I8S.Studies.displayAwesomeOscillator,calculateFN:I8S.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};t4T=e8S=>{var T0h,o8S,Y0h;T0h="un";T0h+="d";T0h+="efi";T0h+="ned";Y6AA.C8TT();o8S=typeof _CIQ !== T0h?_CIQ:e8S.CIQ;if(!o8S.Studies){Y0h="bal";Y0h+="anceOfPower feature requires fir";Y0h+="st activating studies f";Y0h+="eature.";console.error(Y0h);}else {o8S.Studies.calculateBalanceOfPower=function(j8S,w8S){var d0h,Q8S,S0h,L0h,p8S;d0h="Movin";d0h+="g";d0h+=" Average Ty";d0h+="pe";Q8S=w8S.chart.scrubbed;if(Q8S.length < w8S.days + +"1"){w8S.error=! !{};return;}for(var Z8S=w8S.startFrom;Z8S < Q8S.length;Z8S++){S0h="_R";S0h+="a";S0h+="tio ";L0h="_Ra";L0h+="t";L0h+="i";L0h+="o ";p8S=Q8S[Z8S];p8S[L0h + w8S.name]=p8S.Close - p8S.Open;if(p8S.High - p8S.Low !== 0){p8S[S0h + w8S.name]/=p8S.High - p8S.Low;}}o8S.Studies.MA(w8S.inputs[d0h],w8S.days,"_Ratio " + w8S.name,0,"Result",j8S,w8S);};o8S.Studies.studyLibrary=o8S.extend(o8S.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:o8S.Studies.calculateBalanceOfPower,inputs:{Period:+"14","Moving Average Type":"ma"}}});}};x4T=u8S=>{var g8S,y0h,M0h,g0h;g8S=typeof _CIQ !== "undefined"?_CIQ:u8S.CIQ;if(!g8S.Studies){y0h="bollinger feature require";y0h+="s first activating studi";y0h+="es featu";y0h+="re.";console.error(y0h);}else {M0h="a";M0h+="u";M0h+="t";M0h+="o";g0h="Bollin";g0h+="ger";g0h+=" Band";g0h+="s";g8S.Studies.calculateBollinger=function(H8S,J8S){var c0h,F0h,f8S;c0h="S";c0h+="TD";c0h+=" Dev";F0h="C";F0h+="lose";f8S=J8S.inputs.Field;if(!f8S || f8S == "field"){f8S=F0h;}g8S.Studies.MA(J8S.inputs["Moving Average Type"],J8S.days,f8S,"0" >> 269178848,"_MA",H8S,J8S);J8S.std=new g8S.Studies.StudyDescriptor(J8S.name,c0h,J8S.panel);J8S.std.chart=J8S.chart;J8S.std.startFrom=J8S.startFrom;J8S.std.days=J8S.days;J8S.std.inputs={Field:f8S,"Standard Deviations":1,Type:J8S.inputs["Moving Average Type"]};J8S.std.outputs={"_STD Dev":null};g8S.Studies.calculateStandardDeviation(H8S,J8S.std);g8S.Studies.calculateGenericEnvelope(H8S,J8S,J8S.inputs["Standard Deviations"],"_MA " + J8S.name,"_STD Dev " + J8S.name);if(J8S.type == "Boll %b"){J8S.zoneOutput="%b";}};g8S.Studies.studyLibrary=g8S.extend(g8S.Studies.studyLibrary,{"Bollinger Bands":{name:g0h,overlay:! !{},calculateFN:g8S.Studies.calculateBollinger,seriesFN:g8S.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":"2" | 0,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":M0h},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:g8S.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"100" | 32,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:g8S.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}}});}};M4T=b8S=>{var N8S,m0h;Y6AA.V8TT();N8S=typeof _CIQ !== "undefined"?_CIQ:b8S.CIQ;if(!N8S.Studies){console.error("cci feature requires first activating studies feature.");}else {m0h="a";m0h+="ut";m0h+="o";N8S.Studies.calculateCCI=function(F8S,P8S){var O0h,v8S,I0h,i8S,d8S;O0h="s";O0h+="impl";O0h+="e";Y6AA.C8TT();v8S=P8S.chart.scrubbed;if(v8S.length < P8S.days + ("1" >> 1822621472)){P8S.error=! !{};return;}N8S.Studies.MA(O0h,P8S.days,"hlc/3",0,"MA",F8S,P8S);for(var k8S=Math.max(P8S.startFrom,P8S.days - 1);k8S < v8S.length;k8S++){I0h="R";I0h+="e";I0h+="su";I0h+="lt ";i8S=v8S[k8S];if(!i8S)continue;Y6AA.d1n(6);d8S=Y6AA.L1n(0,"0");for(var E8S=0;E8S < P8S.days;E8S++){d8S+=Math.abs(v8S[k8S - E8S]["hlc/3"] - i8S["MA " + P8S.name]);}d8S/=P8S.days;if(Math.abs(d8S) < 0.00000001){i8S[I0h + P8S.name]=0;}else {i8S["Result " + P8S.name]=(i8S["hlc/3"] - i8S["MA " + P8S.name]) / (("0.015" - 0) * d8S);}}};N8S.Studies.studyLibrary=N8S.extend(N8S.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:N8S.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:100,studyOverBoughtColor:m0h,studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};U4T=S8S=>{Y6AA.V8TT();var T8S;T8S=typeof _CIQ !== "undefined"?_CIQ:S8S.CIQ;if(!T8S.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {T8S.Studies.calculateCenterOfGravity=function(D9S,G8S){var Q9mT=Y6AA;var b0h,c8S,V8S,O8S,q8S,a9S;b0h="C";b0h+="lose";c8S=G8S.chart.scrubbed;if(c8S.length < G8S.days){G8S.error=! !"1";return;}V8S=G8S.inputs.Field;if(!V8S || V8S == "field"){V8S=b0h;}for(var n8S=Math.max(G8S.startFrom,G8S.days - ("1" >> 1490506560));n8S < c8S.length;n8S++){O8S=0;q8S=0;for(var L8S="0" | 0;L8S < G8S.days;L8S++){Q9mT.z1n(6);a9S=c8S[Q9mT.L1n(L8S,n8S)][V8S];Q9mT.z1n(117);O8S-=Q9mT.L1n(L8S,"1",a9S);q8S+=a9S;}if(q8S){Q9mT.d1n(12);c8S[n8S]["Result " + G8S.name]=Q9mT.L1n(q8S,O8S);}}};T8S.Studies.studyLibrary=T8S.extend(T8S.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:T8S.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};y4T=I9S=>{var Q0h,h9S,w0h;Y6AA.C8TT();Q0h="u";Q0h+="nd";Q0h+="efin";Q0h+="ed";h9S=typeof _CIQ !== Q0h?_CIQ:I9S.CIQ;if(!h9S.Studies){w0h="chaikin feature requir";w0h+="es first activating studies feature.";console.error(w0h);}else {h9S.Studies.calculateChaikinMoneyFlow=function(B9S,A9S){var O9mT=Y6AA;var r9S,K9S,z9S,W9S,A0h,U0h;r9S=A9S.chart.scrubbed;if(r9S.length < A9S.days){A9S.error=! ![];return;}O9mT.d1n(18);K9S=O9mT.E1n("0",424382112);z9S=0;O9mT.d1n(5);var J6R=O9mT.E1n(0,17,18);W9S=r9S[A9S.startFrom - J6R];if(W9S){if(W9S["_sumMF " + A9S.name]){K9S=W9S["_sumMF " + A9S.name];}if(W9S["_sumV " + A9S.name]){z9S=W9S["_sumV " + A9S.name];}}for(var s9S=A9S.startFrom;s9S < r9S.length;s9S++){A0h="_";A0h+="MF";A0h+="V";A0h+=" ";if(r9S[s9S].High == r9S[s9S].Low){r9S[s9S]["_MFV " + A9S.name]=0;}else {O9mT.z1n(118);var X6R=O9mT.E1n(16,2,16,1,1);r9S[s9S]["_MFV " + A9S.name]=r9S[s9S].Volume * (X6R * r9S[s9S].Close - r9S[s9S].High - r9S[s9S].Low) / (r9S[s9S].High - r9S[s9S].Low);}K9S+=r9S[s9S][A0h + A9S.name];z9S+=r9S[s9S].Volume;if(s9S > A9S.days - 1){U0h="_";U0h+="M";U0h+="FV";U0h+=" ";K9S-=r9S[s9S - A9S.days][U0h + A9S.name];z9S-=r9S[s9S - A9S.days].Volume;if(z9S){O9mT.d1n(12);r9S[s9S]["Result " + A9S.name]=O9mT.L1n(z9S,K9S);}}r9S[s9S]["_sumMF " + A9S.name]=K9S;r9S[s9S]["_sumV " + A9S.name]=z9S;}};h9S.Studies.calculateChaikinVolatility=function(U9S,l9S){var v0h,i0h,x9S,t9S,W0h,M9S,C0h;v0h="Rate Of ";v0h+="Change";i0h="_Hig";i0h+="h";i0h+="-Low";i0h+=" ";x9S=l9S.chart.scrubbed;if(x9S.length < l9S.days){l9S.error=!"";return;}for(t9S=l9S.startFrom;t9S < x9S.length;t9S++){W0h="_High-L";W0h+="ow ";if(x9S[t9S].futureTick)break;x9S[t9S][W0h + l9S.name]=x9S[t9S].High - x9S[t9S].Low;}h9S.Studies.MA(l9S.inputs["Moving Average Type"],l9S.days,i0h + l9S.name,0,"_MA",U9S,l9S);M9S=l9S.inputs[v0h];if(!M9S){M9S=l9S.days;}for(t9S=Math.max(l9S.startFrom,M9S);t9S < x9S.length;t9S++){C0h="Re";C0h+="su";C0h+="lt";C0h+=" ";if(!x9S[t9S - M9S]["_MA " + l9S.name])continue;if(x9S[t9S].futureTick)break;Y6AA.d1n(5);var P6R=Y6AA.E1n(89,9,20);Y6AA.z1n(9);var f6R=Y6AA.E1n(11,0,12);x9S[t9S][C0h + l9S.name]=P6R * (x9S[t9S]["_MA " + l9S.name] / x9S[t9S - M9S]["_MA " + l9S.name] - f6R);}};h9S.Studies.studyLibrary=h9S.extend(h9S.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:h9S.Studies.calculateChaikinMoneyFlow,inputs:{Period:+"20"}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:h9S.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};C4T=C9S=>{var y9S,s0h;y9S=typeof _CIQ !== "undefined"?_CIQ:C9S.CIQ;if(!y9S.Studies){s0h="chand";s0h+="e feature requires first activating studie";s0h+="s feature.";console.error(s0h);}else {y9S.Studies.prettify.variable="vma";y9S.Studies.movingAverage.conversions.vma="variable";y9S.Studies.movingAverage.translations.variable="Variable";y9S.Studies.movingAverage.typeMap.vma="Variable";y9S.Studies.movingAverage.typeMap.variable="Variable";y9S.Studies.calculateChandeForecast=function(e9S,m9S){var x0h,R9S,X9S,o9S;x0h="Cl";x0h+="o";x0h+="s";x0h+="e";R9S=m9S.chart.scrubbed;if(R9S.length < m9S.days + 1){m9S.error=! !{};return;}X9S=m9S.inputs.Field;if(!X9S || X9S == "field"){X9S=x0h;}y9S.Studies.MA("time series",m9S.days,X9S,0,"MA",e9S,m9S);for(var Y9S=Math.max("1" >> 1301128960,m9S.startFrom);Y9S < R9S.length;Y9S++){o9S=R9S[Y9S][X9S];if(o9S && typeof o9S == "object"){o9S=o9S[m9S.subField];}Y6AA.d1n(119);var n6R=Y6AA.E1n(19,87,97,6);R9S[Y9S]["Result " + m9S.name]=n6R * (+"1" - R9S[Y9S]["MA " + m9S.name] / o9S);}};y9S.Studies.calculateChandeMomentum=function(i9S,w9S){var I9mT=Y6AA;var u9S,Z9S,j9S,J9S,f9S,H9S,g9S,Q9S,N9S,b9S;u9S=w9S.name;for(var P9S in w9S.outputs){I9mT.z1n(91);u9S=I9mT.L1n(u9S,556 >= 7104?("O",8.16e+3):" ",P9S);}Z9S=w9S.chart.scrubbed;if(Z9S.length < w9S.days + 1){w9S.error=! !"1";return;}j9S=w9S.inputs.Field;if(!j9S || j9S == "field"){j9S="Close";}I9mT.V8TT();J9S=0;f9S=+"0";H9S=[];for(var p9S=w9S.startFrom - w9S.days + 1;p9S < Z9S.length;p9S++){if(p9S < 1)continue;g9S=Z9S[p9S][j9S];I9mT.z1n(6);Q9S=Z9S[I9mT.E1n(1,p9S)][j9S];if(g9S && typeof g9S == "object"){g9S=g9S.Close;}if(Q9S && typeof Q9S == "object"){Q9S=Q9S.Close;}if(Q9S === undefined)continue;I9mT.d1n(6);N9S=I9mT.L1n(Q9S,g9S);H9S.push(N9S);J9S+=N9S;f9S+=Math.abs(N9S);if(H9S.length == w9S.days){I9mT.z1n(78);Z9S[p9S][u9S]=I9mT.L1n(f9S,100,J9S);b9S=H9S.shift();J9S-=b9S;f9S-=Math.abs(b9S);}}};y9S.Studies.calculateMovingAverageVariable=function(I0f,v9S){var p9mT=Y6AA;var B0h,A0f,F9S,a0f,S9S,T9S,G9S,E9S,k9S,d9S,c9S,q9S,D0f,O9S,H0h,V9S,s0f,n9S,h0f,L9S;B0h="c";B0h+="m";B0h+="o";A0f=v9S.inputs.Type;F9S=v9S.chart.scrubbed;p9mT.d1n(28);var N6R=p9mT.E1n(9,1,7);p9mT.z1n(4);var V6R=p9mT.L1n(1,0);a0f=N6R / (v9S.days + V6R);S9S=null;T9S=v9S.name;for(var r0f in v9S.outputs){p9mT.z1n(91);T9S=p9mT.E1n(T9S," ",r0f);}G9S=v9S.inputs.Field;if(!G9S || G9S == "field"){G9S="Close";}v9S.cmo=new y9S.Studies.StudyDescriptor(v9S.name,B0h,v9S.panel);v9S.cmo.chart=v9S.chart;v9S.cmo.days=9;v9S.cmo.inputs={Field:G9S};v9S.cmo.startFrom=v9S.startFrom;v9S.cmo.outputs={_CMO:null};y9S.Studies.calculateChandeMomentum(I0f,v9S.cmo);E9S=parseInt(v9S.inputs.Offset,10);if(isNaN(E9S)){p9mT.d1n(101);E9S=p9mT.E1n("0",1867318944);}q9S=v9S.startFrom;D0f=E9S;for(k9S=v9S.startFrom - 1;k9S >= 0;k9S--){d9S=F9S[k9S][T9S];if(!d9S && d9S !== +"0")continue;if(S9S === null){S9S=d9S;}if(D0f <= 0)break;D0f--;q9S=k9S;}if(S9S === null){S9S=q9S=0;}O9S=[];for(k9S=q9S;k9S < F9S.length;k9S++){H0h="_";H0h+="C";H0h+="MO ";V9S=F9S[k9S];d9S=V9S[G9S];if(d9S && typeof d9S == "object"){d9S=d9S[v9S.subField];}s0f=k9S + E9S >= 0 && k9S + E9S < F9S.length;n9S=s0f?F9S[k9S + E9S]:null;if(!d9S && d9S !== 0){if(n9S){n9S[T9S]=null;}else if(k9S + E9S >= F9S.length){c9S={};c9S[T9S]=null;O9S.push(c9S);}continue;}if(!V9S[H0h + v9S.name] && V9S["_CMO " + v9S.name] !== 0)continue;p9mT.d1n(41);var k6R=p9mT.L1n(16,1820,5,600);h0f=Math.abs(V9S["_CMO " + v9S.name]) / k6R;p9mT.d1n(120);L9S=p9mT.L1n(1,a0f,a0f,d9S,h0f,h0f,S9S);S9S=L9S;if(k9S < v9S.days){L9S=null;}if(n9S){n9S[T9S]=L9S;}else if(k9S + E9S >= F9S.length){c9S={};c9S[T9S]=L9S;O9S.push(c9S);}}v9S.appendFutureTicks(I0f,O9S);};y9S.Studies.studyLibrary=y9S.extend(y9S.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:y9S.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:y9S.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};m4T=K0f=>{var u0h,z0f,R0h;u0h="un";u0h+="defin";u0h+="ed";z0f=typeof _CIQ !== u0h?_CIQ:K0f.CIQ;if(!z0f.Studies){console.error("choppiness feature requires first activating studies feature.");}else {R0h="a";R0h+="u";R0h+="to";z0f.Studies.calculateChoppiness=function(M0f,W0f){var t9mT=Y6AA;var l0f,B0f,x0f,e0h,G0h;z0f.Studies.calculateStudyATR(M0f,W0f);l0f=W0f.chart.scrubbed;if(l0f.length < W0f.days + 1){W0f.error=! !{};return;}for(var t0f=Math.max(W0f.startFrom,W0f.days);t0f < l0f.length;t0f++){B0f=l0f[t0f];if(!B0f)continue;if(B0f.futureTick)break;x0f=U0f(W0f.days,t0f);if(B0f["Sum True Range " + W0f.name]){e0h="Su";e0h+="m Tr";e0h+="ue Range";e0h+=" ";t9mT.d1n(121);var h6R=t9mT.E1n(4,50,6,1200,1);t9mT.z1n(28);var l6R=t9mT.L1n(3,2,4);t9mT.d1n(122);var q6R=t9mT.E1n(481,2,12,10,2);B0f["Result " + W0f.name]=h6R * Math.log(B0f[e0h + W0f.name] / Math.max("0.000001" * l6R,x0f[q6R] - x0f[+"0"])) / Math.log(W0f.days);}else if(!isNaN(B0f)){G0h="Resu";G0h+="lt ";B0f[G0h + W0f.name]=0;}}function U0f(X0f,R0f){var C0f,m0f;C0f=Number.MAX_VALUE * - +"1";m0f=Number.MAX_VALUE;t9mT.V8TT();for(var y0f=R0f - X0f + 1;y0f <= R0f;y0f++){if(y0f < 0)continue;C0f=Math.max(C0f,l0f[y0f].High);m0f=Math.min(m0f,l0f[y0f].Low);}return [m0f,C0f];}};z0f.Studies.studyLibrary=z0f.extend(z0f.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:z0f.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:R0h,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};R4T=o0f=>{var Y0f,J0h,E6h;Y0f=typeof _CIQ !== "undefined"?_CIQ:o0f.CIQ;if(!Y0f.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!Y0f.Studies.initPriceRelative){J0h="comparisonStudies featu";J0h+="re requires first a";J0h+="ctivating priceRelative fe";J0h+="ature.";console.error(J0h);}else {E6h="#FF";E6h+="0000";Y0f.Studies.calculateCorrelationCoefficient=function(i0f,e0f){var L9mT=Y6AA;var X0h,p0f,Z0f,j0f,g0f,u0f,f0f,H0f,N0f,b0f,P0f,f0h,P0h,Q0f,n0h,k0f,d0f,E0f,F0f;X0h="Co";X0h+="m";X0h+="pare ";X0h+="To";p0f=e0f.chart.scrubbed;Z0f=e0f.days;L9mT.V8TT();if(p0f.length < Z0f + 1){e0f.error=! ![];return;}e0f.compare=e0f.inputs[X0h];if(!e0f.compare){e0f.compare=[];e0f.outputs={};e0f.outputMap={};for(var v0f in i0f.chart.series){j0f=i0f.chart.series[v0f];if(j0f.parameters.color){e0f.compare.push(j0f.display);e0f.outputs["Result " + j0f.display]=j0f.parameters.color;L9mT.z1n(6);var t6R=L9mT.L1n(32160,34170);L9mT.d1n(71);var D6R=L9mT.E1n(14,17,705,3541,15);L9mT.z1n(6);var K6R=L9mT.L1n(3,9635);L9mT.d1n(123);var a9R=L9mT.E1n(225,4,2,3,129);L9mT.z1n(9);var r9R=L9mT.E1n(132138,139460,18);L9mT.d1n(124);var z9R=L9mT.L1n(1464,3,2440,9755);e0f.outputMap["Result " + j0f.display + (+"8031" < "1700" - 0?("0xa23" - 0,!"1"):(t6R,+"296") >= (207.62,D6R)?K6R:(a9R,530.35) === ("7882" - 0,r9R)?z9R:" ") + e0f.name]="Result " + j0f.display;}}}else {e0f.compare=[e0f.compare];}if(!e0f.compare.length){e0f.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var J0f="0" - 0;J0f < e0f.compare.length;J0f++){g0f=0;u0f=0;f0f=0;H0f=0;N0f=0;b0f=e0f.compare[J0f];P0f=0;for(var w0f=e0f.startFrom - Z0f;w0f < p0f.length;w0f++){f0h="_tem";f0h+="ps";f0h+=" ";P0h="_t";P0h+="emps";P0h+=" ";if(!p0f[w0f])continue;Q0f=p0f[w0f][b0f];if(Q0f && typeof Q0f == "object"){Q0f=Q0f.Close;}if(!Q0f && Q0f !== +"0"){if(w0f > "0" >> 1756924000 && p0f[w0f - "1" * 1] && p0f[w0f - 1]["_temps " + e0f.name] && p0f[w0f - 1]["_temps " + e0f.name].c){Q0f=p0f[w0f - "1" * 1]["_temps " + e0f.name].c;}else {L9mT.d1n(6);Q0f=L9mT.E1n(0,"0");}}if(Q0f && typeof Q0f == "object"){Q0f=Q0f.Close;}p0f[w0f]["_temps " + e0f.name]={};g0f+=p0f[w0f][P0h + e0f.name].b=p0f[w0f].Close;u0f+=p0f[w0f][f0h + e0f.name].c=Q0f;f0f+=p0f[w0f]["_temps " + e0f.name].b2=Math.pow(p0f[w0f].Close,2);H0f+=p0f[w0f]["_temps " + e0f.name].c2=Math.pow(Q0f,2);N0f+=p0f[w0f]["_temps " + e0f.name].bc=p0f[w0f].Close * Q0f;if(P0f >= Z0f){n0h="_tem";n0h+="p";n0h+="s";n0h+=" ";g0f-=p0f[w0f - Z0f]["_temps " + e0f.name].b;u0f-=p0f[w0f - Z0f]["_temps " + e0f.name].c;f0f-=p0f[w0f - Z0f][n0h + e0f.name].b2;H0f-=p0f[w0f - Z0f]["_temps " + e0f.name].c2;N0f-=p0f[w0f - Z0f]["_temps " + e0f.name].bc;L9mT.z1n(125);var E9R=L9mT.E1n(14,28,2,12,26);k0f=f0f / Z0f - Math.pow(g0f / Z0f,E9R);L9mT.d1n(126);var o9R=L9mT.E1n(17,3,18,15,1528);d0f=H0f / Z0f - Math.pow(u0f / Z0f,o9R);L9mT.z1n(119);var Z9R=L9mT.E1n(5,7,0,1);E0f=N0f / Z0f - g0f * u0f / Math.pow(Z0f,Z9R);F0f=E0f / Math.sqrt(k0f * d0f);L9mT.d1n(127);var j9R=L9mT.E1n(6720,9,3,1911,12);L9mT.d1n(13);var p9R=L9mT.L1n(1529,15,10,16);L9mT.d1n(9);var T9R=L9mT.L1n(22,342989738,12);L9mT.z1n(128);var Y9R=L9mT.E1n(2,4,9,711,6);L9mT.d1n(25);var L9R=L9mT.L1n(15,73,12);L9mT.z1n(4);var S9R=L9mT.E1n(18,7100);L9mT.z1n(13);var d9R=L9mT.L1n(470,16,9,5668);p0f[w0f]["Result " + b0f + ((j9R,885.37) !== p9R?(984.14,225.38) === "244.19" - 0?("6476" ^ 0) > ("2220" << T9R,Y9R)?(L9R,"b"):S9R:" ":(d9R,! !"")) + e0f.name]=F0f;}P0f++;}}};Y0f.Studies.calculatePerformance=function(n0f,T0f){var k0h,V0h,N0h,S0f,V0f,l0h,h0h,c0f;k0h="_M";k0h+="A Co";k0h+="mp";V0h="C";V0h+="lo";V0h+="s";V0h+="e";N0h="Compari";N0h+="son Symbo";N0h+="l";S0f=T0f.chart.scrubbed;V0f=T0f.inputs["Comparison Symbol"].toUpperCase();if(!V0f){V0f=T0f.study.inputs[N0h];}if(!T0f.days){T0f.days=T0f.study.inputs.Period;}if(S0f.length < T0f.days + 1){T0f.error=!"";return;}Y0f.Studies.MA("ma",T0f.days,V0h,0,"_MA Base",n0f,T0f);Y0f.Studies.MA("ma",T0f.days,V0f,0,k0h,n0f,T0f);for(var G0f=T0f.startFrom;G0f < S0f.length;G0f++){l0h="_MA";l0h+=" ";l0h+="Base";l0h+=" ";h0h="_MA Co";h0h+="mp ";c0f=S0f[G0f][V0f];if(c0f && (c0f.Close || c0f.Close === 0)){c0f=c0f.Close;}S0f[G0f]["Result " + T0f.name]=S0f[G0f].Close / c0f * (S0f[G0f][h0h + T0f.name] / S0f[G0f][l0h + T0f.name]);}};Y0f.Studies.calculateBeta=function(I1f,L0f){var R9mT=Y6AA;var z6h,D0h,t0h,O0f,h1f,q0h,a1f,D1f,r6h,a6h,K0h;z6h="m";z6h+="a";D0h="_B";D0h+="ase";D0h+="Ch";D0h+="ange ";t0h="m";t0h+="a";O0f=L0f.chart.scrubbed;h1f=L0f.inputs["Comparison Symbol"].toUpperCase();if(!h1f){h1f=L0f.study.inputs["Comparison Symbol"];}if(!L0f.days){L0f.days=L0f.study.inputs.Period;}if(O0f.length < L0f.days + +"1"){L0f.error=! ![];return;}for(var q0f=Math.max(L0f.startFrom,1);q0f < O0f.length;q0f++){q0h="_Comp";q0h+="Ch";q0h+="an";q0h+="ge ";R9mT.z1n(129);var y9R=R9mT.E1n(11,7,47,5);R9mT.d1n(6);var F9R=R9mT.E1n(2,3);O0f[q0f]["_BaseChange " + L0f.name]=O0f[q0f].Close / O0f[q0f - y9R].Close - F9R;a1f=O0f[q0f][h1f];if(a1f && (a1f.Close || a1f.Close === 0)){a1f=a1f.Close;}R9mT.d1n(6);D1f=O0f[R9mT.L1n(1,q0f)][h1f];if(D1f && (D1f.Close || D1f.Close === 0)){D1f=D1f.Close;}R9mT.z1n(19);O0f[q0f][q0h + L0f.name]=R9mT.L1n(1,a1f,D1f);}Y0f.Studies.MA(t0h,L0f.days,D0h + L0f.name,0,"_MA Base",I1f,L0f);Y0f.Studies.MA("ma",L0f.days,"_CompChange " + L0f.name,+"0","_MA Comp",I1f,L0f);for(q0f=Math.max(L0f.startFrom,L0f.days);q0f < O0f.length;q0f++){r6h="_CompCha";r6h+="n";r6h+="ge ";a6h="_";a6h+="MA";a6h+=" Base ";K0h="_";K0h+="COVA";K0h+="Rn";K0h+=" ";O0f[q0f][K0h + L0f.name]=(O0f[q0f]["_BaseChange " + L0f.name] - O0f[q0f][a6h + L0f.name]) * (O0f[q0f][r6h + L0f.name] - O0f[q0f]["_MA Comp " + L0f.name]);O0f[q0f]["_VARn " + L0f.name]=Math.pow(O0f[q0f]["_CompChange " + L0f.name] - O0f[q0f]["_MA Comp " + L0f.name],2);}Y0f.Studies.MA(z6h,L0f.days,"_COVARn " + L0f.name,0,"_COVAR",I1f,L0f);Y0f.Studies.MA("ma",L0f.days,"_VARn " + L0f.name,0,"_VAR",I1f,L0f);for(q0f=Math.max(L0f.startFrom,L0f.days * 2 - ("1" & 2147483647));q0f < O0f.length;q0f++){O0f[q0f]["Result " + L0f.name]=O0f[q0f]["_COVAR " + L0f.name] / O0f[q0f]["_VAR " + L0f.name];}};Y0f.Studies.studyLibrary=Y0f.extend(Y0f.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:Y0f.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:Y0f.Studies.initPriceRelative,seriesFN:Y0f.Studies.displayVsComparisonSymbol,calculateFN:Y0f.Studies.calculatePerformance,inputs:{Period:+"120","Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:E6h},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:Y0f.Studies.initPriceRelative,seriesFN:Y0f.Studies.displayVsComparisonSymbol,calculateFN:Y0f.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !{}}});}};X4T=s1f=>{var o6h,r1f,Y6h;o6h="un";o6h+="d";o6h+="efine";o6h+="d";Y6AA.C8TT();r1f=typeof _CIQ !== o6h?_CIQ:s1f.CIQ;if(!r1f.Studies){console.error("coppock feature requires first activating studies feature.");}else {Y6h="C";Y6h+="oppock";Y6h+=" ";Y6h+="Curve";r1f.Studies.calculateCoppock=function(U1f,A1f){var f9mT=Y6AA;var T6h,p6h,j6h,Z6h,z1f,K1f,B1f,l1f,t1f,x1f,M1f;T6h="Res";T6h+="u";T6h+="lt";f9mT.C8TT();p6h="weig";p6h+="hte";p6h+="d";j6h="C";j6h+="lo";j6h+="s";j6h+="e";Z6h="fi";Z6h+="el";Z6h+="d";z1f=A1f.chart.scrubbed;K1f=A1f.inputs.Field;if(!K1f || K1f == Z6h){K1f=j6h;}B1f=parseInt(A1f.inputs["Long RoC"],10);if(!B1f){f9mT.z1n(1);B1f=f9mT.E1n(1,"14");}l1f=parseInt(A1f.inputs["Short RoC"],10);if(!l1f){l1f=11;}t1f=A1f.days;if(!t1f){t1f=10;}if(B1f < l1f){return;}if(z1f.length < Math.max(l1f,B1f,t1f) + 1){A1f.error=! !{};return;}for(var W1f=Math.max(A1f.startFrom,B1f);W1f < z1f.length;W1f++){f9mT.d1n(6);x1f=z1f[f9mT.E1n(l1f,W1f)][K1f];f9mT.z1n(6);M1f=z1f[f9mT.L1n(B1f,W1f)][K1f];if(x1f && M1f){f9mT.z1n(127);var c9R=f9mT.L1n(98,12,1,13,3);f9mT.d1n(4);var g9R=f9mT.L1n(2,0);z1f[W1f]["_Sum " + A1f.name]=c9R * (z1f[W1f][K1f] / x1f + z1f[W1f][K1f] / M1f - g9R);}}r1f.Studies.MA(p6h,t1f,"_Sum " + A1f.name,0,T6h,U1f,A1f);};r1f.Studies.studyLibrary=r1f.extend(r1f.Studies.studyLibrary,{Coppock:{name:Y6h,calculateFN:r1f.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":"11" * 1,"Long RoC":14}}});}};Y4T=C1f=>{var y1f,H6h;y1f=typeof _CIQ !== "undefined"?_CIQ:C1f.CIQ;if(!y1f.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {H6h="c";H6h+="l";H6h+="os";H6h+="e";y1f.Studies.calculateDarvas=function(i1f,p1f){var F9mT=Y6AA;var d6h,S6h,m1f,w1f,H1f,L6h,b1f,k2n,h2n,l2n,Q1f,Y1f,e1f,g1f,Z1f,u1f,j1f,X1f,o1f,J1f,R1f,F6h,y6h,c6h,g6h,M6h,b6h,m6h,I6h,O6h,Q6h,w6h,A6h,U6h,W6h;d6h="********";d6h+="********";d6h+="*";S6h="V";S6h+="olu";S6h+="me % o";S6h+="f Avg";m1f=p1f.chart.scrubbed;w1f=0;H1f=parseInt(p1f.inputs["ATH Lookback Period"],+"10");if(p1f.inputs["Volume Spike"]){L6h="A";L6h+="D";L6h+="V";F9mT.d1n(34);y1f.Studies.MA("simple",H1f,"Volume",F9mT.E1n(0,"0"),L6h,i1f,p1f);}F9mT.z1n(9);var M9R=F9mT.L1n(23,107,16);b1f=parseFloat(p1f.inputs[S6h]) / M9R;F9mT.z1n(1);k2n=-F9mT.L1n(1,"370860809");h2n=-253794521;l2n=2;for(var t2n=1;F9mT.g5n(t2n.toString(),t2n.toString().length,24619) !== k2n;t2n++){Q1f="n";Q1f+="o";Q1f+="n";Q1f+="e";Y1f={};e1f=null;g1f=null;Z1f=null;u1f=parseFloat(p1f.inputs["Level Offset"]);l2n+=2;}if(F9mT.g5n(l2n.toString(),l2n.toString().length,+"95982") !== h2n){Q1f="none";Y1f={};e1f=1;g1f=1;Z1f=1;u1f=parseFloat(p1f.inputs["Level Offset"]);}j1f=!1;if(j1f){console.log(d6h);}o1f={};["Darvas","Ghost","Profit","Loss","ATH","ADV","Spike"].forEach(function(v1f){F9mT.d1n(91);var O9R=F9mT.E1n(12,8,2660);F9mT.V8TT();F9mT.d1n(130);var I9R=F9mT.L1n(171000,1,162425,8,17);F9mT.d1n(131);var m9R=F9mT.E1n(3581,28824,16,4804);F9mT.z1n(110);var b9R=F9mT.E1n(1,9,3628,50803,15);F9mT.d1n(95);var Q9R=F9mT.E1n(17,20916,7,27920);F9mT.z1n(6);var w9R=F9mT.L1n(83472,88689);o1f[v1f]=v1f + ((+"555.86",570.74) == O9R?I9R < (m9R,b9R)?Q9R:w9R:" ") + p1f.name;});for(X1f=p1f.startFrom - 1;X1f > 0;X1f--){J1f=m1f[X1f];if(J1f[o1f.Darvas] || J1f[o1f.Ghost]){for(var P1f in o1f){J1f[P1f]=null;}}else {w1f=J1f[o1f.ATH] || 0;g1f=J1f[o1f.Profit];Z1f=J1f[o1f.Loss];break;}}for(X1f;X1f < m1f.length;X1f++){R1f=m1f[X1f];if(!R1f)continue;if(parseFloat(p1f.inputs["Price Minimum"]) <= m1f[w1f].Close){F6h="n";F6h+="o";F6h+="n";F6h+="e";if(e1f && (!e1f.End || X1f == e1f.End + 1)){if(m1f[X1f - ("1" | 0)].Close > Y1f.High){Y1f={State:1,High:2 * Y1f.High - Y1f.Low,Low:Y1f.High,Start:X1f,End:2 * Y1f.End - Y1f.Start + 1};}else {e1f=null;;}if(e1f){R1f[o1f.Ghost]=y1f.clone(Y1f);if(j1f){console.log("Ghost begin:" + R1f.DT);}Y1f.State=0;if(m1f[Y1f.End]){y6h="Ghost en";y6h+="d:";m1f[Y1f.End][o1f.Ghost]=y1f.clone(Y1f);if(j1f){console.log(y6h + m1f[Y1f.End].DT);}}e1f={Start:Y1f.Start,End:Y1f.End};g1f=Y1f.High + u1f;if(!Z1f || Z1f < Y1f.Low - u1f){Z1f=Y1f.Low - u1f;}}}R1f[o1f.Profit]=g1f;R1f[o1f.Loss]=Z1f;if(R1f.Close >= g1f){g1f=null;}else if(p1f.inputs["Exit Field"] == "high/low" && R1f.High >= g1f){g1f=null;}if(Q1f == F6h){if(X1f == w1f + 3){if(!m1f[w1f + 2][o1f.Darvas] && !m1f[w1f + 1][o1f.Darvas] && !m1f[w1f][o1f.Darvas] && m1f[w1f].High > R1f.High){c6h="h";c6h+="i";c6h+="g";c6h+="h";Q1f=c6h;;}}}if(Q1f == "high"){if(R1f.High > m1f[w1f].High){Q1f="none";}else if(m1f[X1f - +"3"].Low < m1f[X1f - +"2"].Low && m1f[X1f - 3].Low < m1f[X1f - 1].Low && m1f[X1f - 3].Low < R1f.Low){g6h="Darvas est";g6h+="ablish";g6h+="e";g6h+="d:";Y1f={State:1,High:m1f[w1f].High,Low:m1f[X1f - 3].Low,Start:w1f};m1f[w1f][o1f.Darvas]=y1f.clone(Y1f);Q1f="darvas";if(j1f){console.log("Darvas begin:" + m1f[w1f].DT);}if(j1f){console.log(g6h + R1f.DT);}if(e1f){if(e1f.End > X1f && m1f[e1f.Start]){R1f[o1f.Ghost]=y1f.clone(m1f[e1f.Start][o1f.Ghost]);R1f[o1f.Ghost].End=X1f;if(m1f[e1f.End]){M6h="Ghost End";M6h+=" remov";M6h+="ed:";delete m1f[e1f.End][o1f.Ghost];if(j1f){console.log(M6h + m1f[e1f.End].DT);}}}R1f[o1f.Ghost].State=0;m1f[e1f.Start][o1f.Ghost].End=X1f;if(j1f){console.log("Ghost end:" + R1f.DT);}e1f=null;}g1f=Y1f.High + u1f;if(!Z1f || Z1f < Y1f.Low - u1f){Z1f=Y1f.Low - u1f;}}}if(Q1f == "darvas"){b6h="n";b6h+="o";b6h+="n";b6h+="e";m6h="n";m6h+="one";I6h="n";I6h+="on";I6h+="e";O6h="high/";O6h+="low";if(R1f.Close > Y1f.High){e1f={};}else if(p1f.inputs["Exit Field"] == O6h && R1f.High > Y1f.High){e1f={};}else if(R1f.Close < Y1f.Low){Q1f="none";}else if(p1f.inputs["Exit Field"] == "high/low" && R1f.Low < Y1f.Low){Q1f=I6h;}if(e1f){Q1f="none";}else if(Q1f == m6h){g1f=null;Z1f=null;}if(!p1f.inputs["Ghost Boxes"]){e1f=null;}if(Q1f == b6h){Q6h="Da";Q6h+="rva";Q6h+="s e";Q6h+="nd:";for(var N1f=Y1f.Start + 1;N1f < X1f;N1f++){m1f[N1f][o1f.Darvas]=y1f.clone(Y1f);}Y1f.State=0;Y1f.End=X1f;R1f[o1f.Darvas]=y1f.clone(Y1f);if(j1f){console.log(Q6h + R1f.DT);}R1f[o1f.ATH]=w1f;continue;}}if(Z1f){w6h="Exit F";w6h+="iel";w6h+="d";if(R1f.Close < Y1f.Low || p1f.inputs[w6h] == "high/low" && R1f.Low < Y1f.Low){A6h="d";A6h+="a";A6h+="rvas";if(Q1f == A6h){Q1f="none";}if(R1f.Close < Z1f || p1f.inputs["Exit Field"] == "high/low" && R1f.Low < Z1f){g1f=null;Z1f=null;}if(e1f){if(e1f.End > X1f && m1f[e1f.Start]){R1f[o1f.Ghost]=y1f.clone(m1f[e1f.Start][o1f.Ghost]);R1f[o1f.Ghost].End=X1f;if(m1f[e1f.End]){delete m1f[e1f.End][o1f.Ghost];if(j1f){console.log("Ghost End removed:" + m1f[e1f.End].DT);}}}R1f[o1f.Ghost].State=0;m1f[e1f.Start][o1f.Ghost].End=X1f;if(j1f){console.log("Ghost end:" + R1f.DT);}e1f=null;}}}}if(R1f.High >= m1f[w1f].High){U6h="All Time H";U6h+="ig";U6h+="h:";w1f=X1f;if(j1f){console.log(U6h + R1f.DT);}}if(X1f < "3" >> 1063642816 || R1f.High >= m1f[X1f - 1].High && R1f.High >= m1f[X1f - 2].High && R1f.High >= m1f[X1f - 3].High){if(X1f - w1f >= H1f){W6h="All Time Hig";W6h+="h:";w1f=X1f;for(var f1f=0;f1f < H1f;f1f++){if(X1f - f1f < 0)break;if(m1f[X1f - f1f].High > m1f[w1f].High){F9mT.z1n(6);w1f=F9mT.E1n(f1f,X1f);}}if(j1f){console.log(W6h + R1f.DT);}}}if(p1f.inputs["Volume Spike"] && X1f > H1f && X1f == w1f){if(R1f[o1f.ADV] * b1f < R1f.Volume){F9mT.z1n(1);R1f[o1f.Spike]=F9mT.L1n(1,"1");if(j1f){console.log("Volume Spike:" + R1f.DT);}}}R1f[o1f.ATH]=w1f;}};y1f.Studies.displayDarvas=function(d1f,T1f,G1f){var e9mT=Y6AA;var v6h,i6h,s2f,L1f,D2f,S1f,k1f,E1f,F1f,l2f,q1f,c1f,C6h,W2f,t2f,U2f,x2f,V1f,n1f,O1f,A2f,a2f,r2f,h2f,K2f,I2f,z2f,y2f,B2f,C2f,s6h,x6h,B6h,M2f,U0n,W0n,i0n;v6h="a";v6h+="u";v6h+="t";v6h+="o";i6h="a";i6h+="u";i6h+="t";i6h+="o";s2f=y1f.Studies.determineColor(T1f.outputs.Levels);if(!s2f || s2f == i6h || y1f.isTransparent(s2f)){s2f=d1f.defaultColor;}L1f=y1f.Studies.determineColor(T1f.outputs.Darvas);if(!L1f || L1f == v6h || y1f.isTransparent(L1f)){L1f=d1f.defaultColor;}D2f=y1f.Studies.determineColor(T1f.outputs.Ghost);if(!D2f || D2f == "auto" || y1f.isTransparent(D2f)){D2f=d1f.defaultColor;}S1f=d1f.panels[T1f.panel];k1f=T1f.getContext(d1f);e9mT.d1n(6);var A9R=e9mT.E1n(34,36);c1f=d1f.layout.candleWidth - A9R;if(c1f < 2){e9mT.z1n(101);c1f=e9mT.L1n("1",667219808);}d1f.startClip(T1f.panel);if(T1f.inputs["Stop Levels"]){if(k1f.setLineDash){k1f.setLineDash([2,2]);}k1f.lineWidth=2;k1f.strokeStyle=s2f;k1f.beginPath();for(E1f=0;E1f < G1f.length;E1f++){C6h="L";C6h+="os";C6h+="s";C6h+=" ";F1f=G1f[E1f];e9mT.d1n(6);W2f=G1f[e9mT.E1n(1,E1f)];if(!F1f)continue;q1f=F1f["Loss " + T1f.name]?Math.floor(d1f.pixelFromPrice(F1f[C6h + T1f.name],S1f)):null;t2f=W2f && W2f["Loss " + T1f.name]?Math.floor(d1f.pixelFromPrice(W2f["Loss " + T1f.name],S1f)):null;if(q1f){if(F1f.candleWidth){c1f=Math.floor(Math.max(1,F1f.candleWidth));}U2f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) + c1f / 2);x2f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) - c1f / ("2" | 0));if(t2f && t2f >= q1f){k1f.lineTo(x2f,q1f);}else if(E1f === 0){k1f.moveTo(d1f.chart.left,q1f);}else {k1f.moveTo(x2f,q1f);}k1f.lineTo(U2f,q1f);}}k1f.stroke();if(k1f.setLineDash){k1f.setLineDash([]);}k1f.lineWidth=1;}V1f=- +"10";O1f=0;a2f=-10;e9mT.z1n(47);h2f=e9mT.E1n("0",0);I2f=!{};z2f=![];e9mT.d1n(125);var U9R=e9mT.L1n(8,15,15,3,6832);e9mT.d1n(6);var W9R=e9mT.E1n(9600,11200);e9mT.z1n(6);var i9R=e9mT.L1n(8690,9559);e9mT.z1n(41);var v9R=e9mT.E1n(11,104977,8,81752);e9mT.d1n(90);var C9R=e9mT.L1n(5,727,1455);e9mT.d1n(109);var s9R=e9mT.L1n(1117,9,15,127);e9mT.d1n(132);var x9R=e9mT.E1n(2,2,0,1);y2f=k1f.measureText(76.03 <= (U9R,"3700" | W9R)?"\u25B2":(i9R,v9R) > (C9R,365.34)?(!0,s9R):! ![]).width / x9R;B2f=0;for(E1f=0;E1f < G1f.length;E1f++){if(!G1f[E1f])continue;if(G1f[E1f].Close || G1f[E1f].Close === "0" * 1){B2f=E1f;}if(G1f[E1f]["Spike " + T1f.name]){k1f.fillStyle=L1f;k1f.textBaseline="bottom";C2f=d1f.pixelFromPrice(G1f[E1f].High,d1f.chart.panel);k1f.fillText("\u25BC",d1f.pixelFromBar(E1f) - y2f,C2f - 5);;}if(G1f[E1f].candleWidth){c1f=Math.floor(Math.max("1" | 0,G1f[E1f].candleWidth));}if(G1f[E1f]["Darvas " + T1f.name]){F1f=G1f[E1f]["Darvas " + T1f.name];if(F1f.State == 1 && !I2f){V1f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) - c1f / ("2" >> 76983552));n1f=Math.floor(d1f.pixelFromPrice(F1f.High,S1f));A2f=Math.floor(d1f.pixelFromPrice(F1f.Low,S1f)) - n1f;I2f=!0;}else if(F1f.State === 0){s6h="St";s6h+="op Le";s6h+="vels";e9mT.z1n(96);var B9R=e9mT.L1n(3,17,12);O1f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) + c1f / B9R) - V1f;n1f=Math.floor(d1f.pixelFromPrice(F1f.High,S1f));A2f=Math.floor(d1f.pixelFromPrice(F1f.Low,S1f)) - n1f;k1f.strokeStyle=L1f;k1f.fillStyle=L1f;if(!T1f.inputs[s6h]){k1f.strokeRect(V1f,n1f,O1f,A2f);k1f.globalAlpha=0.2;}else {k1f.globalAlpha=0.3;}k1f.fillRect(V1f,n1f,O1f,A2f);k1f.globalAlpha=1;I2f=![];}}if(G1f[E1f]["Ghost " + T1f.name] && T1f.inputs["Ghost Boxes"]){F1f=G1f[E1f]["Ghost " + T1f.name];if(F1f.State == +"1" && !z2f){a2f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) - c1f / 2);r2f=Math.floor(d1f.pixelFromPrice(F1f.High,S1f));h2f=Math.floor((F1f.End - F1f.Start + ("1" ^ 0)) * d1f.layout.candleWidth + c1f / 2);K2f=Math.floor(d1f.pixelFromPrice(F1f.Low,S1f)) - r2f;z2f=! ![];}else if(F1f.State === 0){x6h="St";x6h+="op Leve";x6h+="ls";if(F1f.Start == F1f.End){a2f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) - c1f / 2);}e9mT.d1n(9);var H9R=e9mT.L1n(18,0,20);h2f=Math.floor(d1f.pixelFromBar(E1f,S1f.chart) + c1f / H9R) - a2f;r2f=Math.floor(d1f.pixelFromPrice(F1f.High,S1f));K2f=Math.floor(d1f.pixelFromPrice(F1f.Low,S1f)) - r2f;k1f.strokeStyle=D2f;k1f.fillStyle=D2f;if(!T1f.inputs[x6h]){k1f.strokeRect(a2f,r2f,h2f,K2f);k1f.globalAlpha=+"0.2";}else {k1f.globalAlpha=0.3;}k1f.fillRect(a2f,r2f,h2f,K2f);k1f.globalAlpha=1;z2f=! !0;}}}if(I2f){B6h="Stop Leve";B6h+="ls";e9mT.d1n(119);var u9R=e9mT.E1n(13,3,0,13);O1f=Math.floor(d1f.pixelFromBar(B2f,S1f.chart) + c1f / u9R) - V1f;k1f.strokeStyle=L1f;k1f.fillStyle=L1f;if(!T1f.inputs[B6h]){k1f.beginPath();e9mT.d1n(26);k1f.moveTo(e9mT.L1n(O1f,V1f,2),n1f);k1f.lineTo(V1f,n1f);e9mT.d1n(4);k1f.lineTo(V1f,e9mT.L1n(A2f,n1f));e9mT.z1n(26);k1f.lineTo(e9mT.E1n(O1f,V1f,2),e9mT.L1n(A2f,n1f,e9mT.d1n(4)));k1f.stroke();k1f.globalAlpha=0.2;}else {e9mT.z1n(1);k1f.globalAlpha=e9mT.E1n(1,"0.3");}e9mT.d1n(1);k1f.fillRect(V1f,n1f,e9mT.E1n(O1f,2),A2f);k1f.globalAlpha=1;}if(z2f){k1f.strokeStyle=D2f;k1f.fillStyle=D2f;if(!T1f.inputs["Stop Levels"]){k1f.strokeRect(a2f,r2f,h2f,K2f);k1f.globalAlpha=0.2;}else {k1f.globalAlpha=+"0.3";}k1f.fillRect(a2f,r2f,h2f,K2f);k1f.globalAlpha=+"1";}if(I2f || z2f){if(T1f.inputs["Stop Levels"]){if(k1f.setLineDash){e9mT.z1n(18);k1f.setLineDash([2,e9mT.E1n("2",2012125248)]);}k1f.lineWidth=2;k1f.strokeStyle=s2f;M2f=Math.floor(d1f.pixelFromBar(B2f - 1,S1f.chart) + c1f / 2);if(l2f){k1f.beginPath();k1f.moveTo(M2f,l2f);k1f.lineTo(I2f?V1f + 2 * O1f:a2f + h2f,l2f);k1f.stroke();}if(q1f){k1f.beginPath();k1f.moveTo(M2f,q1f);k1f.lineTo(I2f?V1f + 2 * O1f:a2f + h2f,q1f);k1f.stroke();}if(k1f.setLineDash){k1f.setLineDash([]);}k1f.lineWidth=1;}U0n=2037487809;W0n=1969142104;e9mT.z1n(1);i0n=e9mT.L1n(1,"2");for(var C0n=1;e9mT.g5n(C0n.toString(),C0n.toString().length,75006) !== U0n;C0n++){I2f=! !"1";z2f=! !{};i0n+=2;}if(e9mT.c5n(i0n.toString(),i0n.toString().length,61783) !== W0n){I2f=![];z2f=![];}I2f=!1;z2f=! !"";}d1f.endClip();};y1f.Studies.studyLibrary=y1f.extend(y1f.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !"1",calculateFN:y1f.Studies.calculateDarvas,seriesFN:y1f.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[H6h,"high/low"],"Ghost Boxes":! !{},"Stop Levels":!"1","Level Offset":+"0.01","Price Minimum":5,"Volume Spike":! !"","Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:!0},flippedEnabled:{hidden:! ![]}}}});}};o4T=R2f=>{var F0TT=Y6AA;F0TT.C8TT();var m2f,M5n,O5n,I5n,e6h;m2f=typeof _CIQ !== "undefined"?_CIQ:R2f.CIQ;if(!m2f.Studies){M5n=809955831;O5n=458606261;F0TT.z1n(6);I5n=F0TT.E1n(0,"2");for(var b5n=1;F0TT.c5n(b5n.toString(),b5n.toString().length,56632) !== M5n;b5n++){console.error("detrended feature requires first activating studies feature.");I5n+=2;}if(F0TT.g5n(I5n.toString(),I5n.toString().length,"52221" ^ 0) !== O5n){console.error("");}}else {e6h="m";e6h+="a";m2f.Studies.calculateDetrendedPrice=function(Z2f,X2f){var o2f,e2f,p2f,u6h,Y2f,Q2f;o2f=X2f.chart.scrubbed;if(o2f.length < X2f.days + 1){X2f.error=! ![];return;}e2f=X2f.inputs.Field;if(!e2f || e2f == "field"){e2f="Close";}p2f=Math.floor(X2f.days / ("2" * 1) + "1" * 1);m2f.Studies.MA(X2f.inputs["Moving Average Type"],X2f.days,e2f,-p2f,"MA",Z2f,X2f);for(var w2f=Math.max(X2f.days - p2f - ("1" - 0),X2f.startFrom - p2f);w2f < o2f.length - p2f;w2f++){u6h="M";u6h+="A";u6h+=" ";Y2f=o2f[w2f][e2f];if(Y2f && typeof Y2f == "object"){Y2f=Y2f[X2f.subField];}Q2f=o2f[w2f][u6h + X2f.name];if((Y2f || Y2f === 0) && (Q2f || Q2f === 0)){F0TT.z1n(6);o2f[w2f]["Result " + X2f.name]=F0TT.L1n(Q2f,Y2f);}}};m2f.Studies.studyLibrary=m2f.extend(m2f.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:m2f.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":e6h}}});}};e4T=g2f=>{var j2f;j2f=typeof _CIQ !== "undefined"?_CIQ:g2f.CIQ;if(!j2f.Studies){console.error("disparity feature requires first activating studies feature.");}else {j2f.Studies.calculateDisparity=function(b2f,u2f){var G6h,J2f,H2f,N2f;G6h="fi";G6h+="eld";J2f=u2f.chart.scrubbed;if(J2f.length < u2f.days + 1){u2f.error=!"";return;}H2f=u2f.inputs.Field;if(!H2f || H2f == G6h){H2f="Close";}j2f.Studies.MA(u2f.inputs["Moving Average Type"],u2f.days,H2f,"0" - 0,"_MA",b2f,u2f);for(var f2f=Math.max(u2f.startFrom,u2f.days - ("1" & 2147483647));f2f < J2f.length;f2f++){if(!J2f[f2f])continue;N2f=J2f[f2f]["_MA " + u2f.name];if(N2f){Y6AA.d1n(131);var e9R=Y6AA.E1n(75,50,20,10);Y6AA.d1n(4);var G9R=Y6AA.L1n(1,0);J2f[f2f]["Result " + u2f.name]=e9R * (J2f[f2f][H2f] / N2f - G9R);}}};j2f.Studies.studyLibrary=j2f.extend(j2f.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:j2f.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};w4T=i2f=>{Y6AA.C8TT();var P2f,R6h,f6h,P6h;P2f=typeof _CIQ !== "undefined"?_CIQ:i2f.CIQ;if(!P2f.Studies){R6h="easeOfMovement f";R6h+="eature requires first activating studies feature.";console.error(R6h);}else {f6h="m";f6h+="a";P6h="E";P6h+="a";P6h+="se of Move";P6h+="ment";P2f.Studies.calculateEaseOfMovement=function(c2f,d2f){var K9mT=Y6AA;var v2f,U2n,W2n,i2n,X6h,J6h,F2f,T2f,S2f,G2f,E2f;v2f=d2f.chart.scrubbed;if(v2f.length < d2f.days){d2f.error=! ![];U2n=-2091787365;W2n=-1267666988;i2n=2;for(var C2n=1;K9mT.g5n(C2n.toString(),C2n.toString().length,20126) !== U2n;C2n++){return;}if(K9mT.g5n(i2n.toString(),i2n.toString().length,43919) !== W2n){return;}}for(var k2f=Math.max(+"1",d2f.startFrom);k2f < v2f.length;k2f++){X6h="_";X6h+="EOM1";X6h+=" ";J6h="_EO";J6h+="M";J6h+="1 ";K9mT.d1n(6);var R9R=K9mT.E1n(28,30);F2f=(v2f[k2f].High + v2f[k2f].Low) / R9R;K9mT.d1n(133);var J9R=K9mT.E1n(11,0,1,10,2);K9mT.d1n(55);var X9R=K9mT.E1n(13,114633852,114633868,114633852);K9mT.d1n(134);var P9R=K9mT.E1n(12,16,30,0,14);T2f=(v2f[k2f - J9R].High + v2f[k2f - ("1" >> X9R)].Low) / P9R;K9mT.d1n(6);S2f=K9mT.L1n(T2f,F2f);K9mT.d1n(6);var f9R=K9mT.L1n(300000000,400000000);G2f=v2f[k2f].Volume / f9R / (v2f[k2f].High - v2f[k2f].Low);K9mT.z1n(12);E2f=K9mT.L1n(G2f,S2f);if(!isFinite(E2f)){v2f[k2f][J6h + d2f.name]=NaN;}else {v2f[k2f][X6h + d2f.name]=E2f;}}P2f.Studies.MA(d2f.inputs["Moving Average Type"],d2f.days,"_EOM1 " + d2f.name,"0" & 2147483647,"Result",c2f,d2f);};P2f.Studies.studyLibrary=P2f.extend(P2f.Studies.studyLibrary,{EOM:{name:P6h,calculateFN:P2f.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":f6h}}});}};p4T=n2f=>{var V2f,V6h,N6h;Y6AA.C8TT();V2f=typeof _CIQ !== "undefined"?_CIQ:n2f.CIQ;if(!V2f.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {V6h="au";V6h+="t";V6h+="o";N6h="Ehler F";N6h+="ishe";N6h+="r Transform";V2f.Studies.calculateEhlerFisher=function(s3f,L2f){var m9mT=Y6AA;var O2f,q2f,D3f,n6h,h3f,I3f;O2f=L2f.chart.scrubbed;if(O2f.length < L2f.days + 1){L2f.error=! !{};return;}q2f=0;if(L2f.startFrom > 1){q2f=O2f[L2f.startFrom - ("1" ^ 0)]["_n " + L2f.name];}for(var a3f=L2f.startFrom;a3f < O2f.length;a3f++){D3f=O2f[a3f];if(D3f.futureTick)break;if(a3f < L2f.days - 1){n6h="EF";n6h+=" ";D3f[n6h + L2f.name]=D3f["EF Trigger " + L2f.name]=q2f;continue;}h3f=r3f(L2f.days,a3f);m9mT.d1n(33);var n9R=m9mT.E1n(22,18,2);m9mT.d1n(25);var N9R=m9mT.E1n(18,214,12);m9mT.d1n(114);var V9R=m9mT.L1n(20,35,7,9);q2f=0.33 * n9R * (((O2f[a3f].High + O2f[a3f].Low) / N9R - h3f[0]) / Math.max(0.000001,h3f[V9R] - h3f[0]) - 0.5) + ("0.67" - 0) * q2f;if(q2f > 0){q2f=Math.min(q2f,0.9999);}else if(q2f < "0" << 943626912){q2f=Math.max(q2f,-0.9999);}I3f=a3f?O2f[a3f - 1]["EF " + L2f.name]:0;m9mT.d1n(135);var k9R=m9mT.E1n(6,19,20,20,80);m9mT.d1n(31);var h9R=m9mT.E1n(15,5,96,0,20);m9mT.z1n(136);var l9R=m9mT.E1n(5,4,72,19,2);D3f["EF " + L2f.name]=0.5 * Math.log((k9R + q2f) / (h9R - q2f)) + "0.5" * l9R * I3f;D3f["EF Trigger " + L2f.name]=I3f;D3f["_n " + L2f.name]=q2f;}function r3f(l3f,B3f){var z3f,K3f,W3f;z3f=Number.MAX_VALUE;m9mT.d1n(137);var q9R=m9mT.E1n(16,0,0,1,17);K3f=Number.MAX_VALUE * q9R;for(var A3f=B3f - l3f + 1;A3f <= B3f;A3f++){m9mT.d1n(138);var t9R=m9mT.L1n(19,14,423,17,8);W3f=(O2f[A3f].High + O2f[A3f].Low) / t9R;z3f=Math.min(z3f,W3f);K3f=Math.max(K3f,W3f);}return [z3f,K3f];}};V2f.Studies.studyLibrary=V2f.extend(V2f.Studies.studyLibrary,{"Ehler Fisher":{name:N6h,calculateFN:V2f.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:V6h,"EF Trigger":"#FF0000"}}});}};Q4T=x3f=>{var t3f,k6h,p9h;t3f=typeof _CIQ !== "undefined"?_CIQ:x3f.CIQ;if(!t3f.Studies){k6h="elder feature r";k6h+="equires first activatin";k6h+="g studies feature.";console.error(k6h);}else {p9h="#5";p9h+="F7CB";p9h+="8";t3f.Studies.calculateElderImpulse=function(R3f,M3f){var U9mT=Y6AA;var l6h,h6h,y3f,X3f,Y3f,m3f,C3f,q6h;l6h="_";l6h+="M";l6h+="A";h6h="exp";h6h+="onential";y3f=M3f.chart.scrubbed;X3f=M3f.outputs.Bullish;Y3f=M3f.outputs.Bearish;m3f=M3f.outputs.Neutral;t3f.Studies.MA(h6h,+"13","Close",0,l6h,R3f,M3f);U9mT.z1n(22);var D9R=U9mT.E1n(9220,2,36880,9218);U9mT.d1n(4);var K9R=U9mT.E1n(5349,1070);U9mT.d1n(39);var a8R=U9mT.L1n(20,5,7,8050);U9mT.z1n(139);var r8R=U9mT.L1n(648849,8,7384,11,20);U9mT.d1n(90);var z8R=U9mT.L1n(4,499,5486);U9mT.z1n(22);var E8R=U9mT.E1n(5,1,9895,7921);U9mT.d1n(6);var o8R=U9mT.E1n(8,8388);M3f.macd=new t3f.Studies.StudyDescriptor((D9R < K9R?a8R == (1.96,r8R)?"334.55" - 0:z8R !== E8R?! !"1":(o8R,"s"):"_") + M3f.name,"macd",M3f.panel);M3f.macd.chart=M3f.chart;M3f.macd.days=M3f.days;M3f.macd.startFrom=M3f.startFrom;M3f.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};M3f.macd.outputs={_MACD:null,_Signal:null};t3f.Studies.calculateMACD(R3f,M3f.macd);for(var U3f=M3f.startFrom;U3f < y3f.length;U3f++){q6h="_h";q6h+="i";q6h+="st";if(U3f === 0){C3f=m3f;}else if(y3f[U3f]["_MA " + M3f.name] > y3f[U3f - 1]["_MA " + M3f.name] && y3f[U3f][(466 < +"3720"?(9980,8470) < (1853,"6500" | 6468)?! !1:652.13 === 9764?7.70e+3:"_":("l",8.06e+3)) + M3f.name + q6h] > y3f[U3f - 1][(("9601" - 0,943) > (439.62,463.89)?"_":(443,822.63) === ("4330" >> 515303808,7274)?263.41:! ![]) + M3f.name + "_hist"]){C3f=X3f;}else if(y3f[U3f]["_MA " + M3f.name] < y3f[U3f - 1]["_MA " + M3f.name] && y3f[U3f][((563.15,7390) >= (140.68,3023)?3806 == 682?"T":2933 >= 6884?(8.08e+3,267.18):"_":(! ![],![])) + M3f.name + "_hist"] < y3f[U3f - 1]["_" + M3f.name + "_hist"]){C3f=Y3f;}else {C3f=m3f;}y3f[U3f]["Result " + M3f.name]=C3f;;}};t3f.Studies.calculateElderRay=function(p3f,o3f){var K6h,e3f,D6h,t6h;K6h="_h";K6h+="ist1";e3f=o3f.chart.scrubbed;if(e3f.length < o3f.days){o3f.error=! !"1";return;}Y6AA.V8TT();t3f.Studies.MA("exponential",o3f.days,"Close",0,"_EMA",p3f,o3f);for(var w3f=Math.max(o3f.startFrom,o3f.days - +"1");w3f < e3f.length;w3f++){D6h="_hi";D6h+="st2";t6h="_";t6h+="EMA ";e3f[w3f][o3f.name + "_hist1"]=e3f[w3f].High - e3f[w3f][t6h + o3f.name];e3f[w3f][o3f.name + D6h]=e3f[w3f].Low - e3f[w3f]["_EMA " + o3f.name];}o3f.outputMap={};o3f.outputMap[o3f.name + K6h]="";o3f.outputMap[o3f.name + "_hist2"]="";};t3f.Studies.calculateElderForce=function(g3f,Q3f){var Z9h,Z3f,a9h;Z9h="expon";Z9h+="ent";Z9h+="ial";Z3f=Q3f.chart.scrubbed;if(Z3f.length < Q3f.days){Q3f.error=! ![];return;}for(var j3f=Math.max(1,Q3f.startFrom);j3f < Z3f.length;j3f++){a9h="_E";a9h+="F";a9h+="1";a9h+=" ";Y6AA.d1n(7);var Z8R=Y6AA.L1n(1,4,4,0);Z3f[j3f][a9h + Q3f.name]=Z3f[j3f].Volume * (Z3f[j3f].Close - Z3f[j3f - Z8R].Close);}t3f.Studies.MA(Z9h,Q3f.days,"_EF1 " + Q3f.name,0,"Result",g3f,Q3f);};t3f.Studies.initElderImpulse=function(J3f,H3f,N3f,b3f,f3f,P3f){var u3f;u3f=t3f.Studies.initializeFN(J3f,H3f,N3f,b3f,f3f,P3f);if(f3f.calculateOnly){return u3f;}J3f.chart.customChart={chartType:"colored_bar",colorFunction:function(k3f,v3f,d3f){var i3f;i3f=v3f["Result " + u3f.name];if(i3f && typeof i3f == "object"){i3f=i3f.color;}Y6AA.V8TT();return i3f;}};J3f.setMainSeriesRenderer();Y6AA.C8TT();return u3f;};t3f.Studies.displayElderForce=function(F3f,E3f,V3f){var S3f,G3f,c3f,T3f;t3f.Studies.displaySeriesAsLine(F3f,E3f,V3f);S3f=t3f.Studies.determineColor(E3f.outputs.Result);G3f=F3f.panels[E3f.panel];c3f=E3f.getYAxis(F3f);T3f={skipTransform:G3f.name != E3f.chart.name,panelName:E3f.panel,band:"Result " + E3f.name,threshold:+"0",color:S3f,yAxis:c3f};if(!E3f.highlight && F3f.highlightedDraggable){T3f.opacity=0.3;}T3f.direction=1;t3f.preparePeakValleyFill(F3f,T3f);T3f.direction=-1;t3f.preparePeakValleyFill(F3f,T3f);};t3f.Studies.displayElderRay=function(L3f,n3f,s5f){var U4f,a4f,h5f,I5f,A4f,K5f,j9h,q3f;U4f=L3f.panels[n3f.panel];a4f=n3f.getContext(L3f);h5f=n3f.getYAxis(L3f);Y6AA.z1n(18);I5f=L3f.pixelFromPrice(Y6AA.L1n("0",243356416),U4f,h5f);Y6AA.d1n(114);var j8R=Y6AA.L1n(15,25,2,10);A4f=L3f.layout.candleWidth - j8R;if(A4f < 2){A4f=1;}L3f.canvasColor("stx_histogram");function D5f(B5f,W5f,M5f,y5f){Y6AA.V8TT();a4f.fillStyle=t3f.Studies.determineColor(n3f.outputs[M5f]);a4f.fillRect(Math.floor(L3f.pixelFromBar(B5f,U4f.chart) - A4f / 2 + A4f * W5f),Math.floor(I5f),Math.floor(A4f * (1 - +"2" * W5f)),Math.floor(L3f.pixelFromPrice(q3f[n3f.name + y5f],U4f,h5f) - I5f));}K5f=a4f.fillStyle;if(!n3f.underlay){a4f.globalAlpha=1;}L3f.startClip(n3f.panel);if(!n3f.highlight && L3f.highlightedDraggable){a4f.globalAlpha*=0.3;}for(var O3f=+"0";O3f < s5f.length;O3f++){j9h="_";j9h+="his";j9h+="t2";q3f=s5f[O3f];if(!q3f)continue;if(q3f.candleWidth){A4f=Math.floor(Math.max(1,q3f.candleWidth - 2));}if(q3f[n3f.name + "_hist1"] > 0){D5f(O3f,0,"Elder Bull Power","_hist1");}if(q3f[n3f.name + j9h] < 0){D5f(O3f,0,"Elder Bear Power","_hist2");}if(q3f[n3f.name + "_hist1"] < +"0"){D5f(O3f,+"0.1","Elder Bull Power","_hist1");}if(q3f[n3f.name + "_hist2"] > 0){D5f(O3f,0.1,"Elder Bear Power","_hist2");}}L3f.endClip();a4f.fillStyle=K5f;};t3f.Studies.studyLibrary=t3f.extend(t3f.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:t3f.Studies.calculateElderForce,seriesFN:t3f.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:t3f.Studies.displayElderRay,calculateFN:t3f.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:t3f.Studies.calculateElderImpulse,initializeFN:t3f.Studies.initElderImpulse,seriesFN:null,customRemoval:! !1,underlay:! !1,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:p9h},removeFN:function(C5f,m5f){C5f.chart.customChart=null;Y6AA.C8TT();C5f.setMainSeriesRenderer();}}});}};Z4T=X5f=>{var R5f,T9h,Q9h,m9h,O9h,M9h;R5f=typeof _CIQ !== "undefined"?_CIQ:X5f.CIQ;if(!R5f.Studies){T9h="fractalChaos feature requires first activ";T9h+="ating studies feature.";console.error(T9h);}else {Q9h="a";Q9h+="u";Q9h+="t";Q9h+="o";m9h="aut";m9h+="o";O9h="a";O9h+="u";O9h+="t";O9h+="o";M9h="Fractal ";M9h+="Cha";M9h+="os Oscilla";M9h+="tor";R5f.Studies.calculateFractalChaos=function(H5f,Q5f){var w5f,g5f,u5f,Z5f,L9h,Y9h,J5f,f5f,p5f,d9h,F9h,c9h;w5f=Q5f.chart.scrubbed;g5f=0;u5f=0;Z5f=0;if(Q5f.startFrom && Q5f.type == "Fractal Chaos Bands"){L9h="Fractal Lo";L9h+="w ";Y9h="Fr";Y9h+="act";Y9h+="al High";Y9h+=" ";g5f=w5f[Q5f.startFrom - +"1"][Y9h + Q5f.name];Y6AA.z1n(111);var p8R=Y6AA.L1n(1727,18,12,8);u5f=w5f[Q5f.startFrom - p8R][L9h + Q5f.name];}for(var e5f=Math.max(4,Q5f.startFrom);e5f < w5f.length;e5f++){if(w5f[e5f].futureTick)break;J5f=!isNaN(w5f[e5f].High);f5f=!isNaN(w5f[e5f].Low);if(J5f || f5f){w5f[e5f]["Result " + Q5f.name]=0;}Y6AA.d1n(34);Z5f=Y6AA.L1n(0,"0");for(p5f=0;p5f <= e5f;p5f++){if(!w5f[e5f - p5f])break;if(w5f[e5f - p5f].High > w5f[e5f - 2].High)break;if(p5f < 2 && w5f[e5f - p5f].High == w5f[e5f - 2].High)break;if(w5f[e5f - p5f].High < w5f[e5f - 2].High){Z5f++;}if(Z5f == +"4"){g5f=w5f[e5f - 2].High;break;}}if(Q5f.type == "Fractal Chaos Bands"){d9h="Frac";d9h+="tal";d9h+=" Hi";d9h+="gh ";if(J5f){w5f[e5f][d9h + Q5f.name]=g5f > 0?g5f:null;}}else if(Z5f == 4){w5f[e5f]["Result " + Q5f.name]=1;}Z5f=+"0";for(p5f=0;p5f <= e5f;p5f++){if(!w5f[e5f - p5f])break;if(w5f[e5f - p5f].Low < w5f[e5f - 2].Low)break;if(p5f < 2 && w5f[e5f - p5f].Low == w5f[e5f - 2].Low)break;if(w5f[e5f - p5f].Low > w5f[e5f - 2].Low){Z5f++;}if(Z5f == 4){u5f=w5f[e5f - 2].Low;break;}}if(Q5f.type == "Fractal Chaos Bands"){F9h="Fractal L";F9h+="o";F9h+="w ";if(f5f){w5f[e5f][F9h + Q5f.name]=u5f > 0?u5f:null;}}else if(Z5f == 4){c9h="Re";c9h+="sult";c9h+=" ";w5f[e5f][c9h + Q5f.name]=- +"1";}}};R5f.Studies.studyLibrary=R5f.extend(R5f.Studies.studyLibrary,{"Fractal Chaos":{name:M9h,range:"-1 to 1",calculateFN:R5f.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:R5f.Studies.calculateFractalChaos,seriesFN:R5f.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":O9h,"Fractal Low":m9h,"Fractal Channel":Q9h}}});}};j4T=b5f=>{var U9h,N5f,i9h,N9h,f9h,X9h,R9h,B9h,x9h;U9h="un";U9h+="de";U9h+="fined";N5f=typeof _CIQ !== U9h?_CIQ:b5f.CIQ;if(!N5f.Studies){i9h="highLowStudies ";i9h+="feature requ";i9h+="ires first activating studies feature.";console.error(i9h);}else {N9h="H";N9h+="ig";N9h+="h Minus";N9h+=" Low";f9h="W";f9h+="illiam";f9h+="s %R";X9h="Lowest Low Va";X9h+="lue";R9h="Gopalakri";R9h+="shnan ";R9h+="Range In";R9h+="dex";B9h="a";B9h+="u";B9h+="t";B9h+="o";x9h="Donc";x9h+="hia";x9h+="n C";x9h+="hannel";N5f.Studies.calculateMaxHighMinLow=function(q5f,P5f){var D9mT=Y6AA;var C9h,v9h,i5f,L5f,n5f,G5f,S5f,d5f,s9h,V5f;C9h="High";C9h+=" Perio";C9h+="d";v9h="Hi";D9mT.C8TT();v9h+="g";v9h+="h Per";v9h+="iod";i5f=P5f.chart.scrubbed;L5f=P5f.days;n5f=P5f.days;if(P5f.inputs[v9h]){L5f=P5f.inputs[C9h];}if(P5f.inputs["Low Period"]){n5f=P5f.inputs["Low Period"];}if(i5f.length < Math.max(L5f,n5f) + 1){P5f.error=! !{};return;}G5f=Number.MAX_VALUE;S5f=Number.MAX_VALUE * -("1" ^ 0);if(P5f.startFrom > 1){for(d5f=1;d5f < L5f;d5f++){if(P5f.startFrom - d5f >= ("0" | 0)){S5f=Math.max(S5f,i5f[P5f.startFrom - d5f].High);}}for(d5f="1" & 2147483647;d5f < n5f;d5f++){if(P5f.startFrom - d5f >= 0){G5f=Math.min(G5f,i5f[P5f.startFrom - d5f].Low);}}}for(var v5f=Math.max(+"0",P5f.startFrom - 1);v5f < i5f.length;v5f++){s9h="Go";s9h+="p";s9h+="ala";S5f=Math.max(S5f,i5f[v5f].High);G5f=Math.min(G5f,i5f[v5f].Low);if(v5f >= L5f){if(i5f[v5f - L5f].High == S5f){S5f=i5f[v5f].High;for(d5f=+"1";d5f < L5f;d5f++){S5f=Math.max(S5f,i5f[v5f - d5f].High);}}}if(v5f >= n5f){if(i5f[v5f - n5f].Low == G5f){G5f=i5f[v5f].Low;for(d5f="1" >> 1217146912;d5f < n5f;d5f++){G5f=Math.min(G5f,i5f[v5f - d5f].Low);}}}V5f=0;if(P5f.type == "HHV"){V5f=S5f;}else if(P5f.type == "LLV"){V5f=G5f;}else if(P5f.type == "Donchian Width"){D9mT.d1n(6);V5f=D9mT.E1n(G5f,S5f);}else if(P5f.type == "GAPO" || P5f.type == s9h){V5f=Math.log(S5f - G5f) / Math.log(n5f);}else if(P5f.type == "VT HZ Filter"){D9mT.d1n(6);V5f=D9mT.L1n(G5f,S5f);i5f[v5f]["_MHML " + P5f.name]=V5f;continue;}else if(P5f.type == "Williams %R"){D9mT.d1n(140);var T8R=D9mT.E1n(1200,20,11,2,13122);V5f=T8R * (S5f - i5f[v5f].Close) / (S5f - G5f);i5f[v5f]["Result " + P5f.name]=V5f;continue;}if(v5f == i5f.length - ("1" - 0))break;if(!i5f[v5f + 1].futureTick){if(P5f.type == "Donchian Channel"){D9mT.d1n(4);i5f[D9mT.E1n(1,v5f)]["Donchian High " + P5f.name]=S5f;D9mT.z1n(141);i5f[D9mT.E1n(v5f,"1",917516160)]["Donchian Low " + P5f.name]=G5f;D9mT.z1n(4);i5f[D9mT.E1n(1,v5f)]["Donchian Median " + P5f.name]=D9mT.E1n(G5f,2,S5f,D9mT.d1n(8));}else {D9mT.z1n(4);i5f[D9mT.E1n(1,v5f)]["Result " + P5f.name]=V5f;}}}};N5f.Studies.calculateVerticalHorizontalFilter=function(A6f,a6f){var D6f,I6f,r6f,s6f;D6f=a6f.chart.scrubbed;if(D6f.length < a6f.days + 1){a6f.error=! !1;return;}a6f.mhml=new N5f.Studies.StudyDescriptor(a6f.name,a6f.type,a6f.panel);a6f.mhml.chart=a6f.chart;a6f.mhml.days=a6f.days;a6f.mhml.startFrom=a6f.startFrom;a6f.mhml.inputs={};a6f.mhml.outputs={_MHML:null};N5f.Studies.calculateMaxHighMinLow(A6f,a6f.mhml);I6f=0;r6f=[];for(var h6f=Math.max(1,a6f.startFrom - a6f.days);h6f < D6f.length;h6f++){s6f=Math.abs(D6f[h6f].Close - D6f[h6f - +"1"].Close);r6f.push(s6f);I6f+=s6f;if(r6f.length == a6f.days){D6f[h6f]["Result " + a6f.name]=D6f[h6f]["_MHML " + a6f.name] / I6f;I6f-=r6f.shift();}}};N5f.Studies.studyLibrary=N5f.extend(N5f.Studies.studyLibrary,{"Donchian Channel":{name:x9h,overlay:! !"1",calculateFN:N5f.Studies.calculateMaxHighMinLow,seriesFN:N5f.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":"auto","Donchian Median":B9h,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:N5f.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:R9h,calculateFN:N5f.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:N5f.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:X9h,calculateFN:N5f.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:f9h,calculateFN:N5f.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:N5f.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:N9h,calculateFN:function(B6f,W6f){var K6f;K6f=W6f.chart.scrubbed;Y6AA.V8TT();for(var z6f=W6f.startFrom;z6f < K6f.length;z6f++){K6f[z6f]["Result " + W6f.name]=K6f[z6f].High - K6f[z6f].Low;}},inputs:{}}});}};g4T=t6f=>{Y6AA.V8TT();var l6f;l6f=typeof _CIQ !== "undefined"?_CIQ:t6f.CIQ;if(!l6f.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {l6f.Studies.calculateIchimoku=function(e6f,M6f){var d9mT=Y6AA;var V9h,U6f,y6f,x6f,C6f,X6f,h9h,Y6f,o6f,q9h,m6f;V9h="Conv";V9h+="e";V9h+="rs";V9h+="ion Line Period";U6f=M6f.chart.scrubbed;y6f={Base:Number(M6f.inputs["Base Line Period"]),Conv:Number(M6f.inputs[V9h]),LeadB:Number(M6f.inputs["Leading Span B Period"]),Lag:Number(M6f.inputs["Lagging Span Period"])};for(x6f=M6f.startFrom;x6f < U6f.length;x6f++){if(!U6f[x6f])continue;C6f=R6f(y6f.Conv,x6f);d9mT.z1n(16);var Y8R=d9mT.E1n(19,20);d9mT.d1n(5);var L8R=d9mT.L1n(421133382,9,1684533539);U6f[x6f]["Conversion Line " + M6f.name]=(C6f[Y8R] + C6f[0]) / ("2" << L8R);C6f=R6f(y6f.Base,x6f);d9mT.z1n(142);var S8R=d9mT.E1n(5,0,3,10,149);d9mT.z1n(44);var d8R=d9mT.E1n(101,15,4,9);U6f[x6f]["Base Line " + M6f.name]=(C6f[S8R] + C6f[0]) / d8R;if(x6f < y6f.Lag)continue;U6f[x6f - y6f.Lag]["Lagging Span " + M6f.name]=U6f[x6f].Close;}X6f=[];for(x6f=Math.max(0,M6f.startFrom - y6f.Base);x6f < U6f.length;x6f++){h9h="B";h9h+="ase Lin";h9h+="e";h9h+=" ";C6f=R6f(y6f.LeadB,x6f);d9mT.d1n(143);var y8R=d9mT.L1n(4,23,20,4);Y6f=(U6f[x6f]["Conversion Line " + M6f.name] + U6f[x6f][h9h + M6f.name]) / ("2" | y8R);d9mT.d1n(61);var F8R=d9mT.E1n(9,9,18,2);d9mT.z1n(5);var c8R=d9mT.E1n(0,18,20);o6f=(C6f["1" * F8R] + C6f[0]) / c8R;if(U6f[x6f + y6f.Base]){U6f[x6f + y6f.Base]["Leading Span A " + M6f.name]=Y6f;U6f[x6f + y6f.Base]["Leading Span B " + M6f.name]=o6f;}else {q9h="Lea";q9h+="d";q9h+="ing Span A ";m6f={};m6f[q9h + M6f.name]=Y6f;m6f["Leading Span B " + M6f.name]=o6f;X6f.push(m6f);}}M6f.appendFutureTicks(e6f,X6f);function R6f(j6f,Z6f){var p6f,Q6f;p6f=Number.MAX_VALUE;d9mT.z1n(119);var g8R=d9mT.E1n(11,10,0,1);Q6f=Number.MAX_VALUE * g8R;for(var w6f=Z6f - j6f + "1" * 1;w6f <= Z6f;w6f++){if(w6f < +"0")continue;p6f=Math.min(p6f,U6f[w6f].Low);Q6f=Math.max(Q6f,U6f[w6f].High);}return [p6f,Q6f];}};l6f.Studies.displayIchimoku=function(u6f,g6f,v6f){var J6f,f6f,b6f,P6f,i6f,H6f,N6f;J6f="Leading Span A " + g6f.name;f6f="Leading Span B " + g6f.name;b6f=l6f.Studies.determineColor(g6f.outputs[g6f.outputMap[J6f]]);P6f=l6f.Studies.determineColor(g6f.outputs[g6f.outputMap[f6f]]);i6f=u6f.panels[g6f.panel];H6f=g6f.getYAxis(u6f);N6f={topBand:J6f,bottomBand:f6f,topColor:b6f,bottomColor:P6f,skipTransform:i6f.name != g6f.chart.name,topAxis:H6f,bottomAxis:H6f,opacity:+"0.3"};if(!g6f.highlight && u6f.highlightedDraggable){N6f.opacity*=0.3;}l6f.fillIntersecting(u6f,g6f.panel,N6f);l6f.Studies.displaySeriesAsLine(u6f,g6f,v6f);};l6f.Studies.studyLibrary=l6f.extend(l6f.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !"1",calculateFN:l6f.Studies.calculateIchimoku,seriesFN:l6f.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};u4T=d6f=>{Y6AA.C8TT();var k6f,t9h;k6f=typeof _CIQ !== "undefined"?_CIQ:d6f.CIQ;if(!k6f.Studies){t9h="intra";t9h+="dayMomentum f";t9h+="eature requires first activ";t9h+="ating studies feature.";console.error(t9h);}else {k6f.Studies.calculateIntradayMomentum=function(L6f,E6f){var W9mT=Y6AA;var F6f,c6f,S6f,G6f,K9h,D9h,V6f,n6f;F6f=E6f.chart.scrubbed;c6f=E6f.days;if(F6f.length < c6f + 1){E6f.error=! ![];return;}W9mT.d1n(1);S6f=W9mT.L1n(1,"0");G6f=0;if(E6f.startFrom > 1){W9mT.z1n(25);var M8R=W9mT.E1n(9,44,5);S6f=F6f[E6f.startFrom - M8R]["_totUp " + E6f.name];W9mT.d1n(144);var O8R=W9mT.E1n(3,8,57,3,4);G6f=F6f[E6f.startFrom - O8R]["_totDn " + E6f.name];}for(var T6f=E6f.startFrom;T6f < F6f.length;T6f++){K9h="_";K9h+="to";K9h+="tDn ";D9h="R";D9h+="esu";D9h+="lt";D9h+=" ";V6f=F6f[T6f].Close - F6f[T6f].Open;if(V6f > 0){S6f+=V6f;}else {G6f-=V6f;}if(T6f >= c6f){n6f=F6f[T6f - c6f].Close - F6f[T6f - c6f].Open;if(n6f > 0){S6f-=n6f;}else {G6f+=n6f;}}W9mT.d1n(145);F6f[T6f][D9h + E6f.name]=W9mT.E1n(S6f,G6f,S6f,100);F6f[T6f]["_totUp " + E6f.name]=S6f;F6f[T6f][K9h + E6f.name]=G6f;}};k6f.Studies.studyLibrary=k6f.extend(k6f.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:k6f.Studies.calculateIntradayMomentum,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};J4T=O6f=>{var q6f,a8h;q6f=typeof _CIQ !== "undefined"?_CIQ:O6f.CIQ;Y6AA.V8TT();if(!q6f.Studies){console.error("keltner feature requires first activating studies feature.");}else {a8h="a";a8h+="u";a8h+="t";a8h+="o";q6f.Studies.calculateKeltner=function(D7f,a7f){Y6AA.V8TT();q6f.Studies.MA(a7f.inputs["Moving Average Type"],a7f.days,"Close",0,"MA",D7f,a7f);q6f.Studies.calculateStudyATR(D7f,a7f);q6f.Studies.calculateGenericEnvelope(D7f,a7f,a7f.inputs.Shift,"MA " + a7f.name,"ATR " + a7f.name);};q6f.Studies.studyLibrary=q6f.extend(q6f.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:q6f.Studies.displayChannel,calculateFN:q6f.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !"1"},outputs:{"Keltner Top":a8h,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};f4T=I7f=>{var r8h,h7f,j8h,Z8h;r8h="und";r8h+="efined";h7f=typeof _CIQ !== r8h?_CIQ:I7f.CIQ;if(!h7f.Studies){console.error("klinger feature requires first activating studies feature.");}else {j8h="#";j8h+="FF00";j8h+="00";Z8h="au";Z8h+="to";h7f.Studies.calculateKlinger=function(l7f,s7f){var o8h,z8h,A7f,t7f,z7f,x7f,K7f,y7f,W7f,M7f,U7f,r7f,E8h,B7f;o8h="e";o8h+="xponentia";o8h+="l";Y6AA.V8TT();z8h="_";z8h+="EM";z8h+="A-";z8h+="L ";A7f=s7f.chart.scrubbed;t7f=Number(s7f.inputs["Short Cycle"]);z7f=Number(s7f.inputs["Long Cycle"]);if(A7f.length < Math.max(t7f,z7f) + 1){s7f.error=! ![];return;}x7f=s7f.name + "_hist";K7f="Klinger " + s7f.name;y7f="KlingerSignal " + s7f.name;W7f="_SV " + s7f.name;M7f="_EMA-S " + s7f.name;U7f=z8h + s7f.name;for(r7f=Math.max(1,s7f.startFrom);r7f < A7f.length;r7f++){E8h="h";E8h+="lc/";E8h+="3";B7f=A7f[r7f].Volume;if(A7f[r7f]["hlc/3"] < A7f[r7f - ("1" << 246126784)][E8h]){B7f*=-1;}if(B7f){A7f[r7f][W7f]=B7f;}}h7f.Studies.MA(o8h,t7f,W7f,+"0","_EMA-S",l7f,s7f);h7f.Studies.MA("exponential",z7f,W7f,0,"_EMA-L",l7f,s7f);for(r7f=Math.max(z7f,s7f.startFrom);r7f < A7f.length;r7f++){if(A7f[r7f].futureTick || A7f[r7f][M7f] === null || A7f[r7f][U7f] === null)break;A7f[r7f][K7f]=A7f[r7f][M7f] - A7f[r7f][U7f];}h7f.Studies.MA("exponential",Number(s7f.inputs["Signal Periods"]),K7f,0,"KlingerSignal",l7f,s7f);for(r7f=s7f.startFrom;r7f < A7f.length;r7f++){A7f[r7f][x7f]=A7f[r7f][K7f] - A7f[r7f][y7f];}s7f.outputMap[x7f]="";};h7f.Studies.studyLibrary=h7f.extend(h7f.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:h7f.Studies.displayHistogramWithSeries,calculateFN:h7f.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:Z8h,KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":j8h}}});}};H4T=m7f=>{var p8h,C7f,T8h,c8h,F8h,y8h,L8h,Y8h;p8h="un";p8h+="def";p8h+="in";Y6AA.V8TT();p8h+="ed";C7f=typeof _CIQ !== p8h?_CIQ:m7f.CIQ;if(!C7f.Studies){T8h="linearRegressio";T8h+="n feature requires first activating studies feature.";console.error(T8h);}else {c8h="Time Series Forec";c8h+="ast";F8h="a";F8h+="uto";y8h="Lin";y8h+="ear Reg Interc";y8h+="ep";y8h+="t";L8h="t";L8h+="ime s";L8h+="e";L8h+="ries";Y8h="tim";Y8h+="e serie";Y8h+="s";C7f.Studies.prettify[Y8h]="tsma";C7f.Studies.movingAverage.conversions.tsma="time series";C7f.Studies.movingAverage.translations["time series"]="Time Series";C7f.Studies.movingAverage.typeMap.tsma="TimeSeries";C7f.Studies.movingAverage.typeMap[L8h]="TimeSeries";C7f.Studies.calculateMovingAverageTimeSeries=function(g7f,R7f){var h9mT=Y6AA;var o7f,Y7f,e7f,w7f,p7f,Q7f,Z7f,S8h,j7f;R7f.ma=new C7f.Studies.StudyDescriptor(R7f.name,"ma",R7f.panel);R7f.ma.chart=R7f.chart;R7f.ma.days=R7f.days;R7f.ma.startFrom=R7f.startFrom;R7f.ma.inputs=R7f.inputs;C7f.Studies.calculateLinearRegressionIndicator(g7f,R7f.ma);h9mT.C8TT();o7f=R7f.name;for(var u7f in R7f.outputs){h9mT.z1n(91);o7f=h9mT.L1n(o7f,(988,+"198") == (+"597",8130)?(172.53,"c"):(2090,"9880" >> 345457920) >= 6960?1370 !== (894.36,9420)?" ":(9.24e+3,"h"):8.89e+3,u7f);}Y7f=parseInt(R7f.inputs.Offset,10);if(isNaN(Y7f)){h9mT.z1n(1);Y7f=h9mT.E1n(1,"0");}e7f=R7f.chart.scrubbed;w7f=Y7f;for(var X7f=R7f.startFrom - +"1";X7f >= 0;X7f--){p7f=e7f[X7f][o7f];if(!p7f && p7f !== 0)continue;if(w7f > 0){w7f--;continue;}break;}Q7f=[];for(X7f++;X7f < e7f.length;X7f++){Z7f=e7f[X7f];if(X7f + Y7f >= +"0"){S8h="For";S8h+="ecast ";if(X7f + Y7f < e7f.length){h9mT.d1n(4);e7f[h9mT.L1n(Y7f,X7f)][o7f]=Z7f[S8h + R7f.name];}else {j7f={};j7f[o7f]=Z7f["Forecast " + R7f.name];Q7f.push(j7f);}}}R7f.appendFutureTicks(g7f,Q7f);};C7f.Studies.calculateLinearRegressionIndicator=function(V7f,J7f){var Z9mT=Y6AA;var H7f,i7f,d7f,T7f,S7f,b7f,E7f,v7f,F7f,d8h,N7f,P7f,k7f,G7f,c7f;H7f=J7f.chart.scrubbed;if(H7f.length < J7f.days + ("1" >> 2029511520)){J7f.error=!0;return;}i7f=J7f.inputs.Field;if(!i7f || i7f == "field"){i7f="Close";}Z9mT.d1n(9);var I8R=Z9mT.E1n(15,0,16);Z9mT.d1n(146);var m8R=Z9mT.L1n(15,24,8,1,15);d7f=J7f.days * (J7f.days + I8R) / m8R;T7f=Math.pow(d7f,+"2");Z9mT.z1n(29);var b8R=Z9mT.L1n(7,7,1);Z9mT.z1n(4);var Q8R=Z9mT.E1n(8,1371590456);S7f=d7f * (b8R * J7f.days + ("1" >> Q8R)) / +"3";b7f=0;E7f=0;v7f=0;if(J7f.startFrom){Z9mT.d1n(147);var w8R=Z9mT.L1n(11,11,0,1);F7f=H7f[J7f.startFrom - w8R]["_sums " + J7f.name];if(F7f){E7f=F7f[0];b7f=F7f[1];v7f=F7f[2];}}for(var f7f=J7f.startFrom;f7f < H7f.length;f7f++){d8h="R";d8h+="S";d8h+="quared ";N7f=H7f[f7f][i7f];if(N7f && typeof N7f == "object"){N7f=N7f[J7f.subField];}if(!N7f && N7f !== 0)continue;E7f+=J7f.days * N7f - b7f;b7f+=N7f;v7f+=Math.pow(N7f,2);if(f7f < J7f.days - 1)continue;else if(f7f > J7f.days - 1){P7f=H7f[f7f - J7f.days][i7f];if(P7f && typeof P7f == "object"){P7f=P7f[J7f.subField];}if(!P7f && P7f !== 0)continue;b7f-=P7f;v7f-=Math.pow(P7f,2);}k7f=(J7f.days * E7f - d7f * b7f) / (J7f.days * S7f - T7f);H7f[f7f]["Slope " + J7f.name]=k7f;G7f=(b7f - k7f * d7f) / J7f.days;H7f[f7f]["Intercept " + J7f.name]=G7f;H7f[f7f]["Forecast " + J7f.name]=G7f + k7f * J7f.days;Z9mT.d1n(23);var A8R=Z9mT.E1n(334,14,24,1);c7f=(J7f.days * S7f - T7f) / (J7f.days * v7f - Math.pow(b7f,A8R));Z9mT.z1n(148);H7f[f7f][d8h + J7f.name]=Z9mT.E1n(k7f,k7f,c7f);H7f[f7f]["_sums " + J7f.name]=[E7f,b7f,v7f];}};C7f.Studies.studyLibrary=C7f.extend(C7f.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:C7f.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:y8h,overlay:! !1,calculateFN:C7f.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:F8h}},"Lin R2":{name:"Linear Reg R2",calculateFN:C7f.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" & 2147483647,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:C7f.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:c8h,overlay:!0,calculateFN:C7f.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};N4T=L7f=>{var g8h,n7f,M8h,w8h,Q8h;g8h="unde";g8h+="fined";n7f=typeof _CIQ !== g8h?_CIQ:L7f.CIQ;if(!n7f.Studies){M8h="ma";M8h+="cd feature requires first ac";M8h+="tivating studies feature.";console.error(M8h);}else {w8h="#";w8h+="00DD";w8h+="0";w8h+="0";Q8h="M";Q8h+="A";Q8h+="C";Q8h+="D";n7f.Studies.calculateMACD=function(z8f,q7f){var a9mT=Y6AA;var m8h,I8h,h8f,I8f,O7f,n5n,N5n,V5n,r8f,s8f,D8f,a8f,K8f,O8h,A8f,W8f,b8h,B8f;m8h="_";m8h+="h";m8h+="i";m8h+="st";I8h="Si";I8h+="gnal MA Type";h8f=q7f.chart.scrubbed;I8f=q7f.inputs;O7f=q7f.name;if(!q7f.macd1Days){q7f.macd1Days=parseFloat(I8f["Fast MA Period"]);}if(!q7f.macd2Days){q7f.macd2Days=parseFloat(I8f["Slow MA Period"]);}if(!q7f.signalDays){q7f.signalDays=parseFloat(I8f["Signal Period"]);}if(!q7f.days){q7f.days=Math.max(q7f.macd1Days,q7f.macd2Days,q7f.signalDays);}if(h8f.length < q7f.days + 1){q7f.error=! !1;n5n=1020070220;N5n=363334238;V5n=2;for(var h5n=+"1";a9mT.g5n(h5n.toString(),h5n.toString().length,62533) !== n5n;h5n++){return;}if(a9mT.g5n(V5n.toString(),V5n.toString().length,+"59828") !== N5n){return;}return;}r8f=q7f.inputs.Field;if(!r8f || r8f == "field"){r8f="Close";}s8f=I8f["Moving Average Type"];if(!s8f){s8f="exponential";}n7f.Studies.MA(s8f,q7f.macd1Days,r8f,0,"_MACD1",z8f,q7f);n7f.Studies.MA(s8f,q7f.macd2Days,r8f,0,"_MACD2",z8f,q7f);K8f=Math.max(q7f.startFrom,q7f.days - +"1");for(D8f=K8f;D8f < h8f.length;D8f++){O8h="_MA";O8h+="C";O8h+="D1 ";a8f=h8f[D8f];if((a8f["_MACD1 " + O7f] || a8f["_MACD1 " + O7f] === 0) && (a8f["_MACD2 " + O7f] || a8f["_MACD2 " + O7f] === 0)){a9mT.d1n(4);a8f[a9mT.E1n(O7f,"MACD ")]=a8f[O8h + O7f] - a8f["_MACD2 " + O7f];}}A8f=I8f[I8h];if(!A8f){A8f="exponential";}n7f.Studies.MA(A8f,q7f.signalDays,"MACD " + O7f,0,"Signal",z8f,q7f);a9mT.z1n(4);W8f=a9mT.E1n(m8h,O7f);for(D8f=K8f;D8f < h8f.length;D8f++){b8h="Si";b8h+="g";b8h+="na";b8h+="l ";a8f=h8f[D8f];a9mT.d1n(4);B8f=a8f[a9mT.L1n(O7f,"Signal ")];if(!B8f && B8f !== 0)continue;a8f[W8f]=a8f["MACD " + O7f] - a8f[b8h + O7f];}q7f.outputMap[W8f]="";};n7f.Studies.studyLibrary=n7f.extend(n7f.Studies.studyLibrary,{macd:{name:Q8h,calculateFN:n7f.Studies.calculateMACD,seriesFN:n7f.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":w8h,"Decreasing Bar":"#FF0000"}}});}};b4T=t8f=>{var l8f;l8f=typeof _CIQ !== "undefined"?_CIQ:t8f.CIQ;if(!l8f.Studies){console.error("massIndex feature requires first activating studies feature.");}else {l8f.Studies.calculateMassIndex=function(m8f,x8f){var q7mT=Y6AA;var W8h,U8h,A8h,M8f,C8f,C8h,i8h,v8h;W8h="exp";W8h+="onential";U8h="_";U8h+="H";U8h+="igh-Lo";U8h+="w ";q7mT.C8TT();A8h="expone";A8h+="ntial";M8f=x8f.chart.scrubbed;if(M8f.length < Math.max("9" - 0,x8f.days + 1)){x8f.error=! !{};return;}for(var y8f=x8f.startFrom;y8f < M8f.length;y8f++){M8f[y8f]["_High-Low " + x8f.name]=M8f[y8f].High - M8f[y8f].Low;}l8f.Studies.MA(A8h,9,U8h + x8f.name,0,"_EMA",m8f,x8f);l8f.Studies.MA(W8h,9,"_EMA " + x8f.name,0,"_EMA2",m8f,x8f);q7mT.z1n(47);C8f=q7mT.E1n("0",0);if(M8f[x8f.startFrom - 1] && M8f[x8f.startFrom - 1]["_total " + x8f.name]){q7mT.d1n(9);var U8R=q7mT.E1n(18,0,19);C8f=M8f[x8f.startFrom - U8R]["_total " + x8f.name];}for(var U8f=Math.max(17,x8f.startFrom);U8f < M8f.length;U8f++){C8h="_t";C8h+="ot";C8h+="al";C8h+=" ";i8h="_E";i8h+="MA2";i8h+=" ";C8f+=M8f[U8f]["_EMA " + x8f.name] / M8f[U8f][i8h + x8f.name];if(U8f >= 17 + x8f.days - +"1"){v8h="_";v8h+="E";v8h+="MA";v8h+=" ";M8f[U8f]["Result " + x8f.name]=C8f;q7mT.d1n(16);var W8R=q7mT.L1n(6,7);C8f-=M8f[U8f - x8f.days + W8R][v8h + x8f.name] / M8f[U8f - x8f.days + ("1" | 0)]["_EMA2 " + x8f.name];}M8f[U8f][C8h + x8f.name]=C8f;}};l8f.Studies.displayMassIndex=function(X8f,R8f,p8f){var s8h,Y8f,Q8f,o8f,e8f,w8f;s8h="B";s8h+="ulge T";Y6AA.C8TT();s8h+="hreshold";l8f.Studies.displaySeriesAsLine(X8f,R8f,p8f);Y8f=R8f.inputs[s8h];Q8f=X8f.panels[R8f.panel];o8f=R8f.getYAxis(X8f);e8f=l8f.Studies.determineColor(R8f.outputs.Result);w8f={skipTransform:X8f.panels[R8f.panel].name != R8f.chart.name,panelName:R8f.panel,band:"Result " + R8f.name,threshold:Y8f,direction:1,color:e8f,yAxis:o8f,opacity:0.3};if(!R8f.highlight && X8f.highlightedDraggable){Y6AA.z1n(1);w8f.opacity*=Y6AA.E1n(1,"0.3");}l8f.preparePeakValleyFill(X8f,w8f);l8f.Studies.drawHorizontal(X8f,R8f,null,Y8f,o8f,e8f);};l8f.Studies.studyLibrary=l8f.extend(l8f.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:l8f.Studies.displayMassIndex,calculateFN:l8f.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};P4T=j8f=>{var Z8f,x8h,E6n,o6n,Z6n,u8h,H8h,J8h,R8h,G8h,e8h;Z8f=typeof _CIQ !== "undefined"?_CIQ:j8f.CIQ;if(!Z8f.Studies){x8h="moneyFlow feature requires fi";x8h+="rst activating studies feature.";console.error(x8h);}else {Z8f.Studies.calculateMoneyFlowIndex=function(F8f,J8f){var J7mT=Y6AA;var u8f,c0n,g0n,M0n,H8f,f8f,D0n,K0n,a6n,b8f,k8f,P8f,B8h,d8f,i8f,E8f,N8f,v8f;u8f=J8f.chart.scrubbed;if(u8f.length < J8f.days + ("1" & 2147483647)){c0n=813124207;g0n=1233380953;M0n=2;for(var I0n=1;J7mT.c5n(I0n.toString(),I0n.toString().length,33687) !== c0n;I0n++){J8f.error=!"";M0n+=2;}if(J7mT.c5n(M0n.toString(),M0n.toString().length,"93265" >> 535385312) !== g0n){J8f.error=![];}return;}H8f=0;f8f=0;D0n=1952081692;K0n=968133400;J7mT.d1n(47);a6n=J7mT.E1n("2",0);for(var z6n=1;J7mT.g5n(z6n.toString(),z6n.toString().length,+"45145") !== D0n;z6n++){J7mT.z1n(64);var i8R=J7mT.E1n(17,2,1437758061,1,718879041);b8f=u8f[J8f.startFrom + ("5" >> i8R)];k8f="_rawMF " - J8f.name;P8f="_rawMF " - J8f.name;a6n+=2;}if(J7mT.c5n(a6n.toString(),a6n.toString().length,58092) !== K0n){B8h="_cu";B8h+="mM";B8h+="F";B8h+=" ";J7mT.z1n(6);var v8R=J7mT.E1n(3,4);b8f=u8f[J8f.startFrom - v8R];k8f="_rawMF " + J8f.name;P8f=B8h + J8f.name;}d8f="Result " + J8f.name;if(b8f && b8f[P8f]){H8f=b8f[P8f][0];f8f=b8f[P8f][+"1"];}for(var g8f=J8f.startFrom;g8f < u8f.length;g8f++){i8f=u8f[g8f]["hlc/3"];if(g8f > 0 && !u8f[g8f].futureTick){J7mT.d1n(6);E8f=u8f[J7mT.L1n(1,g8f)]["hlc/3"];N8f=i8f * u8f[g8f].Volume;if(i8f > E8f){H8f+=N8f;}else if(i8f < E8f){N8f*=-1;f8f-=N8f;}else {N8f=0;}if(g8f > J8f.days){v8f=u8f[g8f - J8f.days][k8f];if(v8f > 0){H8f-=v8f;}else {f8f+=v8f;}if(f8f === 0){u8f[g8f][d8f]=100;}else if(u8f[g8f].Volume){J7mT.z1n(149);u8f[g8f][d8f]=J7mT.L1n(100,100,f8f,H8f,1);}}u8f[g8f][k8f]=N8f;u8f[g8f][P8f]=[H8f,f8f];}}};E6n=+"621045815";Y6AA.z1n(47);o6n=-Y6AA.E1n("1255669902",0);Z6n=2;for(var p6n=1;Y6AA.c5n(p6n.toString(),p6n.toString().length,+"12494") !== E6n;p6n++){u8h="au";u8h+="t";u8h+="o";H8h="a";H8h+="ut";H8h+="o";Z8f.Studies.studyLibrary=Z8f.extend(Z8f.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:Z8f.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:H8h,studyOverSoldValue:20,studyOverSoldColor:u8h}}}});Z6n+=2;}if(Y6AA.g5n(Z6n.toString(),Z6n.toString().length,21853) !== o6n){J8h="M Fl";J8h+="ow";R8h="0 to ";R8h+="10";R8h+="0";G8h="a";G8h+="ut";G8h+="o";e8h="0";e8h+=" to";e8h+=" 100";Z8f.Studies.studyLibrary=Z8f.extend(Z8f.Studies.studyLibrary,{"M Flow":{name:e8h,range:G8h,calculateFN:Z8f.Studies.calculateMoneyFlowIndex,inputs:{Period:23},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:+"67",studyOverBoughtColor:R8h,studyOverSoldValue:49,studyOverSoldColor:J8h}}}});}}};i4T=S8f=>{var T8f,M5u,g5u,c5u,F5u,y5u,d5u,k8h,V8h,N8h,n8h,f8h,P8h,X8h;T8f=typeof _CIQ !== "undefined"?_CIQ:S8f.CIQ;if(!T8f.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {M5u="aut";M5u+="o";g5u="a";g5u+="u";g5u+="t";g5u+="o";c5u="H";c5u+="igh ";c5u+="Lo";c5u+="w Bands";F5u="#FF00";F5u+="0";F5u+="0";y5u="#00DD";y5u+="00";d5u="perc";d5u+="en";d5u+="t";k8h="Triple";k8h+="Exponent";k8h+="ial";V8h="Doubl";V8h+="eE";V8h+="xp";V8h+="onential";N8h="H";N8h+="ull";n8h="H";n8h+="u";n8h+="l";n8h+="l";f8h="Trip";f8h+="le Exponential";P8h="h";P8h+="m";P8h+="a";X8h="d";X8h+="em";X8h+="a";T8f.Studies.prettify=T8f.extend({"2-exponential":X8h,"3-exponential":"tema",hull:P8h},T8f.Studies.prettify);T8f.extend(T8f.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":f8h},typeMap:{hma:n8h,hull:N8h,dema:"DoubleExponential","2-exponential":V8h,tema:"TripleExponential","3-exponential":k8h}});T8f.Studies.calculateMovingAverageHull=function(D9f,G8f){var u7mT=Y6AA;var K8h,D8h,t8h,l8h,h8h,V8f,n8f,c8f,L8f,q8h,q8f,O8f,w3n,A3n,U3n,h9f,a9f;K8h="_";K8h+="HM";K8h+="A";D8h="_M";D8h+="M";D8h+="A";D8h+=" ";t8h="w";t8h+="m";t8h+="a";l8h="_";l8h+="WM";l8h+="A";l8h+="2";h8h="w";h8h+="ma";V8f=G8f.chart.scrubbed;n8f=G8f.inputs.Field;if(!n8f || n8f == "field"){n8f="Close";}T8f.Studies.MA(h8h,G8f.days,n8f,0,"_WMA1",D9f,G8f);T8f.Studies.MA("wma",Math.ceil(G8f.days / 2),n8f,0,l8h,D9f,G8f);for(c8f=G8f.startFrom - 1;c8f >= 0;c8f--){L8f=V8f[c8f][n8f];if(L8f && typeof L8f == "object"){L8f=L8f[G8f.subField];}if(L8f || L8f === 0)break;}for(c8f++;c8f < V8f.length;c8f++){q8h="_MMA";q8h+=" ";q8f=V8f[c8f];q8f[q8h + G8f.name]=+"2" * q8f["_WMA2 " + G8f.name] - q8f["_WMA1 " + G8f.name];}O8f=parseInt(G8f.inputs.Offset,10);if(isNaN(O8f)){O8f=0;}u7mT.V8TT();w3n=-1512713197;A3n=1475555700;U3n=2;for(var i3n=1;u7mT.g5n(i3n.toString(),i3n.toString().length,75686) !== w3n;i3n++){h9f=Math.floor(Math.sqrt(G8f.days));U3n+=2;}if(u7mT.g5n(U3n.toString(),U3n.toString().length,37182) !== A3n){h9f=Math.floor(Math.sqrt(G8f.days));}T8f.Studies.MA(t8h,h9f,D8h + G8f.name,O8f,K8h,D9f,G8f);a9f=G8f.name;for(var I9f in G8f.outputs){u7mT.z1n(91);a9f=u7mT.E1n(a9f,(557.39,246.81) <= (7306,819)?" ":(150.79,66.58) < +"3400"?(6.77e+3,"R"):(! !0,0x15e3),I9f);}for(c8f=Math.max(G8f.days + h9f - 1,G8f.startFrom);c8f < V8f.length;c8f++){V8f[c8f][a9f]=V8f[c8f]["_HMA " + G8f.name];}};T8f.Studies.calculateMovingAverageDoubleExponential=function(l9f,r9f){var l7mT=Y6AA;var a5u,K9f,W9f,A9f,s9f,z9f,t9f,r5u,B9f,x9f,M9f,U9f,y9f;a5u="_";a5u+="EM";a5u+="A2";K9f=r9f.chart.scrubbed;W9f=r9f.inputs.Field;if(!W9f || W9f == "field"){W9f="Close";}T8f.Studies.MA("ema",r9f.days,W9f,0,"_EMA1",l9f,r9f);T8f.Studies.MA("ema",r9f.days,"_EMA1 " + r9f.name,0,a5u,l9f,r9f);A9f=parseInt(r9f.inputs.Offset,10);if(isNaN(A9f)){A9f=0;}t9f=A9f;for(s9f=r9f.startFrom - 1;s9f >= ("0" | 0);s9f--){r5u="o";r5u+="b";r5u+="je";r5u+="ct";z9f=K9f[s9f][W9f];if(z9f && typeof z9f == r5u){z9f=z9f[r9f.subField];}if(!z9f && z9f !== 0)continue;if(t9f > 0){t9f--;continue;}break;}B9f=r9f.name;for(var C9f in r9f.outputs){l7mT.z1n(91);B9f=l7mT.E1n(B9f," ",C9f);}x9f=[];for(s9f++;s9f < K9f.length;s9f++){if(s9f < 2 * (r9f.days - 1))continue;M9f=K9f[s9f];l7mT.z1n(19);var C8R=l7mT.E1n(15,34,2);U9f=C8R * M9f["_EMA1 " + r9f.name] - M9f["_EMA2 " + r9f.name];if(s9f + A9f >= "0" * 1){if(s9f + A9f < K9f.length){l7mT.z1n(4);K9f[l7mT.L1n(A9f,s9f)][B9f]=U9f;}else {y9f={};y9f[B9f]=U9f;x9f.push(y9f);}}}r9f.appendFutureTicks(l9f,x9f);};T8f.Studies.calculateMovingAverageTripleExponential=function(p9f,m9f){var c7mT=Y6AA;var E5u,z5u,o9f,e9f,X9f,R9f,Y9f,Z9f,w9f,j9f,o5u,Q9f,g9f,u9f;E5u="_";E5u+="E";E5u+="M";E5u+="A3";z5u="f";z5u+="i";z5u+="el";z5u+="d";o9f=m9f.chart.scrubbed;e9f=m9f.inputs.Field;if(!e9f || e9f == z5u){e9f="Close";}T8f.Studies.MA("ema",m9f.days,e9f,0,"_EMA1",p9f,m9f);T8f.Studies.MA("ema",m9f.days,"_EMA1 " + m9f.name,+"0","_EMA2",p9f,m9f);T8f.Studies.MA("ema",m9f.days,"_EMA2 " + m9f.name,0,E5u,p9f,m9f);X9f=parseInt(m9f.inputs.Offset,10);if(isNaN(X9f)){X9f=0;}Z9f=X9f;for(R9f=m9f.startFrom - 1;R9f >= 0;R9f--){Y9f=o9f[R9f][e9f];if(Y9f && typeof Y9f == "object"){Y9f=Y9f[m9f.subField];}if(!Y9f && Y9f !== ("0" | 0))continue;if(Z9f > +"0"){Z9f--;continue;}break;}w9f=m9f.name;for(var J9f in m9f.outputs){c7mT.d1n(91);w9f=c7mT.E1n(w9f,+"7887" >= ("5950" >> 1929623584,1960)?"184.81" - 0 >= 2570?(![],6.23e+3):" ":960.06,J9f);}j9f=[];for(R9f++;R9f < o9f.length;R9f++){o5u="_";o5u+="EMA2";o5u+=" ";if(R9f < +"3" * (m9f.days - 1))continue;Q9f=o9f[R9f];c7mT.z1n(150);var s8R=c7mT.L1n(12,77,16,17);c7mT.d1n(151);var x8R=c7mT.E1n(9,8,202,14,20);g9f=s8R * Q9f["_EMA1 " + m9f.name] - ("3" | x8R) * Q9f[o5u + m9f.name] + Q9f["_EMA3 " + m9f.name];if(R9f + X9f >= 0){if(R9f + X9f < o9f.length){c7mT.d1n(4);o9f[c7mT.E1n(X9f,R9f)][w9f]=g9f;}else {u9f={};u9f[w9f]=g9f;j9f.push(u9f);}}}m9f.appendFutureTicks(p9f,j9f);};T8f.Studies.calculateMAEnvelope=function(P9f,f9f){var j5u,H9f,N9f,b9f,Z5u,p5u;j5u="pe";j5u+="rcent";H9f=f9f.inputs.Field;if(!H9f || H9f == "field"){H9f="Close";}Y6AA.C8TT();T8f.Studies.MA(f9f.inputs["Moving Average Type"],f9f.days,H9f,0,"MA",P9f,f9f);N9f=f9f.inputs["Shift Type"];b9f=f9f.inputs.Shift;if(!N9f){Z5u="per";Z5u+="cen";Z5u+="t";N9f=Z5u;b9f=f9f.inputs["Shift Percentage"];}if(N9f == j5u){p5u="M";p5u+="A";p5u+=" ";Y6AA.d1n(12);T8f.Studies.calculateGenericEnvelope(P9f,f9f,Y6AA.E1n(100,b9f),p5u + f9f.name);}else if(N9f == "points"){T8f.Studies.calculateGenericEnvelope(P9f,f9f,null,"MA " + f9f.name,null,Number(b9f));}};T8f.Studies.calculateMADev=function(V9f,i9f){var S5u,Y5u,T5u,F9f,k9f,T9f,S9f,c9f,d9f,v9f,E9f,L5u;S5u="_h";S5u+="i";S5u+="s";S5u+="t";Y5u="_";Y5u+="hi";Y5u+="st";T5u="Cl";T5u+="os";T5u+="e";F9f=i9f.chart.scrubbed;if(F9f.length < i9f.days + 1){i9f.error=! !{};return;}k9f=i9f.inputs.Field;if(!k9f || k9f == "field"){k9f=T5u;}T9f=i9f.inputs["Points Or Percent"];if(!T9f){T9f="Points";}S9f=i9f.inputs["Moving Average Type"];if(!S9f){S9f="exponential";}T8f.Studies.MA(S9f,i9f.days,k9f,0,"_MA",V9f,i9f);c9f=i9f.name + Y5u;for(var G9f=Math.max(i9f.startFrom,i9f.days - ("1" ^ 0));G9f < F9f.length;G9f++){d9f=F9f[G9f];v9f=d9f[k9f];if(v9f && typeof v9f == "object"){v9f=v9f[i9f.subField];}E9f=d9f["_MA " + i9f.name];if(E9f || E9f === 0){L5u="P";L5u+="oint";L5u+="s";if(T9f == L5u){Y6AA.z1n(6);d9f[c9f]=Y6AA.L1n(E9f,v9f);}else {Y6AA.z1n(152);d9f[c9f]=Y6AA.E1n(v9f,E9f,100,1);}}}i9f.outputMap={};i9f.outputMap[i9f.name + S5u]="";};T8f.Studies.studyLibrary=T8f.extend(T8f.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:T8f.Studies.displayChannel,calculateFN:T8f.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[d5u,"points"],Shift:"5" * 1,"Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:T8f.Studies.calculateMADev,seriesFN:T8f.Studies.displayHistogramWithSeries,inputs:{Period:+"12",Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":y5u,"Decreasing Bar":F5u}},"High Low":{name:c5u,overlay:! ![],seriesFN:T8f.Studies.displayChannel,calculateFN:function(L9f,n9f){n9f.inputs["Moving Average Type"]="triangular";Y6AA.V8TT();T8f.Studies.calculateMAEnvelope(L9f,n9f);},inputs:{Period:+"10",Field:"field","Shift Percentage":5,"Channel Fill":! !"1"},outputs:{"High Low Top":"auto","High Low Median":g5u,"High Low Bottom":M5u},attributes:{"Shift Percentage":{min:"0.1" * 1,step:0.1}}}});}};v4T=O9f=>{Y6AA.C8TT();var O5u,q9f,I5u;O5u="undef";O5u+="ined";q9f=typeof _CIQ !== O5u?_CIQ:O9f.CIQ;if(!q9f.Studies){I5u="parabolicSAR feature requires first activating st";I5u+="udies feat";I5u+="ure.";console.error(I5u);}else {q9f.Studies.calculatePSAR=function(M4L,r4L){var N7mT=Y6AA;var m5u,a4L,s4L,h4L,A4L,I4L,W4L,B4L,z4L,K4L,l4L,t4L,b5u;m5u="M";N7mT.C8TT();m5u+="in";m5u+="imum AF";a4L=r4L.chart.scrubbed;s4L=0;h4L=null;A4L=! !"";I4L=0;W4L=parseFloat(r4L.inputs[m5u]);function x4L(){s4L=0;h4L=null;N7mT.C8TT();A4L=!A4L;}B4L=parseFloat(r4L.inputs["Maximum AF"]);if(r4L.startFrom > "0" >> 1257379360){N7mT.d1n(114);var B8R=N7mT.L1n(0,28,10,19);I4L=a4L[r4L.startFrom - B8R]["Result " + r4L.name];N7mT.d1n(6);var H8R=N7mT.E1n(4,5);z4L=a4L[r4L.startFrom - H8R]["_state " + r4L.name];if(z4L && z4L.length == 3){s4L=z4L[0];h4L=z4L[1];A4L=z4L[2];}}for(var D4L=r4L.startFrom - 1;D4L < a4L.length - 1;D4L++){if(D4L < 0)continue;if(a4L[D4L].futureTick)break;K4L=I4L;if(A4L){if(!h4L || h4L < a4L[D4L].High){h4L=a4L[D4L].High;N7mT.d1n(4);s4L=Math.min(N7mT.L1n(W4L,s4L),B4L);}N7mT.d1n(153);I4L=N7mT.E1n(K4L,h4L,K4L,s4L);l4L=Math.min(a4L[Math.max(+"1",D4L) - 1].Low,a4L[D4L].Low);if(I4L > a4L[D4L + 1].Low){I4L=h4L;x4L();}else if(I4L > l4L){I4L=l4L;}}else {if(!h4L || h4L > a4L[D4L].Low){h4L=a4L[D4L].Low;N7mT.d1n(4);s4L=Math.min(N7mT.E1n(W4L,s4L),B4L);}N7mT.z1n(153);I4L=N7mT.E1n(K4L,h4L,K4L,s4L);t4L=Math.max(a4L[Math.max(1,D4L) - 1].High,a4L[D4L].High);if(I4L < a4L[D4L + +"1"].High){I4L=h4L;x4L();}else if(I4L < t4L){I4L=t4L;}}N7mT.d1n(4);a4L[N7mT.L1n(1,D4L)]["_state " + r4L.name]=[s4L,h4L,A4L];if(!isNaN(a4L[D4L].High) || !isNaN(a4L[D4L].Low)){b5u="R";b5u+="esult ";N7mT.d1n(4);a4L[N7mT.E1n(1,D4L)][b5u + r4L.name]=I4L;}}};q9f.Studies.studyLibrary=q9f.extend(q9f.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:q9f.Studies.calculatePSAR,seriesFN:q9f.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};k4T=y4L=>{var Q5u,U4L,V5u,N5u,n5u;Q5u="undefine";Q5u+="d";U4L=typeof _CIQ !== Q5u?_CIQ:y4L.CIQ;if(!U4L.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {V5u="#";V5u+="d3";V5u+="e8ae";N5u="#f";N5u+="f";N5u+="d";N5u+="0cf";n5u="a";n5u+="u";n5u+="to";U4L.Studies.calculatePivotPoints=function(Y4L,X4L){var A7mT=Y6AA;A7mT.V8TT();var A5u,m4L,o4L,w5u,p4L,e4L,C4L,U5u,G5u,C5u,v5u,i5u,W5u,Q4L,Z4L,x5u,s5u,e5u,u5u,H5u,B5u;A5u="_pointer";A5u+="s";A5u+=" ";m4L=X4L.chart.scrubbed;o4L="day";if(Y4L.layout.interval == "day"){o4L="month";}else if(U4L.ChartEngine.isDailyInterval(Y4L.layout.interval)){o4L="year";}else if(Y4L.layout.interval == "second" || Y4L.layout.interval == "millisecond" || Y4L.layout.timeUnit == "second" || Y4L.layout.timeUnit == "millisecond"){o4L="15min";}else {w5u="m";w5u+="inute";p4L=Y4L.layout.periodicity;if(Y4L.layout.interval != w5u){p4L*=Y4L.layout.interval;}if(p4L >= 30){o4L="week";}}e4L=null;C4L={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};function w4L(){A7mT.d1n(154);var u8R=A7mT.E1n(7,18,4,14,0);A7mT.d1n(155);var e8R=A7mT.E1n(19,20,54,12,1);C4L.pivotPoint=(C4L.high + C4L.low + m4L[R4L - u8R].Close) / e8R;C4L.prevHigh=C4L.high;C4L.prevLow=C4L.low;C4L.hlSpread=C4L.high - C4L.low;C4L.high=C4L.low=0;}if(X4L.startFrom > 1 && m4L[X4L.startFrom - 1][A5u + X4L.name]){U5u="_";U5u+="po";U5u+="inters";U5u+=" ";C4L=U4L.clone(m4L[X4L.startFrom - +"1"][U5u + X4L.name]);}for(var R4L=Math.max(1,X4L.startFrom);R4L < m4L.length;R4L++){G5u="_po";G5u+="inters ";C5u="fi";C5u+="bonacci";v5u="1";v5u+="5";v5u+="mi";v5u+="n";i5u="d";i5u+="a";i5u+="y";W5u="mont";W5u+="h";if(!m4L[R4L - 1])continue;C4L.high=Math.max(C4L.high,m4L[R4L - ("1" ^ 0)].High);C4L.low=Math.min(C4L.low > 0?C4L.low:m4L[R4L - 1].Low,m4L[R4L - 1].Low);if(X4L.inputs.Continuous){w4L();}else if(o4L == "year" && m4L[R4L].DT.getYear() != m4L[R4L - 1].DT.getYear()){w4L();}else if(o4L == W5u && m4L[R4L].DT.getMonth() != m4L[R4L - 1].DT.getMonth()){w4L();}else if(o4L == "week" && m4L[R4L].DT.getDay() < m4L[R4L - 1].DT.getDay()){w4L();}else if(o4L == i5u){if(e4L === null){e4L=U4L.Studies.getMarketOffset({stx:Y4L,localQuoteDate:m4L[R4L].DT,shiftToDateBoundary:! ![]});}Q4L=new Date(new Date(+m4L[R4L].DT).setMilliseconds(m4L[R4L].DT.getMilliseconds() + e4L));Z4L=new Date(new Date(+m4L[R4L - 1].DT).setMilliseconds(m4L[R4L - 1].DT.getMilliseconds() + e4L));if(Z4L.getDate() !== Q4L.getDate() && Z4L.getDay() !== 0 && Y4L.chart.market.isMarketDate(Q4L)){e4L=null;w4L();}}else if(o4L == v5u && (m4L[R4L].DT.getHours() != m4L[R4L - +"1"].DT.getHours() || Math.floor(m4L[R4L].DT.getMinutes() / 15) != Math.floor(m4L[R4L - 1].DT.getMinutes() / 15))){w4L();}m4L[R4L]["Pivot " + X4L.name]=C4L.pivotPoint;if(X4L.inputs.Type.toLowerCase() == C5u){x5u="R";x5u+="esistanc";x5u+="e 3 ";s5u="Resistan";s5u+="ce 2 ";m4L[R4L]["Resistance 1 " + X4L.name]=C4L.pivotPoint + 0.382 * C4L.hlSpread;m4L[R4L][s5u + X4L.name]=C4L.pivotPoint + 0.618 * C4L.hlSpread;m4L[R4L][x5u + X4L.name]=C4L.pivotPoint + C4L.hlSpread;m4L[R4L]["Support 1 " + X4L.name]=C4L.pivotPoint - 0.382 * C4L.hlSpread;m4L[R4L]["Support 2 " + X4L.name]=C4L.pivotPoint - 0.618 * C4L.hlSpread;m4L[R4L]["Support 3 " + X4L.name]=C4L.pivotPoint - C4L.hlSpread;}else {e5u="Suppo";e5u+="rt ";e5u+="3";e5u+=" ";u5u="Su";u5u+="pport 1 ";H5u="Resis";H5u+="ta";H5u+="nce 3 ";B5u="Resistance";B5u+=" ";B5u+="1 ";A7mT.z1n(156);var G8R=A7mT.L1n(2,9,1927958062,963979030,4);m4L[R4L][B5u + X4L.name]=("2" << G8R) * C4L.pivotPoint - C4L.prevLow;m4L[R4L]["Resistance 2 " + X4L.name]=C4L.pivotPoint + C4L.hlSpread;A7mT.z1n(119);var R8R=A7mT.E1n(14,3,0,14);m4L[R4L][H5u + X4L.name]=C4L.prevHigh + R8R * (C4L.pivotPoint - C4L.prevLow);A7mT.z1n(143);var J8R=A7mT.E1n(11,21,18,11);m4L[R4L][u5u + X4L.name]=J8R * C4L.pivotPoint - C4L.prevHigh;m4L[R4L]["Support 2 " + X4L.name]=C4L.pivotPoint - C4L.hlSpread;A7mT.z1n(129);var X8R=A7mT.E1n(16,6,36,3);m4L[R4L][e5u + X4L.name]=C4L.prevLow - X8R * (C4L.prevHigh - C4L.pivotPoint);}m4L[R4L][G5u + X4L.name]=U4L.clone(C4L);}};U4L.Studies.displayPivotPoints=function(g4L,j4L,f4L){Y6AA.V8TT();var D2n,K2n,a3n,f5u,P5u,X5u,J5u,R5u,J4L,u4L;j4L.noSlopes=!j4L.inputs.Continuous;D2n=1048114044;K2n=+"274691592";a3n=2;for(var z3n="1" & 2147483647;Y6AA.c5n(z3n.toString(),z3n.toString().length,48144) !== D2n;z3n++){U4L.Studies.displaySeriesAsLine(g4L,j4L,f4L);a3n+=2;}if(Y6AA.c5n(a3n.toString(),a3n.toString().length,"93624" >> 898588192) !== K2n){U4L.Studies.displaySeriesAsLine(g4L,j4L,f4L);}if(j4L.inputs.Shading){f5u="S";f5u+="upport 2 ";P5u="P";P5u+="iv";P5u+="ot";P5u+=" ";X5u="Res";X5u+="ist";X5u+="anc";X5u+="e 1";J5u="Res";J5u+="ist";J5u+="ance 2 ";R5u="Resi";R5u+="sta";R5u+="nce 3 ";J4L=g4L.panels[j4L.panel];u4L={noSlopes:j4L.noSlopes,opacity:j4L.parameters.opacity?j4L.parameters.opacity:0.2,skipTransform:J4L.name != j4L.chart.name,yAxis:j4L.getYAxis(g4L)};if(!j4L.highlight && g4L.highlightedDraggable){u4L.opacity*=0.3;}U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:R5u + j4L.name,bottomBand:"Resistance 2 " + j4L.name,color:U4L.Studies.determineColor(j4L.outputs["Resistance 3"])},u4L));U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:J5u + j4L.name,bottomBand:"Resistance 1 " + j4L.name,color:U4L.Studies.determineColor(j4L.outputs["Resistance 2"])},u4L));U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:"Resistance 1 " + j4L.name,bottomBand:"Pivot " + j4L.name,color:U4L.Studies.determineColor(j4L.outputs[X5u])},u4L));U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:"Support 1 " + j4L.name,bottomBand:P5u + j4L.name,color:U4L.Studies.determineColor(j4L.outputs["Support 1"])},u4L));U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:"Support 2 " + j4L.name,bottomBand:"Support 1 " + j4L.name,color:U4L.Studies.determineColor(j4L.outputs["Support 2"])},u4L));U4L.prepareChannelFill(g4L,U4L.extend({panelName:j4L.panel,topBand:"Support 3 " + j4L.name,bottomBand:f5u + j4L.name,color:U4L.Studies.determineColor(j4L.outputs["Support 3"])},u4L));}};U4L.Studies.studyLibrary=U4L.extend(U4L.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !"1",seriesFN:U4L.Studies.displayPivotPoints,calculateFN:U4L.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:! !0},outputs:{Pivot:n5u,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":N5u,"Support 3":V5u},parameters:{init:{opacity:"0.2" * 1}}}});}};d4T=N4L=>{var H4L,l5u;H4L=typeof _CIQ !== "undefined"?_CIQ:N4L.CIQ;if(!H4L.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {l5u="Pretty";l5u+=" Good ";l5u+="Oscillator";H4L.Studies.calculatePrettyGoodOscillator=function(v4L,b4L){var h5u,k5u,P4L;h5u="tr";h5u+="ueRange";k5u="exp";k5u+="one";k5u+="nt";k5u+="ial";P4L=b4L.chart.scrubbed;if(P4L.length < b4L.days + 1){b4L.error=! ![];return;}H4L.Studies.MA(k5u,b4L.days,h5u,0,"_EMA",v4L,b4L);H4L.Studies.MA("simple",b4L.days,"Close",0,"_SMA",v4L,b4L);for(var i4L=Math.max(1,b4L.startFrom);i4L < P4L.length;i4L++){if(!P4L[i4L]["_SMA " + b4L.name] || !P4L[i4L]["_EMA " + b4L.name])continue;P4L[i4L]["Result " + b4L.name]=(P4L[i4L].Close - P4L[i4L]["_SMA " + b4L.name]) / P4L[i4L]["_EMA " + b4L.name];}};H4L.Studies.studyLibrary=H4L.extend(H4L.Studies.studyLibrary,{"Pretty Good":{name:l5u,calculateFN:H4L.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" << 20754656),studyOverSoldColor:"auto"}}}});}};E4T=d4L=>{var q5u,k4L,j0u,E0u,z0u,r0u,a0u;q5u="unde";Y6AA.V8TT();q5u+="f";q5u+="ined";k4L=typeof _CIQ !== q5u?_CIQ:d4L.CIQ;if(!k4L.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {j0u="0.";j0u+="0";j0u+="5";E0u="aut";E0u+="o";z0u="aut";z0u+="o";r0u="#F";r0u+="F000";r0u+="0";a0u="f";a0u+="i";a0u+="eld";k4L.Studies.calculatePMO=function(c4L,E4L){var M7mT=Y6AA;var K5u,D5u,t5u,S4L,F4L,G4L,T4L,V4L;K5u="_";K5u+="EMA";K5u+="x1";K5u+="0";D5u="f";D5u+="ie";D5u+="ld";t5u="Si";t5u+="gnal Period";S4L={Smooth:Number(E4L.inputs["Smoothing Period"]) - 1,Double:Number(E4L.inputs["Double Smoothing Period"]) - ("1" | 0),Signal:Number(E4L.inputs[t5u])};F4L=E4L.chart.scrubbed;if(F4L.length < S4L.Smooth + S4L.Double){E4L.error=! ![];return;}G4L=E4L.inputs.Field;if(!G4L || G4L == D5u){G4L="Close";}for(T4L=E4L.startFrom;T4L < F4L.length;T4L++){if(!F4L[T4L])continue;if(!F4L[T4L - 1])continue;M7mT.z1n(157);V4L=F4L[M7mT.E1n(2147483647,"1",T4L)][G4L];if(V4L){M7mT.z1n(158);var P8R=M7mT.E1n(15,53,15,2990,7);M7mT.z1n(16);var f8R=M7mT.E1n(12,13);F4L[T4L]["_ROCx10 " + E4L.name]=P8R * (F4L[T4L][G4L] / V4L - f8R);}}k4L.Studies.MA("exponential",S4L.Smooth,"_ROCx10 " + E4L.name,"0" >> 1903509408,K5u,c4L,E4L);M7mT.C8TT();k4L.Studies.MA("exponential",S4L.Double,"_EMAx10 " + E4L.name,+"0","PMO",c4L,E4L);k4L.Studies.MA("exponential",S4L.Signal,"PMO " + E4L.name,0,"PMOSignal",c4L,E4L);E4L.zoneOutput="PMO";};k4L.Studies.studyLibrary=k4L.extend(k4L.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:k4L.Studies.calculatePMO,inputs:{Field:a0u,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:r0u},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:2.5,studyOverBoughtColor:z0u,studyOverSoldValue:-("2.5" - 0),studyOverSoldColor:E0u}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:j0u}}}});}};F4T=L4L=>{var n4L,p0u,D0u,k0u,V0u,n0u,P0u,J0u;n4L=typeof _CIQ !== "undefined"?_CIQ:L4L.CIQ;if(!n4L.Studies){p0u="priceVol";p0u+="umeOscillator feature requires first activating studies feature.";console.error(p0u);}else {D0u="0";D0u+=".";D0u+="1";k0u="#00D";k0u+="D00";V0u="v";V0u+="dma";n0u="f";n0u+="i";n0u+="el";n0u+="d";P0u="R";P0u+="A";P0u+="V";P0u+="I";J0u="P";J0u+="erce";J0u+="nt";n4L.Studies.calculatePriceOscillator=function(m7L,q4L){var G7mT=Y6AA;var c0u,F0u,W7L,y7L,B7L,a7L,D7L,d0u,Y0u,l7L,O4L,r7L,z7L;c0u="_L";c0u+="ong ";c0u+="MA";F0u="Perc";F0u+="e";F0u+="nt";W7L=q4L.chart.scrubbed;y7L=Number(q4L.inputs["Short Cycle"]);B7L=Number(q4L.inputs["Long Cycle"]);if(W7L.length < Math.max(y7L,B7L) + ("1" ^ 0)){q4L.error=! !"1";return;}a7L=q4L.inputs.Field;D7L=q4L.inputs["Moving Average Type"];if(!D7L){D7L="simple";}if(!a7L || a7L == "field"){a7L="Close";}if(q4L.parameters.isVolume){d0u="ex";d0u+="pon";d0u+="enti";d0u+="al";Y0u="V";Y0u+="o";Y0u+="lume";a7L=Y0u;D7L=d0u;}l7L=q4L.inputs["Points Or Percent"];if(!l7L){l7L=F0u;}n4L.Studies.MA(D7L,y7L,a7L,0,"_Short MA",m7L,q4L);G7mT.d1n(47);n4L.Studies.MA(D7L,B7L,a7L,G7mT.L1n("0",0),c0u,m7L,q4L);for(var U7L=Math.max(B7L,q4L.startFrom);U7L < W7L.length;U7L++){O4L=W7L[U7L];if(!O4L)continue;r7L=O4L["_Short MA " + q4L.name];z7L=O4L["_Long MA " + q4L.name];if((r7L || r7L === 0) && (z7L || z7L === 0)){if(l7L == "Points"){G7mT.d1n(6);O4L["Result " + q4L.name]=G7mT.L1n(z7L,r7L);}else {G7mT.z1n(159);O4L["Result " + q4L.name]=G7mT.E1n("1",100,r7L,2147483647,z7L);}if(q4L.outputs["Increasing Bar"]){O4L[q4L.name + "_hist"]=O4L["Result " + q4L.name];q4L.outputMap={};q4L.outputMap[q4L.name + "_hist"]="";}}}};n4L.Studies.displayRAVI=function(J7L,R7L,L7L){var b7mT=Y6AA;var M0u,c7L,b7L,O7L,h08,d7L,A08,K08,R0u,u0u,x0u,s0u,A0u,Q0u,N7L,F7L,I08,r08;M0u="D";M0u+="ecr";M0u+="easi";M0u+="ng Bar";c7L=J7L.panels[R7L.panel];b7L=R7L.getContext(J7L);O7L=R7L.getYAxis(J7L);h08=J7L.pixelFromPrice(0,c7L,O7L);b7mT.d1n(35);var n8R=b7mT.L1n(0,15,253,17);d7L=J7L.layout.candleWidth - n8R;if(d7L < 2){d7L=1;}A08=n4L.Studies.determineColor(R7L.outputs["Increasing Bar"]);K08=n4L.Studies.determineColor(R7L.outputs[M0u]);J7L.startClip(R7L.panel);J7L.canvasColor("stx_histogram");if(!R7L.underlay){b7mT.z1n(6);b7L.globalAlpha=b7mT.L1n(0,"1");}if(!R7L.highlight && J7L.highlightedDraggable){b7L.globalAlpha*=0.3;}for(var P7L=0;P7L < L7L.length;P7L++){R0u="_";R0u+="hist";u0u="_h";u0u+="is";u0u+="t";x0u="_his";x0u+="t";s0u="_hi";s0u+="s";s0u+="t";A0u="#";A0u+="CC";A0u+="CCCC";Q0u="_h";Q0u+="i";Q0u+="s";Q0u+="t";N7L=L7L[P7L];b7mT.z1n(6);F7L=L7L[b7mT.L1n(1,P7L)];if(!F7L){F7L=J7L.getPreviousBar(J7L.chart,R7L.name + Q0u,P7L);}if(!N7L)continue;I08=0;r08=+"0";if(R7L.parameters && R7L.parameters.studyOverZonesEnabled){I08=parseFloat(R7L.parameters.studyOverBoughtValue);r08=parseFloat(R7L.parameters.studyOverSoldValue);}if(!F7L){b7L.fillStyle=A0u;}else if(N7L[R7L.name + s0u] > I08 && F7L[R7L.name + "_hist"] < N7L[R7L.name + x0u]){b7L.fillStyle=A08;}else if(N7L[R7L.name + u0u] < r08 && F7L[R7L.name + "_hist"] > N7L[R7L.name + R0u]){b7L.fillStyle=K08;}else {b7L.fillStyle="#CCCCCC";}if(N7L.candleWidth){d7L=Math.floor(Math.max(1,N7L.candleWidth - 2));}b7L.fillRect(Math.floor(J7L.pixelFromBar(P7L,c7L.chart) - d7L / 2),Math.floor(h08),Math.floor(d7L),Math.floor(J7L.pixelFromPrice(N7L[R7L.name + "_hist"],c7L,O7L) - h08));}J7L.endClip();};n4L.Studies.studyLibrary=n4L.extend(n4L.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:n4L.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",J0u]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:n4L.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":+"26","Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! !{}}}},RAVI:{name:P0u,seriesFN:n4L.Studies.displayRAVI,calculateFN:n4L.Studies.calculatePriceOscillator,inputs:{Field:n0u,"Moving Average Type":V0u,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":k0u,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:D0u},studyOverSoldValue:{max:0,step:"0.1"}}}});}};T4T=l08=>{var K0u,W08,E1R,z1R,r1R;K0u="undefi";K0u+="n";K0u+="e";K0u+="d";W08=typeof _CIQ !== K0u?_CIQ:l08.CIQ;if(!W08.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {E1R="au";E1R+="to";z1R="a";z1R+="u";z1R+="t";z1R+="o";r1R="Pr";r1R+="ime Numbe";r1R+="r Oscillator";W08.Studies.calculatePrimeNumber=function(b08,U08){var g7mT=Y6AA;var y08,g08,a1R,M08,x08,t08,m08,H08,N08;function Y08(i08){var E08;if(i08 <= "0" - 0){return ![];}else if(i08 != Math.floor(i08)){return !{};}else if(y08[i08] === ! ![] || y08[i08] === ! !""){return y08[i08];}E08=parseInt(Math.sqrt(i08),10);for(var k08="2" ^ 0;k08 <= E08;k08++){if(i08 % k08 === 0){y08[i08]=!{};return ! !"";}}y08[i08]=! !{};return ! ![];}y08=[];g08=U08.chart.scrubbed;for(var j08=U08.startFrom;j08 < g08.length;j08++){a1R="Prime Number Ba";a1R+="nd";a1R+="s";M08=g08[j08];if(!M08)continue;x08=M08.High;if(!isNaN(x08)){for(var u08=0;x08 > 0 && x08 <= 10;u08++){x08*=10;}if(Y08(x08)){x08+=2;}x08=Math.ceil(x08);if(x08 % 2 === 0){x08++;}while(!Y08(x08)){x08+=2;}x08/=Math.pow(10,u08);}t08=M08.Low;if(!isNaN(t08)){for(var f08=0;t08 > 0 && t08 <= 10;f08++){t08*=10;}if(Y08(t08)){t08-=2;}t08=Math.floor(t08);if(t08 % +"2" === "0" * 1){t08--;}if(t08 > 0){while(!Y08(t08)){g7mT.z1n(34);t08-=g7mT.E1n(0,"2");}t08/=Math.pow(10,f08);}}if(U08.type == a1R){if(!isNaN(x08)){M08["Prime Bands Top " + U08.name]=x08;}if(!isNaN(t08)){M08["Prime Bands Bottom " + U08.name]=Math.max(0,t08);}}else {g7mT.z1n(0);m08=g7mT.L1n(2147483647,"0");H08=U08.inputs["Tolerance Percentage"] * (x08 - t08) / +"100";g7mT.d1n(160);var N8R=g7mT.L1n(18,4,22,18,1258);N08=x08 + t08 - N8R * M08.Close;if(N08 < H08){m08=1;}else if(N08 > H08){m08=-1;}if(m08){M08["Result " + U08.name]=m08;}}}};W08.Studies.studyLibrary=W08.extend(W08.Studies.studyLibrary,{"Prime Number":{name:r1R,range:"-1 to 1",calculateFN:W08.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:"0.1" * 1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !{},calculateFN:W08.Studies.calculatePrimeNumber,seriesFN:W08.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Prime Bands Top":z1R,"Prime Bands Bottom":"auto","Prime Bands Channel":E1R}}});}};S4T=T08=>{var o1R,l5n,q5n,t5n,F08,Z1R,y1R;o1R="un";o1R+="def";o1R+="ine";o1R+="d";l5n=-1526897158;q5n=-1998168172;t5n=2;for(var K5n=1;Y6AA.g5n(K5n.toString(),K5n.toString().length,43374) !== l5n;K5n++){F08=+_CIQ != ""?_CIQ:T08.CIQ;t5n+=2;}if(Y6AA.c5n(t5n.toString(),t5n.toString().length,47655) !== q5n){F08=+_CIQ != ""?_CIQ:T08.CIQ;}F08=typeof _CIQ !== o1R?_CIQ:T08.CIQ;if(!F08.Studies){Z1R="pring feature requires first activating studies featur";Z1R+="e.";console.error(Z1R);}else {y1R="Pring'";y1R+="s ";y1R+="Know Sure Thin";y1R+="g";F08.Studies.calculateKST=function(C18,G08){var B7mT=Y6AA;var d1R,S1R,L1R,Y1R,L08,A18,s18,t18,q6n,t6n,D6n,j1R,T1R,p1R,R18,n08,V08,M18;d1R="si";d1R+="m";d1R+="ple";S1R="S";S1R+="ig";S1R+="nal Period";L1R="H";L1R+="eaviest S";L1R+="MA Per";L1R+="iod";Y1R="Heav";Y1R+="y SM";Y1R+="A ";Y1R+="Period";L08=G08.chart.scrubbed;A18=G08.inputs.Field;if(!A18 || A18 == "field"){A18="Close";}s18={};t18={};s18[1]=Number(G08.inputs["Lightest Rate of Change Period"]);q6n=-808215399;t6n=+"696493958";D6n=2;for(var r9n=1;B7mT.g5n(r9n.toString(),r9n.toString().length,64383) !== q6n;r9n++){j1R="Heav";j1R+="y Rate of Change Per";j1R+="iod";s18[2]=Number(G08.inputs["Light Rate of Change Period"]);s18[3]=Number(G08.inputs[j1R]);B7mT.d1n(47);s18[B7mT.E1n("4",0)]=Number(G08.inputs["Heaviest Rate of Change Period"]);t18[1]=Number(G08.inputs["Lightest SMA Period"]);D6n+=2;}if(B7mT.c5n(D6n.toString(),D6n.toString().length,+"62722") !== t6n){T1R="Heaviest Rate of Chang";T1R+="e Period";p1R="Heaviest Rate of C";p1R+="hange ";p1R+="Period";s18[+"7"]=Number(G08.inputs[p1R]);B7mT.z1n(18);s18[B7mT.E1n("4",639682176)]=Number(G08.inputs[T1R]);s18[7]=Number(G08.inputs["Lightest SMA Period"]);t18[4]=Number(G08.inputs["Lightest SMA Period"]);}t18[+"2"]=Number(G08.inputs["Light SMA Period"]);t18[3]=Number(G08.inputs[Y1R]);t18[4]=Number(G08.inputs[L1R]);R18=Number(G08.inputs[S1R]);for(n08=G08.startFrom;n08 < L08.length;n08++){if(!L08[n08])continue;for(V08=1;V08 <= 4;V08++){if(n08 >= s18[V08] && L08[n08 - s18[V08]] && L08[n08 - s18[V08]][A18]){B7mT.z1n(161);var V8R=B7mT.L1n(2,6,5,78);B7mT.z1n(16);var k8R=B7mT.L1n(11,12);L08[n08]["_ROC" + V08 + " " + G08.name]=V8R * (L08[n08][A18] / L08[n08 - s18[V08]][A18] - k8R);}}}for(V08="1" >> 2078501184;V08 <= 4;V08++){F08.Studies.MA("simple",t18[V08],"_ROC" + V08 + (6760 != (5080,4670)?2678 > 927?" ":617 != (7450,319.66)?+"0x1097":(! !0,0x264d):"T") + G08.name,0,"_SMA" + V08,C18,G08);}for(n08=G08.startFrom;n08 < L08.length;n08++){L08[n08]["KST " + G08.name]=null;for(V08=+"1";V08 <= 4;V08++){B7mT.z1n(4);var h8R=B7mT.L1n(4694,2347);B7mT.z1n(4);var l8R=B7mT.L1n(381,382);B7mT.d1n(4);var q8R=B7mT.L1n(4687,247);B7mT.d1n(133);var t8R=B7mT.L1n(14,63,71,897,8);B7mT.d1n(5);var D8R=B7mT.E1n(38,13,18);B7mT.z1n(25);var K8R=B7mT.L1n(13,52,28);B7mT.z1n(6);var a4R=B7mT.L1n(2,8505);M18=L08[n08]["_SMA" + V08 + (353.3 < (h8R,l8R)?(354.39,782.96) === (q8R,t8R)?(D8R,K8R):" ":(! !0,a4R)) + G08.name];if(M18 || M18 === ("0" & 2147483647)){B7mT.d1n(1);L08[n08]["KST " + G08.name]+=B7mT.L1n(M18,V08);}}}F08.Studies.MA(d1R,R18,"KST " + G08.name,0,"KSTSignal",C18,G08);};F08.Studies.calculateSpecialK=function(a68,d18){var o7mT=Y6AA;var f18,F18,P18,V18,L18,p18,X18,O18;f18=d18.chart.scrubbed;F18=d18.inputs.Field;if(!F18 || F18 == "field"){F18="Close";}P18=d18.inputs.Interval;if(!P18){P18="daily";}V18={daily:[10,15,20,30,50,65,75,100,+"195",265,390,530],weekly:[4,5,"6" | 6,8,10,"13" - 0,15,20,+"39",52,78,104]};L18={daily:[+"10",10,10,15,50,"65" ^ 0,75,+"100",130,"130" & 2147483647,130,+"195"],weekly:[4,5,6,8,10,"13" >> 1245049856,15,20,26,26,26,39]};for(p18=d18.startFrom;p18 < f18.length;p18++){if(!f18[p18])continue;for(X18="0" & 2147483647;X18 < V18[P18].length;X18++){if(p18 >= V18[P18][X18] && f18[p18 - V18[P18][X18]] && f18[p18 - V18[P18][X18]][F18]){o7mT.z1n(55);var r4R=o7mT.L1n(16,1024,9237,9216);o7mT.d1n(119);var z4R=o7mT.L1n(7,1470,1478,1471);o7mT.d1n(24);var E4R=o7mT.E1n(100837,7,91663);o7mT.d1n(29);var o4R=o7mT.E1n(1,9854,17);o7mT.d1n(162);var Z4R=o7mT.E1n(19516,5,17,19,410);o7mT.z1n(6);var j4R=o7mT.L1n(13,5078);o7mT.d1n(6);var p4R=o7mT.L1n(19,6979);o7mT.z1n(9);var T4R=o7mT.E1n(21,9434,7);o7mT.z1n(124);var Y4R=o7mT.L1n(54,18,6,98);f18[p18]["_ROC" + X18 + (r4R === z4R?E4R:166.07 < (o4R,+"616")?(Z4R,321.55) >= (j4R,p4R)?+"194":" ":(T4R,403.37)) + d18.name]=Y4R * (f18[p18][F18] / f18[p18 - V18[P18][X18]][F18] - +"1");}}}for(X18=0;X18 < L18[P18].length;X18++){F08.Studies.MA(P18 == "daily"?"simple":"exponential",L18[P18][X18],"_ROC" + X18 + ((7950,343.92) === (+"9732",1900)?("k",4.75e+3):" ") + d18.name,0,"_MA" + X18,a68,d18);}o7mT.V8TT();for(p18=d18.startFrom;p18 < f18.length;p18++){f18[p18]["Result " + d18.name]=null;for(X18="0" * 1;X18 < L18[P18].length;X18++){o7mT.z1n(29);var L4R=o7mT.L1n(6,8100,6740);o7mT.d1n(163);var S4R=o7mT.E1n(24173,24160,1496,13,13);o7mT.z1n(6);var d4R=o7mT.L1n(12,299);o7mT.z1n(164);var y4R=o7mT.L1n(450,9,14,65,5843);O18=f18[p18]["_MA" + X18 + (L4R > S4R?" ":(d4R,400.36) > ("5712" - 0,y4R)?("F",!{}):(!{},89.58)) + d18.name];if(O18 || O18 === 0){o7mT.d1n(165);f18[p18]["Result " + d18.name]+=o7mT.L1n("1",O18,0,4,X18);}}}};F08.Studies.studyLibrary=F08.extend(F08.Studies.studyLibrary,{"Pring KST":{name:y1R,calculateFN:F08.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":"9" << 960828416},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:F08.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};G4T=h68=>{var D68,I68,B1R,x1R,s1R,C1R,v1R,i1R,W1R,U1R,A1R;D68=typeof _CIQ !== "undefined"?_CIQ:h68.CIQ;I68=typeof _timezoneJS !== "undefined"?_timezoneJS:h68.timezoneJS;if(!D68.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {B1R="+50";B1R+="%";x1R="hh:";x1R+="mm:";x1R+="s";x1R+="s";s1R="#fe641";s1R+="c";C1R="-";C1R+="1";C1R+="25%";v1R="-1";v1R+="0";v1R+="0%";i1R="+25";i1R+="%";W1R="+";W1R+="7";W1R+="5";W1R+="%";U1R="+1";U1R+="5";U1R+="0%";A1R="Projecte";A1R+="d Volum";A1R+="e at Time";D68.Studies.initProjectedVolume=function(A68,W68,s68,B68,l68,t68){var r68,K68;var {market:z68}=A68.chart;r68="00:00";if(z68){r68=z68.getNormalOpen();}if(r68.match(/^[\d]{2}:[\d]{2}$/)){r68+=":00";}if(!s68["Anchor Time"] || !s68["Anchor Time"].length){s68["Anchor Time"]=r68;}K68=D68.Studies.initializeFN(A68,W68,s68,B68,l68,t68);if(!A68.currentlyImporting){K68.defaultAnchorTime=r68;}return K68;};D68.Studies.validateProjectedVolumeLookback=function(y68,C68){var {interval:x68, periodicity:M68}=y68.layout;var {"Lookback Days":U68}=C68.inputs;Y6AA.z1n(166);return Y6AA.L1n(U68,M68,"10",x68);};D68.Studies.calculateProjectedVolume=function(X68,m68){var j7mT=Y6AA;var m1R,c1R,F1R,B88,j68,H68,g1R,t88,x88,n68,L68,Y68,q68,N88,o68,O68,a88,M88,m2n,b2n,Q2n,D88,M1R,g68,h88,b88,Z68,P88,k68,e68,T68,p68,N68,y88,C88,m88,R88,r88,s88,c68,k88,X88,b68,P68,V68,d88,A88,I1R,w68,Y88,o88,z88,e88,d68,O1R;m1R="V";m1R+=" ";c1R="he";c1R+="ikin";c1R+="ashi";function i68(V88){return {hours:V88.getHours(),minutes:V88.getMinutes()};}F1R="P";F1R+="A";function w88(c88){j7mT.C8TT();console.error(`Expected data for ${Z88(c88).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}F1R+="V";var {interval:j88, timeUnit:K88, aggregationType:W88}=X68.layout;var {symbol:g88, scroll:u88, scrubbed:R68, market:Q68}=X68.chart;B88=m68.type === F1R;j68=m68.study?m68.study.name:m68.type;if(D68.ChartEngine.isDailyInterval(j88)){m68.error=`${j68} is Intraday Only`;}else if(K88 === "tick"){m68.error=`Tick mode not supported for ${j68}`;}else if(K88 !== "minute"){m68.error=`Sub-minute periodicities not supported for ${j68}`;}else if(!W88 || !["ohlc",c1R].includes(W88)){m68.error=`Aggregation type not supported for ${j68}`;}else if(!D68.Studies.validateProjectedVolumeLookback(X68,m68)){m68.error=`Selected lookback/periodicity combo not supported for ${j68}`;}function p88(n88,L88,q88){while(L88){n88=new Date(new Date(n88).setDate(n88.getDate() + (q88?1:-("1" & 2147483647))));if(Q68.isMarketDate(n88)){L88--;}}j7mT.V8TT();return n88;}if(m68.error){return;}if(m68.inputs["Anchor Selector"]){D68.Studies.initAnchorHandle(X68,m68);}else {D68.Studies.removeAnchorHandle(X68,m68);}H68=Q68?Q68.getNormalOpen():"00:00";if(H68.match(/^[\d]{2}:[\d]{2}$/)){H68+=":00";}if(!X68.currentlyImporting && H68 !== m68.defaultAnchorTime){g1R="Anc";g1R+="hor ";g1R+="Time";m68.defaultAnchorTime=H68;m68.inputs[g1R]=H68;D68.Studies.repositionAnchor(X68,m68);return;}var {"Lookback Days":F68, "Anchor Time":J88}=m68.inputs;var [f88,H88,l88 = 0]=J88.split(("1610" - 0,1250) === (9030,283.81)?("U","313.26" - 0):":");t88=D68.Market.Symbology.isForexSymbol(g88);x88=m68.getDependents(X68);n68=0;L68=[];x88.forEach(({inputs:F88, outputMap:T88})=>{j7mT.C8TT();if(F88.Period){n68=Math.max(parseInt(F88.Period),n68);L68.push(...Object.keys(T88));}});m68.dependentsOutputMap=L68;q68=E68(R68.length - 1,!0);function E68(A98,z98){j7mT.V8TT();var r98,s98,I98;r98=Z88(A98);s98=Q68.getOpen(r98) || E88(r98);I98=Q88(s98);if(!z98){return I98;}if(I98 < 0){I98=Q88(p88(s98,+"1",! ![]));}if(I98 >= R68.length){return !{};}return I98;}N88=Math.ceil(R68.length - 1 - u88);j7mT.z1n(6);o68=E68(j7mT.E1n(n68,N88));if(t88 && R68[o68] && D68.dateToStr(R68[o68].DT,"HH:mm") !== H68){j7mT.z1n(167);o68=E68(j7mT.E1n(o68,"1",1652827392));;}if(!t88 && m68.startFrom > o68 && R68[o68] && R68[o68]["V " + m68.name] !== undefined && L68.every(S88=>{return ![undefined,null].includes(R68[o68][S88]);}) && q68 !== !{}){Y68=q68;;}else {Y68=o68;}O68=p88(Z88(o68),F68);O68.setHours(+"0",0,0);a88=E68(0,! !1);M88=(a88 || a88 === 0) && Q88(p88(R68[a88].DT,F68,!""));if(R68[0].DT > O68){if(X68.quoteDriver){X68.quoteDriver.extendHistoricalData({from:O68});j7mT.d1n(34);m2n=j7mT.E1n(320472074,"861572394");j7mT.z1n(18);b2n=-j7mT.L1n("1864560766",1215031328);Q2n=2;for(var A2n=1;j7mT.c5n(A2n.toString(),A2n.toString().length,77356) !== m2n;A2n++){if(M88 > 0){Y68=M88;}else {return;}Q2n+=2;}if(j7mT.c5n(Q2n.toString(),Q2n.toString().length,74539) !== b2n){if(M88 >= 4){Y68=M88;}else {return;}}}else {return m68.error=`Not enough data to calculate ${j68}`;}}if(Y68 < 0 || Y68 > R68.length - 1){return;}D88=R68.length - m68.startFrom === 1 && m68.cachedFutureTicks && m68.cachedLastProjection && +m68.cachedLastProjection.DT === +R68[R68.length - 1].DT && R68[Y68]["PV " + m68.name];if(D88){R68[R68.length - +"1"]["PV " + m68.name]=m68.cachedLastProjection.projectedValue;m68.appendFutureTicks(X68,m68.cachedFutureTicks);Y68=m68.startFrom;}else {M1R="P";M1R+="V";M1R+=" ";m68.cachedFutureTicks=null;m68.cachedLastProjection=null;g68=[q68];h88=[];for(var U88=0;U88 < F68;U88++){b88=E68(g68["0" * 1] - 1);g68.unshift(b88);;}while(g68[F68] >= Y68){Z68=g68.pop();if(!R68[Z68]){return w88(Z68);}P88=i68(R68[Z68].DT);var {hours:u68, minutes:v68}=P88;k68=Q68.getClose(R68[Z68].DT);e68=void 0;if(!k68){e68={hours:"24" & 2147483647,minutes:0};}else {T68=Q68.getNextClose(R68[Z68].DT);e68=i68(k68);while(!(e68.hours === 0 && e68.minutes === 0) && k68.getDate() === T68.getDate()){k68=T68;T68=Q68.getNextClose(T68);}e68=i68(k68);if(e68.hours === 0){e68.hours=24;}}p68=g68.slice();for(var S68=0;S68 < p68.length;S68++){N68=p68[S68];if(!R68[N68]){return w88(N68);}var {hours:G68, minutes:I88}=i68(R68[N68].DT);if(G68 < u68 || G68 === u68 && I88 < v68){do {N68++;({hours:G68, minutes:I88}=i68(R68[N68].DT));}while(!(G68 === u68 && I88 === v68));}p68[S68]=N68;}while(u68 < e68.hours || u68 === e68.hours && v68 < e68.minutes){y88=!1;C88=void 0;m88=void +"0";R88=0;r88=0;for(var J68=0;J68 < p68.length;J68++){s88=p68[J68];if(s88 === null)continue;c68=R68[s88];if(!c68){return w88(s88);}var {hours:i88, minutes:v88}=i68(c68.DT);k88=c68.DT.getDate();if(i88 === u68 && v88 === v68){R88+=c68.Volume;r88++;p68[J68]++;if(R68[p68[J68]].DT.getDate() !== k88){p68[J68]=null;}else if(!y88){({hours:C88, minutes:m88}=i68(R68[p68[J68]].DT));y88=!"";;}}}u68=C88;v68=m88;if(r88 === 0)break;j7mT.d1n(12);X88=j7mT.L1n(r88,R88);if(R68[Z68]){R68[Z68]["PV " + m68.name]=X88;}else {h88.push({["PV " + m68.name]:X88});}Z68++;}g68.unshift(E68(g68[0] - 1));;}m68.cachedLastProjection={DT:R68[R68.length - 1].DT,projectedValue:R68[R68.length - 1][M1R + m68.name]};m68.cachedFutureTicks=h88;m68.appendFutureTicks(X68,h88);}b68=null;P68=0;function Z88(a98){var b1R;j7mT.C8TT();b1R="s";b1R+="crubb";b1R+="ed";return X68.dateFromTick(a98,null,! !"1",b1R);}V68=0;if(D88 && B88){while(Y68 > 0){j7mT.d1n(6);A88=R68[j7mT.L1n(1,Y68)]["V " + m68.name];if(A88 || A88 === 0){P68=A88;break;}Y68--;}}for(var f68=Y68;f68 < R68.length;f68++){I1R="P";I1R+="V";I1R+=" ";w68=R68[f68];Y88=w68.Volume;o88=w68["PV " + m68.name];if(!w68.futureTick){d88=f68;}if(b68 === null){b68=D68.Studies.getMarketOffset({stx:X68,localQuoteDate:R68[f68].DT,shiftToDateBoundary:!""});}z88=new Date(new Date(w68.DT).getTime() + b68);e88=R68[f68 - 1] && new Date(new Date(R68[f68 - 1].DT).getTime() + b68);d68=new I68.Date(w68.DT,Q68.market_def.market_tz || "America/New_York");d68.setHours(f88,H88,l88);j7mT.z1n(4);d68=new Date(j7mT.E1n(b68,d68));d68.setDate(z88.getDate());if(e88 && z88.getDate() !== e88.getDate()){b68=null;P68=0;V68=0;}if(z88 < d68){O1R="V";O1R+=" ";w68[O1R + m68.name]=0;w68["PV " + m68.name]=0;continue;}if(B88){P68+=Y88;V68+=o88;}else {P68=Y88;V68=o88;}w68["V " + m68.name]=P68;if(!D88){w68[I1R + m68.name]=V68;}if([NaN,null,undefined].includes(P68) && !w68.futureTick){m68.error=`${j68} requires volume`;return;}}m68.cachedLastProjection.projectedValue=R68[d88]["PV " + m68.name];m68.outputMap={};m68.outputMap[m1R + m68.name]="";function E88(D98){var h98;j7mT.V8TT();D98.setHours(0);D98.setMinutes(0);h98=D68.Studies.getMarketOffset({stx:X68,localQuoteDate:D98});return new Date(D98.getTime() + h98);}m68.outputMap["PV " + m68.name]="Average Line";function Q88(O88){return X68.tickFromDate(O88,null,null,! !"1","scrubbed");}x88.forEach(G88=>{G88.startFrom=Y68;j7mT.C8TT();G88.study.calculateFN(X68,G88);});};D68.Studies.displayProjectedVolume=function(W98,K98,B98){var k7mT=Y6AA;var Q1R,x98,l98,M98,U98,y98,m98,R98;Q1R="Al";Q1R+="ert B";Q1R+="ar";if(K98.error){return D68.Studies.removeAnchorHandle(W98,K98);}var {"Alert Threshold":t98 = ""}=K98.inputs;k7mT.z1n(5);var F4R=k7mT.L1n(0,3,2);k7mT.z1n(168);var c4R=k7mT.L1n(17,177,1,5,16);k7mT.d1n(131);var g4R=k7mT.L1n(84,113,15,113);x98=parseInt(t98.slice(0,F4R),c4R) / g4R;l98=K98.outputs[Q1R];if(typeof l98 === "object"){l98=l98.color;}K98.volumeField="V " + K98.name;K98.plotStepLine=! ![];K98.alignStepToSide=! !{};K98.extendToEndOfLastBar=! !"1";K98.lineWidth=2;M98=W98.canvasStyle("stx_volume_underlay_up").opacity;U98=W98.canvasStyle("stx_volume_underlay_down").opacity;K98.colorFunction=function(Y98){var w1R,j98,X98,g98,o98,e98,w98;w1R="V";w1R+=" ";var {Open:p98, Close:Q98, iqPrevClose:Z98}=Y98;j98=W98.colorByCandleDirection?p98:Z98;k7mT.d1n(169);X98=k7mT.E1n(j98,Q98);g98=Y98["PV " + K98.name];o98=Y98[w1R + K98.name];k7mT.z1n(170);e98=k7mT.E1n(0,x98,g98,"1");w98=x98 < 0?o98 < e98:o98 > e98;k7mT.C8TT();return {fill_color:w98 && l98 || (X98?this.fill_color_down:this.fill_color_up),border_color:X98?this.border_color_down:this.border_color_up,opacity:w98?1:X98?U98:M98,border_opacity:X98?U98:M98};};y98=K98.study?K98.study.name:K98.type;var {loadingMore:C98}=W98.chart;m98=B98.some(u98=>{return u98 && u98[K98.volumeField] && u98["PV " + K98.name];});k7mT.V8TT();R98=B98[0] && !B98[0].futureTick && (B98[0]["PV " + K98.name] === undefined || (K98.dependentsOutputMap || []).some(J98=>{return [undefined,null].includes(B98[0][J98]);}));if(!m98 && C98){return K98.error=`Fetching data for ${y98}`;}D68.Studies.createVolumeChart(W98,K98,B98);D68.Studies.displaySeriesAsLine(W98,K98,B98);if(K98.anchorHandle){D68.Studies.displayAnchorHandleAndLine(W98,K98,B98);}if(R98){D68.Studies.calculateProjectedVolume(W98,K98);}};D68.Studies.studyLibrary=D68.extend(D68.Studies.studyLibrary,{PVAT:{name:A1R,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:D68.Studies.calculateProjectedVolume,seriesFN:D68.Studies.displayProjectedVolume,initializeFN:D68.Studies.initProjectedVolume,removeFN:D68.Studies.removeAnchorHandle,inputs:{"Lookback Days":+"10","Anchor Time":"","Alert Threshold":[U1R,"+125%","+100%",W1R,"+50%",i1R,"None","-25%","-50%","-75%",v1R,C1R,"-150%"],"Anchor Selector":! ![]},outputs:{"Average Line":s1R,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:x1R,step:1},"Alert Threshold":{defaultSelected:B1R}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:+"0"},calculateFN:D68.Studies.calculateProjectedVolume,seriesFN:D68.Studies.displayProjectedVolume,initializeFN:D68.Studies.initProjectedVolume,removeFN:D68.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};c4T=H98=>{var f98,H1R,u1R;f98=typeof _CIQ !== "undefined"?_CIQ:H98.CIQ;Y6AA.C8TT();if(!f98.Studies){H1R="psychologicalLin";H1R+="e feature requires fir";H1R+="st ac";H1R+="tivating studies feature.";console.error(H1R);}else {u1R="Psy";u1R+="c";u1R+="hological Lin";u1R+="e";f98.Studies.calculatePsychologicalLine=function(E98,N98){var P98,i98,k98,v98,d98;P98=N98.chart.scrubbed;if(P98.length < N98.days + 1){N98.error=! !{};return;}i98=[];Y6AA.d1n(9);Y6AA.C8TT();var M4R=Y6AA.E1n(103,200,3);k98=M4R / N98.days;v98=0;for(var b98=Math.max(N98.startFrom - N98.days,1);b98 < P98.length;b98++){if(P98[b98].futureTick)break;d98=Number(P98[b98].Close > P98[b98 - ("1" - 0)].Close);if(d98){v98+=k98;}i98.push(d98);if(i98.length > N98.days){v98-=i98.shift() * k98;}if(b98 < N98.startFrom)continue;if(!isNaN(P98[b98].Close)){P98[b98]["Result " + N98.name]=v98;}}};f98.Studies.studyLibrary=f98.extend(f98.Studies.studyLibrary,{PSY:{name:u1R,range:"0 to 100",calculateFN:f98.Studies.calculatePsychologicalLine,inputs:{Period:+"20"}}});}};V4T=T98=>{var F98;Y6AA.V8TT();F98=typeof _CIQ !== "undefined"?_CIQ:T98.CIQ;if(!F98.Studies){console.error("qstick feature requires first activating studies feature.");}else {F98.Studies.calculateQStick=function(V98,S98){var G98;G98=S98.chart.scrubbed;if(G98.length < S98.days + 1){S98.error=!0;return;}for(var c98=S98.startFrom;c98 < G98.length;c98++){G98[c98]["_Close-Open " + S98.name]=G98[c98].Close - G98[c98].Open;}Y6AA.V8TT();F98.Studies.MA(S98.inputs["Moving Average Type"],S98.days,"_Close-Open " + S98.name,0,"Result",V98,S98);};F98.Studies.studyLibrary=F98.extend(F98.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:F98.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};n4T=L98=>{var e1R,n98,a5R,K1R,D1R,t1R,q1R;e1R="undefi";e1R+="n";e1R+="ed";Y6AA.V8TT();n98=typeof _CIQ !== e1R?_CIQ:L98.CIQ;if(!n98.Studies){console.error("rainbow feature requires first activating studies feature.");}else {a5R="fi";a5R+="eld";K1R="#F";K1R+="F";K1R+="00";K1R+="FF";D1R="#00";D1R+="0";D1R+="0FF";t1R="#0";t1R+="0FF";t1R+="FF";q1R="Rainbow Moving A";q1R+="v";q1R+="erage";n98.Studies.calculateRainbow=function(m0K,q98){var P7mT=Y6AA;var O98,W0K,y0K,G1R,J1R,C0K,t0K,x0K,U0K,R1R,B0K,X1R,l0K,n1R,f1R,P1R,V1R,N1R;O98=q98.chart.scrubbed;if(O98.length < q98.days + 1){q98.error=! !1;return;}W0K=q98.inputs.Field;if(!W0K || W0K == "field"){W0K="Close";}y0K=W0K;function X0K(Q0K,p0K){var e0K,w0K;P7mT.z1n(9);var O4R=P7mT.L1n(32,12,19);P7mT.V8TT();e0K=Number.MAX_VALUE * O4R;w0K=Number.MAX_VALUE;for(var o0K=p0K - Q0K + 1;o0K <= p0K;o0K++){if(o0K < 0)continue;e0K=Math.max(e0K,O98[o0K].Close);w0K=Math.min(w0K,O98[o0K].Close);}return [w0K,e0K];}for(var r0K=1;r0K <= 10;r0K++){G1R="S";G1R+="MA";n98.Studies.MA("simple",q98.days,y0K,0,"SMA" + r0K,m0K,q98);P7mT.d1n(132);var I4R=P7mT.E1n(18,391631589,1174894749,1174894749);P7mT.z1n(171);var m4R=P7mT.E1n(71270,2,17,9517,15);P7mT.d1n(43);var b4R=P7mT.L1n(18,205,17,2455);P7mT.z1n(172);var Q4R=P7mT.E1n(5,55360,7611,5);P7mT.d1n(6);var w4R=P7mT.L1n(20,21);P7mT.z1n(139);var A4R=P7mT.E1n(389606,8,4995,10,4);P7mT.z1n(4);var U4R=P7mT.L1n(5940,990);y0K=G1R + r0K + (("2610" << I4R,m4R) >= 134.4?b4R != (Q4R,"348.53" * w4R)?" ":(A4R,+"2.18e+3"):U4R) + q98.name;}for(var I0K=Math.max(q98.startFrom,10);I0K < O98.length;I0K++){J1R="O";J1R+="sc";if(!O98[I0K])continue;if(O98[I0K].futureTick)break;C0K=0;t0K=0;P7mT.z1n(9);var W4R=P7mT.E1n(6,0,5);x0K=Number.MAX_VALUE * W4R;U0K=Number.MAX_VALUE;for(r0K=1;r0K <= 10;r0K++){R1R="S";R1R+="M";R1R+="A";P7mT.z1n(6);var i4R=P7mT.L1n(15,6625);P7mT.d1n(43);var v4R=P7mT.E1n(9,227,2,2937);P7mT.z1n(6);var C4R=P7mT.L1n(7940,8734);B0K=O98[I0K][R1R + r0K + ((989.6,i4R) >= (v4R,C4R)?" ":930.04) + q98.name];if(B0K || B0K === 0){C0K+=B0K;t0K++;x0K=Math.max(x0K,B0K);U0K=Math.min(U0K,B0K);}}if(q98.name.indexOf(J1R) > -1){X1R="HHV/LLV ";X1R+="Lookb";X1R+="ack";l0K=X0K(q98.inputs[X1R],I0K);if(t0K){n1R="Ze";n1R+="r";n1R+="o ";f1R="Ov";f1R+="e";f1R+="r";f1R+=" ";P1R="_h";P1R+="is";P1R+="t";P7mT.z1n(39);var s4R=P7mT.E1n(14,15,19,110);P7mT.z1n(13);var x4R=P7mT.L1n(7,10,16,20);O98[I0K][q98.name + P1R]=s4R * (O98[I0K][W0K] - C0K / t0K) / Math.max(0.000001,l0K[x4R] - l0K[0]);P7mT.d1n(29);var B4R=P7mT.E1n(7,84,88);P7mT.z1n(9);var H4R=P7mT.E1n(16,2,15);O98[I0K][f1R + q98.name]=B4R * (x0K - U0K) / Math.max(0.000001,l0K[H4R] - l0K[0]);O98[I0K]["Under " + q98.name]=-O98[I0K]["Over " + q98.name];O98[I0K][n1R + q98.name]=+"0";}}}P7mT.V8TT();if(q98.name.indexOf("Osc") > -1){V1R="_";V1R+="h";V1R+="is";V1R+="t";N1R="Ov";N1R+="er ";q98.outputMap={};q98.outputMap[N1R + q98.name]="Positive Bar";q98.outputMap["Under " + q98.name]="Negative Bar";q98.outputMap["Zero " + q98.name]="";q98.outputMap[q98.name + V1R]="";}};n98.Studies.displayRainbowMA=function(g0K,j0K,J0K){var u0K,k1R;u0K=g0K.panels[j0K.panel];for(var Z0K=10;Z0K > 0;Z0K--){k1R="SM";k1R+="A";n98.Studies.displayIndividualSeriesAsLine(g0K,j0K,u0K,k1R + Z0K + " " + j0K.name,J0K);}};n98.Studies.displayRainbowOsc=function(H0K,f0K,q0K){var l1R,h1R,P0K,b0K,N0K,d0K,T0K,G0K,c0K,n0K,L0K,v0K,i0K;l1R="s";l1R+="t";l1R+="x_h";l1R+="istogram";h1R="Zero";h1R+=" ";n98.Studies.displaySeriesAsLine(H0K,f0K,q0K);P0K=H0K.panels[f0K.panel];b0K=f0K.getContext(H0K);N0K=f0K.getYAxis(H0K);H0K.startClip(f0K.panel);if(!f0K.highlight && H0K.highlightedDraggable){b0K.globalAlpha*=+"0.3";}d0K=H0K.pixelFromPrice(+"0",P0K,N0K);T0K=P0K.name != f0K.chart.name;G0K=n98.Studies.determineColor(f0K.outputs["Positive Bar"]);b0K.strokeStyle=G0K;H0K.plotDataSegmentAsLine("Over " + f0K.name,P0K,{skipTransform:T0K,label:!"1",yAxis:N0K});c0K=b0K.createLinearGradient(0,d0K,0,N0K.flipped?N0K.bottom:N0K.top);c0K.addColorStop(0,H0K.containerColor);c0K.addColorStop(1,G0K);n98.prepareChannelFill(H0K,{skipTransform:T0K,color:c0K,opacity:!f0K.highlight && H0K.highlightedDraggable?0.3:1,panelName:f0K.panel,topBand:"Over " + f0K.name,bottomBand:h1R + f0K.name,yAxis:N0K});n0K=n98.Studies.determineColor(f0K.outputs["Negative Bar"]);b0K.strokeStyle=n0K;H0K.plotDataSegmentAsLine("Under " + f0K.name,P0K,{skipTransform:T0K,label:!"1",yAxis:N0K});L0K=b0K.createLinearGradient(0,d0K,0,N0K.flipped?N0K.top:N0K.bottom);L0K.addColorStop(0,H0K.containerColor);L0K.addColorStop(1,n0K);n98.prepareChannelFill(H0K,{skipTransform:T0K,color:L0K,opacity:!f0K.highlight && H0K.highlightedDraggable?0.3:1,panelName:f0K.panel,topBand:"Zero " + f0K.name,bottomBand:"Under " + f0K.name,yAxis:N0K});Y6AA.d1n(143);var u4R=Y6AA.L1n(3,12,6,12);v0K=H0K.layout.candleWidth - u4R;if(v0K < 2){v0K=1;}H0K.canvasColor(l1R);if(!f0K.underlay){b0K.globalAlpha=1;}if(!f0K.highlight && H0K.highlightedDraggable){b0K.globalAlpha*=0.3;}b0K.fillStyle="#CCCCCC";for(var S0K=0;S0K < q0K.length;S0K++){i0K=q0K[S0K];if(!i0K)continue;if(i0K[f0K.name + "_hist"] > 0){b0K.fillStyle=G0K;}else if(i0K[f0K.name + "_hist"] < ("0" | 0)){b0K.fillStyle=n0K;}if(i0K.candleWidth){v0K=Math.floor(Math.max(1,i0K.candleWidth - 2));}b0K.fillRect(Math.floor(H0K.pixelFromBar(S0K,P0K.chart) - v0K / +"2"),Math.floor(d0K),Math.floor(v0K),Math.floor(H0K.pixelFromPrice(i0K[f0K.name + "_hist"],P0K,N0K) - d0K));}H0K.endClip();};n98.Studies.studyLibrary=n98.extend(n98.Studies.studyLibrary,{"Rainbow MA":{name:q1R,overlay:! !"1",calculateFN:n98.Studies.calculateRainbow,seriesFN:n98.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:t1R,SMA7:"#007FFF",SMA8:D1R,SMA9:"#7F00FF",SMA10:K1R}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:n98.Studies.calculateRainbow,seriesFN:n98.Studies.displayRainbowOsc,centerline:"0" | 0,inputs:{Period:2,Field:a5R,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};L4T=a1K=>{var O0K,L2n,S2n,d2n,r5R;O0K=typeof _CIQ !== "undefined"?_CIQ:a1K.CIQ;if(!O0K.Studies){L2n=-1837952725;S2n=-1311276340;d2n=+"2";for(var F2n=1;Y6AA.c5n(F2n.toString(),F2n.toString().length,4025) !== L2n;F2n++){r5R="randomWalk feature re";r5R+="quires first activati";r5R+="ng studies feature.";console.error(r5R);d2n+=2;}if(Y6AA.g5n(d2n.toString(),d2n.toString().length,24566) !== S2n){console.error("");}}else {O0K.Studies.calculateRandomWalk=function(x1K,r1K){var h1K,K1K,W1K,B1K,s1K,A1K,z1K,l1K,t1K,z5R;h1K=r1K.chart.scrubbed;if(h1K.length < r1K.days + ("1" ^ 0)){r1K.error=! ![];return;}for(var D1K=Math.max(2,r1K.startFrom);D1K < h1K.length;D1K++){K1K=0;W1K=h1K[D1K].High;B1K=h1K[D1K].Low;s1K=0;A1K=0;for(var I1K=1;I1K <= r1K.days;I1K++){if(h1K[D1K].futureTick)break;if(D1K <= I1K){Y6AA.d1n(101);s1K=A1K=Y6AA.L1n("0",1960299168);break;}K1K+=h1K[D1K - I1K].trueRange;z1K=K1K / I1K * Math.sqrt(I1K);if(z1K){l1K=(W1K - h1K[D1K - I1K].Low) / z1K;t1K=(h1K[D1K - I1K].High - B1K) / z1K;s1K=Math.max(s1K,l1K);A1K=Math.max(A1K,t1K);}}if(!h1K[D1K].futureTick && (!isNaN(W1K) || !isNaN(B1K))){z5R="Ran";z5R+="do";z5R+="m";z5R+=" Walk High ";h1K[D1K][z5R + r1K.name]=s1K;h1K[D1K]["Random Walk Low " + r1K.name]=A1K;}}};O0K.Studies.studyLibrary=O0K.extend(O0K.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:O0K.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};q4T=U1K=>{var M1K,j5R;Y6AA.C8TT();M1K=typeof _CIQ !== "undefined"?_CIQ:U1K.CIQ;if(!M1K.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {j5R="#0";j5R+="0";j5R+="DD00";M1K.Studies.calculateRelativeVigor=function(w1K,y1K){var o5R,E5R,m1K,C1K,R1K,Y1K,o1K,p1K,e1K,X1K,Z5R;o5R="triangul";o5R+="ar";E5R="_";E5R+="R";E5R+="an";E5R+="ge ";m1K=y1K.chart.scrubbed;if(m1K.length < y1K.days + 1){y1K.error=! !{};return;}for(C1K=y1K.startFrom;C1K < m1K.length;C1K++){R1K=m1K[C1K];if(!isNaN(R1K.Close) && !isNaN(R1K.Open)){R1K["_Change " + y1K.name]=R1K.Close - R1K.Open;}if(!isNaN(R1K.High) && !isNaN(R1K.Low)){R1K["_Range " + y1K.name]=R1K.High - R1K.Low;}}M1K.Studies.MA("triangular",4,"_Change " + y1K.name,0,"_Numer",w1K,y1K);M1K.Studies.MA("triangular",4,E5R + y1K.name,+"0","_Denom",w1K,y1K);Y1K=[];o1K=[];for(C1K=Math.max(y1K.startFrom - y1K.days,0);C1K < m1K.length;C1K++){if(m1K[C1K].futureTick)break;if(m1K[C1K]["_Numer " + y1K.name] === null && m1K[C1K]["_Denom " + y1K.name] === null)continue;Y1K.push(m1K[C1K]["_Numer " + y1K.name]);o1K.push(m1K[C1K]["_Denom " + y1K.name]);if(Y1K.length > y1K.days){Y1K.shift();o1K.shift();}p1K=0;e1K=0;for(X1K=0;X1K < Y1K.length;X1K++){p1K+=Y1K[X1K];}for(X1K="0" ^ 0;X1K < o1K.length;X1K++){e1K+=o1K[X1K];}if(e1K === 0){e1K=0.00000001;}if(C1K < y1K.startFrom)continue;Y6AA.d1n(12);m1K[C1K]["Rel Vig " + y1K.name]=Y6AA.E1n(e1K,p1K);}M1K.Studies.MA(o5R,4,"Rel Vig " + y1K.name,0,"RelVigSignal",w1K,y1K);for(C1K=y1K.startFrom;C1K < m1K.length;C1K++){Z5R="RelVigS";Z5R+="ignal ";m1K[C1K][y1K.name + "_hist"]=m1K[C1K]["Rel Vig " + y1K.name] - m1K[C1K][Z5R + y1K.name];}y1K.outputMap[y1K.name + "_hist"]="";};M1K.Studies.studyLibrary=M1K.extend(M1K.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:M1K.Studies.displayHistogramWithSeries,calculateFN:M1K.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":j5R,"Decreasing Bar":"#FF0000"}}});}};O4T=Z1K=>{Y6AA.C8TT();var Q1K,L5R;Q1K=typeof _CIQ !== "undefined"?_CIQ:Z1K.CIQ;if(!Q1K.Studies){console.error("rsi feature requires first activating studies feature.");}else {L5R="a";L5R+="u";L5R+="t";L5R+="o";Q1K.Studies.calculateRSI=function(k1K,j1K){var t7mT=Y6AA;var Y5R,p5R,b1K,g1K,T5R,H1K,N1K,P1K,i1K,u1K,J1K;Y5R="R";Y5R+="S";Y5R+="I";p5R="fie";p5R+="l";p5R+="d";b1K=j1K.chart.scrubbed;g1K=j1K.inputs.Field;function v1K(F1K,d1K){var E1K;if(d1K === 0){return +"100";}t7mT.z1n(12);E1K=t7mT.L1n(d1K,F1K);t7mT.z1n(173);t7mT.C8TT();return t7mT.E1n(2147483647,100,1,"100",E1K);}if(!g1K || g1K == p5R){g1K="Close";}if(b1K.length < j1K.days + 1){j1K.error=! !{};return;}for(var f1K=j1K.startFrom;f1K < b1K.length;f1K++){T5R="_avgG";T5R+=" ";if(!f1K)continue;H1K=b1K[f1K];t7mT.z1n(6);N1K=b1K[t7mT.E1n(1,f1K)];if(!H1K[g1K] && H1K[g1K] !== 0)continue;if(!N1K[g1K] && N1K[g1K] !== 0)continue;P1K=H1K[g1K] - N1K[g1K];i1K=Math.min(f1K,j1K.days);u1K=N1K["_avgG " + j1K.name];if(!u1K){t7mT.d1n(101);u1K=t7mT.L1n("0",1945525280);}t7mT.d1n(12);u1K-=t7mT.L1n(i1K,u1K);J1K=N1K["_avgL " + j1K.name];if(!J1K){t7mT.d1n(18);J1K=t7mT.L1n("0",1145097536);}t7mT.z1n(12);J1K-=t7mT.E1n(i1K,J1K);if(P1K > 0){t7mT.z1n(12);u1K+=t7mT.L1n(i1K,P1K);}else if(P1K <= 0){t7mT.z1n(12);J1K-=t7mT.E1n(i1K,P1K);}else continue;if(f1K >= j1K.days){if((u1K || u1K !== 0) && (J1K || J1K !== +"0")){H1K["RSI " + j1K.name]=v1K(u1K,J1K);}}H1K[T5R + j1K.name]=u1K;H1K["_avgL " + j1K.name]=J1K;}j1K.zoneOutput=Y5R;};Q1K.Studies.studyLibrary=Q1K.extend(Q1K.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:"14" << 1890222240,Field:"field"},calculateFN:Q1K.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:L5R,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};a5T=S1K=>{var T1K,Q5R,b5R,m5R;T1K=typeof _CIQ !== "undefined"?_CIQ:S1K.CIQ;if(!T1K.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {Q5R="e";Q5R+="m";Q5R+="a";b5R="0 to ";b5R+="100";m5R="Sch";m5R+="aff Trend";m5R+=" Cycl";m5R+="e";T1K.Studies.calculateSchaff=function(t2K,G1K){var d5R,S5R,n1K,q1K,W2K,O1K,D2K,l2K,h2K,I2K,M5R,c5R,y5R,L1K,s2K,A2K,F5R,z2K,V1K,g5R,K2K,I5R,O5R;d5R="f";d5R+="iel";function x2K(X2K,R2K,o2K){var P1mT=Y6AA;var y2K,C2K,M2K;P1mT.C8TT();y2K=null;C2K=null;for(var m2K=R2K - X2K + 1;m2K <= R2K;m2K++){P1mT.z1n(4);var e4R=P1mT.L1n(5006,334);P1mT.d1n(4);var G4R=P1mT.E1n(10,2038);P1mT.d1n(6);var R4R=P1mT.L1n(2,3952);P1mT.d1n(6);var J4R=P1mT.E1n(3,9523);P1mT.d1n(174);var X4R=P1mT.E1n(3,1,3,2);P1mT.d1n(124);var P4R=P1mT.L1n(26667,6,8889,8868);P1mT.d1n(7);var f4R=P1mT.E1n(5742,7,8,442);P1mT.d1n(22);var n4R=P1mT.E1n(177,3,531,513);M2K=n1K[m2K][o2K + ((e4R,"7247" | G4R) !== (R4R,+"5960")?" ":(J4R,"1104" * X4R) != P4R?(f4R,306.52) <= (887.88,n4R)?! ![]:("R",8.91):(!{},"J")) + G1K.name];if(!M2K)continue;y2K=y2K === null?M2K:Math.min(y2K,M2K);C2K=C2K === null?M2K:Math.max(C2K,M2K);}return [y2K,C2K];}d5R+="d";S5R="Sh";Y6AA.V8TT();S5R+="ort";S5R+=" C";S5R+="ycle";n1K=G1K.chart.scrubbed;q1K=G1K.days;W2K=Number(G1K.inputs[S5R]);O1K=Number(G1K.inputs["Long Cycle"]);if(n1K.length < Math.max(q1K,W2K,O1K) + 1){G1K.error=! !{};return;}D2K=G1K.inputs.Field;if(!D2K || D2K == d5R){D2K="Close";}l2K=0.5;T1K.Studies.MA(G1K.inputs["Moving Average Type"],W2K,D2K,+"0","_MACD1",t2K,G1K);T1K.Studies.MA(G1K.inputs["Moving Average Type"],O1K,D2K,0,"_MACD2",t2K,G1K);h2K=0;I2K=0;for(var c1K=G1K.startFrom;c1K < n1K.length;c1K++){M5R="_";M5R+="P";M5R+="F";M5R+=" ";c5R="_MAC";c5R+="D ";y5R="_MA";y5R+="CD";y5R+="2";y5R+=" ";L1K=n1K[c1K];if(c1K < O1K - 1)continue;s2K=L1K["_MACD1 " + G1K.name];A2K=L1K[y5R + G1K.name];if(s2K || s2K === 0 || A2K || A2K === 0){F5R="_M";F5R+="ACD";F5R+=" ";Y6AA.d1n(6);L1K[F5R + G1K.name]=Y6AA.E1n(A2K,s2K);}z2K=L1K[c5R + G1K.name];if(c1K < O1K + (q1K - 1))continue;V1K=x2K(q1K,c1K,"_MACD");h2K=V1K["1" >> 1493105344] > V1K[+"0"]?100 * (z2K - V1K[0]) / (V1K[1] - V1K[0]):h2K;if(z2K || z2K === 0){g5R="_";g5R+="P";g5R+="F";g5R+=" ";L1K["_PF " + G1K.name]=n1K[c1K - 1]["_PF " + G1K.name]?n1K[c1K - 1]["_PF " + G1K.name] + l2K * (h2K - n1K[c1K - ("1" & 2147483647)][g5R + G1K.name]):h2K;}K2K=L1K[M5R + G1K.name];if(c1K < O1K + ("2" & 2147483647) * (q1K - 1))continue;V1K=x2K(q1K,c1K,"_PF");I2K=V1K[1] > V1K[0]?100 * (K2K - V1K[0]) / (V1K["1" | 1] - V1K[0]):I2K;if(K2K || K2K === 0){I5R="Result";I5R+=" ";O5R="R";O5R+="esu";O5R+="lt ";L1K["Result " + G1K.name]=n1K[c1K - +"1"][O5R + G1K.name]?n1K[c1K - +"1"][I5R + G1K.name] + l2K * (I2K - n1K[c1K - 1]["Result " + G1K.name]):I2K;}}};T1K.Studies.studyLibrary=T1K.extend(T1K.Studies.studyLibrary,{Schaff:{name:m5R,range:b5R,calculateFN:T1K.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":Q5R},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"75" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};D5T=Q2K=>{var e2K,U5R,A5R;e2K=typeof _CIQ !== "undefined"?_CIQ:Q2K.CIQ;Y6AA.V8TT();if(!e2K.Studies){console.error("shinohara feature requires first activating studies feature.");}else {U5R="#5";U5R+="F7";U5R+="C";U5R+="B8";A5R="Shinohara Intens";A5R+="ity Rat";A5R+="io";e2K.Studies.calculateShinohara=function(f2K,g2K){var R7mT=Y6AA;var j2K,J2K,w5R;j2K=g2K.chart.scrubbed;R7mT.V8TT();if(j2K.length < g2K.days + +"1"){g2K.error=! !{};return;}J2K={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(g2K.startFrom > +"1"){w5R="_accu";w5R+="ms ";J2K=e2K.clone(j2K[g2K.startFrom - 1][w5R + g2K.name]);}for(var Z2K=g2K.startFrom;Z2K < j2K.length;Z2K++){J2K.weakNum+=j2K[Z2K].High - j2K[Z2K].Close;J2K.weakDen+=j2K[Z2K].Close - j2K[Z2K].Low;if(Z2K > ("0" & 2147483647)){J2K.strongNum+=j2K[Z2K].High - j2K[Z2K - +"1"].Close;R7mT.z1n(6);var N4R=R7mT.E1n(10682221440,12462591680);J2K.strongDen+=j2K[Z2K - ("1" >> N4R)].Close - j2K[Z2K].Low;}if(Z2K >= g2K.days){J2K.weakNum-=j2K[Z2K - g2K.days].High - j2K[Z2K - g2K.days].Close;J2K.weakDen-=j2K[Z2K - g2K.days].Close - j2K[Z2K - g2K.days].Low;R7mT.z1n(48);var V4R=R7mT.E1n(13,88,17,1383);j2K[Z2K]["Weak Ratio " + g2K.name]=V4R * J2K.weakNum / J2K.weakDen;if(Z2K > g2K.days){R7mT.z1n(6);var k4R=R7mT.L1n(16,17);J2K.strongNum-=j2K[Z2K - g2K.days].High - j2K[Z2K - g2K.days - k4R].Close;J2K.strongDen-=j2K[Z2K - g2K.days - +"1"].Close - j2K[Z2K - g2K.days].Low;R7mT.d1n(175);var h4R=R7mT.E1n(8,12,83,11,10864);j2K[Z2K]["Strong Ratio " + g2K.name]=h4R * J2K.strongNum / J2K.strongDen;}}j2K[Z2K]["_accums " + g2K.name]=e2K.clone(J2K);}};e2K.Studies.studyLibrary=e2K.extend(e2K.Studies.studyLibrary,{Shinohara:{name:A5R,calculateFN:e2K.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":U5R}}});}};h5T=b2K=>{var H2K,N5R,n5R,f5R,P5R,X5R,J5R;H2K=typeof _CIQ !== "undefined"?_CIQ:b2K.CIQ;if(!H2K.Studies){console.error("stochastics feature requires first activating studies feature.");}else {N5R="f";N5R+="i";N5R+="el";N5R+="d";n5R="Stoc";n5R+="h";n5R+="astics";f5R="aut";f5R+="o";P5R="aut";P5R+="o";X5R="#F";X5R+="F000";X5R+="0";J5R="Stoch";J5R+="astic Moment";J5R+="um ";J5R+="Index";H2K.Studies.calculateStochastics=function(G2K,P2K){var B5R,x5R,i5R,W5R,d2K,v2K,k2K,T2K,S2K,V2K;B5R="%";B5R+="D";B5R+=" ";x5R="F";x5R+="a";x5R+="s";x5R+="t";i5R="%K Smoothing ";i5R+="Periods";W5R="C";W5R+="l";W5R+="os";W5R+="e";if(!P2K.smooth){P2K.smooth=P2K.inputs.Smooth;}function c2K(K13,q2K,R13){var B13,L2K,n2K,s5R,C5R,v5R,I13,A13,t13;Y6AA.z1n(176);B13=Y6AA.L1n(K13,R13,"1");Y6AA.z1n(177);var l4R=Y6AA.E1n(2,10,11,1);L2K=Number.MAX_VALUE * l4R;n2K=Number.MAX_VALUE;for(var O2K=B13;O2K <= K13;O2K++){s5R="H";s5R+="i";s5R+="g";s5R+="h";C5R="C";C5R+="lo";C5R+="se";v5R="C";v5R+="lo";v5R+="s";v5R+="e";I13=k2K[O2K][q2K == v5R?"Low":q2K];A13=k2K[O2K][q2K == C5R?s5R:q2K];if(!I13 && I13 !== 0)continue;if(!A13 && A13 !== 0)continue;n2K=Math.min(n2K,I13);L2K=Math.max(L2K,A13);}if(L2K == Number.MAX_VALUE * - +"1" || n2K == Number.MAX_VALUE){return null;}t13=L2K == n2K?0:(k2K[K13][q2K] - n2K) / (L2K - n2K) * 100;return t13;}d2K=P2K.inputs.Field;if(!d2K || d2K == "field"){d2K=W5R;}v2K=P2K.inputs["%K Periods"];if(!v2K){v2K=P2K.days;}k2K=P2K.chart.scrubbed;if(k2K.length < Math.max(v2K,P2K.days) + 1){P2K.error=! !{};return;}T2K=P2K.inputs[i5R];if(T2K){P2K.smooth=!"";}else if(P2K.smooth){T2K=3;}Y6AA.V8TT();S2K=P2K.inputs["%D Periods"];if(!S2K){S2K=3;}P2K.outputMap={};P2K.outputMap["%K " + P2K.name]=x5R;P2K.outputMap[B5R + P2K.name]="Slow";for(var E2K=Math.max(v2K,P2K.startFrom);E2K < k2K.length;E2K++){V2K=c2K(E2K,d2K,v2K);if(V2K !== null){k2K[E2K][P2K.name]=c2K(E2K,d2K,v2K);}}H2K.Studies.MA("simple",P2K.smooth?T2K:1,P2K.name,"0" << 1528959264,"%K",G2K,P2K);H2K.Studies.MA("simple",S2K,"%K " + P2K.name,"0" ^ 0,"%D",G2K,P2K);};H2K.Studies.calculateStochMomentum=function(j13,X13){var F7mT=Y6AA;var R5R,G5R,e5R,H5R,u13,v13,d13,S13,o13,Z13,u5R,F13,i13;R5R="%";R5R+="K";G5R="_";G5R+="DHL1";e5R="exponen";e5R+="tial";H5R="%K Peri";H5R+="ods";u13=Number(X13.inputs[H5R]);v13=Number(X13.inputs["%K Smoothing Periods"]);d13=Number(X13.inputs["%K Double Smoothing Periods"]);F7mT.C8TT();S13=Number(X13.inputs["%D Periods"]);o13=X13.chart.scrubbed;if(o13.length < u13 + v13 + d13 - 1 || o13.length < S13){X13.error=!"";return;}function c13(r43,I43){var a43,D43;a43=null;D43=null;for(var V13=I43 - r43 + 1;V13 <= I43;V13++){a43=a43 === null?o13[V13].Low:Math.min(a43,o13[V13].Low);D43=D43 === null?o13[V13].High:Math.max(D43,o13[V13].High);}return [a43,D43];}for(Z13=Math.max(u13,X13.startFrom) - ("1" - 0);Z13 < o13.length;Z13++){u5R="_D";u5R+="H";u5R+="L ";F13=o13[Z13];i13=c13(u13,Z13);F7mT.z1n(178);var q4R=F7mT.L1n(4,6,3,3);F7mT.d1n(29);var t4R=F7mT.L1n(21,21,1);F13["_H " + X13.name]=F13.Close - (i13["0" ^ 0] + i13[q4R]) / t4R;F13[u5R + X13.name]=i13[+"1"] - i13[0];}H2K.Studies.MA(e5R,v13,"_H " + X13.name,0,"_HS1",j13,X13);H2K.Studies.MA("exponential",d13,"_HS1 " + X13.name,0,"_HS2",j13,X13);H2K.Studies.MA("exponential",v13,"_DHL " + X13.name,0,G5R,j13,X13);H2K.Studies.MA("exponential",d13,"_DHL1 " + X13.name,0,"_DHL2",j13,X13);for(Z13=u13 - 1;Z13 < o13.length;Z13++){F7mT.z1n(4);var D4R=F7mT.E1n(86,14);o13[Z13]["%K " + X13.name]=o13[Z13]["_HS2 " + X13.name] / (0.5 * o13[Z13]["_DHL2 " + X13.name]) * D4R;}H2K.Studies.MA(X13.inputs["%D Moving Average Type"],S13,"%K " + X13.name,"0" * 1,"%D",j13,X13);X13.zoneOutput=R5R;};H2K.Studies.studyLibrary=H2K.extend(H2K.Studies.studyLibrary,{"Stch Mtm":{name:J5R,calculateFN:H2K.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":X5R},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:P5R,studyOverSoldValue:-("40" | 32),studyOverSoldColor:f5R}}},stochastics:{name:n5R,range:"0 to 100",calculateFN:H2K.Studies.calculateStochastics,inputs:{Period:14,Field:N5R,Smooth:! ![]},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"80" | 16,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};I5T=A43=>{var s43,D5R;s43=typeof _CIQ !== "undefined"?_CIQ:A43.CIQ;if(!s43.Studies){console.error("supertrend feature requires first activating studies feature.");}else {D5R="#8cc";D5R+="17";D5R+="6";s43.Studies.calculateSupertrend=function(R43,z43){var e7mT=Y6AA;var B43,t5R,l43,U43,y43,t43,M43,h5R,k5R,V5R,q5R,l5R;B43=z43.chart.scrubbed;if(B43.length < z43.days + 1){z43.error=! !{};return;}s43.Studies.calculateStudyATR(R43,z43);for(var W43=z43.startFrom;W43 < B43.length;W43++){t5R="_Up";t5R+="tren";t5R+="d";t5R+=" ";l43=B43[W43];if(!l43)continue;e7mT.z1n(132);var K4R=e7mT.L1n(19,59,40,1);U43=(l43.High + l43.Low) / K4R;y43=z43.inputs.Multiplier * l43["ATR " + z43.name];e7mT.z1n(6);t43=e7mT.E1n(y43,U43);e7mT.z1n(4);M43=e7mT.E1n(y43,U43);if(W43){h5R="_";h5R+="Do";h5R+="wntrend ";k5R="_";k5R+="Upt";k5R+="r";k5R+="end ";V5R="_U";V5R+="p";V5R+="trend ";if(B43[W43 - 1] && B43[W43 - 1].Close && B43[W43 - 1].Close > B43[W43 - 1][V5R + z43.name] && B43[W43 - 1]["_Uptrend " + z43.name] > t43){e7mT.z1n(6);t43=B43[e7mT.E1n(1,W43)][k5R + z43.name];}if(B43[W43 - 1] && B43[W43 - 1].Close && B43[W43 - 1].Close < B43[W43 - ("1" >> 1911440064)]["_Downtrend " + z43.name] && B43[W43 - 1][h5R + z43.name] < M43){e7mT.z1n(20);M43=B43[e7mT.E1n("1",W43)]["_Downtrend " + z43.name];}}l43["_Direction " + z43.name]=1;if(W43){q5R="_Di";q5R+="rection";q5R+=" ";l5R="_D";l5R+="ow";l5R+="ntrend ";e7mT.z1n(6);l43["_Direction " + z43.name]=B43[e7mT.L1n(1,W43)]["_Direction " + z43.name];if(l43.Close > B43[W43 - ("1" << 457726208)][l5R + z43.name]){l43[q5R + z43.name]=1;}else if(l43.Close < B43[W43 - +"1"]["_Uptrend " + z43.name]){l43["_Direction " + z43.name]=- +"1";}}l43[t5R + z43.name]=t43;l43["_Downtrend " + z43.name]=M43;l43["Trend " + z43.name]=l43["_Direction " + z43.name] > 0?t43:M43;if(!W43)continue;}z43.outputMap={};z43.outputMap["Trend " + z43.name]="";};s43.Studies.displaySupertrend=function(e43,X43,Z43){var n7mT=Y6AA;var g43,p43,u43,T43,P43,f43,H43,Q43,k43,d43;function E43(c43,G43,n43){if(G43 && G43["_Direction " + X43.name] < +"0"){return X43.outputs.Downtrend;}return X43.outputs.Uptrend;}g43=e43.panels[X43.panel];p43=X43.getContext(e43);u43=X43.getYAxis(e43);T43={skipTransform:g43.name != X43.chart.name,skipProjections:! ![],label:e43.preferences.labels,yAxis:u43,highlight:X43.highlight};p43.strokeStyle=E43(e43,Z43[Z43.length - ("1" ^ 0)]);p43.lineWidth=+"2";if(X43.highlight){p43.lineWidth=+"1.5";}P43="Trend " + X43.name;for(var i43=0;g43.chart.transformFunc && u43 != g43.chart.yAxis && i43 < Z43.length;i43++){f43=Z43[i43];if(f43 && f43.transform){f43.transform[P43]=g43.chart.transformFunc(e43,g43.chart,f43[P43]);}}e43.plotDataSegmentAsLine(P43,g43,T43,E43);p43.lineWidth=1;p43.globalAlpha=+"1";e43.startClip(X43.panel);if(!X43.highlight && e43.highlightedDraggable){p43.globalAlpha*=0.3;}n7mT.z1n(19);var a1Y=n7mT.E1n(1,2,1);n7mT.z1n(6);var r1Y=n7mT.E1n(37530,41283);n7mT.d1n(162);var z1Y=n7mT.E1n(57202,4,17,9,1536);n7mT.d1n(142);var E1Y=n7mT.L1n(5,83765,15,5,6275135);n7mT.z1n(127);var o1Y=n7mT.E1n(8,12,1,21,2);n7mT.d1n(4);var Z1Y=n7mT.L1n(16,1974);n7mT.z1n(66);var j1Y=n7mT.L1n(10,620968,104472,6);n7mT.z1n(48);var p1Y=n7mT.E1n(7,79610,11,867742);n7mT.d1n(112);var T1Y=n7mT.E1n(8,11,30,336);H43=p43.measureText(("8149" * a1Y,r1Y) > (z1Y,E1Y)?"1580" * o1Y > (13.9,"5471" - 0)?(Z1Y,880.48):(j1Y,p1Y):"\u25B2").width / T1Y;for(Q43=0;Q43 < Z43.length;Q43++){if(!Z43[Q43] || !Z43[Q43 - 1])continue;if(Z43[Q43 - 1]["_Direction " + X43.name] > Z43[Q43]["_Direction " + X43.name]){p43.fillStyle=X43.outputs.Downtrend;p43.textBaseline="bottom";k43=e43.pixelFromPrice(Z43[Q43].High,g43,u43);for(var N43=5;N43 <= +"45";N43+=10){if(u43.flipped){p43.fillText("\u25B2",e43.pixelFromBar(Q43) - H43,k43 + N43);}else {p43.fillText(4200 <= (348,8433)?"\u25BC":(+"5712",4120) !== 575.79?220.67:(374.77,!{}),e43.pixelFromBar(Q43) - H43,k43 - N43);}}}else if(Z43[Q43 - 1]["_Direction " + X43.name] < Z43[Q43]["_Direction " + X43.name]){p43.fillStyle=X43.outputs.Uptrend;p43.textBaseline="top";d43=e43.pixelFromPrice(Z43[Q43].Low,g43,u43);for(var b43=5;b43 <= 45;b43+=10){if(u43.flipped){p43.fillText(1390 <= 4026?("114" - 0,4300) === 57.93?(9.49e+3,7.62e+3):(206.5,5413) === 880.97?0x1ae7:"\u25BC":(4.44e+3,0x1651),e43.pixelFromBar(Q43) - H43,d43 - b43);}else {p43.fillText("\u25B2",e43.pixelFromBar(Q43) - H43,d43 + b43);}}}}e43.endClip();};s43.Studies.studyLibrary=s43.extend(s43.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !"1",seriesFN:s43.Studies.displaySupertrend,calculateFN:s43.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:D5R,Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};r5T=a53=>{var O6n,I6n,m6n,q43,a2R;O6n=-2144527234;I6n=-1180897533;m6n=2;for(var Q6n=1;Y6AA.c5n(Q6n.toString(),Q6n.toString().length,97242) !== O6n;Q6n++){q43=-_CIQ != ""?_CIQ:a53.CIQ;m6n+=2;}if(Y6AA.c5n(m6n.toString(),m6n.toString().length,35726) !== I6n){q43=typeof _CIQ !== "undefined"?_CIQ:a53.CIQ;}if(!q43.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {a2R="Accumulative";a2R+=" S";a2R+="wing ";a2R+="Index";q43.Studies.calculateSwingIndex=function(M53,I53){var K7mT=Y6AA;var r53,D53,s53,K5R,z53,K53,t53,x53,B53,W53,A53,l53;r53=I53.inputs["Limit Move Value"];if(r53 === null || isNaN(r53)){r53=+"99999";}D53=I53.chart.scrubbed;s53=0;if(I53.startFrom > 1){s53=D53[I53.startFrom - ("1" - 0)]["Result " + I53.name];}K7mT.V8TT();for(var h53=Math.max(+"1",I53.startFrom);h53 < D53.length;h53++){K5R="S";K5R+="wing";z53=Math.abs(D53[h53].High - D53[h53 - ("1" & 2147483647)].Close);K53=Math.abs(D53[h53].Low - D53[h53 - 1].Close);t53=Math.abs(D53[h53].High - D53[h53].Low);x53=Math.abs(D53[h53 - 1].Close - D53[h53 - 1].Open);B53=Math.max(z53,K53);W53=Math.max(t53,B53);K7mT.z1n(26);A53=K7mT.E1n(x53,W53,0.25);if(W53 == z53){K7mT.z1n(1);A53-=K7mT.E1n(K53,0.5);}else if(W53 == K53){K7mT.d1n(179);A53-=K7mT.E1n(0,z53,"0.5");}K7mT.d1n(91);var Y1Y=K7mT.E1n(1,16,33);K7mT.z1n(180);var L1Y=K7mT.L1n(10,41,6,10);l53=Y1Y * (D53[h53].Close - D53[h53 - +"1"].Close + 0.5 * (D53[h53].Close - D53[h53].Open) + 0.25 * (D53[h53 - +"1"].Close - D53[h53 - L1Y].Open)) / A53 * (B53 / r53);if(A53 === 0 || r53 === 0){l53=0;}if(I53.type == K5R){s53=0;}s53+=l53;D53[h53]["Result " + I53.name]=s53;}};q43.Studies.studyLibrary=q43.extend(q43.Studies.studyLibrary,{"Acc Swing":{name:a2R,calculateFN:q43.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"0.5" - 0}},Swing:{name:"Swing Index",calculateFN:q43.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};s5T=y53=>{var U53,y6n,F6n,c6n,r2R,L2R,Y2R,T2R,p2R;U53=typeof _CIQ !== "undefined"?_CIQ:y53.CIQ;Y6AA.V8TT();if(!U53.Studies){y6n=353348421;F6n=-167377812;c6n=2;for(var M6n="1" - 0;Y6AA.g5n(M6n.toString(),M6n.toString().length,22785) !== y6n;M6n++){r2R="trendIntensity feature requires first act";r2R+="ivating studies feature.";console.error(r2R);c6n+=2;}if(Y6AA.g5n(c6n.toString(),c6n.toString().length,83882) !== F6n){console.error("");}}else {L2R="a";L2R+="u";L2R+="to";Y2R="au";Y2R+="t";Y2R+="o";T2R="fi";T2R+="e";T2R+="ld";p2R="Tr";p2R+="end Intensity Index";U53.Studies.calculateTrendIntensity=function(Q53,C53){var j2R,Z2R,o2R,z2R,X53,Y53,o53,e53,m53,R53,w53,p53,E2R;j2R="Sign";j2R+="al";Z2R="Sign";Z2R+="al Peri";Z2R+="od";o2R="e";o2R+="m";o2R+="a";z2R="m";z2R+="a";X53=C53.chart.scrubbed;if(X53.length < C53.days + 1){C53.error=! !{};return;}Y53=C53.inputs.Field;if(!Y53 || Y53 == "field"){Y53="Close";}U53.Studies.MA(z2R,C53.days,Y53,+"0","_SMA",Q53,C53);o53=0;e53=0;w53=[];p53=Math.ceil(C53.days / 2);for(m53=Math.max("0" >> 9327744,C53.startFrom - p53);m53 < X53.length;m53++){E2R="_SM";E2R+="A ";if(!X53[m53][E2R + C53.name] && X53[m53]["_SMA " + C53.name] !== "0" >> 1341771648)continue;R53=X53[m53][Y53] - X53[m53]["_SMA " + C53.name];if(R53 < 0){Y6AA.d1n(181);e53+=Y6AA.E1n(R53,1);}else {o53+=R53;}w53.push(R53);if(w53.length > p53){R53=w53.shift();if(R53 < 0){Y6AA.d1n(181);e53-=Y6AA.L1n(R53,1);}else {o53-=R53;}}if(m53 < C53.startFrom)continue;X53[m53]["TII " + C53.name]=Z53(o53,e53);}function Z53(g53,j53){if(Math.abs(j53) < 0.00000001){return 100;}Y6AA.d1n(149);return Y6AA.L1n(100,100,j53,g53,1);}U53.Studies.MA(o2R,C53.inputs[Z2R],"TII " + C53.name,+"0",j2R,Q53,C53);};U53.Studies.studyLibrary=U53.extend(U53.Studies.studyLibrary,{"Trend Int":{name:p2R,calculateFN:U53.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:T2R,"Signal Period":+"9"},outputs:{TII:Y2R,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:L2R,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};A5T=J53=>{var u53,c2R;u53=typeof _CIQ !== "undefined"?_CIQ:J53.CIQ;Y6AA.V8TT();if(!u53.Studies){console.error("trix feature requires first activating studies feature.");}else {c2R="T";c2R+="R";c2R+="IX";u53.Studies.calculateTRIX=function(E53,f53){var U7mT=Y6AA;var d2R,S2R,H53,b53,i53,y2R,k53,F2R,d53,v53;d2R="_";d2R+="MA2 ";S2R="_M";S2R+="A";S2R+="1 ";H53=f53.chart.scrubbed;if(H53.length < f53.days + 1){f53.error=! !"1";return;}b53=f53.name;U7mT.z1n(4);i53=["Close",U7mT.L1n(b53,S2R),U7mT.E1n(b53,d2R),U7mT.E1n(b53,"_MA3 ")];for(var P53=0;P53 < i53.length - 1;P53++){y2R="exp";y2R+="onential";u53.Studies.MA(y2R,f53.days,i53[P53],0,"_MA" + (P53 + 1).toString(),E53,f53);}k53=i53[+"3"];for(var N53=Math.max(1,f53.startFrom);N53 < H53.length;N53++){F2R="Resul";F2R+="t ";U7mT.d1n(6);d53=H53[U7mT.L1n(1,N53)][k53];if(!d53)continue;v53=H53[N53][k53];if(v53 || v53 === 0){U7mT.d1n(4);H53[N53][U7mT.L1n(b53,F2R)]=U7mT.E1n(v53,d53,100,1,U7mT.d1n(152));}}};u53.Studies.studyLibrary=u53.extend(u53.Studies.studyLibrary,{TRIX:{name:c2R,calculateFN:u53.Studies.calculateTRIX}});}};z5T=T53=>{Y6AA.C8TT();var g2R,F53;g2R="undefi";g2R+="ned";F53=typeof _CIQ !== g2R?_CIQ:T53.CIQ;if(!F53.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {F53.Studies.calculateTwiggsMoneyFlow=function(a63,S53){var T7mT=Y6AA;var c53,n53,V53,L53,q53,O53;c53=S53.chart.scrubbed;if(c53.length < S53.days){S53.error=! !1;return;}T7mT.z1n(0);n53=T7mT.E1n(2147483647,"0");V53=0;T7mT.d1n(9);var S1Y=T7mT.E1n(24,16,9);L53=c53[S53.startFrom - S1Y];if(L53){if(L53["_sumMF " + S53.name]){n53=L53["_sumMF " + S53.name];}if(L53["_sumV " + S53.name]){V53=L53["_sumV " + S53.name];}}T7mT.C8TT();for(var G53=Math.max(1,S53.startFrom);G53 < c53.length;G53++){q53=Math.max(c53[G53 - 1].Close,c53[G53].High);O53=Math.min(c53[G53 - ("1" >> 1549514880)].Close,c53[G53].Low);T7mT.z1n(9);var d1Y=T7mT.E1n(4,0,6);c53[G53]["_MFV " + S53.name]=c53[G53].Volume * (d1Y * c53[G53].Close - q53 - O53) / (q53 - O53 === 0?+"999999":q53 - O53);if(G53 > S53.days - 1){T7mT.d1n(23);var y1Y=T7mT.L1n(1,13,2,13);n53*=(S53.days - y1Y) / S53.days;T7mT.z1n(137);var F1Y=T7mT.E1n(20,17,3,3,9);V53*=(S53.days - F1Y) / S53.days;}n53+=c53[G53]["_MFV " + S53.name];V53+=c53[G53].Volume;if(G53 > S53.days - 1){if(V53){T7mT.z1n(12);c53[G53]["Result " + S53.name]=T7mT.E1n(V53 > +"0"?V53:999999,n53);}}c53[G53]["_sumMF " + S53.name]=n53;c53[G53]["_sumV " + S53.name]=V53;}};F53.Studies.studyLibrary=F53.extend(F53.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:F53.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};K5T=h63=>{var D63;D63=typeof _CIQ !== "undefined"?_CIQ:h63.CIQ;if(!D63.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!D63.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {D63.Studies.studyLibrary=D63.extend(D63.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:D63.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:D63.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};W5T=r63=>{var I63,R5n,J5n,X5n,m2R;I63=typeof _CIQ !== "undefined"?_CIQ:r63.CIQ;if(!I63.Studies){Y6AA.d1n(0);R5n=Y6AA.E1n(2147483647,"894297695");J5n=-980855690;X5n=+"2";for(var f5n=1;Y6AA.g5n(f5n.toString(),f5n.toString().length,85748) !== R5n;f5n++){console.error("");X5n+=2;}if(Y6AA.c5n(X5n.toString(),X5n.toString().length,77233) !== J5n){console.error("ulcerIndex feature requires first activating studies feature.");}}else {m2R="fiel";m2R+="d";I63.Studies.calculateUlcerIndex=function(B63,s63){var I2R,O2R,M2R,z63,K63,A63,W63;I2R="_";I2R+="M";I2R+="A";O2R="_PD2";O2R+=" ";M2R="si";M2R+="mp";M2R+="l";M2R+="e";z63=s63.chart.scrubbed;if(z63.length < 2 * s63.days - 1){s63.error=! !"1";return;}K63=s63.inputs.Field;if(!K63 || K63 == "field"){K63="Close";}function l63(y63,M63,U63){var x63;x63=null;for(var t63=M63 - y63 + 1;t63 <= M63;t63++){if(t63 < "0" - 0)continue;x63=x63 === null?z63[t63][U63]:Math.max(x63,z63[t63][U63]);}Y6AA.C8TT();return x63;}for(A63=Math.max(s63.startFrom,s63.days - "1" * 1);A63 < z63.length;A63++){z63[A63]["_PD2 " + s63.name]=Math.pow(100 * (z63[A63][K63] / l63(s63.days,A63,K63) - 1),2);}I63.Studies.MA(M2R,s63.days,O2R + s63.name,0,I2R,B63,s63);for(A63=Math.max(s63.startFrom,2 * (s63.days - 1));A63 < z63.length;A63++){W63=z63[A63]["_MA " + s63.name];if(W63 || W63 === 0){z63[A63]["Result " + s63.name]=Math.sqrt(W63);}}};I63.Studies.studyLibrary=I63.extend(I63.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:I63.Studies.calculateUlcerIndex,inputs:{Period:14,Field:m2R}}});}};B5T=m63=>{var b2R,C63,Q2R,v2R,i2R;b2R="u";b2R+="ndef";b2R+="ined";C63=typeof _CIQ !== b2R?_CIQ:m63.CIQ;if(!C63.Studies){Q2R="ultimateO";Q2R+="scillator feature requires first activating stu";Q2R+="dies feature.";console.error(Q2R);}else {v2R="au";v2R+="to";i2R="Ultim";i2R+="ate Oscillat";i2R+="or";C63.Studies.calculateUltimateOscillator=function(v63,X63){var X7mT=Y6AA;var R63,o63,Q63,Z63,j63,g63,w63,p63,U2R,A2R,w2R,W2R,u63,f63,H63,J63,N63,b63,P63,i63;R63=X63.chart.scrubbed;o63=[X63.inputs["Cycle 1"],X63.inputs["Cycle 2"],X63.inputs["Cycle 3"]];Q63=Math.max(o63[0],o63[1],o63["2" * 1]);if(R63.length < Q63 + ("1" << 50630144)){X63.error=!0;return;}X7mT.d1n(134);var c1Y=X7mT.E1n(8,19,398,11,18);Z63=o63[0] * o63[c1Y];X7mT.z1n(9);var g1Y=X7mT.L1n(6,0,8);j63=o63["0" | 0] * o63[g1Y];X7mT.z1n(5);var M1Y=X7mT.E1n(0,5,6);X7mT.d1n(24);var O1Y=X7mT.E1n(21,6,13);g63=o63[M1Y] * o63[O1Y];w63=[0,0,+"0"];X7mT.z1n(101);p63=[0,X7mT.E1n("0",975353056),0];if(X63.startFrom){U2R="_";U2R+="ac";U2R+="ctr ";A2R="_a";A2R+="c";A2R+="c";A2R+="bp ";w2R="_a";w2R+="ccbp";w2R+=" ";if(R63[X63.startFrom - 1][w2R + X63.name]){w63=R63[X63.startFrom - 1][A2R + X63.name].slice();}if(R63[X63.startFrom - 1]["_acctr " + X63.name]){p63=R63[X63.startFrom - 1][U2R + X63.name].slice();}}for(var Y63=Math.max(1,X63.startFrom);Y63 < R63.length;Y63++){W2R="Re";W2R+="su";W2R+="lt";W2R+=" ";u63=Math.min(R63[Y63].Low,R63[Y63 - 1].Close);f63=R63[Y63].Close - u63;X7mT.d1n(28);var I1Y=X7mT.E1n(12,1,11);H63=Math.max(R63[Y63].High,R63[Y63 - I1Y].Close) - u63;for(var e63=0;e63 < o63.length;e63++){w63[e63]+=f63;p63[e63]+=H63;if(Y63 > o63[e63]){J63=Math.min(R63[Y63 - o63[e63]].Low,R63[Y63 - o63[e63] - 1].Close);N63=R63[Y63 - o63[e63]].Close - J63;X7mT.d1n(6);var m1Y=X7mT.L1n(16,17);b63=Math.max(R63[Y63 - o63[e63]].High,R63[Y63 - o63[e63] - m1Y].Close) - J63;w63[e63]-=N63;p63[e63]-=b63;}}R63[Y63]["_accbp " + X63.name]=w63.slice();R63[Y63]["_acctr " + X63.name]=p63.slice();if(Y63 < Q63)continue;X7mT.d1n(6);var b1Y=X7mT.E1n(6,7);X7mT.d1n(16);var Q1Y=X7mT.E1n(3,5);X7mT.d1n(146);var w1Y=X7mT.E1n(6,7,22,11,11);P63=g63 * w63[0] / p63[0] + j63 * w63[+"1"] / p63[b1Y] + Z63 * w63[Q1Y] / p63[w1Y];X7mT.d1n(91);i63=X7mT.L1n(Z63,j63,g63);X7mT.d1n(78);R63[Y63][W2R + X63.name]=X7mT.E1n(i63,100,P63);}};C63.Studies.studyLibrary=C63.extend(C63.Studies.studyLibrary,{Ultimate:{name:i2R,calculateFN:C63.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:v2R,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};l5T=d63=>{var k63,C2R,R2R;k63=typeof _CIQ !== "undefined"?_CIQ:d63.CIQ;Y6AA.C8TT();if(!k63.Studies){C2R="valuationLine";C2R+="s feature requires first activating studies feature.";console.error(C2R);}else {R2R="m";R2R+="e";R2R+="a";R2R+="n";k63.Studies.calculateValuationLines=function(V63,E63,L63){var x7mT=Y6AA;x7mT.V8TT();var s2R,h83,s83,I83,q63,O63,a83,D83,F63,T63,S63,c63,n63,r83;s2R="Aver";s2R+="age Type";h83=E63.inputs.Field == "field"?"Close":E63.inputs.Field;s83=E63.inputs[s2R];I83=E63.inputs["Display Average"];q63=E63.inputs["Display 1 Standard Deviation (1\u03C3)"];O63=E63.inputs["Display 2 Standard Deviation (2\u03C3)"];a83=E63.inputs["Display 3 Standard Deviation (3\u03C3)"];D83=[];for(var G63="0" * 1;G63 < L63.length;++G63){if(L63[G63] && !isNaN(L63[G63][h83])){D83.push(L63[G63][h83]);}}F63=(function(B83,x83){var x2R,A83,K83,W83,z83,l83,t83;x2R="m";x2R+="edi";x2R+="a";x2R+="n";A83=B83.length;K83=0;W83=0;z83=0;switch(x83){case "mean":W83=A83;for(;z83 < A83;++z83){K83+=B83[z83];}break;case "harmonic":K83=A83;for(;z83 < A83;++z83){x7mT.d1n(95);var A1Y=x7mT.E1n(2,10,3,16);W83+=A1Y / B83[z83];}break;case x2R:x7mT.d1n(12);l83=Math.floor(x7mT.E1n(2,A83));t83=B83.slice().sort(function(M83,U83){if(M83 > U83){return +"1";}if(M83 < U83){return -1;}return 0;});if(A83 % 2 === 0){x7mT.z1n(182);var U1Y=x7mT.E1n(20,0,8,11);K83=t83[l83] + t83[l83 - U1Y];W83=2;}else {K83=t83[l83];W83=1;}break;}x7mT.d1n(12);return x7mT.E1n(W83,K83);})(D83,s83);T63=!(q63 || O63 || a83) || (function(R83,X83){var C83,m83;C83=R83.length;x7mT.d1n(34);m83=x7mT.E1n(0,"0");for(var y83=0;y83 < C83;++y83){m83+=Math.pow(R83[y83] - X83,+"2");}x7mT.z1n(12);return Math.sqrt(x7mT.E1n(C83,m83));})(D83,F63);E63.data={Average:I83?[F63]:null,"1 Standard Deviation (1\u03C3)":q63?[F63 + T63,F63 - T63]:null,"2 Standard Deviation (2\u03C3)":O63?[F63 + T63 * 2,F63 - T63 * +"2"]:null,"3 Standard Deviation (3\u03C3)":a83?[F63 + T63 * 3,F63 - T63 * 3]:null};S63=T63;if(!E63.parameters){E63.parameters={};}if(a83){x7mT.d1n(183);E63.parameters.range=[x7mT.L1n(1142111136,F63,"3",T63,S63),x7mT.E1n(F63,3,S63,T63,x7mT.z1n(184))];}else if(O63){x7mT.z1n(185);E63.parameters.range=[x7mT.L1n(T63,"2",S63,F63),x7mT.L1n(F63,2,S63,T63,x7mT.d1n(184))];}else if(q63){x7mT.d1n(24);E63.parameters.range=[x7mT.E1n(F63,T63,S63),x7mT.E1n(S63,T63,F63,x7mT.d1n(91))];}else if(I83){x7mT.z1n(6);E63.parameters.range=[x7mT.L1n(S63,F63),x7mT.L1n(S63,F63,x7mT.d1n(4))];}if(E63.panel){c63=V63.panels[E63.panel];n63=V63.getYAxisByName(c63,E63.name);if(n63){n63.decimalPlaces=c63.chart.yAxis.printDecimalPlaces;r83={yAxis:n63};V63.calculateYAxisRange(c63,n63,E63.parameters.range[+"0"],E63.parameters.range[1]);V63.createYAxis(c63,r83);V63.drawYAxis(c63,r83);}}};k63.Studies.displayValuationLines=function(o83,w83){var S7mT=Y6AA;var B2R,Y83,p83,Z83,u83,E83,F83,T83,j83,g83,J83,N83,b83,P83,i83,f83,H83,e83,v83,S83,k83,G2R,e2R,u2R,H2R,d83;B2R="stx_ya";B2R+="x";B2R+="is";Y83=o83.panels[w83.panel];p83=w83.getYAxis(o83);Z83=w83.getContext(o83);u83=w83.data;E83=w83.parameters.labels;F83=w83.inputs["Average Type"];T83={mean:"AVG",median:"MED",harmonic:"HAVG"};j83=o83.canvasStyle("ciq-valuation-average-line");g83=o83.canvasStyle("ciq-valuation-deviation-line");J83=3;S7mT.d1n(114);var W1Y=S7mT.L1n(0,10,8,4);N83=o83.getCanvasFontSize(B2R) + J83 * W1Y;for(var Q83 in u83){if(!u83[Q83])continue;S7mT.z1n(186);b83=S7mT.L1n(Q83,"Average");P83=k63.Studies.determineColor(w83.outputs[Q83]);i83=u83[Q83];for(f83=0;f83 < i83.length;++f83){G2R="\u03C3";G2R+=":";G2R+=" ";e2R="d";e2R+="as";e2R+="hed";u2R="so";u2R+="lid";H2R="so";H2R+="l";H2R+="i";H2R+="d";H83=i83[f83];e83=o83.pixelFromPrice(H83,Y83,p83);if(e83 <= Y83.top || e83 >= Y83.yAxis.bottom)continue;k83=b83?{pattern:j83.borderStyle != "none"?j83.borderStyle || H2R:u2R,lineWidth:parseFloat(j83.borderWidth) || "1" * 1,opacity:parseFloat(j83.opacity) || 1,yAxis:p83}:{pattern:g83.borderStyle != "none"?g83.borderStyle || "dashed":e2R,lineWidth:parseFloat(g83.borderWidth) || +"1",opacity:parseFloat(g83.opacity) || 1,yAxis:p83};o83.plotLine(Y83.left,Y83.right,e83,e83,P83,"line",Z83,Y83,k83);if(E83 === "yaxis"){o83.createYAxisLabel(Y83,o83.formatYAxisPrice(H83,Y83),e83,P83,null,Z83,p83);continue;}e83+=Math.floor(k83.lineWidth / 2);if(e83 + N83 >= Y83.yAxis.bottom)continue;v83=(b83?T83[F83] + ": ":Q83[0] + G2R) + o83.formatYAxisPrice(H83,Y83);S83=Z83.measureText(v83).width;d83=Y83.right - S83 - J83;if(p83 && p83.position == "left"){d83=Y83.left + J83;}S7mT.z1n(187);Z83.strokeText(v83,d83,S7mT.L1n(2,N83,0.5,e83));}}};k63.Studies.studyLibrary=k63.extend(k63.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(G83,c83,V83){k63.Studies.calculateValuationLines(G83,c83,V83);k63.Studies.displayValuationLines(G83,c83);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":[R2R,"median","harmonic"],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":! !"","Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};t5T=L83=>{var n83;n83=typeof _CIQ !== "undefined"?_CIQ:L83.CIQ;if(!n83.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {n83.Studies.calculateRelativeVolatility=function(z04,q83){var v7mT=Y6AA;var f2R,J2R,A04,I04,O83,D04,h04,P2R,a04,s04,X2R;f2R="R";f2R+="el";f2R+=" Vol";function K04(W04,B04){if(W04 + B04 === "0" * 1){return 100;}v7mT.z1n(145);return v7mT.L1n(W04,B04,W04,100);}J2R="Sm";J2R+="oothing ";J2R+="Period";q83.days=Number(q83.inputs[J2R]);A04=Number(q83.inputs["STD Period"]);I04=q83.chart.scrubbed;if(I04.length < q83.days + A04){q83.error=! ![];return;}O83=q83.inputs.Field;if(!O83 || O83 == "field"){O83="Close";}q83.std=new n83.Studies.StudyDescriptor(q83.name,"sdev",q83.panel);q83.std.chart=q83.chart;q83.std.days=A04;q83.std.startFrom=q83.startFrom;q83.std.inputs={Field:O83,"Standard Deviations":"1" * 1,Type:"ma"};q83.std.outputs={_STD:null};n83.Studies.calculateStandardDeviation(z04,q83.std);D04=0;h04=0;if(q83.startFrom > 1){D04=I04[q83.startFrom - 1]["_avgG " + q83.name] || 0;h04=I04[q83.startFrom - 1]["_avgL " + q83.name] || 0;}for(var r04=Math.max(q83.startFrom,q83.days);r04 < I04.length;r04++){P2R="Re";P2R+="l V";P2R+="ol";P2R+=" ";a04=I04[r04];v7mT.d1n(6);s04=I04[v7mT.E1n(1,r04)];if(!a04[O83] && a04[O83] !== 0)continue;if(!s04[O83] && s04[O83] !== 0)continue;if(!a04["_STD " + q83.name] && a04["_STD " + q83.name] !== 0)continue;if(a04[O83] > s04[O83]){X2R="_";X2R+="ST";X2R+="D";X2R+=" ";v7mT.d1n(188);var i1Y=v7mT.L1n(4,276499991,1,1382499959,1382499955);D04=(D04 * (q83.days - ("1" >> i1Y)) + a04[X2R + q83.name]) / q83.days;v7mT.z1n(16);var v1Y=v7mT.E1n(7,8);h04=h04 * (q83.days - v1Y) / q83.days;}else {v7mT.z1n(4);var C1Y=v7mT.L1n(836328853,167265771);h04=(h04 * (q83.days - ("1" << C1Y)) + a04["_STD " + q83.name]) / q83.days;v7mT.z1n(66);var s1Y=v7mT.E1n(13,5,16,2);D04=D04 * (q83.days - s1Y) / q83.days;}a04[P2R + q83.name]=K04(D04,h04);a04["_avgG " + q83.name]=D04;a04["_avgL " + q83.name]=h04;}q83.zoneOutput=f2R;};n83.Studies.calculateHistoricalVolatility=function(R04,l04){var E7mT=Y6AA;var n2R,t04,y04,C04,e04,U04,x04,X04,Y04,o04;n2R="Clo";n2R+="se";t04=l04.chart.scrubbed;function w04(p04){if(isNaN(p04)){p04=365;}if(R04.layout.interval == "day"){return p04;}else if(R04.layout.interval == "week"){return 52;}else if(R04.layout.interval == "month"){return 12;}return p04;}E7mT.C8TT();if(t04.length < l04.days + +"1"){l04.error=! !"1";return;}y04=l04.inputs.Field;if(!y04 || y04 == "field"){y04=n2R;}C04=l04.inputs["Standard Deviations"];if(C04 < 0){C04=1;}E7mT.d1n(85);var x1Y=E7mT.L1n(10,82,17,170,18);e04=x1Y * Math.sqrt(w04(l04.inputs["Days Per Year"])) * C04;U04=[];x04=0;if(l04.startFrom > 1){E7mT.d1n(4);var B1Y=E7mT.L1n(1,0);x04=t04[l04.startFrom - "1" * B1Y]["_state " + l04.name][0];U04=t04[l04.startFrom - +"1"]["_state " + l04.name][1].slice();}for(var M04=Math.max(1,l04.startFrom);M04 < t04.length;M04++){E7mT.z1n(6);X04=t04[E7mT.L1n(1,M04)][y04];if(X04){Y04=Math.log(t04[M04][y04] / X04);U04.push(Y04);x04+=Y04;if(M04 >= l04.days){o04=0;x04/=l04.days;for(var m04=0;m04 < U04.length;m04++){o04+=Math.pow(U04[m04] - x04,2);}x04*=l04.days;x04-=U04.shift();t04[M04]["Result " + l04.name]=Math.sqrt(o04 / l04.days) * e04;}}t04[M04]["_state " + l04.name]=[x04,U04.slice()];}};n83.Studies.studyLibrary=n83.extend(n83.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:n83.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:n83.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:+"50",parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};x5T=Z04=>{var Q04,O3n,I3n,m3n,l2R,t2R,q2R;Y6AA.V8TT();Q04=typeof _CIQ !== "undefined"?_CIQ:Z04.CIQ;if(!Q04.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {Q04.Studies.displayVolumeProfile=function(u04,H04,a14){var D7mT=Y6AA;var k2R,V2R,N2R,f04,b04,v04,E04,F04,n04,g04,k04,J04,D14,d04,i04,j04,L04,q04,G04,c04,N04,h14,O04,I14,V04;k2R="stx_vol";k2R+="ume_profile";V2R="B";V2R+="a";V2R+="rs Co";V2R+="lor";N2R="co";N2R+="l";N2R+="or";if(!u04 || !u04.chart.dataSet){return;}f04=u04.chart;b04=H04.parameters.numberOfBars;v04=H04.parameters.widthPercentage;E04=H04.parameters.displayBorder;F04=H04.parameters.displayVolume;if(!b04 || b04 < 0){b04=30;}b04=Math.ceil(b04);if(!v04 || v04 < 0){D7mT.z1n(6);v04=D7mT.L1n(0,"0.25");}if(E04 !== !1){E04=! !1;}if(F04 !== ! !1){F04=!1;}n04=(f04.highValue - f04.lowValue) / b04;if(n04 === 0){return;}g04=[];for(var T04=f04.lowValue;T04 < f04.highValue + 0.1;T04+=n04){g04.push([T04,0]);}if(g04.length < 2){u04.displayErrorAsWatermark("chart",u04.translateIf("Not enough data to render the Volume Profile"));return;}k04=0;for(var S04=+"0";S04 < a14.length;S04++){J04=a14[S04];if(!J04)continue;D14=J04.Volume;if(H04.panel == f04.name && J04.transform){J04=J04.transform;}d04=g04[0][0];i04=0;for(var P04=+"1";P04 < g04.length;P04++){i04=g04[P04][0];if(J04.Low >= d04 && J04.Low <= i04 || J04.Low < d04 && J04.High > i04 || J04.High >= d04 && J04.High <= i04){g04[P04][1]+=D14;if(g04[P04][1] > k04){D7mT.d1n(101);k04=g04[P04][D7mT.L1n("1",1723150048)];}}d04=i04;}}if(k04 === 0){u04.displayErrorAsWatermark("chart",u04.translateIf("Not enough data to render the Volume Profile"));return;}u04.setStyle("stx_volume_profile",N2R,Q04.Studies.determineColor(H04.outputs[V2R]));j04=H04.getContext(u04);L04="stx-float-date";u04.canvasFont(L04,j04);q04=u04.getCanvasFontSize(L04);G04=f04.panel;c04=G04.yAxis.bottom;N04=Math.round(f04.right) - +"0.5";h14=f04.width * v04;O04=u04.canvasStyle("stx_volume_profile").borderTopColor;D7mT.C8TT();function r14(y14,W14){var l14,B14,z14,A14,K14,t14,x14,h2R,M14,U14;if(!W14){N04-=2;}V04.canvasColor(y14);j04.beginPath();l14=g04[0][0];B14=N04;for(var s14=1;s14 < g04.length;s14++){if(g04[s14][1]){D7mT.z1n(156);var H1Y=D7mT.E1n(11,6,11,20,14);z14=Math.round(N04 - g04[s14][H1Y] * h14 / k04) - 0.5;A14=Math.round(V04.pixelFromTransformedValue(l14,G04)) + 0.5;K14=Math.round(V04.pixelFromTransformedValue(g04[s14]["0" ^ 0],G04)) + 0.5;if(!W14){A14-=0.5;K14+=0.5;z14+=0.5;}if(A14 > c04){A14=c04;}if(K14 < c04){j04.moveTo(N04,A14);j04.lineTo(N04,K14);j04.lineTo(z14,K14);j04.lineTo(z14,A14);if(W14){if(B14 > z14 || s14 == 1){j04.lineTo(B14,A14);};}else {j04.lineTo(N04,A14);if(F04){t14=Q04.condenseInt(g04[s14][+"1"]);D7mT.z1n(6);x14=D7mT.E1n(K14,A14);if(q04 <= x14 - 2){h2R="to";h2R+="p";try{M14=j04.measureText(t14).width;}catch(C14){M14=0;}j04.textBaseline=h2R;U14=j04.fillStyle;j04.fillStyle=O04;D7mT.z1n(189);j04.fillText(t14,D7mT.L1n(z14,"3",M14,0),D7mT.L1n(2,K14,"2",0,x14,q04,D7mT.d1n(190)));j04.fillStyle=U14;}}}}B14=z14;}else {B14=N04;;}l14=g04[s14][0];}if(!H04.highlight && u04.highlightedDraggable){j04.globalAlpha*=0.3;}D7mT.V8TT();if(!W14){j04.fill();}j04.strokeStyle=O04;if(W14){j04.stroke();}j04.closePath();}I14=!Q04.isTransparent(u04.canvasStyle(k2R).borderTopColor) && E04;V04=u04;r14("stx_volume_profile",! !0);if(I14){r14("stx_volume_profile",! ![]);}j04.globalAlpha=1;};O3n=-1762512981;I3n=688042526;m3n=2;for(var Q3n=1;Y6AA.c5n(Q3n.toString(),Q3n.toString().length,66904) !== O3n;Q3n++){l2R="Bars Colo";l2R+="r";Q04.Studies.studyLibrary=Q04.extend(Q04.Studies.studyLibrary,{"vol profile":{name:l2R,underlay:!1,seriesFN:Q04.Studies.displayVolumeProfile,calculateFN:1,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !"",parameters:{init:{displayBorder:! !"",displayVolume:!"",numberOfBars:68,widthPercentage:4270}},attributes:{yaxisDisplayValue:{hidden:![]},panelName:{hidden:! !0},flippedEnabled:{hidden:!1}}}});m3n+=2;}if(Y6AA.c5n(m3n.toString(),m3n.toString().length,23127) !== I3n){t2R="#b";t2R+="6";t2R+="4";t2R+="a96";q2R="Volume ";q2R+="Pro";q2R+="file";Q04.Studies.studyLibrary=Q04.extend(Q04.Studies.studyLibrary,{"vol profile":{name:q2R,underlay:! ![],seriesFN:Q04.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":t2R},customRemoval:!"",parameters:{init:{displayBorder:! !{},displayVolume:!{},numberOfBars:30,widthPercentage:"0.25" * 1}},attributes:{yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !1}}}});}}};M5T=R14=>{var l8TT=Y6AA;var s2n,x2n,B2n,m14,D2R,E3R,z3R,r3R,a3R;s2n=-78820472;x2n=1890441526;l8TT.z1n(101);B2n=l8TT.E1n("2",1045738656);for(var u2n=+"1";l8TT.c5n(u2n.toString(),u2n.toString().length,41007) !== s2n;u2n++){m14=typeof _CIQ !== "undefined"?_CIQ:R14.CIQ;B2n+=2;}l8TT.V8TT();if(l8TT.c5n(B2n.toString(),B2n.toString().length,63569) !== x2n){m14=~_CIQ != ""?_CIQ:R14.CIQ;}if(!m14.Studies){D2R="volumeStudie";D2R+="s feature requires first activating studies featur";D2R+="e.";console.error(D2R);}else {E3R="Volume U";E3R+="n";E3R+="derla";E3R+="y";z3R="On Balance ";z3R+="Vol";z3R+="ume";r3R="m";r3R+="a";a3R="Nega";a3R+="tive Vol";a3R+="ume Index";m14.Studies.calculateOnBalanceVolume=function(u14,o14){l8TT.V8TT();var X14,e14,g14,p14,Q14,w14,Z14,j14;X14=o14.inputs.Field;if(!X14 || X14 == "field"){X14="Close";}e14=o14.inputs["Min Tick Value"];g14=!{};if(!e14 && e14 !== 0){g14=!0;e14=0;}p14=o14.chart.scrubbed;l8TT.d1n(1);Q14=l8TT.L1n(1,"0");for(var Y14=o14.startFrom;Y14 < p14.length;Y14++){w14=p14[Y14];if(!Y14 || !w14[X14])continue;if(p14[Y14 - 1][X14]){l8TT.z1n(6);Z14=p14[l8TT.L1n(1,Y14)];}if(!Z14)continue;if(w14[X14] - Z14[X14] > e14){Q14=1;}else if(Z14[X14] - w14[X14] > e14){Q14=-1;}else if(g14){Q14=0;}j14=Z14["Result " + o14.name];if(!j14){j14=+"0";}j14+=w14.Volume * Q14;w14["Result " + o14.name]=j14;}};m14.Studies.calculatePriceVolumeTrend=function(P14,N14){var K2R,H14,J14,b14;K2R="fiel";K2R+="d";H14=N14.inputs.Field;if(!H14 || H14 == K2R){H14="Close";}J14=N14.chart.scrubbed;l8TT.d1n(47);b14=l8TT.E1n("0",0);if(N14.startFrom > +"1"){l8TT.d1n(16);var u1Y=l8TT.E1n(18,19);b14=J14[N14.startFrom - u1Y]["Result " + N14.name];}for(var f14=Math.max(1,N14.startFrom);f14 < J14.length;f14++){if(!J14[f14][H14])continue;if(!J14[f14 - 1][H14])continue;l8TT.d1n(31);var e1Y=l8TT.E1n(18,9,168,0,5);l8TT.z1n(136);var G1Y=l8TT.L1n(2,6,9,15,8);b14+=J14[f14].Volume * (J14[f14][H14] - J14[f14 - e1Y][H14]) / J14[f14 - G1Y][H14];J14[f14]["Result " + N14.name]=b14;}};m14.Studies.calculateVolumeIndex=function(c14,i14){var F14,v14,T14,d14,S14,E14,G14;F14=i14.inputs.Field;if(!F14 || F14 == "field"){F14="Close";}v14=i14.chart.scrubbed;l8TT.C8TT();if(v14.length < i14.days + 1){i14.error=! !{};return;}T14=100;if(i14.startFrom > 1){l8TT.z1n(191);var R1Y=l8TT.E1n(16,4,21,5);T14=v14[i14.startFrom - R1Y]["Index " + i14.name];}for(var k14=Math.max(1,i14.startFrom);k14 < v14.length;k14++){d14=v14[k14][F14];S14=v14[k14].Volume;if(d14 && typeof d14 == "object"){S14=d14.Volume;d14=d14[i14.subField];}l8TT.d1n(6);E14=v14[l8TT.E1n(1,k14)][F14];G14=v14[k14 - 1].Volume;if(E14 && typeof E14 == "object"){G14=E14.Volume;E14=E14[i14.subField];}if(!d14)continue;if(!E14)continue;if(i14.type == "Pos Vol" && S14 > G14 || i14.type == "Neg Vol" && S14 < G14){l8TT.d1n(12);T14*=l8TT.E1n(E14,d14);}v14[k14]["Index " + i14.name]=T14;}m14.Studies.MA(i14.inputs["Moving Average Type"],i14.days,"Index " + i14.name,0,"MA",c14,i14);};m14.Studies.studyLibrary=m14.extend(m14.Studies.studyLibrary,{"Neg Vol":{name:a3R,calculateFN:m14.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":r3R},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:z3R,calculateFN:m14.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:m14.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:m14.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:m14.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(V14,n14){if(m14.Studies.calculateRateOfChange){m14.Studies.calculateRateOfChange(V14,n14);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");m14.Studies.calculateRateOfChange=function(L14,q14){};}},parameters:{init:{isVolume:!""}}},"vol undr":{name:E3R,underlay:! ![],range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:m14.Studies.createVolumeChart,calculateFN:m14.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !{},removeFN:function(O14,a24){O14.layout.volumeUnderlay=!1;l8TT.C8TT();O14.changeOccurred("layout");},attributes:{panelName:{hidden:! ![]}}}});}};U5T=h24=>{var D24,T3R;Y6AA.C8TT();D24=typeof _CIQ !== "undefined"?_CIQ:h24.CIQ;if(!D24.Studies){console.error("vortex feature requires first activating studies feature.");}else {T3R="a";T3R+="uto";D24.Studies.calculateVortex=function(x24,I24){var z7mT=Y6AA;z7mT.C8TT();var z24,K24,r24,o3R,p3R,j3R,Z3R,s24,W24,B24,l24,t24;z24=I24.chart.scrubbed;K24=I24.days;if(z24.length < K24 + 1){I24.error=!0;return;}r24={tr:0,vmPlus:0,vmMinus:0};if(I24.startFrom > 1){o3R="_tot";o3R+="a";o3R+="ls ";r24=D24.clone(z24[I24.startFrom - 1][o3R + I24.name]);}for(var A24=Math.max(I24.startFrom,"1" & 2147483647);A24 < z24.length;A24++){p3R="_";p3R+="t";p3R+="otal";p3R+="s ";j3R="_";j3R+="VMPlus ";Z3R="_True ";Z3R+="Range ";s24=z24[A24];z7mT.z1n(6);W24=z24[z7mT.E1n(1,A24)];B24=Math.abs(s24.High - W24.Low);l24=Math.abs(s24.Low - W24.High);t24=Math.max(s24.High,W24.Close) - Math.min(s24.Low,W24.Close);r24.tr+=t24;r24.vmPlus+=B24;r24.vmMinus+=l24;if(A24 > K24){z7mT.d1n(6);r24.tr-=z24[z7mT.L1n(K24,A24)]["_True Range " + I24.name];z7mT.z1n(6);r24.vmPlus-=z24[z7mT.L1n(K24,A24)]["_VMPlus " + I24.name];z7mT.z1n(6);r24.vmMinus-=z24[z7mT.L1n(K24,A24)]["_VMMinus " + I24.name];}s24[Z3R + I24.name]=t24;s24[j3R + I24.name]=B24;s24["_VMMinus " + I24.name]=l24;if(A24 >= K24){s24["+VI " + I24.name]=r24.vmPlus / r24.tr;s24["-VI " + I24.name]=r24.vmMinus / r24.tr;}s24[p3R + I24.name]=D24.clone(r24);}};D24.Studies.studyLibrary=D24.extend(D24.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:D24.Studies.calculateVortex,centerline:"1" * 1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"1.1" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:T3R}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};y5T=U24=>{var M24,I3R,O3R,M3R;M24=typeof _CIQ !== "undefined"?_CIQ:U24.CIQ;if(!M24.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {I3R="#5f";I3R+="7cb8";O3R="#";O3R+="ab6";O3R+="11";O3R+="f";M3R="0";M3R+=" t";M3R+="o";M3R+=" max";M24.Studies.calculateMFI=function(e24,y24){var L3R,Y3R,C24,Y24,R24,X24,o24,m24;L3R="_";L3R+="hi";L3R+="g";L3R+="h ";Y3R="Scale ";Y3R+="Fact";Y3R+="or";C24=y24.chart.scrubbed;R24=+"0";Y6AA.V8TT();X24=y24.inputs[Y3R];if(!X24){X24=y24.study.inputs["Scale Factor"];}o24=Math.pow(10,Number(X24));if(y24.startFrom > 1){Y6AA.z1n(4);var J1Y=Y6AA.E1n(1,0);R24=C24[y24.startFrom - J1Y][L3R + y24.name];}for(m24=y24.startFrom;m24 < C24.length;m24++){if(!C24[m24])continue;if(C24[m24].Volume){C24[m24][y24.name + "_hist"]=Y24=o24 * (C24[m24].High - C24[m24].Low) / C24[m24].Volume;C24[m24]["_high " + y24.name]=R24=Math.max(R24,Y24);}}y24.outputMap={};y24.outputMap[y24.name + "_hist"]="";};M24.Studies.displayMFI=function(p24,w24,f24){var W7mT=Y6AA;var d3R,S3R,H24,j24,J24,N24,u24,b24,P24,i24,v24,g3R,c3R,F3R,y3R,Q24,Z24;d3R="#CCC";d3R+="C";d3R+="CC";S3R="stx";S3R+="_hist";S3R+="ogr";S3R+="am";H24=p24.panels[w24.panel];W7mT.V8TT();j24=w24.getContext(p24);J24=w24.getYAxis(p24);N24=J24.flipped?J24.top:J24.bottom;W7mT.z1n(5);var X1Y=W7mT.L1n(0,18,20);u24=p24.layout.candleWidth - X1Y;if(u24 < 2){u24=1;}b24=M24.Studies.determineColor(w24.outputs.Green);P24=M24.Studies.determineColor(w24.outputs.Fade);i24=M24.Studies.determineColor(w24.outputs.Fake);v24=M24.Studies.determineColor(w24.outputs.Squat);p24.canvasColor(S3R);if(!w24.underlay){j24.globalAlpha=1;}j24.fillStyle=d3R;p24.startClip(w24.panel);if(!w24.highlight && p24.highlightedDraggable){j24.globalAlpha*=0.3;}for(var g24=0;g24 < f24.length;g24++){g3R="_hi";g3R+="s";g3R+="t";c3R="_";c3R+="hist";F3R="_";F3R+="h";F3R+="i";F3R+="st";y3R="_";y3R+="hi";y3R+="st";Q24=f24[g24];W7mT.d1n(6);Z24=f24[W7mT.L1n(1,g24)];if(!Z24){Z24=p24.getPreviousBar(p24.chart,w24.name + y3R,g24);}if(!Q24)continue;if(!Z24);else if(Z24[w24.name + F3R] < Q24[w24.name + "_hist"]){if(Z24.Volume < Q24.Volume){j24.fillStyle=b24;}else if(Z24.Volume > Q24.Volume){j24.fillStyle=i24;}}else if(Z24[w24.name + c3R] > Q24[w24.name + g3R]){if(Z24.Volume < Q24.Volume){j24.fillStyle=v24;}else if(Z24.Volume > Q24.Volume){j24.fillStyle=P24;}}if(Q24.candleWidth){u24=Math.floor(Math.max(1,Q24.candleWidth - 2));}j24.fillRect(Math.floor(p24.pixelFromBar(g24,H24.chart) - u24 / 2),Math.floor(N24),Math.floor(u24),Math.floor(p24.pixelFromPrice(Q24[w24.name + "_hist"],H24,J24) - N24));}p24.endClip();};M24.Studies.studyLibrary=M24.extend(M24.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:M24.Studies.displayMFI,calculateFN:M24.Studies.calculateMFI,yAxis:{ground:! !1},range:M3R,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:O3R,Fake:I3R,Squat:"#ffd0cf"}}});}};Y5T={CIQ:a4T,SplinePlotter:C5T,timezoneJS:m5T,$$:R5T,$$$:X5T};export {D4T as aggregations};export {h4T as drawingAdvanced};export {I4T as equationsAdvanced};export {r4T as highPerformanceMarkers};export {s4T as renderersAdvanced};export {A4T as accumulationDistribution};export {z4T as adx};export {K4T as alligator};export {W4T as aroon};export {B4T as atr};export {l4T as awesomeOscillator};export {t4T as balanceOfPower};export {x4T as bollinger};export {M4T as cci};export {U4T as centerOfGravity};export {y4T as chaikin};export {C4T as chande};export {m4T as choppiness};export {R4T as comparisonStudies};export {X4T as coppock};export {Y4T as darvasBox};export {o4T as detrended};export {e4T as disparity};export {w4T as easeOfMovement};export {p4T as ehlerFisher};export {Q4T as elder};export {Z4T as fractalChaos};export {j4T as highLowStudies};export {g4T as ichimoku};export {u4T as intradayMomentum};export {J4T as keltner};export {f4T as klinger};export {H4T as linearRegression};export {N4T as macd};export {b4T as massIndex};export {P4T as moneyFlow};export {i4T as movingAverages};export {v4T as parabolicSAR};export {k4T as pivotPoints};export {d4T as prettyGoodOscillator};export {E4T as priceMomentumOscillator};export {F4T as priceVolumeOscillator};export {T4T as primeNumber};export {S4T as pring};export {G4T as projectedVolume};export {c4T as psychologicalLine};export {V4T as qstick};export {n4T as rainbow};export {L4T as randomWalk};export {q4T as relativeVigor};export {O4T as rsi};export {a5T as schaffTrendCycle};export {D5T as shinohara};export {h5T as stochastics};export {I5T as supertrend};export {r5T as swingIndex};export {s5T as trendIntensity};export {A5T as trix};export {z5T as twiggsMoneyFlow};export {K5T as typicalPrice};export {W5T as ulcerIndex};export {B5T as ultimateOscillator};export {l5T as valuationLines};export {t5T as volatilityIndex};export {x5T as volumeProfile};export {M5T as volumeStudies};export {U5T as vortex};export {y5T as williamsMFI};export {a4T as CIQ, C5T as SplinePlotter, m5T as timezoneJS, R5T as $$, X5T as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(Y5T.CIQ || a4T).activateImports(D4T,h4T,I4T,r4T,s4T,A4T,z4T,K4T,W4T,B4T,l4T,t4T,x4T,M4T,U4T,y4T,C4T,m4T,R4T,X4T,Y4T,o4T,e4T,w4T,p4T,Q4T,Z4T,j4T,g4T,u4T,J4T,f4T,H4T,N4T,b4T,P4T,i4T,v4T,k4T,d4T,E4T,F4T,T4T,S4T,G4T,c4T,V4T,n4T,L4T,q4T,O4T,a5T,D5T,h5T,I5T,r5T,s5T,A5T,z5T,K5T,W5T,B5T,l5T,t5T,x5T,M5T,U5T,y5T,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
