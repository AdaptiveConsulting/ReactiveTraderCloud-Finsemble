/**
 *	8.1.0
 *	Generation date: 2020-12-14T16:21:56.817Z
 *	Client name: finsemble
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/07/20"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com","finsemble.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
r244[575208]=(function(){var z=2;for(;z !== 9;){switch(z){case 5:var R;try{var n=2;for(;n !== 6;){switch(n){case 3:throw "";n=9;break;case 4:n=typeof q52l1 === '\x75\u006e\u0064\u0065\u0066\x69\u006e\u0065\x64'?3:9;break;case 2:Object['\x64\u0065\x66\x69\x6e\x65\x50\x72\u006f\u0070\u0065\u0072\u0074\x79'](Object['\u0070\x72\u006f\x74\u006f\x74\x79\u0070\u0065'],'\u0048\x56\u006e\u0059\u0037',{'\x67\x65\x74':function(){var o=2;for(;o !== 1;){switch(o){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});R=HVnY7;R['\x71\x35\u0032\x6c\u0031']=R;n=4;break;case 9:delete R['\u0071\u0035\x32\x6c\u0031'];n=8;break;case 8:var j=Object['\x70\x72\x6f\u0074\u006f\x74\x79\u0070\u0065'];delete j['\x48\x56\u006e\u0059\x37'];n=6;break;}}}catch(w){R=window;}return R;break;case 1:return globalThis;break;case 2:z=typeof globalThis === '\x6f\x62\x6a\u0065\u0063\u0074'?1:5;break;}}})();r244[134287]=z2kk(r244[575208]);r244[613004]=G2VV(r244[575208]);r244.L7b=function(){return typeof r244[559653].A7L === 'function'?r244[559653].A7L.apply(r244[559653],arguments):r244[559653].A7L;};r244.D0X=function(){return typeof r244[325645].H0X === 'function'?r244[325645].H0X.apply(r244[325645],arguments):r244[325645].H0X;};r244[165990]="HUR";r244[575208].I355=r244;function z2kk(j5h){function X5h(F5h,P5h,r5h,x5h,E5h){var b5h=2;for(;b5h !== 7;){switch(b5h){case 3:A5h[4]="definePr";A5h[7]=4;try{var L5h=2;for(;L5h !== 8;){switch(L5h){case 2:A5h[8]={};A5h[6]=(1,A5h[0][1])(A5h[0][0]);A5h[1]=[A5h[7],A5h[6].prototype][A5h[0][3]];L5h=4;break;case 4:A5h[8].value=A5h[1][A5h[0][2]];try{var U5h=2;for(;U5h !== 3;){switch(U5h){case 2:A5h[3]=A5h[4];A5h[3]+=A5h[9];A5h[3]+=A5h[5];A5h[0][0].Object[A5h[3]](A5h[1],A5h[0][4],A5h[8]);U5h=3;break;}}}catch(g5h){}L5h=9;break;case 9:A5h[1][A5h[0][4]]=A5h[8].value;L5h=8;break;}}}catch(I5h){}b5h=7;break;case 2:var A5h=[arguments];A5h[9]="";A5h[5]="rty";A5h[9]="ope";b5h=3;break;}}}function v4h(t5h){var w5h=2;for(;w5h !== 5;){switch(w5h){case 2:var H5h=[arguments];return H5h[0][0].String;break;}}}var i5h=2;for(;i5h !== 12;){switch(i5h){case 3:e5h[4]="N2";e5h[6]=1;e5h[8]=e5h[4];e5h[8]+=e5h[5];i5h=6;break;case 2:var e5h=[arguments];e5h[5]="";e5h[5]="k";e5h[4]="";i5h=3;break;case 6:e5h[8]+=e5h[5];i5h=14;break;case 14:var R4h=function(u5h,T5h,G5h,V5h){var Y5h=2;for(;Y5h !== 5;){switch(Y5h){case 2:var o5h=[arguments];X5h(e5h[0][0],o5h[0][0],o5h[0][1],o5h[0][2],o5h[0][3]);Y5h=5;break;}}};i5h=13;break;case 13:R4h(v4h,"charCodeAt",e5h[6],e5h[8]);i5h=12;break;}}}r244.G0X=function(){return typeof r244[325645].y0X === 'function'?r244[325645].y0X.apply(r244[325645],arguments):r244[325645].y0X;};r244[559653]=(function(){var p7b=2;for(;p7b !== 9;){switch(p7b){case 2:var C7b=[arguments];p7b=1;break;case 1:C7b[1]=undefined;C7b[8]={};C7b[8].A7L=function(){var N7b=2;for(;N7b !== 90;){switch(N7b){case 70:j7b[70]++;N7b=57;break;case 58:j7b[70]=0;N7b=57;break;case 2:var j7b=[arguments];N7b=1;break;case 71:j7b[19]++;N7b=76;break;case 1:N7b=C7b[1]?5:4;break;case 36:j7b[33]=j7b[17];j7b[3].L2VV(j7b[9]);j7b[3].L2VV(j7b[57]);N7b=52;break;case 33:j7b[73].N0X=['K4X'];j7b[73].M0X=function(){var z6L=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var n6L=!(/\x28\x5b/).m2VV(z6L + []);return n6L;};N7b=31;break;case 69:N7b=(function(d7b){var b7b=2;for(;b7b !== 22;){switch(b7b){case 14:b7b=typeof t7b[7][t7b[2][j7b[99]]] === 'undefined'?13:11;break;case 7:b7b=t7b[5] < t7b[0][0].length?6:18;break;case 12:t7b[3].L2VV(t7b[2][j7b[99]]);b7b=11;break;case 16:b7b=t7b[5] < t7b[3].length?15:23;break;case 8:t7b[5]=0;b7b=7;break;case 4:t7b[7]={};t7b[3]=[];t7b[5]=0;b7b=8;break;case 20:t7b[7][t7b[2][j7b[99]]].h+=true;b7b=19;break;case 26:b7b=t7b[4] >= 0.5?25:24;break;case 13:t7b[7][t7b[2][j7b[99]]]=(function(){var i7b=2;for(;i7b !== 9;){switch(i7b){case 2:var S7b=[arguments];S7b[9]={};S7b[9].h=0;S7b[9].t=0;return S7b[9];break;}}}).E2VV(this,arguments);b7b=12;break;case 5:return;break;case 17:t7b[5]=0;b7b=16;break;case 24:t7b[5]++;b7b=16;break;case 25:t7b[8]=true;b7b=24;break;case 1:b7b=t7b[0][0].length === 0?5:4;break;case 15:t7b[6]=t7b[3][t7b[5]];t7b[4]=t7b[7][t7b[6]].h / t7b[7][t7b[6]].t;b7b=26;break;case 2:var t7b=[arguments];b7b=1;break;case 10:b7b=t7b[2][j7b[98]] === j7b[50]?20:19;break;case 6:t7b[2]=t7b[0][0][t7b[5]];b7b=14;break;case 19:t7b[5]++;b7b=7;break;case 18:t7b[8]=false;b7b=17;break;case 11:t7b[7][t7b[2][j7b[99]]].t+=true;b7b=10;break;case 23:return t7b[8];break;}}})(j7b[46])?68:67;break;case 68:N7b=31?68:67;break;case 49:j7b[3].L2VV(j7b[76]);j7b[3].L2VV(j7b[33]);j7b[3].L2VV(j7b[8]);j7b[3].L2VV(j7b[14]);N7b=45;break;case 75:j7b[88]={};j7b[88][j7b[99]]=j7b[86][j7b[36]][j7b[19]];j7b[88][j7b[98]]=j7b[85];j7b[46].L2VV(j7b[88]);N7b=71;break;case 29:j7b[58].N0X=['K4X'];j7b[58].M0X=function(){var o6L=function(){return ('a|a').split('|');};var y6L=!(/\u007c/).m2VV(o6L + []);return y6L;};j7b[97]=j7b[58];j7b[79]={};N7b=42;break;case 5:return 66;break;case 51:j7b[3].L2VV(j7b[7]);j7b[3].L2VV(j7b[97]);N7b=49;break;case 4:j7b[3]=[];j7b[2]={};j7b[2].N0X=['i0X'];j7b[2].M0X=function(){var l7L=typeof c2VV === 'function';return l7L;};N7b=7;break;case 77:j7b[19]=0;N7b=76;break;case 7:j7b[1]=j7b[2];j7b[6]={};j7b[6].N0X=['K4X'];N7b=13;break;case 24:j7b[77]=j7b[54];j7b[11]={};j7b[11].N0X=['K4X'];N7b=21;break;case 76:N7b=j7b[19] < j7b[86][j7b[36]].length?75:70;break;case 42:j7b[79].N0X=['i0X'];j7b[79].M0X=function(){var F6L=typeof T2VV === 'function';return F6L;};j7b[14]=j7b[79];j7b[17]={};j7b[17].N0X=['i0X'];j7b[17].M0X=function(){var D6L=typeof I2VV === 'function';return D6L;};N7b=36;break;case 20:j7b[5].M0X=function(){var U7L=false;var X7L=[];try{for(var f7L in console){X7L.L2VV(f7L);}U7L=X7L.length === 0;}catch(P7L){}var K7L=U7L;return K7L;};j7b[9]=j7b[5];j7b[4]={};N7b=17;break;case 21:j7b[11].M0X=function(){var b7L=function(){var R6L=function(x6L){for(var j6L=0;j6L < 20;j6L++){x6L+=j6L;}return x6L;};R6L(2);};var e6L=(/\u0031\u0039\x32/).m2VV(b7L + []);return e6L;};j7b[76]=j7b[11];j7b[73]={};N7b=33;break;case 52:j7b[3].L2VV(j7b[1]);N7b=51;break;case 16:j7b[4].M0X=function(){var M7L=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var v7L=(/\x74\x72\x75\u0065/).m2VV(M7L + []);return v7L;};j7b[8]=j7b[4];j7b[54]={};j7b[54].N0X=['K4X'];j7b[54].M0X=function(){var a7L=function(){return ('aa').endsWith('a');};var d7L=(/\x74\u0072\x75\x65/).m2VV(a7L + []);return d7L;};N7b=24;break;case 56:j7b[86]=j7b[3][j7b[70]];try{j7b[85]=j7b[86][j7b[44]]()?j7b[50]:j7b[69];}catch(O6L){j7b[85]=j7b[69];}N7b=77;break;case 62:j7b[36]='N0X';j7b[98]='F0X';j7b[44]='M0X';j7b[99]='L0X';N7b=58;break;case 13:j7b[6].M0X=function(){var J7L=function(){return atob('PQ==');};var V7L=!(/\u0061\x74\u006f\x62/).m2VV(J7L + []);return V7L;};j7b[7]=j7b[6];N7b=11;break;case 17:j7b[4].N0X=['K4X'];N7b=16;break;case 67:C7b[1]=57;return 43;break;case 11:j7b[5]={};j7b[5].N0X=['i0X'];N7b=20;break;case 45:j7b[3].L2VV(j7b[77]);j7b[46]=[];j7b[50]='Q0X';j7b[69]='I0X';N7b=62;break;case 57:N7b=j7b[70] < j7b[3].length?56:69;break;case 31:j7b[57]=j7b[73];j7b[58]={};N7b=29;break;}}};return C7b[8];break;}}})();r244.d5h=function(){return typeof r244[465896].F7j === 'function'?r244[465896].F7j.apply(r244[465896],arguments):r244[465896].F7j;};r244.m7b=function(){return typeof r244[559653].A7L === 'function'?r244[559653].A7L.apply(r244[559653],arguments):r244[559653].A7L;};r244[325645]=(function(z0X){return {H0X:function(){var s0X,A0X=arguments;switch(z0X){case 56:s0X=A0X[1] % A0X[0];break;case 12:s0X=A0X[1] ^ A0X[0];break;case 8:s0X=A0X[2] - A0X[0] + A0X[1];break;case 3:s0X=(A0X[2] + A0X[1]) / A0X[0];break;case 60:s0X=A0X[1] - (A0X[0] ^ A0X[2]);break;case 79:s0X=A0X[1] - A0X[0] / (A0X[4] + A0X[2] / A0X[3]);break;case 21:s0X=A0X[1] + (A0X[0] - A0X[2]);break;case 87:s0X=A0X[0] == A0X[1];break;case 7:s0X=(A0X[1] + A0X[2]) / +A0X[0];break;case 58:s0X=A0X[0] + A0X[1] + A0X[3] + A0X[2];break;case 88:s0X=A0X[0] + A0X[3] / A0X[2] + A0X[1];break;case 28:s0X=A0X[1] + A0X[2] / +A0X[0];break;case 29:s0X=(A0X[2] - A0X[0]) / (A0X[3] - A0X[4]) > A0X[1];break;case 13:s0X=A0X[1] + A0X[0] * A0X[2];break;case 5:s0X=A0X[0] + A0X[3] - A0X[2] - A0X[1];break;case 44:s0X=A0X[1] + A0X[2] + A0X[0];break;case 53:s0X=A0X[0] - A0X[2] - A0X[1];break;case 39:s0X=A0X[0] * (A0X[3] + A0X[2]) / A0X[1];break;case 81:s0X=A0X[1] * A0X[0] * (A0X[2] / A0X[3] - A0X[4]);break;case 25:s0X=(A0X[2] + A0X[1]) / (A0X[0] & A0X[3]);break;case 16:s0X=A0X[0] * A0X[1];break;case 65:s0X=+A0X[1] * A0X[0];break;case 11:s0X=(A0X[0] + A0X[2] + A0X[3] + A0X[4]) / A0X[1];break;case 84:s0X=A0X[2] + A0X[1] * +A0X[0] + A0X[3];break;case 89:s0X=(A0X[2] >> A0X[3]) * A0X[1] / (A0X[4] + A0X[0]);break;case 6:s0X=A0X[1] - A0X[0];break;case 63:s0X=A0X[2] / A0X[1] - A0X[0];break;case 49:s0X=(A0X[0] * A0X[2] + A0X[3]) / A0X[1];break;case 10:s0X=A0X[1] / A0X[0];break;case 59:s0X=A0X[0] * A0X[1] / A0X[2];break;case 70:s0X=A0X[2] * (A0X[0] / A0X[4] - (A0X[1] - A0X[3]));break;case 30:s0X=A0X[0] * A0X[2] - A0X[1];break;case 77:s0X=A0X[2] * (A0X[1] + A0X[0]);break;case 33:s0X=+A0X[0] * A0X[1] - A0X[2];break;case 66:s0X=A0X[2] + (A0X[0] >> A0X[1]);break;case 67:s0X=A0X[3] * A0X[1] / (A0X[2] + A0X[0]);break;case 20:s0X=A0X[1] * A0X[0] < A0X[3] * A0X[2];break;case 23:s0X=(A0X[2] >> A0X[4]) * A0X[1] - A0X[3] - A0X[0];break;case 82:s0X=(A0X[3] & A0X[0]) * A0X[2] / A0X[1];break;case 15:s0X=A0X[1] - (A0X[0] | A0X[2]);break;case 42:s0X=(A0X[2] - A0X[1] * A0X[0]) / A0X[3];break;case 17:s0X=A0X[0] - (A0X[2] - A0X[1]);break;case 62:s0X=A0X[0] * A0X[3] * A0X[5] + (+A0X[4] - A0X[2] * A0X[6]) * A0X[1];break;case 48:s0X=(A0X[2] * A0X[1] + A0X[3]) / +A0X[0];break;case 76:s0X=A0X[1] > A0X[0];break;case 64:s0X=A0X[0] + +A0X[1] * A0X[2];break;case 73:s0X=A0X[1] - +A0X[0];break;case 74:s0X=(A0X[2] % A0X[0] + A0X[3]) * A0X[1];break;case 90:s0X=A0X[4] + (A0X[3] / A0X[2] - A0X[0] / A0X[1]);break;case 32:s0X=(A0X[1] - A0X[0]) / (A0X[2] - A0X[3]);break;case 80:s0X=A0X[1] * -A0X[0];break;case 72:s0X=A0X[1] * (A0X[0] / A0X[3] - A0X[2]);break;case 22:s0X=A0X[0] >> A0X[1];break;case 75:s0X=A0X[1] / (A0X[2] * A0X[0]) <= A0X[3];break;case 55:s0X=A0X[2] / A0X[0] + A0X[1];break;case 78:s0X=A0X[1] - A0X[3] / (A0X[0] + A0X[2]);break;case 61:s0X=(A0X[2] + A0X[1]) * A0X[0];break;case 57:s0X=(A0X[2] - (A0X[0] + A0X[1])) / A0X[3];break;case 52:s0X=A0X[7] + A0X[6] + A0X[2] + A0X[3] + A0X[5] + A0X[1] + A0X[0] + A0X[4];break;case 19:s0X=A0X[0] & A0X[1];break;case 31:s0X=A0X[1] < A0X[0];break;case 9:s0X=A0X[2] - A0X[3] + A0X[1] + A0X[0];break;case 83:s0X=A0X[1] - A0X[2] * A0X[0] - A0X[3];break;case 35:s0X=A0X[0] + +A0X[1];break;case 50:s0X=(A0X[3] + A0X[0] * A0X[1]) / +A0X[2];break;case 26:s0X=A0X[0] - A0X[1] / A0X[2];break;case 85:s0X=A0X[0] - A0X[1] * (A0X[3] - A0X[4]) - A0X[2];break;case 51:s0X=(A0X[1] + +A0X[0] * A0X[2]) / A0X[3];break;case 18:s0X=(A0X[2] - A0X[0]) / A0X[1];break;case 86:s0X=A0X[0] + A0X[1] * A0X[2] + A0X[3];break;case 47:s0X=A0X[1] + (A0X[3] - A0X[2]) / (A0X[5] - A0X[0]) * (A0X[4] - A0X[6]);break;case 1:s0X=A0X[0] << A0X[1];break;case 0:s0X=A0X[0] | A0X[1];break;case 34:s0X=(A0X[6] - A0X[0]) * (A0X[3] - A0X[4]) / (A0X[1] - A0X[2]) + A0X[5];break;case 14:s0X=A0X[2] - (A0X[3] << A0X[0]) * A0X[1];break;case 38:s0X=A0X[3] + A0X[2] * A0X[1] / A0X[0];break;case 41:s0X=(A0X[4] * A0X[3] - A0X[0] * A0X[1]) / (A0X[2] * A0X[5] - A0X[6]);break;case 2:s0X=A0X[1] + A0X[0];break;case 27:s0X=A0X[2] + A0X[0] / A0X[1];break;case 36:s0X=A0X[3] + (A0X[2] - A0X[0]) / A0X[1];break;case 24:s0X=A0X[1] * A0X[0] - A0X[3] - A0X[2];break;case 71:s0X=A0X[1] + A0X[2] * (A0X[0] - A0X[3]);break;case 68:s0X=A0X[1] * A0X[0] * A0X[2];break;case 54:s0X=A0X[1] % A0X[2] * +A0X[0];break;case 69:s0X=A0X[0] - +A0X[4] / (A0X[2] - A0X[1] + A0X[3] / A0X[5]);break;case 4:s0X=A0X[0] + A0X[1] - A0X[2];break;case 45:s0X=-(A0X[2] - A0X[1]) * A0X[3] + A0X[0];break;case 46:s0X=(A0X[2] - A0X[1]) * A0X[3] + A0X[0];break;case 43:s0X=A0X[1] * A0X[2] + A0X[0];break;case 37:s0X=A0X[2] - A0X[1] * (A0X[3] - A0X[0]);break;case 40:s0X=A0X[3] * (A0X[2] * A0X[1] + A0X[0]) / (A0X[5] ^ A0X[4]);break;}return s0X;},y0X:function(C0X){z0X=C0X;}};})();r244[465896]=(function(){var m7j=function(y7j,K7j){var i7j=K7j & 0xffff;var u7j=K7j - i7j;return (u7j * y7j | 0) + (i7j * y7j | 0) | 0;},Y7j=function(d7j,M7j,f7j){var x7j=0xcc9e2d51,T7j=0x1b873593;var s7j=f7j;var r7j=M7j & ~0x3;for(var Z7j=0;Z7j < r7j;Z7j+=4){var B7j=d7j.N2kk(Z7j) & 0xff | (d7j.N2kk(Z7j + 1) & 0xff) << 8 | (d7j.N2kk(Z7j + 2) & 0xff) << 16 | (d7j.N2kk(Z7j + 3) & 0xff) << 24;B7j=m7j(B7j,x7j);B7j=(B7j & 0x1ffff) << 15 | B7j >>> 17;B7j=m7j(B7j,T7j);s7j^=B7j;s7j=(s7j & 0x7ffff) << 13 | s7j >>> 19;s7j=s7j * 5 + 0xe6546b64 | 0;}B7j=0;switch(M7j % 4){case 3:B7j=(d7j.N2kk(r7j + 2) & 0xff) << 16;case 2:B7j|=(d7j.N2kk(r7j + 1) & 0xff) << 8;case 1:B7j|=d7j.N2kk(r7j) & 0xff;B7j=m7j(B7j,x7j);B7j=(B7j & 0x1ffff) << 15 | B7j >>> 17;B7j=m7j(B7j,T7j);s7j^=B7j;}s7j^=M7j;s7j^=s7j >>> 16;s7j=m7j(s7j,0x85ebca6b);s7j^=s7j >>> 13;s7j=m7j(s7j,0xc2b2ae35);s7j^=s7j >>> 16;return s7j;};return {F7j:Y7j};})();r244.n5h=function(){return typeof r244[465896].F7j === 'function'?r244[465896].F7j.apply(r244[465896],arguments):r244[465896].F7j;};function G2VV(a9b){function f8b(q7b){var v7b=2;for(;v7b !== 5;){switch(v7b){case 2:var O9b=[arguments];return O9b[0][0].Function;break;}}}function c8b(e9b,w9b,R9b,z7b,X7b){var V7b=2;for(;V7b !== 8;){switch(V7b){case 2:var g9b=[arguments];g9b[6]="";g9b[7]="perty";g9b[6]="ro";V7b=3;break;case 3:g9b[4]="defineP";try{var h7b=2;for(;h7b !== 8;){switch(h7b){case 3:try{var K7b=2;for(;K7b !== 3;){switch(K7b){case 2:g9b[8]=g9b[4];g9b[8]+=g9b[6];g9b[8]+=g9b[7];g9b[0][0].Object[g9b[8]](g9b[9],g9b[0][4],g9b[1]);K7b=3;break;}}}catch(R8b){}g9b[9][g9b[0][4]]=g9b[1].value;h7b=8;break;case 2:g9b[1]={};g9b[5]=(1,g9b[0][1])(g9b[0][0]);g9b[9]=[g9b[5],g9b[5].prototype][g9b[0][3]];g9b[1].value=g9b[9][g9b[0][2]];h7b=3;break;}}}catch(z9b){}V7b=8;break;}}}var W7b=2;for(;W7b !== 55;){switch(W7b){case 6:s9b[2]="imize";s9b[5]="";s9b[5]="t";s9b[8]="";W7b=11;break;case 37:s9b[57]=s9b[3];s9b[57]+=s9b[5];s9b[57]+=s9b[2];s9b[25]=s9b[9];s9b[25]+=s9b[32];W7b=51;break;case 59:M8b(s8b,"push",s9b[72],s9b[25]);W7b=58;break;case 62:var M8b=function(n9b,x9b,J9b,U9b){var A7b=2;for(;A7b !== 5;){switch(A7b){case 2:var f9b=[arguments];c8b(s9b[0][0],f9b[0][0],f9b[0][1],f9b[0][2],f9b[0][3]);A7b=5;break;}}};W7b=61;break;case 56:M8b(f8b,"apply",s9b[72],s9b[55]);W7b=55;break;case 2:var s9b=[arguments];s9b[4]="";s9b[4]="abstract";s9b[9]="";W7b=3;break;case 27:s9b[90]="_";s9b[32]="2";s9b[17]="I";s9b[10]="";s9b[10]="V";s9b[67]="";W7b=21;break;case 21:s9b[67]="2V";s9b[15]="E";s9b[72]=1;s9b[21]=0;s9b[55]=s9b[15];s9b[55]+=s9b[67];s9b[55]+=s9b[10];W7b=29;break;case 61:M8b(G8b,s9b[94],s9b[21],s9b[73]);W7b=60;break;case 51:s9b[25]+=s9b[78];s9b[31]=s9b[6];s9b[31]+=s9b[67];s9b[31]+=s9b[10];W7b=47;break;case 47:s9b[73]=s9b[7];s9b[73]+=s9b[67];s9b[73]+=s9b[10];s9b[94]=s9b[90];W7b=64;break;case 41:s9b[93]+=s9b[8];s9b[38]=s9b[20];s9b[38]+=s9b[67];s9b[38]+=s9b[10];W7b=37;break;case 18:s9b[20]="T";s9b[1]="_residua";s9b[78]="VV";s9b[32]="";W7b=27;break;case 11:s9b[8]="";s9b[8]="l";s9b[1]="";s9b[3]="__op";W7b=18;break;case 29:s9b[27]=s9b[17];s9b[27]+=s9b[32];s9b[27]+=s9b[78];s9b[93]=s9b[90];s9b[93]+=s9b[1];W7b=41;break;case 60:M8b(k8b,"test",s9b[72],s9b[31]);W7b=59;break;case 57:M8b(G8b,s9b[93],s9b[21],s9b[27]);W7b=56;break;case 58:M8b(G8b,s9b[57],s9b[21],s9b[38]);W7b=57;break;case 64:s9b[94]+=s9b[90];s9b[94]+=s9b[4];W7b=62;break;case 3:s9b[7]="c";s9b[9]="L";s9b[2]="";s9b[6]="m";W7b=6;break;}}function s8b(B7b){var I7b=2;for(;I7b !== 5;){switch(I7b){case 2:var Q9b=[arguments];return Q9b[0][0].Array;break;}}}function G8b(Z9b){var r7b=2;for(;r7b !== 5;){switch(r7b){case 2:var P9b=[arguments];return P9b[0][0];break;}}}function k8b(D7b){var o7b=2;for(;o7b !== 5;){switch(o7b){case 2:var H9b=[arguments];return H9b[0][0].RegExp;break;}}}}r244[104832]="h7N";r244[234031]=true;function r244(){}r244.d0X=function(){return typeof r244[325645].y0X === 'function'?r244[325645].y0X.apply(r244[325645],arguments):r244[325645].y0X;};r244.E0X=function(){return typeof r244[325645].H0X === 'function'?r244[325645].H0X.apply(r244[325645],arguments):r244[325645].H0X;};var g2PP,W8S,t8S,M8S,R8S,r8S,E8S,c8S,J8S,I8S,d8S,u8S,e8S,L8S,N8S,m8S,a8S,D8S,F8S,z8S,o8S,f8S,U8S,i8S,j8S,X8S,l8S,P8S,g8S,p8S,A8S,Q8S,G8S,Y8S,q8S,s8S,B8S,h8S,O8S,C8S,x8S,H8S,T8S,v8S,y8S,w8S,K8S,k8S,S8S,Z8S,V8S,n8S,b0x,W0x,t0x,M0x,R0x,r0x,E0x,c0x,J0x,I0x,d0x,u0x,e0x,L0x,N0x,m0x,a0x,f0x;g2PP="u";g2PP+="n";g2PP+="defi";g2PP+="ned";import {CIQ as b8S, SplinePlotter as D0x, timezoneJS as F0x, $$ as z0x, $$$ as o0x} from "../js/standard.js";W8S=i0x=>{var u3j,U0x;u3j="undef";u3j+="ine";u3j+="d";U0x=typeof _CIQ !== u3j?_CIQ:i0x.CIQ;r244.L7b();U0x.Renderer.Aggregations=function(X0x){var j0x;this.construct(X0x);r244.m7b();j0x=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";j0x.highlightable=![];if(j0x.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");j0x.invalid=! !1;}};U0x.inheritsFrom(U0x.Renderer.Aggregations,U0x.Renderer.OHLC,! !0);U0x.Renderer.Aggregations.requestNew=function(p0x,A0x){r244.L7b();var V3j,l0x,Q0x,G0x,Y0x,q0x,s0x,G3j,T3j,g0x;V3j="O";V3j+="H";V3j+="LC";l0x=null;Q0x=!{};G0x=! !"";Y0x=!{};q0x=!{};s0x=!1;for(var P0x=0;P0x < p0x.length;P0x++){G3j="r";G3j+="e";G3j+="nko";T3j="l";T3j+="ineb";T3j+="reak";g0x=p0x[P0x];switch(g0x){case "kagi":case "pandf":l0x=g0x;break;case "heikinashi":case T3j:case "rangebars":case G3j:l0x="candle";break;default:return null;}}if(l0x === null){return null;}return new U0x.Renderer[l0x == "candle"?V3j:"Aggregations"]({params:U0x.extend(A0x,{type:l0x})});};U0x.Renderer.Aggregations.prototype.drawIndividualSeries=function(C0x,h0x){var t3j,B0x,O0x,P3j,F3j;r244.L7b();t3j="k";t3j+="a";t3j+="g";t3j+="i";if(h0x.invalid){return;}B0x=this.stx;O0x={colors:[]};if(h0x.type == t3j){B0x.drawKagiSquareWave(C0x.panel,"stx_kagi_up","stx_kagi_down",h0x);O0x.colors.push(B0x.getCanvasColor("stx_kagi_up"));O0x.colors.push(B0x.getCanvasColor("stx_kagi_down"));}else if(h0x.type == "pandf"){P3j="s";P3j+="tx_";P3j+="pandf_down";F3j="s";F3j+="tx_pa";F3j+="ndf_up";B0x.drawPointFigureChart(C0x.panel,F3j,"X",h0x);O0x.colors.push(B0x.getCanvasColor("stx_pandf_up"));B0x.drawPointFigureChart(C0x.panel,"stx_pandf_down",4540 === 9080?283.41:"O",h0x);O0x.colors.push(B0x.getCanvasColor(P3j));}return O0x;};U0x.ChartEngine.prototype.setAggregationType=function(H0x){r244.L7b();var x3j,r3j,x0x;x3j="layo";x3j+="u";x3j+="t";r3j="c";r3j+="andle";this.layout.chartType=r3j;x0x=this.chart;if(x0x.baseline.userLevel !== ![]){x0x.baseline.userLevel=x0x.baseline.defaultLevel;x0x.panel.yAxis.scroll=U0x.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=H0x;this.setMainSeriesRenderer();if(x0x.canvas){this.createDataSet();this.draw();}this.changeOccurred(x3j);};U0x.ChartEngine.prototype.drawKagiSquareWave=function(Z0x,b1x,W1x,t1x){var Q3b=r244;var S0x,M1x,T0x,v0x,L1x,R1x,r1x,J1x,I1x,E1x,c1x,d1x,u1x,K0x,N1x,n0x,k0x,w0x,m1x,y0x,e1x;S0x=Z0x.chart;this.startClip(Z0x.name);M1x=S0x.dataSegment;T0x=S0x.context;v0x=Z0x.yAxis;if(v0x.flipped){L1x=b1x;b1x=W1x;W1x=L1x;}R1x=this.canvasStyle(b1x);r1x=this.canvasStyle(W1x);this.canvasColor(b1x);if(t1x.border_color_up){T0x.strokeStyle=t1x.border_color_up;}J1x=T0x.strokeStyle;this.canvasColor(W1x);if(t1x.border_color_down){T0x.strokeStyle=t1x.border_color_down;}I1x=T0x.strokeStyle;Q3b.d0X(0);E1x=Q3b.E0X("1",1);if(R1x.width && parseInt(R1x.width,"10" << 1286863968) <= 25){E1x=Math.max(1,U0x.stripPX(R1x.width));}c1x=1;if(r1x.width && parseInt(r1x.width,10) <= 25){c1x=Math.max(1,U0x.stripPX(r1x.width));}if(this.highlightedDraggable){T0x.globalAlpha*=+"0.3";}T0x.beginPath();d1x=S0x.dataSet.length - S0x.scroll - ("1" | 0);u1x=! !{};K0x=null;N1x=null;n0x=null;k0x=Z0x.left - +"0.5" * this.layout.candleWidth + this.micropixels - 1;Q3b.L7b();for(var V0x=0;V0x <= M1x.length;V0x++){k0x+=this.layout.candleWidth;w0x=M1x[V0x];if(!w0x)continue;if(w0x.projection)break;n0x=w0x.kagiTrend;if(v0x.flipped){Q3b.d0X(1);n0x*=-Q3b.E0X("1",519521152);}if(w0x.transform && S0x.transformFunc){m1x=w0x.kagiPrevOpen;w0x=w0x.transform;w0x.kagiPrevOpen=S0x.transformFunc(this,S0x,m1x);}y0x=w0x.cache;Q3b.G0X(2);e1x=Q3b.E0X(V0x,d1x);if(e1x < Z0x.cacheLeft || e1x > Z0x.cacheRight || !y0x.kagiOpen){y0x.kagiOpen=v0x.semiLog?v0x.height * (1 - (Math.log(Math.max(w0x.Open,"0" & 2147483647)) / Math.LN10 - v0x.logLow) / v0x.logShadow):(v0x.high - w0x.Open) * v0x.multiplier;y0x.kagiClose=v0x.semiLog?v0x.height * (1 - (Math.log(Math.max(w0x.Close,"0" | 0)) / Math.LN10 - v0x.logLow) / v0x.logShadow):(v0x.high - w0x.Close) * v0x.multiplier;if(v0x.flipped){y0x.kagiOpen=v0x.bottom - y0x.kagiOpen;y0x.kagiClose=v0x.bottom - y0x.kagiClose;}else {y0x.kagiOpen+=v0x.top;y0x.kagiClose+=v0x.top;}}N1x=y0x.kagiClose;K0x=v0x.semiLog?v0x.height * (1 - (Math.log(Math.max(w0x.kagiPrevOpen,0)) / Math.LN10 - v0x.logLow) / v0x.logShadow):(v0x.high - w0x.kagiPrevOpen) * v0x.multiplier;if(v0x.flipped){K0x=v0x.bottom - K0x;}else {K0x+=v0x.top;}if(u1x){T0x.moveTo(d1x >= 0?Z0x.left:Math.floor(k0x),y0x.kagiOpen);T0x.lineTo(Math.floor(k0x),y0x.kagiOpen);if(y0x.kagiClose < y0x.kagiOpen){T0x.strokeStyle=J1x;T0x.lineWidth=E1x;}else {T0x.strokeStyle=I1x;T0x.lineWidth=c1x;}}else {if(n0x != -1 && y0x.kagiClose < K0x && K0x < y0x.kagiOpen){T0x.lineTo(Math.floor(k0x),K0x);T0x.stroke();T0x.beginPath();T0x.moveTo(Math.floor(k0x),K0x);T0x.strokeStyle=J1x;T0x.lineWidth=E1x;}else if(n0x != "1" * 1 && y0x.kagiClose > K0x && K0x > y0x.kagiOpen){T0x.lineTo(Math.floor(k0x),K0x);T0x.stroke();T0x.beginPath();T0x.moveTo(Math.floor(k0x),K0x);T0x.strokeStyle=I1x;T0x.lineWidth=c1x;}}T0x.lineTo(Math.floor(k0x),y0x.kagiClose);if(V0x + 1 < M1x.length){T0x.lineTo(Math.floor(k0x + this.layout.candleWidth),y0x.kagiClose);}u1x=!{};}T0x.stroke();this.endClip();T0x.lineWidth=1;};U0x.ChartEngine.prototype.drawPointFigureChart=function(l1x,y1x,P1x,B1x){var H3b=r244;var f1x,x1x,D1x,U1x,i1x,g1x,Q1x,G1x,H1x,k1x,a1x,T1x,j1x,F1x,z1x,h1x,O1x,o1x,p1x,A1x,S1x,C1x,X1x,v1x,q1x,s1x;f1x=l1x.chart;this.startClip(l1x.name);x1x=f1x.dataSegment;D1x=f1x.context;this.canvasColor(y1x);if(P1x == (+"363.62" === (4878,"443.78" - 0)?(! !"1","M"):8150 === (289.54,1962)?"m":(823.24,6414) <= ("9680" & 2147483647,575.69)?"I":"X") && B1x.border_color_up){D1x.strokeStyle=B1x.border_color_up;}else if(P1x == "O" && B1x.border_color_down){D1x.strokeStyle=B1x.border_color_down;}U1x=this.canvasStyle(y1x);i1x=parseInt(U1x.paddingTop,+"10");H3b.m7b();g1x=parseInt(U1x.paddingBottom,10);Q1x=parseInt(U1x.paddingLeft,+"10");G1x=parseInt(U1x.paddingRight,10);if(U1x.width && parseInt(U1x.width,"10" << 2130245248) <= "25" >> 1573352672){D1x.lineWidth=Math.max(1,U0x.stripPX(U1x.width));}else {D1x.lineWidth=2;}if(this.highlightedDraggable){D1x.globalAlpha*=0.3;}D1x.beginPath();function K1x(W2x,t2x,b2x){H3b.L7b();H3b.G0X(3);D1x.moveTo(H3b.D0X(2,t2x,W2x),H3b.D0X(b2x,i1x,z1x,H3b.G0X(4)));H3b.G0X(2);D1x.bezierCurveTo(H3b.E0X(G1x,t2x),H3b.D0X(b2x,i1x,z1x,H3b.G0X(4)),H3b.D0X(G1x,t2x,H3b.d0X(2)),H3b.D0X(b2x,z1x,g1x,F1x,H3b.G0X(5)),H3b.D0X(2,t2x,W2x,H3b.d0X(3)),H3b.E0X(b2x,z1x,g1x,F1x,H3b.G0X(5)));H3b.G0X(6);D1x.bezierCurveTo(H3b.E0X(Q1x,W2x),H3b.E0X(b2x,z1x,g1x,F1x,H3b.G0X(5)),H3b.E0X(Q1x,W2x,H3b.d0X(6)),H3b.D0X(b2x,i1x,z1x,H3b.G0X(4)),H3b.E0X("2",W2x,t2x,H3b.G0X(7)),H3b.E0X(b2x,i1x,z1x,H3b.d0X(4)));}H1x=this.chart.state.aggregation.box;k1x=f1x.dataSet.length - f1x.scroll - 1;function w1x(V1x,n1x,Z1x){H3b.d0X(2);D1x.moveTo(H3b.D0X(Q1x,V1x),H3b.D0X(g1x,z1x,Z1x,H3b.G0X(8)));H3b.d0X(6);D1x.lineTo(H3b.D0X(G1x,n1x),H3b.D0X(z1x,i1x,Z1x,F1x,H3b.G0X(9)));H3b.G0X(2);D1x.moveTo(H3b.E0X(Q1x,V1x),H3b.E0X(z1x,i1x,Z1x,F1x,H3b.d0X(9)));H3b.d0X(6);D1x.lineTo(H3b.D0X(G1x,n1x),H3b.D0X(g1x,z1x,Z1x,H3b.d0X(8)));}a1x=l1x.yAxis;F1x=H1x * a1x.multiplier;H3b.d0X(10);z1x=H3b.E0X(2,F1x);h1x=this.layout.candleWidth;O1x=l1x.left - h1x + this.micropixels - 1;for(var Y1x=0;Y1x < x1x.length;Y1x++){O1x+=h1x;o1x=x1x[Y1x];if(!o1x)continue;if(o1x.projection)break;p1x=o1x.pfOpen;A1x=o1x.pfClose;S1x=o1x.pfTrend;C1x=o1x.pfStepBack;if(o1x.transform && f1x.transformFunc){o1x=o1x.transform;p1x=f1x.transformFunc(this,f1x,p1x);A1x=f1x.transformFunc(this,f1x,A1x);}X1x=o1x.cache;H3b.G0X(2);v1x=H3b.D0X(Y1x,k1x);if(v1x < l1x.cacheLeft || v1x > l1x.cacheRight || !X1x.pfOpen){if(a1x.flipped){X1x.pfOpen=a1x.bottom - (a1x.high - p1x) * a1x.multiplier;X1x.pfClose=a1x.bottom - (a1x.high - A1x) * a1x.multiplier;}else {X1x.pfOpen=(a1x.high - p1x) * a1x.multiplier + a1x.top;X1x.pfClose=(a1x.high - A1x) * a1x.multiplier + a1x.top;}}q1x=Math.round(O1x);H3b.d0X(2);s1x=Math.round(H3b.E0X(h1x,O1x));T1x=Math.abs(Math.round((A1x - p1x) / H1x));j1x=X1x.pfOpen;if(P1x == C1x){if(C1x == "X"){H3b.d0X(6);w1x(q1x,s1x,H3b.D0X(F1x,j1x));}else if(C1x == "O"){H3b.d0X(2);K1x(q1x,s1x,H3b.D0X(F1x,j1x));}}if(P1x == S1x){for(;T1x >= 0;T1x--){if(P1x == "X"){w1x(q1x,s1x,j1x,F1x,z1x);j1x-=a1x.flipped?-F1x:F1x;}else if(P1x == ("496" * 1 >= "346.87" * 1?7717 <= 2590?"v":2541 >= 244.38?"O":899.47:(! !{},"3.89e+3" << 1580056256))){K1x(q1x,s1x,j1x,F1x,z1x);j1x+=a1x.flipped?-F1x:F1x;}}}}D1x.stroke();this.endClip();D1x.lineWidth=1;};U0x.ChartEngine.calculateAggregation=function(M2x,r2x,E2x,c2x){var i3j,E3j,R2x,J2x;i3j="linebr";i3j+="eak";E3j="he";r244.L7b();E3j+="i";E3j+="kenashi";J2x=M2x.layout;if(["heikinashi",E3j].indexOf(r2x) > -1){R2x=U0x.calculateHeikinAshi(M2x,E2x,c2x);}else if(r2x == "rangebars"){R2x=U0x.calculateRangeBars(M2x,E2x,J2x.rangebars,c2x);}else if(r2x == "kagi"){R2x=U0x.calculateKagi(M2x,E2x,J2x.kagi,c2x);}else if(r2x == i3j){R2x=U0x.calculateLineBreak(M2x,E2x,J2x.priceLines,c2x);}else if(r2x == "renko"){R2x=U0x.calculateRenkoBars(M2x,E2x,J2x.renko,c2x);}else if(r2x == "pandf"){R2x=U0x.calculatePointFigure(M2x,E2x,J2x.pandf,c2x);}return R2x;};U0x.calculateHeikinAshi=function(j2x,o2x,f2x){var m2x,I2x,d2x,D2x,L2x,u2x,e2x,N2x,U2x,i2x,F2x;if(!o2x.length){return o2x;}if(!f2x){f2x=[];}m2x=[];r244.m7b();for(var a2x=0;a2x < o2x.length;a2x++){I2x=o2x[a2x];if(!I2x)continue;d2x=m2x[m2x.length - 1];if(!d2x && !a2x){d2x=f2x[f2x.length - 1];}if(!d2x){d2x=I2x;}D2x=I2x.Close;L2x=I2x.Open;u2x=I2x.High;e2x=I2x.Low;N2x=d2x.Open;L2x=L2x || L2x === 0?L2x:D2x;u2x=u2x || u2x === 0?u2x:D2x;e2x=e2x || e2x === 0?e2x:D2x;N2x=N2x || N2x === 0?N2x:d2x.Close;U2x=(N2x + d2x.Close) / 2;r244.d0X(11);i2x=r244.D0X(L2x,4,u2x,e2x,D2x);F2x={DT:I2x.DT,displayDate:I2x.displayDate,Date:I2x.Date,Open:U2x,Close:i2x,High:Math.max(u2x,Math.max(U2x,i2x)),Low:Math.min(e2x,Math.min(U2x,i2x)),Volume:I2x.Volume,iqPrevClose:d2x.Close};for(var z2x in I2x){if(!F2x[z2x] && F2x[z2x] !== 0){F2x[z2x]=I2x[z2x];}}m2x.push(F2x);}return m2x;};U0x.calculateKagi=function(B2x,p2x,g2x,q2x){var s2x,G2x,Y3j,Q2x,X2x,O2x,P2x,h2x,l2x;if(!p2x.length){return p2x;}if(!q2x){q2x=[];}s2x=B2x.layout;r244.m7b();G2x=B2x.chart;g2x=parseFloat(g2x);G2x.defaultChartStyleConfig.kagi=U0x.ChartEngine.isDailyInterval(s2x.interval)?"4" - 0:0.4;if(isNaN(g2x) || g2x <= "0" * 1){g2x=G2x.defaultChartStyleConfig.kagi;if(U0x.Market.Symbology.isForexSymbol(G2x.symbol)){g2x/=4;}if(s2x.kagi !== null){Y3j="l";Y3j+="ay";Y3j+="o";Y3j+="ut";s2x.kagi=null;B2x.changeOccurred(Y3j);}}g2x/=100;Q2x=[];X2x=q2x[q2x.length - 1];O2x=X2x?X2x.DT:0;for(var A2x=0;A2x < p2x.length;A2x++){P2x=p2x[A2x];if(!P2x)continue;if(!X2x){r244.d0X(6);X2x=p2x[r244.D0X(1,A2x)];}if(!X2x)continue;h2x=X2x.Open || X2x.Open === 0?X2x.Open:X2x.Close;if(h2x > X2x.Close){if(P2x.Close > X2x.Close * (1 + g2x)){P2x.Open=X2x.Close;}else {if(X2x.Close > P2x.Close){X2x.Close=P2x.Close;}X2x.Volume+=P2x.Volume;if(A2x < p2x.length - 1)continue;}}else if(h2x < X2x.Close){if(P2x.Close < X2x.Close * (1 - g2x)){P2x.Open=X2x.Close;}else {if(X2x.Close < P2x.Close){X2x.Close=P2x.Close;}X2x.Volume+=P2x.Volume;if(A2x < p2x.length - 1)continue;}}else {X2x.Close=P2x.Close;X2x.Volume+=P2x.Volume;if(A2x < p2x.length - +"1")continue;}l2x={DT:X2x.DT,displayDate:X2x.displayDate,Date:X2x.Date,Open:X2x.Open,Close:X2x.Close,High:Math.max(X2x.Open,X2x.Close),Low:Math.min(X2x.Open,X2x.Close),Volume:X2x.Volume,iqPrevClose:X2x.iqPrevClose};for(var Y2x in X2x){if(!l2x[Y2x] && l2x[Y2x] !== "0" >> 186616800){l2x[Y2x]=X2x[Y2x];}}if(Q2x.length){l2x.kagiPrevOpen=Q2x[Q2x.length - 1].Open;}else {l2x.kagiPrevOpen=l2x.Open;}if(l2x.Close > l2x.kagiPrevOpen && l2x.kagiPrevOpen > l2x.Open){l2x.kagiTrend=+"1";}else if(l2x.Close < l2x.kagiPrevOpen && l2x.kagiPrevOpen < l2x.Open){l2x.kagiTrend=-1;}if(O2x < l2x.DT){Q2x.push(l2x);}X2x=P2x;G2x.currentQuote={Close:P2x.Close};}return Q2x;};U0x.calculateLineBreak=function(R3x,n2x,H2x,r3x){var b3x,W3x,w3j,T2x,E3x,t3x,C2x,v2x,y2x,k2x,S2x,w2x,x2x,K2x,Z2x;if(!n2x.length){return n2x;}if(!r3x){r3x=[];}b3x=R3x.layout;W3x=R3x.chart;r244.G0X(12);W3x.defaultChartStyleConfig.priceLines=r244.D0X(0,"3");H2x=parseInt(H2x,10);if(isNaN(H2x) || H2x <= 0){H2x=W3x.defaultChartStyleConfig.priceLines;if(b3x.priceLines !== null){w3j="layo";w3j+="ut";b3x.priceLines=null;R3x.changeOccurred(w3j);}}else if(H2x > 10){b3x.priceLines=H2x=10;}T2x=r3x.slice(-H2x);E3x=T2x.length;t3x=0;a:for(var M3x=0;M3x < n2x.length;M3x++){C2x=n2x[M3x];if(!C2x)continue;t3x+=C2x.Volume;v2x=T2x[T2x.length - 1];if(!v2x){v2x={Open:C2x.Open,Close:C2x.Open,High:C2x.Open,Low:C2x.Open};}y2x=v2x.Close;k2x=v2x.High;S2x=v2x.Low;w2x=v2x.Open;k2x=k2x || k2x === 0?k2x:y2x;S2x=S2x || S2x === +"0"?S2x:y2x;w2x=w2x || w2x === 0?w2x:y2x;x2x={DT:C2x.DT,displayDate:C2x.displayDate,Date:C2x.Date,Close:C2x.Close,Volume:t3x,iqPrevClose:y2x};W3x.currentQuote={Close:C2x.Close};if(C2x.Close > y2x && v2x.Close > w2x){;}else if(C2x.Close < y2x && v2x.Close < w2x){;}else if(C2x.Close > k2x){for(K2x=2;K2x <= H2x;K2x++){Z2x=T2x[T2x.length - K2x];if(Z2x && C2x.Close <= Z2x.High){continue a;}}}else if(C2x.Close < S2x){for(K2x=2;K2x <= H2x;K2x++){Z2x=T2x[T2x.length - K2x];if(Z2x && C2x.Close >= Z2x.Low){continue a;}}}else continue;if(C2x.Close < v2x.Close){x2x.Open=Math.min(w2x,y2x);}else {x2x.Open=Math.max(w2x,y2x);}x2x.Low=Math.min(x2x.Open,x2x.Close);x2x.High=Math.max(x2x.Open,x2x.Close);for(var V2x in C2x){if(!x2x[V2x] && x2x[V2x] !== 0){x2x[V2x]=C2x[V2x];}}T2x.push(x2x);t3x=0;}return T2x.slice(E3x);};U0x.calculateRenkoBars=function(m3x,J3x,c3x,a3x){var k3b=r244;var b3j,D3x,L3x,N3x,P3x,f3x,F3x,U3x,I3x,d3x,u3x,i3x,e3x,j3x,X3x,l3x;b3j="L";b3j+="o";b3j+="w";if(!J3x.length){return [];}if(!a3x){a3x=[];}D3x=m3x.layout;L3x=m3x.chart;function z3x(g3x,p3x){var A3x;g3x=Number(g3x.toFixed(8));p3x=Number(p3x.toFixed(8));A3x={DT:u3x.DT,displayDate:u3x.displayDate,Date:u3x.Date,Open:g3x,Close:p3x,High:Math.max(g3x,p3x),Low:Math.min(g3x,p3x),Volume:0,iqPrevClose:g3x != p3x?g3x:null};for(var Q3x in u3x){if(!A3x[Q3x] && A3x[Q3x] !== "0" << 1314506880){A3x[Q3x]=u3x[Q3x];}}U3x.push(A3x);}N3x=L3x.state.aggregation;if(!N3x){N3x=L3x.state.aggregation={};}P3x=Math.min(300,J3x.length);if(!N3x.minMax){N3x.minMax=m3x.determineMinMax(J3x.slice(J3x.length - P3x),["Close","High",b3j]);}f3x=N3x.minMax[+"1"] - N3x.minMax[0];F3x=m3x.panels[L3x.name].height;if(!F3x){return [];}L3x.defaultChartStyleConfig.renko=Math.floor(10000 * f3x / (F3x / 30)) / ("10000" - 0);if(c3x === null || isNaN(c3x) || c3x <= 0){c3x=L3x.defaultChartStyleConfig.renko;if(D3x.renko !== null){D3x.renko=null;m3x.changeOccurred("layout");}}else {k3b.d0X(10);c3x=Math.max(c3x,k3b.D0X(F3x,f3x));if(D3x.renko !== c3x){D3x.renko=c3x;m3x.changeOccurred("layout");}}U3x=[];I3x=null;d3x=null;u3x=null;if(a3x.length){i3x=a3x[a3x.length - 1];I3x=i3x.Low - c3x;d3x=i3x.High + c3x;}for(var o3x=0;o3x < J3x.length;o3x++){e3x=J3x[o3x];if(!e3x)continue;if(!I3x && !d3x){j3x=e3x.Open || e3x.Open === 0?e3x.Open:e3x.Close;X3x=Math.floor(j3x / c3x) * c3x;l3x=isNaN(X3x)?j3x:X3x;k3b.G0X(6);I3x=k3b.D0X(c3x,l3x);k3b.d0X(2);d3x=k3b.D0X(c3x,l3x);}while(! !1){if(!u3x){u3x=e3x;}if(e3x.Close <= I3x){k3b.G0X(2);z3x(k3b.E0X(c3x,I3x),I3x);k3b.G0X(13);d3x=k3b.D0X(2,I3x,c3x);I3x-=c3x;u3x=null;}else if(e3x.Close >= d3x){k3b.G0X(6);z3x(k3b.D0X(c3x,d3x),d3x);k3b.d0X(14);I3x=k3b.E0X(1861520448,c3x,d3x,"2");d3x+=c3x;u3x=null;}else break;}L3x.currentQuote=e3x;}if(I3x < J3x[J3x.length - ("1" >> 29970080)].Close && I3x + c3x > J3x[J3x.length - 1].Close){k3b.G0X(2);z3x(k3b.D0X(c3x,I3x),J3x[J3x.length - 1].Close);}else if(d3x > J3x[J3x.length - 1].Close && d3x - c3x < J3x[J3x.length - 1].Close){k3b.d0X(6);z3x(k3b.D0X(c3x,d3x),J3x[J3x.length - 1].Close);}return U3x;};U0x.calculateRangeBars=function(k3x,O3x,Y3x,V3x){var c3b=r244;var L3j,Z3x,S3x,y3x,r7x,W7x,n3x,U3j,t7x,G3x,C3x,x3x,b7x,H3x,q3x,K3x,T3x,s3x,B3x,h3x,R7x,c7x;L3j="C";L3j+="l";L3j+="os";L3j+="e";if(!O3x.length){return O3x;}if(!V3x){V3x=[];}Z3x=k3x.layout;S3x=k3x.chart;y3x=S3x.state.aggregation;if(!y3x){y3x=S3x.state.aggregation={};}r7x=Math.min(300,O3x.length);if(!y3x.minMax){y3x.minMax=k3x.determineMinMax(O3x.slice(O3x.length - r7x),[L3j,"High","Low"]);}function M7x(){c3b.m7b();c3b.G0X(2);C3x=c3b.D0X(Y3x,G3x);c3b.G0X(6);x3x=c3b.E0X(Y3x,G3x);b7x=G3x;}W7x=y3x.minMax[1] - y3x.minMax[+"0"];n3x=k3x.panels[S3x.name].height;if(!n3x){return [];}S3x.defaultChartStyleConfig.range=Math.floor(+"10000" * W7x / (n3x / ("30" - 0))) / 10000;if(Y3x === null || isNaN(Y3x) || Y3x < "0" >> 139334816){Y3x=S3x.defaultChartStyleConfig.range;if(Z3x.range !== null){U3j="l";U3j+="ayo";U3j+="u";U3j+="t";Z3x.range=null;k3x.changeOccurred(U3j);}}else {c3b.d0X(10);Y3x=Math.max(Y3x,c3b.D0X(n3x,W7x));if(Z3x.range !== Y3x){Z3x.range=Y3x;k3x.changeOccurred("layout");}}function w3x(e7x,u7x){c3b.m7b();var B3j,d3j;while(+"1"){B3j="un";B3j+="defi";B3j+="n";B3j+="ed";if(!H3x){H3x=e7x;}if(G3x < u7x){G3x=Math.min(u7x,C3x);c3b.G0X(6);x3x=Math.max(x3x,c3b.E0X(Y3x,G3x));if(u7x < C3x)break;}else if(G3x >= u7x){G3x=Math.max(u7x,x3x);c3b.G0X(2);C3x=Math.min(C3x,c3b.D0X(Y3x,G3x));if(u7x > x3x)break;}if(typeof G3x == B3j){d3j="Uh oh undefined in calculateRangeBars:p";d3j+="rocessMove";console.log(d3j);return;}E7x(G3x);H3x=null;M7x();}}function E7x(d7x){var J7x;J7x={DT:H3x.DT,displayDate:H3x.displayDate,Date:H3x.Date,Open:Number(b7x.toFixed(8)),Close:Number(d7x.toFixed(+"8")),High:Number(C3x.toFixed(8)),Low:Number(x3x.toFixed(8)),Volume:0};c3b.L7b();J7x.iqPrevClose=J7x.Open;for(var I7x in H3x){if(!J7x[I7x] && J7x[I7x] !== +"0"){J7x[I7x]=H3x[I7x];}}t7x.push(J7x);}t7x=[];G3x=null;C3x=null;x3x=null;b7x=null;H3x=null;for(var v3x=0;v3x < O3x.length;v3x++){q3x=O3x[v3x];if(!q3x)continue;c3b.d0X(15);K3x=O3x[c3b.D0X("1",v3x,1)];if(!v3x){if(!K3x){K3x=V3x[V3x.length - 1];}if(K3x){G3x=K3x.Close;if(G3x || G3x === 0){M7x();}}}if(!K3x)continue;T3x=q3x.Close;s3x=q3x.Open;B3x=q3x.High;h3x=q3x.Low;if(!T3x && T3x !== 0)continue;s3x=s3x || s3x === +"0"?s3x:T3x;B3x=B3x || B3x === 0?B3x:T3x;h3x=h3x || h3x === 0?h3x:T3x;if(!G3x && G3x !== ("0" | 0)){R7x=Math.floor(s3x / Y3x) * Y3x;G3x=isNaN(R7x)?s3x:R7x;M7x();w3x(K3x,s3x);}if(v3x){w3x(q3x,s3x);}if(B3x - s3x < s3x - h3x){if(B3x){w3x(q3x,B3x);}if(h3x){w3x(q3x,h3x);}}else {if(h3x){w3x(q3x,h3x);}if(B3x){w3x(q3x,B3x);}}w3x(q3x,T3x);if(v3x == O3x.length - 1 && T3x != b7x){c7x=C3x;c3b.d0X(2);C3x=c3b.E0X(Y3x,x3x);c3b.G0X(6);x3x=c3b.E0X(Y3x,c7x);E7x(T3x);}}return t7x;};U0x.calculatePointFigure=function(Q7x,G7x,q7x,s7x){var T3b=r244;var o7x,i7x,B7x,L7x,n3j,F7x,j7x,I1v,z1v,y1v,R3j,L6v,U6v,B6v,p7x,A7x,P7x,z7x,D7x,f7x,N7x,U7x,g7x,m7x,a7x,X7x,l7x;if(!G7x.length){return G7x;}if(!s7x){s7x=[];}o7x=Q7x.layout;i7x=Q7x.chart;B7x=i7x.state.aggregation;function O7x(T7x,H7x){for(var x7x in T7x){if(!H7x[x7x] && H7x[x7x] !== 0){H7x[x7x]=T7x[x7x];}}return H7x;}if(!B7x){B7x=i7x.state.aggregation={};}T3b.G0X(12);i7x.defaultChartStyleConfig.box=T3b.D0X(0,"1");i7x.defaultChartStyleConfig.reversal=3;if(!q7x){q7x={};}L7x=q7x.box;if(!L7x){if(o7x.pandf){if(o7x.pandf.box !== null){n3j="lay";n3j+="out";o7x.pandf.box=null;Q7x.changeOccurred(n3j);}}L7x=i7x.defaultChartStyleConfig.box;F7x=G7x[G7x.length - 1].Close;if(F7x){if(F7x < 0.25){L7x=0.0625;}else if(F7x < ("1" ^ 0)){L7x=0.125;}else if(F7x < ("5" ^ 0)){L7x=0.25;}else if(F7x < 20){L7x=0.5;}else if(F7x < 100){L7x=1;}else if(F7x < 200){L7x=2;}else if(F7x < "500" << 1354528448){L7x=4;}else if(F7x < "1000" - 0){L7x=5;}else if(F7x < 25000){L7x=50;}else {L7x=500;}}if(!U0x.ChartEngine.isDailyInterval(o7x.interval)){L7x/=10;}if(U0x.Market.Symbology.isForexSymbol(i7x.symbol)){if(F7x){if(F7x < 1){L7x=0.001;}else if(F7x < 2){T3b.G0X(6);L7x=T3b.D0X(0,"0.002");}else if(F7x < "50" - 0){L7x=0.02;}else if(F7x < 200){L7x=0.2;}}if(U0x.ChartEngine.isDailyInterval(o7x.interval)){L7x*=10;}}i7x.defaultChartStyleConfig.box=L7x;}L7x=parseFloat(L7x);if(isNaN(L7x) || L7x <= 0){if(o7x.pandf){if(o7x.pandf.box !== null){o7x.pandf.box=null;Q7x.changeOccurred("layout");}}i7x.defaultChartStyleConfig.box=L7x=1;}j7x=Math.ceil(parseFloat(q7x.reversal));function Y7x(v7x,y7x,w7x,K7x,k7x){v7x.High=Math.max(y7x,v7x.High);v7x.Low=Math.min(w7x,v7x.Low);v7x.Close=K7x;v7x.Volume+=k7x;}if(j7x > 0 && j7x > q7x.reversal){I1v=1994908828;z1v=977368232;y1v=2;for(var m1v=+"1";T3b.n5h(m1v.toString(),m1v.toString().length,77343) !== I1v;m1v++){R3j="l";R3j+="ay";R3j+="ou";R3j+="t";o7x.pandf.reversal=j7x;Q7x.changeOccurred(R3j);y1v+=2;}if(T3b.n5h(y1v.toString(),y1v.toString().length,41823) !== z1v){o7x.pandf.reversal=j7x;Q7x.changeOccurred("");}}else if(isNaN(j7x) || j7x <= 0){if(o7x.pandf){if(o7x.pandf.reversal !== null){o7x.pandf.reversal=null;L6v=628328872;U6v=1875712911;T3b.d0X(16);B6v=T3b.E0X("2",1);for(var n6v=1;T3b.d5h(n6v.toString(),n6v.toString().length,56781) !== L6v;n6v++){Q7x.changeOccurred("layout");B6v+=2;}if(T3b.n5h(B6v.toString(),B6v.toString().length,+"98031") !== U6v){Q7x.changeOccurred("");}}}j7x=i7x.defaultChartStyleConfig.reversal;}B7x.box=L7x;j7x*=L7x;p7x=0.00000001;A7x=(L7x.toString() + (+"6350" < (8775,4680)?(220.10,! !0):(954.2,380) != (559.53,7253)?".":500.35 >= +"271.27"?(0x1370,"j"):658.44)).split(".")[1].length;P7x=[];function C7x(S7x,Z7x,V7x,n7x,b5x,W5x,t5x,M5x,R5x){T3b.m7b();return {DT:S7x.DT,Date:S7x.Date,pfOpen:M5x,pfClose:R5x,Open:Z7x,Close:b5x,High:V7x,Low:n7x,Volume:W5x,iqPrevClose:t5x};}z7x=0;for(var h7x=0;h7x < G7x.length;h7x++){f7x=G7x[h7x];if(!f7x)continue;z7x+=f7x.Volume;U7x=f7x.Close;g7x=f7x.Open;m7x=f7x.High;a7x=f7x.Low;g7x=g7x || g7x === 0?g7x:U7x;m7x=m7x || m7x === ("0" ^ 0)?m7x:U7x;a7x=a7x || a7x === 0?a7x:U7x;if(!P7x.length && !s7x.length){D7x=O7x(f7x,C7x(f7x,g7x,m7x,a7x,U7x,z7x,m7x + L7x,Number((Math.ceil(a7x / L7x - p7x) * L7x).toFixed(A7x)),Number((Math.floor(m7x / L7x + p7x) * L7x).toFixed(A7x))));D7x.pfTrend=(691,5099) >= 169.26?7042 <= (3423,3870)?(606.82,"x"):"X":(43,! ![]);if(D7x.pfOpen == D7x.pfClose){D7x.pfStepBack=787.5 >= 726?"-":948.81 !== (201.91,6438)?(+"3.50e+3",441.81):(0xfaa,600.95);}P7x.push(D7x);z7x=0;continue;}N7x=P7x[P7x.length - 1];if(!N7x){N7x=U0x.clone(s7x[s7x.length - 1]);}if(N7x.pfTrend == "O"){if(a7x <= N7x.pfClose - L7x){N7x.pfClose=Number((Math.ceil(a7x / L7x - p7x) * L7x).toFixed(A7x));if(N7x.pfStepBack == (("8590" - 0,85.17) === (+"703",423.53)?(1920,9916) == 47.26?0x1948:("E",645.70):"O")){N7x.pfStepBack=null;}Y7x(N7x,m7x,a7x,U7x,z7x);}else if(m7x >= N7x.pfClose + j7x){X7x=N7x.pfClose + L7x;l7x=Number((Math.floor(m7x / L7x + p7x) * L7x).toFixed(A7x));D7x=C7x(f7x,g7x,m7x,a7x,U7x,z7x,N7x.pfClose,X7x,l7x);if(X7x == l7x){D7x.pfStepBack="X";}if(N7x.pfStepBack == ((480.55,22) < (7460,2830)?"O":(463.60,9.73e+2))){N7x.pfOpen=X7x;N7x.pfClose=l7x;N7x.pfTrend=(9980,8330) >= 2537?"X":+"6934" != (318.04,3470)?8520 != 2472?(4.82e+3,! !0):"v":(+"866.07",!"");Y7x(N7x,m7x,a7x,U7x,z7x);}else {D7x=O7x(f7x,D7x);D7x.pfTrend="X";P7x.push(D7x);}}else {Y7x(N7x,m7x,a7x,U7x,z7x);}z7x=0;}else if(N7x.pfTrend == "X"){if(m7x >= N7x.pfClose + L7x){N7x.pfClose=Number((Math.floor(m7x / L7x + p7x) * L7x).toFixed(A7x));if(N7x.pfStepBack == (("1258" ^ 0,6025) != (4520,4300)?(8718,4014) < 958?!1:"X":(!"1",3.41e+3)) || N7x.pfStepBack == ((3319,8400) != (2807,+"9770")?148.51 === (708.77,1730)?(340.42,! ![]):"-":(439.56,0x175b))){N7x.pfStepBack=null;}Y7x(N7x,m7x,a7x,U7x,z7x);}else if(a7x <= N7x.pfClose - j7x){X7x=N7x.pfClose - L7x;l7x=Number((Math.ceil(a7x / L7x - p7x) * L7x).toFixed(A7x));D7x=C7x(f7x,g7x,m7x,a7x,U7x,z7x,N7x.pfClose,X7x,l7x);if(X7x == l7x){D7x.pfStepBack="O";}if(N7x.pfStepBack == ("249.23" - 0 === ("4940" >> 1815705312,"3736" - 0)?(! !"",1.11e+3):"X") || N7x.pfStepBack == ((752.48,2570) <= (132.67,615.77)?"916" << 989393568:"-")){N7x.pfOpen=X7x;N7x.pfClose=l7x;N7x.pfTrend=(964,6970) < (9155,8760)?"O":("9550" ^ 0) != 701.81?(0x1ec4,+"0x631"):6.65e+3;Y7x(N7x,m7x,a7x,U7x,z7x);if(X7x != l7x && N7x.pfStepBack == "-"){N7x.pfStepBack=null;}}else {D7x=O7x(f7x,D7x);D7x.pfTrend=(789,"66" | 66) >= (7310,942.32)?"x":"O";P7x.push(D7x);}}else {Y7x(N7x,m7x,a7x,U7x,z7x);}z7x=0;}}return P7x;};};t8S=c5x=>{var p3b=r244;var k3j,r5x,E5x,c7j,D7j,l7j,S7j,x8j,r8j,u8j,A8j,H8j,q8j,e2j,h2j,J2j,N2j,M2j,Z2j,X2j;k3j="undefin";k3j+="ed";p3b.m7b();r5x=typeof _CIQ !== k3j?_CIQ:c5x.CIQ;E5x=typeof _timezoneJS !== "undefined"?_timezoneJS:c5x.timezoneJS;if(!r5x.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {c7j="cq-wave-par";c7j+="amet";c7j+="er";c7j+="s";D7j="f";D7j+="o";D7j+="n";D7j+="t";l7j="patter";l7j+="n";S7j="I";S7j+="I";x8j="f";x8j+="o";x8j+="nt";r8j="lin";r8j+="eWidth";u8j="cq-cvp-co";u8j+="ntroller[cq-";u8j+="cvp-header=\"3\"]";A8j="a";A8j+="ctive3";H8j="c";H8j+="o";H8j+="l";H8j+="or";q8j="c";q8j+="ol";q8j+="o";q8j+="r";e2j="par";e2j+="ameters";h2j="col";h2j+="o";h2j+="r";J2j="p";J2j+="v";N2j="f";N2j+="o";N2j+="n";N2j+="t";M2j="c";M2j+="olor";Z2j="fi";Z2j+="ll";Z2j+="C";Z2j+="olor";X2j="l";X2j+="ineWidth";r5x.Drawing.ray=function(){var I3j,z3j,y3j;I3j=73241313;z3j=1168117211;y3j=+"2";for(var m3j=1;p3b.n5h(m3j.toString(),m3j.toString().length,"90301" * 1) !== I3j;m3j++){this.name="ray";y3j+=2;}if(p3b.n5h(y3j.toString(),y3j.toString().length,16048) !== z3j){this.name="";}};r5x.inheritsFrom(r5x.Drawing.ray,r5x.Drawing.line);r5x.Drawing.ray.prototype.calculateOuterSet=function(d5x){var J5x,I5x,R6v,k6v,v6v,r1j,x1j,E1j;if(this.p0[0] == this.p1[0] || this.p0[+"1"] == this.p1[1] || r5x.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}J5x={x0:this.p0["0" * 1],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};I5x=J5x.x1 + 1000;if(J5x.x0 > J5x.x1){R6v=1379180365;k6v=1434398418;v6v=2;for(var Z1j=+"1";p3b.n5h(Z1j.toString(),Z1j.toString().length,24610) !== R6v;Z1j++){I5x=J5x.x1 / +"4149";v6v+=+"2";}if(p3b.d5h(v6v.toString(),v6v.toString().length,33537) !== k6v){I5x=J5x.x1 / 4149;}I5x=J5x.x1 - 1000;}this.v0B=this.v0;r1j=-1871298949;x1j=-574025055;E1j=2;for(var Y1j=1;p3b.n5h(Y1j.toString(),Y1j.toString().length,47950) !== r1j;Y1j++){this.v1B=r5x.yIntersection(J5x,I5x);this.d0B=this.d0;E1j+=2;}if(p3b.d5h(E1j.toString(),E1j.toString().length,71017) !== x1j){this.v1B=r5x.yIntersection(J5x,I5x);this.d0B=this.d0;}this.d1B=this.stx.dateFromTick(I5x,d5x.chart);};r5x.Drawing.ray.prototype.adjust=function(){var u5x;u5x=this.stx.panels[this.panelName];if(!u5x){return;}this.setPoint(0,this.d0,this.v0,u5x.chart);this.setPoint(1,this.d1,this.v1,u5x.chart);if(r5x.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,u5x.chart);}};r5x.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};this.maxSegments=null;};r5x.inheritsFrom(r5x.Drawing.continuous,r5x.Drawing.segment);r5x.Drawing.continuous.prototype.click=function(F5x,L5x,N5x){var e5x,a5x,m5x,D5x;p3b.L7b();e5x=this.stx.panels[this.panelName];if(!e5x){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,L5x,N5x,e5x.chart);this.penDown=! !{};return !1;}if(this.accidentalClick(L5x,N5x)){this.stx.undo();return !0;}this.setPoint(1,L5x,N5x,e5x.chart);a5x=r5x.Drawing.segment;m5x=new a5x();D5x=this.serialize(this.stx);m5x.reconstruct(this.stx,D5x);this.stx.addDrawing(m5x);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !0;}this.setPoint(+"0",L5x,N5x,e5x.chart);return ! !"";};r5x.Drawing.ellipse=function(){var v3j;v3j="elli";v3j+="pse";this.name=v3j;};r5x.inheritsFrom(r5x.Drawing.ellipse,r5x.Drawing.BaseTwoPoint);r5x.Drawing.ellipse.prototype.render=function(z5x){var U5x,Y5x,l5x,P5x,g5x,i5x,p5x,A5x,Q5x,G5x,j5x,o5x,f5x,X5x,q5x;U5x=this.stx.panels[this.panelName];if(!U5x){return;}Y5x=this.stx.pixelFromTick(this.p0[0],U5x.chart);l5x=this.stx.pixelFromTick(this.p1[0],U5x.chart);P5x=this.stx.pixelFromValueAdjusted(U5x,this.p0[0],this.p0[1]);g5x=this.stx.pixelFromValueAdjusted(U5x,this.p1[0],this.p1[1]);p3b.d0X(17);i5x=p3b.D0X(Y5x,Y5x,l5x);p5x=l5x;A5x=P5x;Q5x=g5x;p3b.G0X(17);G5x=p3b.E0X(P5x,P5x,g5x);p3b.G0X(18);j5x=p3b.E0X(G5x,6,Q5x);o5x=this.lineWidth;if(!o5x){o5x=1.1;}f5x=this.color;if(f5x == "auto" || r5x.isTransparent(f5x)){f5x=this.stx.defaultColor;}if(this.highlighted){f5x=this.stx.getCanvasColor("stx_highlight_vector");if(o5x == 0.1){o5x=1.1;}}X5x=this.fillColor;z5x.beginPath();z5x.moveTo(i5x,A5x);p3b.G0X(2);p3b.L7b();z5x.bezierCurveTo(i5x,p3b.E0X(j5x,Q5x),p5x,p3b.E0X(j5x,Q5x),p5x,A5x);p3b.G0X(6);z5x.bezierCurveTo(p5x,p3b.E0X(j5x,G5x),i5x,p3b.D0X(j5x,G5x),i5x,A5x);if(X5x && !r5x.isTransparent(X5x) && X5x != "auto"){z5x.fillStyle=X5x;z5x.globalAlpha=0.2;z5x.fill();z5x.globalAlpha=+"1";}if(f5x && this.pattern != "none"){z5x.strokeStyle=f5x;z5x.lineWidth=o5x;if(z5x.setLineDash){z5x.setLineDash(r5x.borderPatternToArray(o5x,this.pattern));z5x.lineDashOffset=0;;}z5x.stroke();}z5x.closePath();if(this.highlighted){q5x=this.highlighted == "p1"?! !"1":! !0;this.littleCircle(z5x,l5x,g5x,q5x);}};r5x.Drawing.ellipse.prototype.intersected=function(x5x,H5x,s5x){var B5x,h5x,O5x,C5x;if(!this.p0 || !this.p1){return null;}p3b.L7b();if(this.pointIntersection(this.p1[0],this.p1[+"1"],s5x)){this.highlighted="p1";return {action:"drag",point:"p1"};}B5x=this.p0[0] - (this.p1[+"0"] - this.p0[+"0"]);p3b.G0X(6);h5x=this.p1[p3b.D0X(0,"0")];O5x=this.p1[1];C5x=this.p0[1] - (this.p1[1] - this.p0[1]);if(s5x.x0 > Math.max(B5x,h5x) || s5x.x1 < Math.min(B5x,h5x)){return !"1";}if(s5x.y1 > Math.max(C5x,O5x) || s5x.y0 < Math.min(C5x,O5x)){return !1;}this.highlighted=! !1;return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:x5x,value:H5x};};r5x.Drawing.ellipse.prototype.configs=["color","fillColor",X2j,"pattern"];r5x.Drawing.ellipse.prototype.reconstruct=function(v5x,T5x){this.stx=v5x;this.color=T5x.col;this.fillColor=T5x.fc;this.panelName=T5x.pnl;this.pattern=T5x.ptrn;this.lineWidth=T5x.lw;this.d0=T5x.d0;this.d1=T5x.d1;this.tzo0=T5x.tzo0;this.tzo1=T5x.tzo1;this.v0=T5x.v0;this.v1=T5x.v1;this.adjust();};r5x.Drawing.ellipse.prototype.serialize=function(){p3b.L7b();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};r5x.Drawing.channel=function(){this.name="channel";this.dragToDraw=!{};this.p2=null;};r5x.inheritsFrom(r5x.Drawing.channel,r5x.Drawing.segment);r5x.Drawing.channel.prototype.configs=["color",Z2j,"lineWidth","pattern"];r5x.Drawing.channel.prototype.move=function(k5x,y5x,w5x){var K5x;if(!this.penDown){return;}p3b.m7b();this.copyConfig();if(this.p2 === null){this.p1=[y5x,w5x];}else {K5x=w5x - (this.p1[1] - this.p0[1]) / (this.p1[0] - this.p0[0]) * (y5x - this.p1[0]);this.p2=[this.p1[0],K5x];}this.render(k5x);};r5x.Drawing.channel.prototype.click=function(n5x,Z5x,V5x){var S5x,h6v,e6v,o6v;S5x=this.stx.panels[this.panelName];if(!S5x){return;}h6v=-291555404;e6v=+"211532148";p3b.G0X(19);o6v=p3b.D0X("2",2147483647);for(var A6v="1" ^ 0;p3b.n5h(A6v.toString(),A6v.toString().length,7249) !== h6v;A6v++){this.copyConfig();p3b.G0X(16);o6v+=p3b.D0X("2",1);}p3b.m7b();if(p3b.n5h(o6v.toString(),o6v.toString().length,89966) !== e6v){this.copyConfig();}this.copyConfig();if(!this.penDown){this.setPoint(0,Z5x,V5x,S5x.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(Z5x,V5x)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],S5x.chart);this.penDown=!1;return !"";}p3b.G0X(12);this.setPoint(p3b.D0X(0,"1"),Z5x,V5x,S5x.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !{};}this.p2=[this.p1[0],this.p1[1]];return ![];};r5x.Drawing.channel.prototype.boxIntersection=function(R6x,c6x,t6x){var b6x,W6x,M6x,r6x,E6x;b6x=this.p0;W6x=this.p1;M6x=this.p2;if(!b6x || !W6x || !M6x){return !{};}if(t6x.x0 > Math.max(b6x["0" * 1],W6x[0]) || t6x.x1 < Math.min(b6x[0],W6x[+"0"])){return !{};}r6x=(W6x[0] - b6x[0]) * ((M6x[1] < b6x[1]?t6x.y1:t6x.y0) - b6x[1]) - (W6x[1] - b6x[1]) * (R6x - b6x[0]);E6x=(M6x[0] - b6x[0]) * ((M6x[1] > b6x[1]?t6x.y1:t6x.y0) - (b6x[1] + M6x[1] - W6x[1])) - (W6x[1] - b6x[1]) * (R6x - b6x[0]);p3b.G0X(20);return p3b.D0X(E6x,r6x,1,"0");};r5x.Drawing.channel.prototype.intersected=function(d6x,u6x,e6x){var I6x;if(!this.p0 || !this.p1 || !this.p2){return null;}I6x={0:this.p0,1:this.p1,2:this.p2};for(var J6x in I6x){if(this.pointIntersection(I6x[J6x][0],I6x[J6x]["1" | 1],e6x)){p3b.d0X(2);this.highlighted=p3b.D0X(J6x,"p");return {action:"drag",point:"p" + J6x};}}if(this.boxIntersection(d6x,u6x,e6x)){this.highlighted=! !{};return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),p2:r5x.clone(this.p2),tick:d6x,value:u6x};}return null;};r5x.Drawing.channel.prototype.render=function(L6x){var N6x,D6x,m6x,F6x,z6x,a6x,i6x,U6x,o6x,f6x,O2j,p2j,j6x,X6x,l6x;N6x=this.stx.panels[this.panelName];if(!N6x){return;}D6x=this.stx.pixelFromTick(this.p0[0],N6x.chart);m6x=this.stx.pixelFromTick(this.p1[0],N6x.chart);F6x=this.stx.pixelFromValueAdjusted(N6x,this.p0[+"0"],this.p0[1]);z6x=this.stx.pixelFromValueAdjusted(N6x,this.p1[0],this.p1[1]);a6x=null;if(this.p2){a6x=this.stx.pixelFromValueAdjusted(N6x,this.p2["0" >> 1810994272],this.p2[1]);}i6x=this.lineWidth;U6x=this.getLineColor();o6x=this.fillColor;if(this.p2 && o6x && !r5x.isTransparent(o6x) && o6x != "auto"){L6x.beginPath();L6x.moveTo(D6x,F6x);L6x.lineTo(m6x,z6x);L6x.lineTo(m6x,a6x);p3b.G0X(21);L6x.lineTo(D6x,p3b.E0X(a6x,F6x,z6x));L6x.closePath();L6x.globalAlpha=0.2;L6x.fillStyle=o6x;L6x.fill();p3b.d0X(12);L6x.globalAlpha=p3b.E0X(0,"1");}f6x={pattern:this.pattern,lineWidth:i6x};if((this.penDown || this.highlighted) && this.pattern == "none"){f6x.pattern="dotted";}p3b.m7b();this.stx.plotLine(D6x,m6x,F6x,z6x,U6x,"segment",L6x,N6x,f6x);if(this.p2){p3b.d0X(21);this.stx.plotLine(D6x,m6x,p3b.E0X(a6x,F6x,z6x),a6x,U6x,"segment",L6x,N6x,f6x);}if(this.highlighted){O2j="p";O2j+="2";p2j="p";p2j+="0";j6x=this.highlighted == p2j?! ![]:!"1";X6x=this.highlighted == "p1"?! !{}:![];l6x=this.highlighted == O2j?! !{}:!1;this.littleCircle(L6x,D6x,F6x,j6x);this.littleCircle(L6x,m6x,z6x,X6x);this.littleCircle(L6x,m6x,a6x,l6x);}};r5x.Drawing.channel.prototype.reposition=function(Q6x,P6x,G6x,Y6x){var g6x,p6x,A6x;if(!P6x){return;}g6x=this.stx.panels[this.panelName];p6x=P6x.tick - G6x;A6x=P6x.value - Y6x;if(P6x.action == "move"){this.setPoint(0,P6x.p0[0] - p6x,P6x.p0[+"1"] - A6x,g6x.chart);this.setPoint(1,P6x.p1["0" & 2147483647] - p6x,P6x.p1[1] - A6x,g6x.chart);this.setPoint(+"2",P6x.p2[+"0"] - p6x,P6x.p2[+"1"] - A6x,g6x.chart);this.render(Q6x);}else if(P6x.action == "drag"){this[P6x.point]=[G6x,Y6x];this.setPoint(0,this.p0[0],this.p0[1],g6x.chart);this.setPoint(1,this.p1[0],this.p1[1],g6x.chart);this.setPoint(2,this.p2["0" ^ 0],this.p2[+"1"],g6x.chart);this.render(Q6x);}};r5x.Drawing.channel.prototype.adjust=function(){p3b.L7b();var q6x;q6x=this.stx.panels[this.panelName];if(!q6x){return;}this.setPoint(0,this.d0,this.v0,q6x.chart);this.setPoint(1,this.d1,this.v1,q6x.chart);this.setPoint(2,this.d1,this.v2,q6x.chart);;};r5x.Drawing.channel.prototype.reconstruct=function(B6x,s6x){this.stx=B6x;this.color=s6x.col;this.fillColor=s6x.fc;this.panelName=s6x.pnl;this.pattern=s6x.ptrn;this.lineWidth=s6x.lw;this.d0=s6x.d0;this.d1=s6x.d1;this.tzo0=s6x.tzo0;this.tzo1=s6x.tzo1;this.v0=s6x.v0;this.v1=s6x.v1;this.v2=s6x.v2;this.adjust();};r5x.Drawing.channel.prototype.serialize=function(){p3b.L7b();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};r5x.Drawing.pitchfork=function(){var q1j,f1j,g1j;this.name="pitchfork";p3b.L7b();this.dragToDraw=!{};q1j=1287666544;f1j=- +"1599672440";g1j=2;for(var z1j=+"1";p3b.d5h(z1j.toString(),z1j.toString().length,81620) !== q1j;z1j++){this.p2=1;p3b.G0X(22);g1j+=p3b.E0X("2",947977120);}if(p3b.d5h(g1j.toString(),g1j.toString().length,20968) !== f1j){this.p2=null;}};r5x.inheritsFrom(r5x.Drawing.pitchfork,r5x.Drawing.channel);r5x.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];r5x.Drawing.pitchfork.prototype.move=function(C6x,h6x,O6x){if(!this.penDown){return;}p3b.m7b();this.copyConfig();if(this.p2 === null){this.p1=[h6x,O6x];}else {this.p2=[h6x,O6x];}this.render(C6x);};r5x.Drawing.pitchfork.prototype.intersected=function(y6x,w6x,K6x){p3b.m7b();var T6x,v6x,a2j;if(!this.p0 || !this.p1 || !this.p2){return null;}T6x={0:this.p0,1:this.p1,2:this.p2};for(var H6x in T6x){if(this.pointIntersection(T6x[H6x][0],T6x[H6x][1],K6x)){p3b.G0X(2);this.highlighted=p3b.D0X(H6x,1021 < (496.04,137.92)?0x438:(824,9590) <= (+"2971",599.65)?(+"105.74",545.74):"p");return {action:"drag",point:((4009,"8650" & 2147483647) != (635.46,8814)?(314.73,7120) !== +"5550"?(2130,8120) >= 3920?"p":438.22:0x108f:876.71) + H6x};}}v6x=this.rays;for(var x6x=0;x6x < v6x.length;x6x++){a2j="s";a2j+="egm";a2j+="ent";if(this.lineIntersection(y6x,w6x,K6x,x6x?"ray":a2j,v6x[x6x][0],v6x[x6x][1],! ![])){this.highlighted=! !1;return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),p2:r5x.clone(this.p2),tick:y6x,value:w6x};}}return null;};r5x.Drawing.pitchfork.prototype.render=function(r4x){var k6x,S6x,W4x,E4x,Z6x,V6x,c4x,n6x,b4x,d4x,u4x,e4x,t4x,J4x,I4x,R4x,L4x,l2j,S2j,N4x,m4x,a4x;k6x=this.stx.panels[this.panelName];if(!k6x){return;}S6x=this.stx;W4x=this.p2;if(!W4x){W4x=this.p1;}E4x=S6x.pixelFromTick(this.p0[0],k6x.chart);Z6x=S6x.pixelFromTick(this.p1[0],k6x.chart);V6x=S6x.pixelFromTick(W4x[0],k6x.chart);c4x=S6x.pixelFromValueAdjusted(k6x,this.p0[0],this.p0[1]);n6x=S6x.pixelFromValueAdjusted(k6x,this.p1[0],this.p1[1]);b4x=S6x.pixelFromValueAdjusted(k6x,W4x[0],W4x["1" >> 580043008]);d4x=this.lineWidth;u4x=this.getLineColor();e4x={pattern:this.pattern,lineWidth:d4x};t4x=50;p3b.d0X(23);J4x=p3b.D0X(b4x,c4x,"2",n6x,1806705280);p3b.G0X(24);I4x=p3b.E0X(E4x,2,V6x,Z6x);if(I4x < 0){p3b.d0X(12);t4x*=-p3b.D0X(0,"1");}p3b.d0X(10);J4x*=p3b.E0X(I4x,t4x);p3b.d0X(25);this.rays=[[[Z6x,n6x],[V6x,b4x]],[[E4x,c4x],[p3b.D0X("2",V6x,Z6x,2147483647),p3b.E0X(2,b4x,n6x,p3b.d0X(3))]]];if(!(Z6x == V6x && n6x == b4x)){p3b.d0X(6);this.rays.push([[Z6x,n6x],[p3b.D0X(t4x,Z6x),p3b.E0X(J4x,n6x)]],[[V6x,b4x],[p3b.E0X(t4x,V6x),p3b.E0X(J4x,b4x)]]);}for(var M4x=0;M4x < this.rays.length;M4x++){R4x=this.rays[M4x];L4x=M4x?"ray":"segment";S6x.plotLine(R4x[0][0],R4x[1][0],R4x[+"0"][1],R4x[1][1],u4x,L4x,r4x,k6x,e4x);}if(this.highlighted){l2j="p";l2j+="1";S2j="p";S2j+="0";N4x=this.highlighted == S2j?! !"1":! !"";m4x=this.highlighted == l2j?!0:! !0;a4x=this.highlighted == "p2"?! !{}:! !"";this.littleCircle(r4x,E4x,c4x,N4x);this.littleCircle(r4x,Z6x,n6x,m4x);this.littleCircle(r4x,V6x,b4x,a4x);}};r5x.Drawing.pitchfork.prototype.adjust=function(){var D4x;D4x=this.stx.panels[this.panelName];if(!D4x){return;}this.setPoint(0,this.d0,this.v0,D4x.chart);this.setPoint(1,this.d1,this.v1,D4x.chart);this.setPoint(2,this.d2,this.v2,D4x.chart);};r5x.Drawing.pitchfork.prototype.reconstruct=function(z4x,F4x){this.stx=z4x;this.color=F4x.col;this.panelName=F4x.pnl;this.pattern=F4x.ptrn;this.lineWidth=F4x.lw;this.d0=F4x.d0;this.d1=F4x.d1;this.d2=F4x.d2;this.tzo0=F4x.tzo0;this.tzo1=F4x.tzo1;this.tzo2=F4x.tzo2;this.v0=F4x.v0;p3b.L7b();this.v1=F4x.v1;this.v2=F4x.v2;this.adjust();};r5x.Drawing.pitchfork.prototype.serialize=function(){p3b.m7b();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};r5x.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];this.maxSegments=+"4";this.shape=null;this.points=[];};r5x.inheritsFrom(r5x.Drawing.gartley,r5x.Drawing.continuous);r5x.Drawing.gartley.prototype.check=function(f4x,o4x){if(!o4x){return ! ![];}if(f4x[0] >= o4x[0] || f4x[+"1"] == o4x[1]){return ![];}if(this.segment == 1){if(f4x[1] < o4x[1]){this.shape=1890 >= (4879,9170)?(474.97,9.08e+3):(5130,2439) !== ("8480" ^ 0,636.47)?"M":(! !"","558.90" * 1);}else {this.shape=77.96 === 4350?("g",! !{}):+"6105" > ("984" & 2147483647,5520)?1460 > 240.14?"W":"t":("F",!{});}}else if(this.segment == 2){if(this.shape == "M" && f4x[1] < o4x[1]){return ![];}else if(this.shape == ((538,668) < 3580?701.87 < 650?(441.74,! ![]):"W":"D") && f4x[1] > o4x[1]){return ! !0;}else if((o4x[1] - f4x[1]) / (this.points[0][1] - f4x[+"1"]) < 0.618){return ![];}else if((o4x[+"1"] - f4x[1]) / (this.points[0][1] - f4x[1]) >= "0.786" - 0){return !{};}}else if(this.segment == 3){if(this.shape == ((7210,3648) > (327,4127)?(+"0x1fc1",+"4.74e+3"):"M") && f4x[1] > o4x[1]){return ! !0;}else if(this.shape == "W" && f4x[1] < o4x[1]){return !"1";}else if((o4x[1] - f4x[+"1"]) / (this.points[1][1] - f4x["1" - 0]) < 0.618){return !{};}else if((o4x[1] - f4x["1" >> 1205966944]) / (this.points[1][1] - f4x[1]) >= 0.786){return !1;}}else if(this.segment == 4){if(this.shape == "M" && (f4x["1" - 0] < o4x[+"1"] || o4x["1" << 1425218496] < this.points[0][1])){return ![];}else if(this.shape == "W" && (f4x[1] > o4x["1" << 1616617952] || o4x[1] > this.points["0" & 2147483647][1])){return ![];}else if((this.points[1][1] - o4x[1]) / (this.points[1]["1" ^ 0] - this.points[2][1]) < +"1.27"){return ![];}else if((this.points[1][1] - o4x[1]) / (this.points[1][1] - this.points["2" ^ 0][+"1"]) >= 1.618){return ![];}}return ! !{};};r5x.Drawing.gartley.prototype.click=function(X4x,i4x,j4x){var U4x;U4x=this.stx.panels[this.panelName];if(!U4x){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,i4x,j4x,U4x.chart);this.pts=[];this.penDown=! !{};this.segment=1;return !{};}if(this.accidentalClick(i4x,j4x)){this.penDown=! !"1";return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,i4x,j4x,U4x.chart);this.segment++;if(this.segment > this.maxSegments){p3b.G0X(19);this.setPoint(p3b.D0X("0",2147483647),this.points[+"0"][+"0"],this.points[0][1],U4x.chart);this.penDown=! !"";return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,i4x,j4x,U4x.chart);;}return !{};};r5x.Drawing.gartley.prototype.render=function(P4x){var l4x,H4x,q4x,T4x,s4x,A4x,v4x,B4x,Y4x,G4x,p4x,h4x,O4x,C4x,x4x;l4x=this.stx.panels[this.panelName];if(!l4x){return;}H4x=this.stx.pixelFromTick(this.p0[0],l4x.chart);q4x=this.stx.pixelFromTick(this.p1[0],l4x.chart);T4x=this.stx.pixelFromValueAdjusted(l4x,this.p0[0],this.p0["1" & 2147483647]);s4x=this.stx.pixelFromValueAdjusted(l4x,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(P4x,0.618 * this.points[0][1] + 0.382 * this.p0[1],("0.786" - 0) * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(P4x,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + "0.214" * 1 * this.p0[1],this.p0[0]);}else if(this.segment == 4){A4x=1.618 * this.points[2][1] - 0.618 * this.points[1][1];if(this.shape == (231.15 > (720.81,744.65)?737.89 <= 3830?(0x227c,+"0x187d"):(![],"229.98" * 1):"M")){A4x=Math.max(A4x,this.points[0][1]);}else {A4x=Math.min(A4x,this.points["0" - 0][1]);}this.drawDropZone(P4x,A4x,1.27 * this.points[2][1] - 0.27 * this.points["1" >> 362719232][1],this.p0[0]);}v4x=this.lineWidth;B4x=this.getLineColor();Y4x={pattern:this.pattern,lineWidth:v4x};if((this.penDown || this.highlighted) && this.pattern == "none"){Y4x.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(H4x,q4x,T4x,s4x,B4x,this.name,P4x,l4x,Y4x);}G4x=this.fillColor;p4x=[];if(this.points.length){P4x.beginPath();for(var g4x=1;g4x < this.points.length && g4x <= 4;g4x++){h4x=this.stx.pixelFromTick(this.points[g4x - 1][+"0"],l4x.chart);O4x=this.stx.pixelFromTick(this.points[g4x][0],l4x.chart);C4x=this.stx.pixelFromValueAdjusted(l4x,this.points[g4x - 1]["0" & 2147483647],this.points[g4x - 1][1]);x4x=this.stx.pixelFromValueAdjusted(l4x,this.points[g4x][0],this.points[g4x][1]);if(g4x == 1){p4x.push(h4x,C4x);}p4x.push(O4x,x4x);this.stx.plotLine(h4x,O4x,C4x,x4x,B4x,this.name,P4x,l4x,Y4x);}if(this.points.length == 2 || this.points.length == ("4" | 4)){p4x.push(q4x,s4x);}if(this.points[2]){p4x.push(this.stx.pixelFromTick(this.points[2][0],l4x.chart),this.stx.pixelFromValueAdjusted(l4x,this.points[2][0],this.points[2][1]));}if(G4x && G4x != "auto" && !r5x.isTransparent(G4x)){for(var Q4x=0;Q4x < p4x.length;Q4x+="2" - 0){if(Q4x === 0){P4x.moveTo(p4x[+"0"],p4x["1" << 2126212864]);}P4x.lineTo(p4x[Q4x],p4x[Q4x + 1]);}P4x.fillStyle=G4x;P4x.globalAlpha=+"0.2";P4x.closePath();P4x.fill();P4x.globalAlpha=1;}}p3b.m7b();;};r5x.Drawing.gartley.prototype.lineIntersection=function(k4x,S4x,Z4x,V4x){var y4x,K4x;y4x=this.points;K4x=this.stx.panels[this.panelName];if(y4x.length != this.maxSegments + 1 || !K4x){return !{};}for(var w4x=0;w4x < y4x.length - 1;w4x++){if(r5x.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,k4x,S4x,Z4x,"segment",y4x[w4x],y4x[w4x + +"1"])){return ! !{};}}return !{};};r5x.Drawing.gartley.prototype.boxIntersection=function(M8x,R8x,b8x){var W8x,t8x,k1v,v1v,O7v;if(!this.p0 || !this.p1){return !"1";}if(b8x.x0 > Math.max(this.p0[0],this.p1[0]) || b8x.x1 < Math.min(this.p0[0],this.p1[0])){return !1;}W8x=Math.min(this.p0[1],this.p1[1]);t8x=Math.max(this.p0[+"1"],this.p1[1]);for(var n4x=0;n4x < this.points.length;n4x++){W8x=Math.min(W8x,this.points[n4x][1]);t8x=Math.max(t8x,this.points[n4x][1]);}if(b8x.y1 > t8x || b8x.y0 < W8x){return ! !0;}k1v=-1669910908;p3b.G0X(22);p3b.L7b();v1v=-p3b.D0X("507408796",877710496);O7v=2;for(var Q7v=1;p3b.n5h(Q7v.toString(),Q7v.toString().length,21672) !== k1v;Q7v++){return ! ![];}if(p3b.n5h(O7v.toString(),O7v.toString().length,54155) !== v1v){return !"1";}};r5x.Drawing.gartley.prototype.reposition=function(e8x,E8x,J8x,I8x){var c8x,d8x,u8x;if(!E8x){return;}c8x=this.stx.panels[this.panelName];d8x=E8x.tick - J8x;E8x.tick=J8x;p3b.L7b();u8x=E8x.value - I8x;E8x.value=I8x;if(E8x.action == "move"){this.pts=[];for(var r8x=0;r8x < this.points.length;r8x++){this.points[r8x][0]-=d8x;this.points[r8x][1]-=u8x;this.setPoint(1,this.points[r8x][0],this.points[r8x][1],c8x.chart);if(r8x && r8x < this.points.length - ("1" >> 1012027904)){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[r8x]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],c8x.chart);this.render(e8x);;}};r5x.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];r5x.Drawing.gartley.prototype.adjust=function(){var L8x;L8x=this.stx.panels[this.panelName];if(!L8x){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,L8x.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,L8x.chart);this.points.push(this.p1);};r5x.Drawing.gartley.prototype.reconstructPoints=function(){var a8x,m8x;a8x=this.stx.panels[this.panelName];if(!a8x){return;}p3b.m7b();this.points=[];for(var N8x=0;N8x < this.pts.length;N8x+=3){m8x=r5x.strToDateTime(this.pts[N8x]);m8x.setMinutes(m8x.getMinutes() + Number(this.pts[N8x + 1]) - m8x.getTimezoneOffset());this.points.push([this.stx.tickFromDate(r5x.yyyymmddhhmmssmmm(m8x),a8x.chart),this.pts[N8x + ("2" | 2)]]);}};r5x.Drawing.gartley.prototype.reconstruct=function(F8x,D8x){this.stx=F8x;this.color=D8x.col;this.fillColor=D8x.fc;this.panelName=D8x.pnl;this.pattern=D8x.ptrn;this.lineWidth=D8x.lw;this.d0=D8x.d0;this.d1=D8x.d1;this.tzo0=D8x.tzo0;this.tzo1=D8x.tzo1;this.v0=D8x.v0;this.v1=D8x.v1;this.pts=D8x.pts.split("897.28" - 0 == ("7581" * 1,7540)?(+"361.93","9.02e+3" & 2147483647):9960 >= 738.8?",":0xb30);this.adjust();};r5x.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join((3150,8980) == (4040,"2500" >> 1727292768)?695.68 >= (1280,9270)?(! !{},0x1894):(0x23f0,! ![]):",")};};r5x.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;p3b.L7b();this.dragToDraw=! !{};};r5x.inheritsFrom(r5x.Drawing.freeform,r5x.Drawing.segment);r5x.Drawing.freeform.prototype.measure=function(){};r5x.Drawing.freeform.prototype.intersected=function(o8x,f8x,z8x){var D2j;D2j="m";p3b.L7b();D2j+="ove";if(z8x.x0 > this.hiX || z8x.x1 < this.lowX){return null;}if(z8x.y1 > this.hiY || z8x.y0 < this.lowY){return null;}this.highlighted=!0;return {action:D2j,p0:r5x.clone(this.p0),tick:o8x,value:f8x};};r5x.Drawing.freeform.prototype.reposition=function(l8x,U8x,P8x,g8x){p3b.m7b();var s2j,i8x,j8x,X8x,j6v,u6v,T6v;s2j="m";s2j+="o";s2j+="v";s2j+="e";if(!U8x){return;}i8x=this.stx.panels[this.panelName];j8x=U8x.tick - P8x;X8x=U8x.value - g8x;if(U8x.action == s2j){j6v=+"1245300046";u6v=160853486;T6v=+"2";for(var V6v=1;p3b.n5h(V6v.toString(),V6v.toString().length,36466) !== j6v;V6v++){this.setPoint(1,U8x.p0[9] + j8x,U8x.p0[9] + X8x,i8x.chart);T6v+=2;}if(p3b.d5h(T6v.toString(),T6v.toString().length,1598) !== u6v){this.setPoint(0,U8x.p0[0] - j8x,U8x.p0[+"1"] - X8x,i8x.chart);}this.adjust();this.render(l8x);}};r5x.Drawing.freeform.prototype.click=function(Y8x,A8x,G8x){var p8x,Q8x;p8x=this.stx.panels[this.panelName];if(!p8x){return;}if(this.penDown === ! !""){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(A8x,p8x.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(p8x,A8x,G8x)));Q8x=this.stx.dateFromTick(A8x,p8x.chart,!0);this.d0=r5x.yyyymmddhhmmssmmm(Q8x);this.tzo0=Q8x.getTimezoneOffset();this.v0=G8x;this.p0=[r5x.ChartEngine.crosshairX - this.startX,r5x.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=p8x.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! ![];return !{};}this.penDown=!"1";p3b.m7b();this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! ![];};r5x.Drawing.freeform.prototype.move=function(B8x,h8x,O8x){var q8x,s8x,F1v,P1v,r1v;if(!this.penDown){return;}q8x=this.stx.panels[this.panelName];s8x=this.stx.dateFromTick(h8x,q8x.chart,! !1);this.d1=r5x.yyyymmddhhmmssmmm(s8x);this.tzo1=s8x.getTimezoneOffset();this.v1=O8x;this.p1=[r5x.ChartEngine.crosshairX - this.startX,q8x.yAxis.flipped?this.startY - r5x.ChartEngine.crosshairY:r5x.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > "2" - 0){if(this.p1[0] == this.pNodes[this.pNodes.length - 2]["0" * 1] && this.p1["0" | 0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=+"2";}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);F1v=-452296863;P1v=1302473190;r1v=2;for(var E1v=1;p3b.d5h(E1v.toString(),E1v.toString().length,71686) !== F1v;E1v++){this.render(B8x);return !"1";}if(p3b.n5h(r1v.toString(),r1v.toString().length,89000) !== P1v){this.render(B8x);return ! ![];}};r5x.Drawing.freeform.prototype.intervalRatio=function(v8x,C8x,S8x,Z8x,H8x,T8x){var x8x,c2j;x8x=0;if(v8x == C8x){x8x=1;}else if(!isNaN(v8x) && !isNaN(C8x)){p3b.G0X(10);x8x=p3b.D0X(C8x,v8x);}else if(isNaN(v8x)){if(v8x == "month"){if(C8x == "week"){x8x=k8x(H8x,T8x);}else if(C8x == "day"){x8x=K8x(H8x,T8x);}else if(!isNaN(C8x)){x8x=K8x(H8x,T8x) * y8x(H8x,T8x) / C8x;}}else if(v8x == "week"){if(C8x == "month"){x8x=("1" & 2147483647) / k8x(H8x,T8x);}if(C8x == "day"){x8x=w8x(H8x,T8x);}else if(!isNaN(C8x)){x8x=w8x(H8x,T8x) * y8x(H8x,T8x) / C8x;}}else if(v8x == "day"){c2j="mon";c2j+="th";if(C8x == "week"){x8x=+"1" / w8x(H8x,T8x);}else if(C8x == c2j){x8x=1 / K8x(H8x,T8x);}else if(!isNaN(C8x)){x8x=y8x(H8x,T8x) / C8x;}}}else if(!isNaN(v8x)){if(C8x == "month"){x8x=v8x / (K8x(H8x,T8x) * y8x(H8x,T8x));}else if(C8x == "week"){x8x=v8x / (w8x(H8x,T8x) * y8x(H8x,T8x));}else if(C8x == "day"){x8x=v8x / y8x(H8x,T8x);}}function y8x(r9x,R9x){if(r5x.Market.Symbology.isForexSymbol(R9x)){return 1440;}return 390;}function k8x(V8x,n8x){return 5;}p3b.d0X(10);x8x*=p3b.E0X(Z8x,S8x);function K8x(t9x,M9x){return 30;}function w8x(b9x,W9x){p3b.L7b();return 5;}return x8x;};r5x.Drawing.freeform.prototype.render=function(N9x){var E9x,d9x,m9x,a9x,D9x,u9x,c9x,F9x,e9x,a6v,S6v,l6v,L9x,z9x,I9x;E9x=this.stx.panels[this.panelName];if(!E9x){return;}d9x=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,E9x.chart.symbol);if(d9x === 0){return;}m9x=this.stx.layout.candleWidth / this.candleWidth;a9x=E9x.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,E9x.chart);D9x=this.stx.pixelFromTick(this.p0[0],E9x.chart);u9x=this.stx.pixelFromValueAdjusted(E9x,this.p0[0],this.p0[1]);c9x=[];F9x=this.lineWidth;e9x=this.getLineColor();a6v=-1264731191;S6v=1497029748;l6v=2;for(var s6v=1;p3b.n5h(s6v.toString(),s6v.toString().length,8327) !== a6v;s6v++){L9x={pattern:this.pattern,lineWidth:F9x};l6v+=2;}if(p3b.n5h(l6v.toString(),l6v.toString().length,+"9654") !== S6v){L9x={pattern:this.pattern,lineWidth:F9x};}for(var J9x=0;J9x < this.pNodes.length;J9x++){z9x=d9x * m9x * this.pNodes[J9x][0] + D9x;I9x=a9x * this.pNodes[J9x][1];if(E9x.yAxis.flipped){p3b.d0X(6);I9x=p3b.E0X(I9x,u9x);}else {I9x+=u9x;}c9x.push(z9x,I9x);}if(!c9x.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(c9x,e9x,this.name,N9x,E9x,L9x);}else {this.stx.plotSpline(c9x,this.splineTension,e9x,this.name,N9x,! ![],L9x);}};r5x.Drawing.freeform.prototype.adjust=function(){var o9x,g9x,M3j,N3j,q3j,f9x,X9x,l9x,i9x,P9x,j9x;o9x=this.stx.panels[this.panelName];if(!o9x){return;}p3b.G0X(19);g9x=[this.nodes[p3b.D0X("0",2147483647)],this.nodes[1]];this.pNodes=[g9x];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];M3j=1948975697;N3j=-421356961;q3j=2;for(var g3j=1;p3b.d5h(g3j.toString(),g3j.toString().length,21814) !== M3j;g3j++){this.hiY=this.nodes[3];q3j+=2;}if(p3b.d5h(q3j.toString(),q3j.toString().length,2593) !== N3j){this.hiY=this.nodes[+"1"];}for(var U9x=2;U9x < this.nodes.length;U9x+=2){p3b.G0X(2);f9x=[this.nodes[U9x],this.nodes[p3b.E0X(1,U9x)]];this.pNodes.push(f9x);this.lowX=Math.min(this.lowX,f9x["0" - 0]);this.hiX=Math.max(this.hiX,f9x[0]);this.lowY=Math.max(this.lowY,f9x[1]);this.hiY=Math.min(this.hiY,f9x[+"1"]);}X9x=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,o9x.chart.symbol);if(X9x === ("0" ^ 0)){return;}l9x=this.stx.layout.candleWidth / this.candleWidth;i9x=o9x.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,o9x.chart);P9x=this.stx.pixelFromTick(this.p0["0" << 457352320],o9x.chart);j9x=this.stx.pixelFromValueAdjusted(o9x,this.p0[0],this.p0[1]);p3b.L7b();this.lowX=this.stx.tickFromPixel(Math.floor(X9x * l9x * this.lowX) + P9x,o9x.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(X9x * l9x * this.hiX) + P9x,o9x.chart);if(o9x.yAxis.flipped){this.lowY=this.stx.valueFromPixel(j9x - Math.floor(i9x * this.lowY),o9x);this.hiY=this.stx.valueFromPixel(j9x - Math.ceil(i9x * this.hiY),o9x);}else {this.lowY=this.stx.valueFromPixel(Math.floor(i9x * this.lowY) + j9x,o9x);this.hiY=this.stx.valueFromPixel(Math.ceil(i9x * this.hiY) + j9x,o9x);}};r5x.Drawing.freeform.prototype.serialize=function(){p3b.m7b();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};r5x.Drawing.freeform.prototype.reconstruct=function(A9x,p9x){this.stx=A9x;this.color=p9x.col;this.panelName=p9x.pnl;this.pattern=p9x.ptrn;this.lineWidth=p9x.lw;this.candleWidth=p9x.cw;this.multiplier=p9x.mlt;this.d0=p9x.d0;this.tzo0=p9x.tzo0;this.v0=p9x.v0;this.interval=p9x.inter;this.periodicity=p9x.pd;this.nodes=p9x.nodes;this.adjust();};r5x.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";p3b.m7b();this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};r5x.inheritsFrom(r5x.Drawing.callout,r5x.Drawing.annotation);r5x.Drawing.callout.prototype.configs=[M2j,"fillColor","lineWidth","pattern",N2j];r5x.Drawing.callout.prototype.copyConfig=function(Q9x){p3b.L7b();r5x.Drawing.copyConfig(this,Q9x);this.borderColor=this.color;};r5x.Drawing.callout.prototype.move=function(G9x,Y9x,q9x){if(!this.penDown){return;}this.copyConfig();this.p0=[Y9x,q9x];p3b.m7b();this.render(G9x);};r5x.Drawing.callout.prototype.onChange=function(O9x){var h9x,B9x,s9x;h9x=this.stx.panels[this.panelName];if(!h9x){return;}B9x=O9x.target;this.w=B9x.clientWidth;this.h=B9x.clientHeight;s9x=this.context || this.stx.chart.tempCanvas.context;r5x.clearCanvas(s9x.canvas,this.stx);p3b.L7b();this.render(s9x);this.edit(s9x);};r5x.Drawing.callout.prototype.render=function(C9x){var g2j,f2j,q2j,Z9x,R0y,M0y,H9x,x9x,v9x,T9x,V9x,n9x,S9x,w9x,b0y,K9x,W0y,y9x,k9x,I2j,m2j,Q2j,y2j,z2j,C2j,r0y;g2j="stx_highlight";g2j+="_vector";f2j="au";f2j+="t";f2j+="o";q2j="t";q2j+="o";q2j+="p";this.context=C9x;Z9x=this.stx.panels[this.panelName];if(!Z9x){return;}R0y=this.stx.pixelFromTick(this.p0[0],Z9x.chart);M0y=this.stx.pixelFromValueAdjusted(Z9x,this.p0[0],this.p0[1]);if(isNaN(M0y)){return;}C9x.font=this.fontString;C9x.textBaseline=q2j;H9x=R0y;p3b.L7b();x9x=M0y;v9x=this.w / 2;T9x=this.h / 2;if(this.penDown){v9x=this.defaultWidth;T9x=this.defaultHeight;if(!T9x){T9x=this.fontSize;}}V9x=this.lineWidth;if(!V9x){V9x=+"1.1";}n9x=this.color;if(n9x == f2j || r5x.isTransparent(n9x)){n9x=this.stx.defaultColor;}S9x=this.borderColor;if(S9x == "auto" || r5x.isTransparent(S9x)){S9x=this.stx.defaultColor;}if(this.highlighted){S9x=this.stx.getCanvasColor(g2j);}y9x=Math.min(Math.min(v9x,T9x) / 2,8);if(this.stem){if(this.stem.t){w9x=this.stx.pixelFromTick(this.stem.t);K9x=this.stx.pixelFromValueAdjusted(Z9x,this.stem.t,this.stem.v);}else if(this.stem.x){w9x=H9x;K9x=x9x;H9x+=this.stem.x;x9x+=this.stem.y;}k9x="";if(w9x >= H9x + v9x){p3b.G0X(2);b0y=p3b.E0X(v9x,H9x);k9x=(990.77,7285) <= (9452,6361)?3.84e+3:"r";}else if(w9x > H9x - v9x && w9x < H9x + v9x){b0y=H9x;k9x="c";}else if(w9x <= H9x - v9x){p3b.G0X(6);b0y=p3b.D0X(v9x,H9x);k9x=7340 == (4460,5630)?("F",+"0x1d68"):"l";}if(K9x >= x9x + T9x){p3b.G0X(2);W0y=p3b.E0X(T9x,x9x);k9x+=56.54 <= (578,965.79)?"b":9333 < +"3920"?5.56e+3:7890 !== 3983?"632" >> 413060544:772.37;}else if(K9x > x9x - T9x && K9x < x9x + T9x){W0y=x9x;k9x+=(7560,994.16) > (3030,7410)?(+"976",5008) != (576.59,8170)?57.18 == (338.22,6130)?"x":("B","8.79e+2" >> 351898432):942.18:"m";}else if(K9x <= x9x - T9x){p3b.d0X(6);W0y=p3b.E0X(T9x,x9x);k9x+="t";}this.stemEntry=k9x;if(k9x != "cm"){w9x=Math.round(w9x);b0y=Math.round(b0y);K9x=Math.round(K9x);W0y=Math.round(W0y);}}if(this.highlighted){I2j="stx";I2j+="_";I2j+="annotation_highlight_bg";this.stx.canvasColor(I2j,C9x);}else {if(this.fillColor){C9x.fillStyle=this.fillColor;p3b.G0X(16);C9x.globalAlpha=p3b.D0X("0.4",1);}else if(this.stem){C9x.fillStyle=this.stx.containerColor;}}C9x.strokeStyle=S9x;if(C9x.setLineDash){C9x.setLineDash(r5x.borderPatternToArray(V9x,this.pattern));p3b.G0X(0);C9x.lineDashOffset=p3b.E0X("0",0);;}if(S9x){m2j="n";m2j+="o";m2j+="ne";Q2j="l";Q2j+="m";y2j="r";y2j+="b";z2j="r";z2j+="t";C9x.beginPath();C9x.lineWidth=V9x;p3b.d0X(4);C9x.moveTo(p3b.D0X(H9x,v9x,y9x),p3b.D0X(T9x,x9x,p3b.G0X(6)));if(this.stemEntry != z2j){p3b.G0X(2);C9x.quadraticCurveTo(p3b.E0X(v9x,H9x),p3b.E0X(T9x,x9x,p3b.G0X(6)),p3b.E0X(v9x,H9x,p3b.G0X(2)),p3b.E0X(T9x,y9x,x9x,p3b.d0X(8)));;}else {C9x.lineTo(w9x,K9x);p3b.d0X(2);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.D0X(T9x,y9x,x9x,p3b.d0X(8)));}p3b.d0X(2);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.E0X(x9x,y9x,2,p3b.G0X(26)));if(this.stemEntry == "rm"){C9x.lineTo(w9x,K9x);}p3b.G0X(2);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.E0X(y9x,2,x9x,p3b.G0X(27)));p3b.G0X(2);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.E0X(x9x,T9x,y9x,p3b.G0X(4)));if(this.stemEntry != y2j){p3b.G0X(2);C9x.quadraticCurveTo(p3b.D0X(v9x,H9x),p3b.D0X(T9x,x9x,p3b.G0X(2)),p3b.E0X(H9x,v9x,y9x,p3b.G0X(4)),p3b.D0X(T9x,x9x,p3b.d0X(2)));;}else {C9x.lineTo(w9x,K9x);p3b.G0X(4);C9x.lineTo(p3b.D0X(H9x,v9x,y9x),p3b.E0X(T9x,x9x,p3b.d0X(2)));}p3b.d0X(27);C9x.lineTo(p3b.D0X(y9x,2,H9x),p3b.E0X(T9x,x9x,p3b.d0X(2)));if(this.stemEntry == "cb"){C9x.lineTo(w9x,K9x);}p3b.G0X(26);C9x.lineTo(p3b.D0X(H9x,y9x,2),p3b.D0X(T9x,x9x,p3b.d0X(2)));p3b.d0X(8);C9x.lineTo(p3b.E0X(v9x,y9x,H9x),p3b.D0X(T9x,x9x,p3b.G0X(2)));if(this.stemEntry != "lb"){p3b.G0X(6);C9x.quadraticCurveTo(p3b.D0X(v9x,H9x),p3b.E0X(T9x,x9x,p3b.G0X(2)),p3b.E0X(v9x,H9x,p3b.G0X(6)),p3b.E0X(x9x,T9x,y9x,p3b.G0X(4)));;}else {C9x.lineTo(w9x,K9x);p3b.G0X(6);C9x.lineTo(p3b.E0X(v9x,H9x),p3b.D0X(x9x,T9x,y9x,p3b.d0X(4)));}p3b.G0X(6);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.E0X("2",x9x,y9x,p3b.G0X(28)));if(this.stemEntry == Q2j){C9x.lineTo(w9x,K9x);}p3b.d0X(6);C9x.lineTo(p3b.E0X(v9x,H9x),p3b.D0X(x9x,y9x,2,p3b.d0X(26)));p3b.G0X(6);C9x.lineTo(p3b.D0X(v9x,H9x),p3b.D0X(T9x,y9x,x9x,p3b.d0X(8)));if(this.stemEntry != "lt"){p3b.d0X(6);C9x.quadraticCurveTo(p3b.D0X(v9x,H9x),p3b.D0X(T9x,x9x,p3b.G0X(6)),p3b.D0X(v9x,y9x,H9x,p3b.d0X(8)),p3b.E0X(T9x,x9x,p3b.G0X(6)));;}else {C9x.lineTo(w9x,K9x);p3b.G0X(8);C9x.lineTo(p3b.E0X(v9x,y9x,H9x),p3b.E0X(T9x,x9x,p3b.G0X(6)));}p3b.d0X(26);C9x.lineTo(p3b.D0X(H9x,y9x,2),p3b.E0X(T9x,x9x,p3b.d0X(6)));if(this.stemEntry == "ct"){C9x.lineTo(w9x,K9x);}p3b.G0X(27);C9x.lineTo(p3b.D0X(y9x,2,H9x),p3b.D0X(T9x,x9x,p3b.d0X(6)));p3b.d0X(4);C9x.lineTo(p3b.D0X(H9x,v9x,y9x),p3b.E0X(T9x,x9x,p3b.G0X(6)));C9x.fill();C9x.globalAlpha=1;if(this.pattern != m2j){C9x.stroke();}}if(this.highlighted){C2j="stx_anno";C2j+="tation_highlight";this.stx.canvasColor(C2j,C9x);}else {C9x.fillStyle=n9x;}x9x+=this.padding;if(!this.ta){for(var t0y=+"0";t0y < this.arr.length;t0y++){C9x.fillText(this.arr[t0y],H9x - v9x + this.padding,x9x - T9x);x9x+=this.fontSize;}}C9x.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){r0y=this.highlighted == "p0"?! ![]:! !"";this.littleCircle(C9x,w9x,K9x,r0y);};};r5x.Drawing.callout.prototype.click=function(c0y,J0y,I0y){var E0y;if(this.stx.overXAxis || this.stx.overYAxis){return;}E0y=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,J0y,I0y,E0y.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return ![];}this.adjust();this.edit(c0y);this.penDown=!1;return !{};};r5x.Drawing.callout.prototype.reposition=function(a0y,d0y,N0y,m0y){var u0y,e0y,L0y,c6v,M6v,N6v;p3b.m7b();if(!d0y){return;}u0y=this.stx.panels[this.panelName];e0y=d0y.tick - N0y;L0y=d0y.value - m0y;if(d0y.stem){if(d0y.action == "drag"){c6v=-1841620488;M6v=-942280418;N6v=2;for(var f6v=1;p3b.d5h(f6v.toString(),f6v.toString().length,67571) !== c6v;f6v++){this.stem={d:this.stx.dateFromTick(N0y,u0y.chart,!{}),v:m0y};p3b.d0X(6);N6v+=p3b.E0X(0,"2");}if(p3b.n5h(N6v.toString(),N6v.toString().length,89044) !== M6v){this.stem={d:this.stx.dateFromTick(N0y,u0y.chart,![]),v:m0y};}this.stem={d:this.stx.dateFromTick(N0y,u0y.chart,! !{}),v:m0y};}else if(d0y.action == "move"){this.setPoint(0,d0y.p0[0] - e0y,d0y.p0["1" | 1] - L0y,u0y.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(d0y.stem.d,u0y.chart) - e0y),v:d0y.stem.v - L0y};}this.adjust();}else {this.setPoint(0,d0y.p0[0] - e0y,d0y.p0[1] - L0y,u0y.chart);}this.render(a0y);};r5x.Drawing.callout.prototype.lineIntersection=function(Q0y,G0y,p0y,A0y){var W2j,i0y,D0y,o0y,j0y,X0y,l0y,F0y,f0y,U0y,P0y,g0y,z0y;W2j="s";W2j+="tring";i0y=this.stx.panels[this.panelName];D0y=this.stem;o0y=this.p0;j0y=this.stx;if(!o0y || !D0y || !i0y){return !{};}X0y=D0y.t || this.stx.tickFromDate(D0y.d,i0y.chart);l0y={x0:o0y[0],x1:X0y,y0:o0y[1],y1:D0y.v};F0y=r5x.convertBoxToPixels(j0y,this.panelName,l0y);f0y=F0y.x0;U0y=F0y.y0;P0y=F0y.x1;g0y=F0y.y1;if(typeof this.stemEntry == W2j){if(this.stemEntry.indexOf("l") > -1){f0y-=this.w / ("2" << 1537498880);}else if(this.stemEntry.indexOf((858.39,"2264" >> 594390944) != (33,"341.43" - 0)?6970 >= 8950?5.21e+3:9223 >= 8830?"r":7.46e+3:(443.32,0xea6)) > -1){f0y+=this.w / 2;}if(this.stemEntry.indexOf(298.09 == 5986?(8.73e+3,1.98e+3):"t") > - +"1"){U0y-=this.h / 2;}else if(this.stemEntry.indexOf("b") > -1){U0y+=this.h / ("2" << 635714176);}}z0y=r5x.convertBoxToPixels(j0y,this.panelName,p0y);return r5x.boxIntersects(z0y.x0,z0y.y0,z0y.x1,z0y.y1,f0y,U0y,P0y,g0y,A0y);};r5x.Drawing.callout.prototype.intersected=function(q0y,B0y,Y0y){var s0y,h0y,O0y,C0y,x0y,H0y,T0y,v0y,K2j;s0y=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,Y0y)){this.highlighted="p0";return {action:"drag",stem:! ![]};}h0y=this.stx.pixelFromTick(this.p0[0],s0y.chart) - this.w / 2;O0y=this.stx.pixelFromValueAdjusted(s0y,this.p0[0],this.p0[1]) - this.h / ("2" - 0);C0y=h0y + this.w;x0y=O0y + this.h;if(this.stem && this.stem.x){h0y+=this.stem.x;C0y+=this.stem.x;O0y+=this.stem.y;x0y+=this.stem.y;}H0y=this.stx.pixelFromTick(q0y,s0y.chart);T0y=this.stx.pixelFromValueAdjusted(s0y,q0y,B0y);if(H0y + Y0y.r >= h0y && H0y - Y0y.r <= C0y && T0y + Y0y.r >= O0y && T0y - Y0y.r <= x0y){this.highlighted=! ![];return {p0:r5x.clone(this.p0),tick:q0y,value:B0y};}p3b.m7b();v0y=this.lineIntersection(q0y,B0y,Y0y,"segment");if(v0y){K2j="m";K2j+="o";K2j+="ve";this.highlighted=! ![];return {action:K2j,stem:r5x.clone(this.stem),p0:r5x.clone(this.p0),tick:q0y,value:B0y};}return null;};r5x.Drawing.fibonacci=function(){p3b.L7b();this.name="fibonacci";this.configurator="fibonacci";};r5x.inheritsFrom(r5x.Drawing.fibonacci,r5x.Drawing.BaseTwoPoint);r5x.Drawing.fibonacci.mapping={trend:(9570,"1206" << 1522884960) > (511.04,5390)?(!{},![]):1575 !== "3180" * 1?"t":(8.33e+3,0x1bbd),color:(510.14,477.69) !== 69.89?"c":(522,3580) >= (7090,9750)?7.34e+3:"379.65" * 1,parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:(3400,9059) != (8970,6590)?"e":(6910,494.44) == 1698?(+"0xb26",243.85):"L",printLevels:"pl",printValues:J2j,timezone:"tz",display:188.67 != (7650,8240)?"d":805.32 == (6400,+"7200")?(7.21e+3,!{}):0x1c8a};p3b.G0X(16);r5x.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,p3b.E0X("0.618",1),1,1.382,1.618];r5x.Drawing.fibonacci.prototype.configs=[h2j,"fillColor","lineWidth","pattern",e2j];r5x.Drawing.fibonacci.prototype.initializeSettings=function(S0y){var K0y,w0y;K0y=this.recommendedLevels;if(K0y && !S0y.currentVectorParameters.fibonacci.fibsAlreadySet){w0y=S0y.currentVectorParameters.fibonacci.fibs;for(var y0y="0" >> 1845037856;y0y < w0y.length;y0y++){delete w0y[y0y].display;for(var k0y=0;k0y < K0y.length;k0y++){if(w0y[y0y].level == K0y[k0y]){w0y[y0y].display=! !{};}}}}};r5x.Drawing.fibonacci.prototype.setOuter=function(){var Z0y,V0y,R1y,r1y,E1y,c1y,J1y,d1y,u1y,b1y,W1y,n0y,M1y,I1y;Z0y=this.stx;V0y=Z0y.panels[this.panelName];if(!V0y){return;}R1y=Math.max(this.p0[1],this.p1[1]);r1y=Math.min(this.p0[1],this.p1["1" ^ 0]);p3b.G0X(6);E1y=p3b.D0X(r1y,R1y);this.outer={p0:r5x.clone(this.p0),p1:r5x.clone(this.p1)};c1y=Z0y.pixelFromValueAdjusted(V0y,this.p0["0" * 1],this.p0["1" & 2147483647]);J1y=Z0y.pixelFromValueAdjusted(V0y,this.p1[+"0"],this.p1["1" | 0]);d1y=Z0y.pixelFromTick(this.p0[0],V0y.chart);u1y=Z0y.pixelFromTick(this.p1["0" ^ 0],V0y.chart);b1y=0;W1y=1;for(var t1y=0;t1y < this.parameters.fibs.length;t1y++){n0y=this.parameters.fibs[t1y];if(n0y.level >= b1y && n0y.level <= W1y || !n0y.display)continue;M1y=Z0y.pixelFromValueAdjusted(V0y,this.p0[0],J1y < c1y?R1y - E1y * n0y.level:r1y + E1y * n0y.level);I1y=r5x.xIntersection({x0:d1y,x1:u1y,y0:c1y,y1:J1y},M1y);if(n0y.level < b1y){b1y=n0y.level;this.outer.p1[1]=Z0y.valueFromPixel(M1y,V0y);this.outer.p1[0]=Z0y.tickFromPixel(I1y,V0y.chart);}else if(n0y.level > W1y){W1y=n0y.level;this.outer.p0[1]=Z0y.valueFromPixel(M1y,V0y);this.outer.p0[+"0"]=Z0y.tickFromPixel(I1y,V0y.chart);}}};r5x.Drawing.fibonacci.prototype.click=function(m1y,L1y,N1y){var e1y;e1y=this.stx.panels[this.panelName];if(!e1y){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,L1y,N1y,e1y.chart);this.penDown=!"";return ! !0;}if(this.accidentalClick(L1y,N1y)){return this.dragToDraw;}p3b.G0X(19);p3b.L7b();this.setPoint(p3b.D0X("1",2147483647),L1y,N1y,e1y.chart);this.setOuter();this.parameters=r5x.clone(this.parameters);this.penDown=!"1";return ! !"1";;};r5x.Drawing.fibonacci.prototype.render=function(a1y){var G2j,H2j,o2j,D1y,s1y,B1y,h1y,H1y,p1y,P1y,f1y,z1y,T1y,v1y,y1y,S1y,Z1y,w1y,V1y,O1y,A1y,C1y,Q1y,g1y,T2j,u2j,j1y,F1y,Y1y,X1y,o1y,j2j,n1y,A2j,G1y,l1y,U1y,K1y,i1y,k1y,b2y,W2y;G2j="s";G2j+="eg";G2j+="ment";H2j="16";H2j+="1.";H2j+="8";H2j+="%";o2j="aut";o2j+="o";D1y=this.stx.panels[this.panelName];if(!D1y){return;}p3b.L7b();s1y=D1y.yAxis;if(!this.p1){return;}B1y=Math.max(this.p0[1],this.p1[1]);h1y=Math.min(this.p0[1],this.p1[1]);H1y=s1y.flipped?h1y - B1y:B1y - h1y;p1y=this.stx.pixelFromTick(this.p0[0],D1y.chart);P1y=this.stx.pixelFromTick(this.p1[+"0"],D1y.chart);f1y=this.stx.pixelFromValueAdjusted(D1y,this.p0[0],this.p0[1]);z1y=this.stx.pixelFromValueAdjusted(D1y,this.p1[0],this.p1[+"1"]);T1y=Math.min(z1y,f1y);v1y=Math.max(z1y,f1y);p3b.G0X(6);y1y=p3b.D0X(T1y,v1y);p3b.G0X(29);S1y=p3b.E0X(f1y,0,z1y,P1y,p1y);Z1y={color:o2j,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=Z1y;}w1y=this.getLineColor(this.parameters.trend.color);a1y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",a1y);V1y=a1y.measureText(H2j).width + 10;O1y=Number.MAX_VALUE;A1y=Number.MAX_VALUE;C1y=Number.MAX_VALUE * -1;Q1y=Number.MAX_VALUE * -1;g1y=this.color;if(g1y == "auto" || r5x.isTransparent(g1y)){g1y=this.stx.defaultColor;}this.rays=[];for(var x1y=+"0";x1y < this.parameters.fibs.length;x1y++){T2j="und";T2j+="efined";u2j="segm";u2j+="e";u2j+="nt";a1y.textAlign="left";a1y.fillStyle=g1y;j1y=this.parameters.fibs[x1y];if(!j1y.display)continue;F1y=this.stx.pixelFromValueAdjusted(D1y,this.p0[+"0"],z1y < f1y?B1y - H1y * j1y.level:h1y + H1y * j1y.level);Y1y=r5x.xIntersection({x0:p1y,x1:P1y,y0:f1y,y1:z1y},F1y);X1y=this.parameters.extendLeft?0:Y1y;o1y=D1y.left + D1y.width;if(this.parameters.printLevels){j2j="r";j2j+="ig";j2j+="ht";n1y=Math.round(j1y.level * 1000) / +"10" + ((7960,8140) > 3220?(267.62,8570) === (3710,8560)?! !{}:"%":969.14);o1y-=V1y;if(this.parameters.printValues){A2j="stx_";A2j+="yaxi";A2j+="s";a1y.fillStyle=g1y;this.stx.canvasFont(A2j,a1y);;}if(o1y < X1y){a1y.textAlign=j2j;}a1y.fillText(n1y,o1y,F1y);if(o1y < X1y){o1y+=5;}else {o1y-=5;}}if(this.parameters.printValues){if(Y1y < D1y.width){G1y=this.stx.transformedPriceFromPixel(F1y,D1y);if(s1y.priceFormatter){G1y=s1y.priceFormatter(this.stx,D1y,G1y);}else {G1y=this.stx.formatYAxisPrice(G1y,D1y);}if(a1y == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D1y,G1y,F1y,g1y,null,a1y);if(a1y == this.stx.chart.context){this.stx.startClip(D1y.name);}}}l1y=j1y.color;if(l1y == "auto" || r5x.isTransparent(l1y)){l1y=this.color;}if(l1y == "auto" || r5x.isTransparent(l1y)){l1y=this.stx.defaultColor;}U1y=j1y.color;if(U1y == "auto" || r5x.isTransparent(U1y)){U1y=this.fillColor;}if(U1y == "auto" || r5x.isTransparent(U1y)){U1y=this.stx.defaultColor;}a1y.fillStyle=U1y;K1y=r5x.clone(j1y.parameters);if(this.highlighted){K1y.opacity=1;}this.stx.plotLine(X1y,o1y,F1y,F1y,this.highlighted?w1y:l1y,u2j,a1y,D1y,K1y);this.rays.push([[X1y,F1y],[o1y,F1y]]);a1y.globalAlpha=0.05;a1y.beginPath();a1y.moveTo(o1y,F1y);a1y.lineTo(X1y,F1y);if(X1y){a1y.lineTo(P1y,z1y);}else {a1y.lineTo(X1y,z1y);}a1y.lineTo(o1y,z1y);if(typeof U1y != T2j){a1y.fill();}a1y.globalAlpha=1;if(F1y < A1y){O1y=Y1y;A1y=F1y;}if(F1y > Q1y){C1y=Y1y;Q1y=F1y;}}for(var q1y=+"0";q1y <= 1;q1y++){i1y=S1y?v1y - y1y * q1y:T1y + y1y * q1y;i1y=Math.round(i1y);if(i1y < A1y){O1y=r5x.xIntersection({x0:p1y,x1:P1y,y0:f1y,y1:z1y},i1y);A1y=i1y;}if(i1y > Q1y){C1y=r5x.xIntersection({x0:p1y,x1:P1y,y0:f1y,y1:z1y},i1y);Q1y=i1y;}}k1y=r5x.clone(this.parameters.trend.parameters);if(this.highlighted){k1y.opacity=1;}this.stx.plotLine(O1y,C1y,A1y,Q1y,w1y,G2j,a1y,D1y,k1y);if(this.highlighted){b2y=this.highlighted == "p0"?! !"1":! !"";W2y=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(a1y,p1y,f1y,b2y);this.littleCircle(a1y,P1y,z1y,W2y);}};r5x.Drawing.fibonacci.prototype.reposition=function(M2y,t2y,R2y,r2y){if(!t2y){return;}r5x.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};r5x.Drawing.fibonacci.prototype.intersected=function(N2y,m2y,a2y){var V2j,J2y,I2y,d2y,u2y,e2y,L2y,t2j;V2j="se";V2j+="g";V2j+="men";V2j+="t";J2y=this.p0;p3b.L7b();I2y=this.p1;if(!J2y || !I2y){return null;}d2y={0:J2y,1:I2y};for(var E2y in d2y){if(this.pointIntersection(d2y[E2y][0],d2y[E2y][1],a2y)){p3b.d0X(2);this.highlighted=p3b.D0X(E2y,"p");return {action:"drag",point:"p" + E2y};}}u2y=this.outer;e2y=this.rays;L2y=u2y && this.lineIntersection(N2y,m2y,a2y,V2j,u2y.p0,u2y.p1);if(!L2y){for(var c2y=0;c2y < e2y.length;c2y++){if(this.lineIntersection(N2y,m2y,a2y,"ray",e2y[c2y][0],e2y[c2y][1],! !1)){L2y=! ![];break;}}}if(L2y){t2j="mo";t2j+="ve";this.highlighted=! ![];return {action:t2j,p0:r5x.clone(J2y),p1:r5x.clone(I2y),tick:N2y,value:m2y};}return null;};r5x.Drawing.fibonacci.prototype.reconstruct=function(F2y,D2y){D2y=r5x.replaceFields(D2y,r5x.reverseObject(r5x.Drawing.fibonacci.mapping));this.stx=F2y;this.parameters=D2y.parameters;if(!this.parameters){this.parameters=r5x.clone(this.stx.currentVectorParameters.fibonacci);}this.color=D2y.col;this.fillColor=D2y.fc;this.panelName=D2y.pnl;this.d0=D2y.d0;this.d1=D2y.d1;this.d2=D2y.d2;this.tzo0=D2y.tzo0;this.tzo1=D2y.tzo1;this.tzo2=D2y.tzo2;this.v0=D2y.v0;this.v1=D2y.v1;this.v2=D2y.v2;this.adjust();};r5x.Drawing.fibonacci.prototype.adjust=function(){var z2y;z2y=this.stx.panels[this.panelName];if(!z2y){return;}p3b.L7b();this.setPoint(0,this.d0,this.v0,z2y.chart);this.setPoint(1,this.d1,this.v1,z2y.chart);this.setOuter();};r5x.Drawing.fibonacci.prototype.serialize=function(){var o2y;o2y={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return r5x.replaceFields(o2y,r5x.Drawing.fibonacci.mapping);};r5x.Drawing.retracement=function(){this.name="retracement";};r5x.inheritsFrom(r5x.Drawing.retracement,r5x.Drawing.fibonacci);r5x.Drawing.fibprojection=function(){this.name="fibprojection";p3b.L7b();this.dragToDraw=!1;this.p2=null;};r5x.inheritsFrom(r5x.Drawing.fibprojection,r5x.Drawing.fibonacci);r5x.Drawing.fibprojection.prototype.recommendedLevels=[0,+"0.618",1,1.272,1.618,2.618,4.236];r5x.Drawing.fibprojection.prototype.click=function(j2y,U2y,i2y){var f2y;f2y=this.stx.panels[this.panelName];if(!f2y){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",U2y,i2y,f2y.chart);this.penDown=! !{};return !"1";}if(this.accidentalClick(U2y,i2y)){this.stx.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2["0" - 0],this.p2[1],f2y.chart);this.parameters=r5x.clone(this.parameters);return ! !"1";}this.setPoint(1,U2y,i2y,f2y.chart);p3b.d0X(22);this.p2=[this.p1[0],this.p1[p3b.D0X("1",784729344)]];return !1;;};r5x.Drawing.fibprojection.prototype.render=function(X2y){var i2j,E2j,l2y,y2y,K2y,s2y,h2y,C2y,O2y,x2y,G2y,k2y,H2y,S2y,Y2y,x2j,r2j,P2j,q2y,P2y,Z2y,A2y,g2y,F2j,V2y,B2y,Q2y,p2y,w2y,v2y,Y2j,n2y,b3y,W3y;i2j="segmen";i2j+="t";p3b.L7b();E2j="s";E2j+="egmen";E2j+="t";l2y=this.stx.panels[this.panelName];if(!l2y){return;}y2y=l2y.yAxis;if(!this.p1){return;}K2y=this.p1[1] - this.p0[1];s2y=this.stx.pixelFromTick(this.p0[0],l2y.chart);h2y=this.stx.pixelFromTick(this.p1[0],l2y.chart);C2y=this.stx.pixelFromValueAdjusted(l2y,this.p0[0],this.p0[1]);O2y=this.stx.pixelFromValueAdjusted(l2y,this.p1["0" * 1],this.p1[1]);x2y=null;G2y=null;if(this.p2){x2y=this.stx.pixelFromTick(this.p2[0],l2y.chart);G2y=this.stx.pixelFromValueAdjusted(l2y,this.p2[0],this.p2[1]);}k2y={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=k2y;}H2y=this.getLineColor(this.parameters.trend.color);X2y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",X2y);S2y=X2y.measureText("161.8%").width + 10;Y2y=this.color;if(Y2y == "auto" || r5x.isTransparent(Y2y)){Y2y=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var T2y=0;T2y < this.parameters.fibs.length;T2y++){x2j="und";x2j+="efine";x2j+="d";r2j="a";r2j+="ut";r2j+="o";P2j="aut";P2j+="o";X2y.textAlign="left";X2y.fillStyle=Y2y;q2y=this.parameters.fibs[T2y];if(!q2y.display)continue;P2y=this.stx.pixelFromValueAdjusted(l2y,this.p2[0],this.p2[1] + K2y * q2y.level);Z2y=r5x.xIntersection({x0:s2y,x1:h2y,y0:C2y,y1:O2y},P2y);A2y=this.parameters.extendLeft?0:s2y;g2y=l2y.left + l2y.width;if(this.parameters.printLevels){F2j="ri";F2j+="g";F2j+="h";F2j+="t";V2y=Math.round(q2y.level * +"1000") / 10 + "%";g2y-=S2y;if(this.parameters.printValues){X2y.fillStyle=Y2y;this.stx.canvasFont("stx_yaxis",X2y);;}if(g2y < A2y){X2y.textAlign=F2j;}X2y.fillText(V2y,g2y,P2y);if(g2y < A2y){g2y+=5;}else {g2y-=5;}}if(this.parameters.printValues){if(Z2y < l2y.width){B2y=this.stx.transformedPriceFromPixel(P2y,l2y);if(y2y.priceFormatter){B2y=y2y.priceFormatter(this.stx,l2y,B2y);}else {B2y=this.stx.formatYAxisPrice(B2y,l2y);}if(X2y == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(l2y,B2y,P2y,Y2y,null,X2y);if(X2y == this.stx.chart.context){this.stx.startClip(l2y.name);}}}Q2y=q2y.color;if(Q2y == "auto" || r5x.isTransparent(Q2y)){Q2y=this.color;}if(Q2y == P2j || r5x.isTransparent(Q2y)){Q2y=this.stx.defaultColor;}p2y=q2y.color;if(p2y == "auto" || r5x.isTransparent(p2y)){p2y=this.fillColor;}if(p2y == r2j || r5x.isTransparent(p2y)){p2y=this.stx.defaultColor;}X2y.fillStyle=p2y;w2y=r5x.clone(q2y.parameters);if(this.highlighted){p3b.d0X(0);w2y.opacity=p3b.E0X("1",1);}this.stx.plotLine(A2y,g2y,P2y,P2y,this.highlighted?H2y:Q2y,"segment",X2y,l2y,w2y);this.rays.push([[A2y,P2y],[g2y,P2y]]);X2y.globalAlpha=0.05;X2y.beginPath();X2y.moveTo(g2y,P2y);X2y.lineTo(A2y,P2y);if(A2y){X2y.lineTo(s2y,G2y);}else {X2y.lineTo(A2y,G2y);}X2y.lineTo(g2y,G2y);if(typeof p2y != x2j){X2y.fill();}X2y.globalAlpha=1;}}v2y=r5x.clone(this.parameters.trend.parameters);if(this.highlighted){v2y.opacity=1;}this.stx.plotLine(s2y,h2y,C2y,O2y,H2y,E2j,X2y,l2y,v2y);if(this.p2){this.stx.plotLine(h2y,x2y,O2y,G2y,H2y,i2j,X2y,l2y,v2y);}if(this.highlighted){Y2j="p";Y2j+="0";n2y=this.highlighted == Y2j?!0:![];b3y=this.highlighted == "p1"?! ![]:![];W3y=this.highlighted == "p2"?! ![]:! !"";this.littleCircle(X2y,s2y,C2y,n2y);this.littleCircle(X2y,h2y,O2y,b3y);this.littleCircle(X2y,x2y,G2y,W3y);}};r5x.Drawing.fibprojection.prototype.move=function(R3y,t3y,M3y){if(!this.penDown){return;}p3b.m7b();this.copyConfig();if(this.p2 === null){this.p1=[t3y,M3y];}else {this.p2=[t3y,M3y];}this.render(R3y);};r5x.Drawing.fibprojection.prototype.reposition=function(I3y,r3y,d3y,u3y){var b2j,w2j,E3y,c3y,J3y;b2j="d";p3b.m7b();b2j+="r";b2j+="a";b2j+="g";w2j="m";w2j+="o";w2j+="v";w2j+="e";if(!r3y){return;}E3y=this.stx.panels[this.panelName];c3y=r3y.tick - d3y;J3y=r3y.value - u3y;if(r3y.action == w2j){p3b.G0X(16);this.setPoint(p3b.E0X("0",1),r3y.p0[0] - c3y,r3y.p0[1] - J3y,E3y.chart);this.setPoint(1,r3y.p1[+"0"] - c3y,r3y.p1[1] - J3y,E3y.chart);this.setPoint(2,r3y.p2[0] - c3y,r3y.p2[1] - J3y,E3y.chart);this.render(I3y);}else if(r3y.action == b2j){this[r3y.point]=[d3y,u3y];this.setPoint(+"0",this.p0[0],this.p0[1],E3y.chart);this.setPoint(1,this.p1[0],this.p1[1],E3y.chart);this.setPoint(+"2",this.p2[0],this.p2[1],E3y.chart);this.render(I3y);}};r5x.Drawing.fibprojection.prototype.intersected=function(D3y,F3y,z3y){var L3y,e3y,N3y,o3y,L2j,f3y,U3y,U2j;L3y=this.p0;e3y=this.p1;N3y=this.p2;if(!L3y || !e3y || !N3y){return null;}o3y={0:L3y,1:e3y,2:N3y};for(var m3y in o3y){if(this.pointIntersection(o3y[m3y][0],o3y[m3y][1],z3y)){L2j="dra";L2j+="g";p3b.G0X(2);this.highlighted=p3b.E0X(m3y,(+"6616",41.75) >= ("691.41" - 0,1240)?(3430,8630) !== 7920?+"869.71":"499.08" * 1:"p");return {action:L2j,point:"p" + m3y};}}f3y=this.rays;U3y=this.lineIntersection(D3y,F3y,z3y,"segment",L3y,e3y) || this.lineIntersection(D3y,F3y,z3y,"segment",e3y,N3y);if(!U3y){for(var a3y=0;a3y < f3y.length;a3y++){if(this.lineIntersection(D3y,F3y,z3y,"ray",f3y[a3y][0],f3y[a3y][1],! !1)){U3y=! !1;break;}}}if(U3y){U2j="m";U2j+="ove";this.highlighted=!0;return {action:U2j,p0:r5x.clone(L3y),p1:r5x.clone(e3y),p2:r5x.clone(N3y),tick:D3y,value:F3y};}return null;};r5x.Drawing.fibprojection.prototype.adjust=function(){var i3y;i3y=this.stx.panels[this.panelName];if(!i3y){return;}this.setPoint(0,this.d0,this.v0,i3y.chart);this.setPoint(1,this.d1,this.v1,i3y.chart);p3b.m7b();this.setPoint(2,this.d2,this.v2,i3y.chart);};r5x.Drawing.fibarc=function(){p3b.L7b();this.name="fibarc";;};r5x.inheritsFrom(r5x.Drawing.fibarc,r5x.Drawing.fibonacci);p3b.G0X(1);r5x.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,0.618,p3b.D0X("1",549319200)];r5x.Drawing.fibarc.prototype.setOuter=function(){var j3y,X3y,l3y,g3y,p3y,P3y,A3y;j3y=this.stx.panels[this.panelName];if(!j3y){return;}this.outer={p0:r5x.clone(this.p0),p1:r5x.clone(this.p1)};X3y=this.stx.pixelFromValueAdjusted(j3y,this.p0[0],this.p0[1]);l3y=this.stx.pixelFromValueAdjusted(j3y,this.p1[0],this.p1[+"1"]);g3y=this.stx.pixelFromTick(this.p0[0],j3y.chart);p3y=this.stx.pixelFromTick(this.p1[0],j3y.chart);p3b.L7b();p3b.d0X(30);P3y=p3b.D0X(2,l3y,X3y);A3y=r5x.xIntersection({x0:g3y,x1:p3y,y0:X3y,y1:l3y},P3y);this.outer.p0[1]=this.stx.valueFromPixel(P3y,j3y);this.outer.p0[0]=this.stx.tickFromPixel(A3y,j3y.chart);};r5x.Drawing.fibarc.prototype.intersected=function(s3y,C3y,G3y){var d2j,B2j,x3y,Y3y,q3y,T3y,H3y,y3y,Q3y,h3y,v3y,O3y;d2j="m";d2j+="ov";d2j+="e";B2j="s";B2j+="egment";x3y=this.stx.panels[this.panelName];if(!x3y){return;}Y3y=this.p0;q3y=this.p1;T3y=this.outer;if(!Y3y || !q3y){return null;}H3y={0:Y3y,1:q3y};for(var B3y in H3y){if(this.pointIntersection(H3y[B3y][0],H3y[B3y][1],G3y)){p3b.d0X(2);this.highlighted=p3b.D0X(B3y,"p");return {action:"drag",point:((4358,230.42) < (5472,7186)?"p":! !"1") + B3y};}}if(this.lineIntersection(s3y,C3y,G3y,B2j,T3y.p0,T3y.p1)){this.highlighted=!0;return {action:"move",p0:r5x.clone(Y3y),p1:r5x.clone(q3y),tick:s3y,value:C3y};}y3y={x0:Y3y[0],x1:q3y[0],y0:Y3y[1],y1:q3y[1]};Q3y=r5x.convertBoxToPixels(this.stx,this.panelName,y3y);h3y={x:Math.abs(Math.sqrt("2" * 1) * (Q3y.x1 - Q3y.x0)),y:Math.abs(Math.sqrt(2) * (Q3y.y1 - Q3y.y0))};v3y=this.stx.pixelFromTick(s3y,x3y.chart);p3b.m7b();O3y=this.stx.pixelFromValueAdjusted(x3y,s3y,C3y);if(v3y + G3y.r < Q3y.x1 - h3y.x || v3y - G3y.r > Q3y.x1 + h3y.x){return null;}if(O3y + G3y.r < Q3y.y1 - h3y.y || O3y - G3y.r > Q3y.y1 + h3y.y){return null;}if(Q3y.y0 < Q3y.y1 && O3y - G3y.r > Q3y.y1){return null;}if(Q3y.y0 > Q3y.y1 && O3y + G3y.r < Q3y.y1){return null;}this.highlighted=! !1;return {action:d2j,p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:s3y,value:C3y};};r5x.Drawing.fibarc.prototype.render=function(w3y){var n2j,K3y,r7y,M7y,Z3y,W7y,S3y,c7y,J7y,I7y,b7y,X8j,v2j,k2j,k3y,e7y,d7y,R7y,L7y,N7y,R2j,t7y,V3y,n3y,u7y,m7y,a7y;n2j="a";n2j+="uto";K3y=this.stx.panels[this.panelName];if(!K3y){return;}r7y=K3y.yAxis;p3b.L7b();if(!this.p1){return;}M7y=this.stx.pixelFromTick(this.p0[0],K3y.chart);Z3y=this.stx.pixelFromTick(this.p1[0],K3y.chart);W7y=this.stx.pixelFromValueAdjusted(K3y,this.p0["0" >> 1390288800],this.p0[1]);S3y=this.stx.pixelFromValueAdjusted(K3y,this.p1[0],this.p1[1]);p3b.d0X(31);c7y=p3b.D0X(W7y,S3y);p3b.G0X(32);J7y=Math.abs(p3b.E0X(W7y,S3y,Z3y,M7y));I7y=this.getLineColor(this.parameters.trend.color);w3y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",w3y);b7y=this.color;if(b7y == n2j || r5x.isTransparent(b7y)){b7y=this.stx.defaultColor;}for(var E7y=0;E7y < this.parameters.fibs.length;E7y++){X8j="no";X8j+="ne";v2j="a";v2j+="u";v2j+="to";k2j="a";k2j+="u";k2j+="t";k2j+="o";w3y.fillStyle=b7y;k3y=this.parameters.fibs[E7y];if(k3y.level < 0 || !k3y.display)continue;e7y=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * k3y.level;d7y=this.p1[1] + e7y * (c7y?-1:"1" ^ 0) * (r7y.flipped?-1:1);R7y=this.stx.pixelFromValueAdjusted(K3y,this.p0[0],d7y);L7y=r5x.xIntersection({x0:M7y,x1:Z3y,y0:W7y,y1:S3y},R7y);if(this.parameters.printLevels){w3y.textAlign="center";N7y=Math.round(k3y.level * 1000) / 10 + (("43.08" * 1,6086) < 5458?+"286.46":887.8 !== 1480?"%":"7450" - 0 != "8360" >> 986702336?354.13:(8.10e+3,3.35e+3));if(this.parameters.printValues){R2j="stx_yax";R2j+="i";R2j+="s";w3y.fillStyle=b7y;this.stx.canvasFont(R2j,w3y);;}w3y.fillText(N7y,Z3y,Math.round(R7y - 5));}w3y.textAlign="left";if(this.parameters.printValues){if(L7y < K3y.width){t7y=d7y;if(r7y.priceFormatter){t7y=r7y.priceFormatter(this.stx,K3y,t7y);}else {t7y=this.stx.formatYAxisPrice(t7y,K3y);}if(w3y == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(K3y,t7y,R7y,b7y,null,w3y);if(w3y == this.stx.chart.context){this.stx.startClip(K3y.name);}}}V3y=k3y.color;if(V3y == k2j || r5x.isTransparent(V3y)){V3y=this.color;}if(V3y == "auto" || r5x.isTransparent(V3y)){V3y=this.stx.defaultColor;}w3y.strokeStyle=this.highlight?I7y:V3y;n3y=k3y.color;if(n3y == "auto" || r5x.isTransparent(n3y)){n3y=this.fillColor;}if(n3y == v2j || r5x.isTransparent(n3y)){n3y=this.stx.defaultColor;}w3y.fillStyle=n3y;w3y.globalAlpha=this.highlighted?1:k3y.parameters.opacity;w3y.lineWidth=k3y.parameters.lineWidth;if(w3y.setLineDash){w3y.setLineDash(r5x.borderPatternToArray(w3y.lineWidth,k3y.parameters.pattern));w3y.lineDashOffset=0;;}w3y.save();w3y.beginPath();p3b.G0X(10);w3y.scale(p3b.E0X(J7y,1),1);p3b.G0X(16);w3y.arc(p3b.E0X(Z3y,J7y),S3y,Math.abs(R7y - S3y),0,Math.PI,!c7y);if(this.pattern != X8j){w3y.stroke();}w3y.globalAlpha=0.05;w3y.fill();w3y.restore();if(w3y.setLineDash){w3y.setLineDash([]);}w3y.globalAlpha=1;}w3y.textAlign="left";u7y=r5x.clone(this.parameters.trend.parameters);if(this.highlighted){u7y.opacity=+"1";}p3b.G0X(33);this.stx.plotLine(Z3y,p3b.D0X("2",M7y,Z3y),S3y,p3b.E0X(2,S3y,W7y,p3b.d0X(30)),I7y,"segment",w3y,K3y,u7y);if(this.highlighted){m7y=this.highlighted == "p0"?! !"1":![];a7y=this.highlighted == "p1"?!"":!"1";this.littleCircle(w3y,M7y,W7y,m7y);this.littleCircle(w3y,Z3y,S3y,a7y);}};r5x.Drawing.fibfan=function(){this.name="fibfan";;};r5x.inheritsFrom(r5x.Drawing.fibfan,r5x.Drawing.fibonacci);r5x.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];r5x.Drawing.fibfan.prototype.setOuter=function(){};r5x.Drawing.fibfan.prototype.render=function(D7y){var Z8j,z7y,O7y,F7y,i7y,o7y,A7y,C7y,x7y,H7y,v7y,y7y,G7y,Y7y,q7y,l7y,O8j,p8j,P7y,U7y,s7y,f7y,g7y,w7y,Q7y,j7y,X7y,T7y,p7y,K7y,k7y;Z8j="a";Z8j+="u";Z8j+="to";z7y=this.stx.panels[this.panelName];if(!z7y){return;}O7y=z7y.yAxis;if(!this.p1){return;}F7y=this.stx.pixelFromTick(this.p0["0" * 1],z7y.chart);i7y=this.stx.pixelFromTick(this.p1[0],z7y.chart);p3b.L7b();o7y=this.stx.pixelFromValueAdjusted(z7y,this.p0[0],this.p0[+"1"]);A7y=this.stx.pixelFromValueAdjusted(z7y,this.p1[0],this.p1[1]);C7y=Math.min(A7y,o7y);x7y=Math.max(A7y,o7y);p3b.G0X(6);H7y=p3b.E0X(C7y,x7y);p3b.G0X(29);v7y=p3b.D0X(o7y,0,A7y,i7y,F7y);y7y=this.getLineColor(this.parameters.trend.color);D7y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",D7y);G7y=D7y.measureText("161.8%").width + 10;Y7y=Number.MAX_VALUE;q7y=Number.MAX_VALUE * -1;l7y=this.color;if(l7y == Z8j || r5x.isTransparent(l7y)){l7y=this.stx.defaultColor;}this.rays=[];for(var h7y=0;h7y < this.parameters.fibs.length;h7y++){O8j="segme";O8j+="nt";p8j="a";p8j+="u";p8j+="t";p8j+="o";D7y.fillStyle=l7y;P7y=this.parameters.fibs[h7y];if(!P7y.display)continue;U7y=this.stx.pixelFromValueAdjusted(z7y,this.p0[0],(this.p0[1] - this.p1[1]) * P7y.level + this.p1[1]);s7y=r5x.xIntersection({x0:i7y,x1:i7y,y0:o7y,y1:A7y},U7y);f7y=z7y.left;if(i7y > F7y){f7y+=z7y.width;}p3b.d0X(34);g7y=p3b.E0X(F7y,s7y,F7y,U7y,o7y,o7y,f7y);if(F7y > f7y - (this.parameters.printLevels?G7y + 5:0) && i7y > F7y)continue;else if(F7y < f7y + (this.parameters.printLevels?G7y + +"5":0) && i7y < F7y)continue;if(this.parameters.printLevels){w7y=Math.round(P7y.level * 1000) / 10 + "%";if(i7y > F7y){f7y-=G7y;D7y.textAlign="left";}else {f7y+=G7y;D7y.textAlign="right";}if(this.parameters.printValues){D7y.fillStyle=l7y;this.stx.canvasFont("stx_yaxis",D7y);;}p3b.d0X(34);g7y=p3b.E0X(F7y,s7y,F7y,U7y,o7y,o7y,f7y);D7y.fillText(w7y,f7y,g7y);if(i7y > F7y){f7y-=5;}else {p3b.G0X(22);f7y+=p3b.D0X("5",1603633728);}}D7y.textAlign="left";if(this.parameters.printValues){if(s7y < z7y.width){Q7y=this.stx.transformedPriceFromPixel(U7y,z7y);if(O7y.priceFormatter){Q7y=O7y.priceFormatter(this.stx,z7y,Q7y);}else {Q7y=this.stx.formatYAxisPrice(Q7y,z7y);}if(D7y == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(z7y,Q7y,U7y,l7y,null,D7y);if(D7y == this.stx.chart.context){this.stx.startClip(z7y.name);}}}j7y=P7y.color;if(j7y == "auto" || r5x.isTransparent(j7y)){j7y=this.color;}if(j7y == p8j || r5x.isTransparent(j7y)){j7y=this.stx.defaultColor;}X7y=P7y.color;if(X7y == "auto" || r5x.isTransparent(X7y)){X7y=this.fillColor;}if(X7y == "auto" || r5x.isTransparent(X7y)){X7y=this.stx.defaultColor;}D7y.fillStyle=X7y;if(this.parameters.printLevels){p3b.G0X(34);g7y=p3b.E0X(F7y,s7y,F7y,U7y,o7y,o7y,f7y);}T7y=r5x.clone(P7y.parameters);if(this.highlighted){T7y.opacity=1;}this.stx.plotLine(F7y,f7y,o7y,g7y,this.highlighted?y7y:j7y,O8j,D7y,z7y,T7y);this.rays.push([[F7y,o7y],[f7y,g7y]]);D7y.globalAlpha=0.05;D7y.beginPath();D7y.moveTo(f7y,g7y);D7y.lineTo(F7y,o7y);D7y.lineTo(f7y,o7y);D7y.fill();D7y.globalAlpha=1;if(U7y < Y7y){Y7y=U7y;}if(U7y > q7y){q7y=U7y;}}for(var B7y=0;B7y <= +"1";B7y++){p7y=v7y?x7y - H7y * B7y:C7y + H7y * B7y;p7y=Math.round(p7y);if(p7y < Y7y){Y7y=p7y;}if(p7y > q7y){q7y=p7y;}}if(this.highlighted){K7y=this.highlighted == "p0"?! !1:!1;k7y=this.highlighted == "p1"?! !{}:![];this.littleCircle(D7y,F7y,o7y,K7y);this.littleCircle(D7y,i7y,A7y,k7y);}};r5x.Drawing.fibtimezone=function(){p3b.L7b();this.name="fibtimezone";;};r5x.inheritsFrom(r5x.Drawing.fibtimezone,r5x.Drawing.fibonacci);r5x.Drawing.fibtimezone.prototype.render=function(S7y){var S8j,a8j,Z7y,V7y,t5y,J5y,I5y,E5y,d5y,N5y,u5y,r5y,n7y,e5y,M5y,R5y,b5y,W5y,c5y,l8j,m5y,a5y,L5y;S8j="s";S8j+="egme";S8j+="nt";a8j="a";a8j+="u";a8j+="t";a8j+="o";Z7y=this.stx.panels[this.panelName];if(!Z7y){return;}if(!this.p1){return;}V7y=this.stx.pixelFromTick(this.p0[0],Z7y.chart);t5y=this.stx.pixelFromTick(this.p1[0],Z7y.chart);J5y=this.stx.pixelFromValueAdjusted(Z7y,this.p0[0],this.p0[1]);I5y=this.stx.pixelFromValueAdjusted(Z7y,this.p1[0],this.p1[1]);E5y=[1,0];d5y=this.getLineColor(this.parameters.trend.color);S7y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",S7y);N5y=20;u5y=this.p1[0] - this.p0[0];r5y=this.color;if(r5y == "auto" || r5x.isTransparent(r5y)){r5y=this.stx.defaultColor;}S7y.textAlign="center";n7y=V7y;e5y=Z7y.yAxis.top;M5y=Z7y.yAxis.bottom;R5y=+"0";b5y=this.parameters.timezone.color;if(b5y == "auto" || r5x.isTransparent(b5y)){b5y=this.color;}if(b5y == "auto" || r5x.isTransparent(b5y)){b5y=this.stx.defaultColor;}W5y=this.parameters.timezone.color;if(W5y == a8j || r5x.isTransparent(W5y)){W5y=this.fillColor;}if(W5y == "auto" || r5x.isTransparent(W5y)){W5y=this.stx.defaultColor;}if(this.parameters.printLevels){p3b.d0X(6);M5y-=p3b.D0X(7,N5y);}c5y=r5x.clone(this.parameters.timezone.parameters);if(this.highlighted){c5y.opacity=1;}do {n7y=this.stx.pixelFromTick(this.p0[0] + R5y * u5y,Z7y.chart);if(V7y < t5y && n7y > Z7y.left + Z7y.width)break;else if(V7y > t5y && n7y < Z7y.left)break;if(this.parameters.printLevels){S7y.fillStyle=r5y;S7y.fillText(t5y > V7y?R5y:R5y * -1,n7y,M5y + ("7" - 0));}S7y.fillStyle=W5y;this.stx.plotLine(n7y,n7y,0,M5y,this.highlighted?d5y:b5y,"segment",S7y,Z7y,c5y);S7y.globalAlpha=0.05;S7y.beginPath();S7y.moveTo(V7y,e5y);S7y.lineTo(n7y,e5y);S7y.lineTo(n7y,M5y);S7y.lineTo(V7y,M5y);S7y.fill();S7y.globalAlpha=1;R5y=E5y[0] + E5y[1];E5y.unshift(R5y);}while(u5y);S7y.textAlign="left";this.stx.plotLine(V7y,t5y,J5y,I5y,d5y,S8j,S7y,Z7y,c5y);if(this.highlighted){l8j="p";l8j+="1";m5y=this.highlighted == "p0"?!0:!{};a5y=this.highlighted == l8j?! !1:![];this.littleCircle(S7y,V7y,J5y,m5y);this.littleCircle(S7y,t5y,I5y,a5y);}else {L5y=this.stx.valueFromPixel(Z7y.height / 2,Z7y);this.setPoint(+"0",this.p0[0],L5y,Z7y.chart);this.setPoint(+"1",this.p1[0],L5y,Z7y.chart);}};r5x.Drawing.fibtimezone.prototype.intersected=function(U5y,i5y,z5y){var D5y,o5y,j5y,f5y,X5y,D8j;D5y=this.p0;o5y=this.p1;j5y=this.stx.panels[this.panelName];if(!D5y || !o5y || !j5y){return null;}f5y={0:D5y,1:o5y};for(var F5y in f5y){if(this.pointIntersection(f5y[F5y][0],f5y[F5y][1],z5y)){p3b.G0X(2);this.highlighted=p3b.E0X(F5y,"p");return {action:"drag",point:"p" + F5y};}}X5y=this.lineIntersection(U5y,i5y,z5y,"segment");if(X5y || z5y.x0 <= this.p0["0" | 0] && z5y.x1 >= D5y[0]){D8j="mo";D8j+="v";D8j+="e";this.highlighted=!0;return {action:D8j,p0:r5x.clone(D5y),p1:r5x.clone(o5y),tick:U5y,value:i5y};}return null;};r5x.Drawing.arrow_v0=function(){p3b.m7b();var s8j;s8j="a";s8j+="r";s8j+="ro";s8j+="w";this.name=s8j;this.dimension=[11,11];p3b.G0X(22);this.points=[["M",3,0,(8070,254) !== 689.37?(+"7210",8082) < 8350?(307.36,9430) <= ("125.71" * 1,8320)?(347.19,104.00):"L":0x17f8:862.41,7,0,5669 >= 7466?9.20e+3:"L",7,5,8000 >= 3370?1640 !== +"1295"?"L":904.03 !== 550.78?968.65:(0x92e,955.29):("8.22e+3" | 8192,979.11),10,5,"L",5,10,(4822,3089) <= 4116?463.77 != 788.16?"L":"283.5" - 0 < "9014" << 1546299168?(6.97e+3,714.57):0xce6:("C","A"),0,5,(+"247.01",87.86) !== (21.72,4380)?(9965,"3190" | 3156) == (+"9745",+"70.03")?175.83 === 1070?0xf9d:(+"0x21fd",0x1c29):"L":(335.34,9.93e+3),3,p3b.E0X("5",1558810208),(667.64,283.81) > +"576"?+"0x19a1":(599.55,681.97) == 7930?(645.84,! !"1"):(824.55,7890) !== ("1180" >> 176449824,3600)?"L":("u",992.63),3,0]];};r5x.inheritsFrom(r5x.Drawing.arrow_v0,r5x.Drawing.shape);r5x.Drawing.xcross=function(){var c8j;c8j="xc";c8j+="ross";this.name=c8j;this.dimension=[7,7];p3b.G0X(12);p3b.L7b();this.points=[["M",p3b.E0X(0,"1"),0,"L",+"3",2,("9820" >> 724195552,7490) <= (402.83,703.02)?(+"4.00e+1",3.45e+3):(42.32,4660) < 7773?"L":(5125,7157) != 4276?("b",237.57):!{},p3b.E0X("5",2147483647,p3b.G0X(19)),0,(459.86,799.99) >= ("1440" & 2147483647,291.33)?(1010,585.03) >= 5707?(1.35e+3,+"3.10e+3"):"L":("9.78e+3" ^ 0,7.40e+3),6,1,"L",+"4",3,"L",6,p3b.E0X(0,"5",p3b.d0X(12)),"L",5,+"6","L",3,p3b.D0X("4",2147483647,p3b.G0X(19)),(896.1,5934) >= 625.67?"L":"u",1,6,8400 === 7860?+"631.98" <= (4680,+"673.36")?5960 <= 2600?(666.71,"P"):"0x2392" * 1:(+"0x15d4","O"):"L",+"0",5,281.78 >= (4080,7989)?(866.02,"f"):(7524,618) === (5872,9790)?(8090,"324.1" * 1) < 705?(1.82e+2,"8.22e+3" << 1272849344):!{}:"L",2,3,(6580,+"322") === 9690?849.29 < (+"3221",1410)?(6.05e+3,5.90e+3):"R":"L",0,1,(7360,798.21) === (7912,8810)?!1:"L",1,0]];;};r5x.inheritsFrom(r5x.Drawing.xcross,r5x.Drawing.shape);r5x.Drawing.check=function(){this.name="check";this.dimension=[+"8",+"9"];p3b.d0X(6);this.points=[[("8891" - 0,6628) == 8570?(584.42,140.30):"M",1,5,6048 !== 9140?"L":578 > (3862,4408)?7.78e+3:("I",! !{}),0,6,(757.52,7199) >= (5870,977)?"L":(8870,"41" << 367970720) > 320.06?"6.67e+3" | 2568:+"319.79",p3b.D0X(0,"2"),8,"L",7,1,(561.55,"9473" >> 801516768) > (730,"7810" ^ 0)?"L":(64.85,!0),6,0,(9383,435) == 3560?("X",![]):(+"6604",4114) === (686.72,464.77)?0x10cc:"L",2,p3b.D0X("6",1106945504,p3b.d0X(22)),(5400,487.7) <= (1431,1417)?"L":! ![],1,5]];;};r5x.inheritsFrom(r5x.Drawing.check,r5x.Drawing.shape);r5x.Drawing.star=function(){this.name="star";this.dimension=[12,12];p3b.G0X(6);this.points=[[8828 === (9050,6790)?(442.59,3080) > (689.86,898.11)?(+"2201",288.41) <= (1060,91.04)?(!{},563.65):7.43e+3:("580.85" - 0,0x14eb):"M",+"0",4,"L",4,4,(428.99,"5843" | 5139) > 865.66?(976.14,8540) >= (+"8700",373.73)?(+"1684",7204) <= (272,8200)?"L":(975.22,"e"):(9.18e+3,+"0x1963"):"k",5.5,0,"L",7,4,"L",11,p3b.E0X(0,"4"),"L",8,+"7","L",p3b.E0X("9",1539123424,p3b.d0X(22)),11,"431" >> 1870205952 == ("718.11" * 1,"326.68" - 0)?(+"8.09e+3","4.33e+3" * 1):"L",5.5,9,(+"5090",7512) !== 930.27?"L":(41,4350) === +"337"?(51,0x53a):0x1cb6,2,11,"L",3,7,(5730,"1070" >> 253497856) == 270.97?"u":"L",p3b.D0X("0",114600800,p3b.G0X(22)),4]];;};r5x.inheritsFrom(r5x.Drawing.star,r5x.Drawing.shape);r5x.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];p3b.d0X(0);this.points=[[("7935" & 2147483647,6162) !== 9940?7961 > (2706,3920)?9510 <= (507.91,9958)?"M":962:(0x1d22,7.17e+3):(0xc1b,6.89e+3),11,3,"3765" - 0 >= (1700,7455)?0x1f80:"B",11,2.4,10,0,6,0,(960.61,685.19) != "554.91" - 0?(199.1,1670) >= (568.03,622.64)?(4640,496.47) < 530.27?"B":(284.17,"0x618" >> 1349859296):0x269a:+"0x21dd",0,0,0,7.5,0,7.5,18.94 != 991.49?"B":(1649,2980) != 7000?4.46e+3:"O",p3b.D0X("0",0),+"11",4,p3b.D0X("15.4",1,p3b.d0X(16)),+"11",19,3387 < ("5360" - 0,"9570" ^ 0)?"B":("g",0x711),18,15.4,p3b.D0X("22",1032359744,p3b.d0X(22)),11,22,7.5,"B",22,7.5,22,0,16,0,"B",13,0,11,2.4,+"11",+"3"]];;};r5x.inheritsFrom(r5x.Drawing.heart,r5x.Drawing.shape);r5x.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];p3b.G0X(1);this.points=[[(4153,"184.11" * 1) < (738.72,5586)?"M":(+"980.36","D"),0,0,+"9370" > (251.94,"8416" - 0)?"L":591.47 !== (707.45,2340)?(1.58e+3,685.09):(0xc2f,0x13b3),+"2",2,(3132,574.47) == 8329?0xbd0:311.29 == (7541,3385)?(6.71e+2,0x230):7107 <= "255.55" - 0?(0x22f4,7.63e+2):"L",0,4,(+"8360",3220) <= 7112?"L":(5.79e+3,0x19d1),0,0],[(9694,5484) <= 1415?"r":("8128" ^ 0) !== (5016,857)?"M":+"905.00",6,+"0","L",4,2,(9387,+"6660") === (9100,"3890" | 3600)?(8270,+"377.35") == 7640?("g",937.34):(386.89,"r"):"L",6,p3b.E0X("4",88143776),(1710,1310) != (3548,407.28)?"L":! !"",6,0]];p3b.L7b();;};r5x.inheritsFrom(r5x.Drawing.focusarrow,r5x.Drawing.shape);r5x.Drawing.crossline=function(){this.name="crossline";};r5x.inheritsFrom(r5x.Drawing.crossline,r5x.Drawing.horizontal);r5x.extend(r5x.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(l5y,P5y){return !"1";},adjust:function(){var w1j,b1j,L1j,g5y;w1j=1246462878;p3b.L7b();b1j=1764601420;L1j=2;for(var B1j=1;p3b.d5h(B1j.toString(),B1j.toString().length,64578) !== w1j;B1j++){g5y=this.stx.panels[this.panelName];if(+g5y){return;}this.setPoint(+"1",this.d0,this.v0,g5y.chart);this.p1=r5x.clone(this.p0);L1j+=2;}if(p3b.d5h(L1j.toString(),L1j.toString().length,1245) !== b1j){g5y=this.stx.panels[this.panelName];if(~g5y){return;}this.setPoint(+"7",this.d0,this.v0,g5y.chart);this.p1=r5x.clone(this.p0);}g5y=this.stx.panels[this.panelName];if(!g5y){return;}this.setPoint(0,this.d0,this.v0,g5y.chart);this.p1=r5x.clone(this.p0);},intersected:function(A5y,Q5y,G5y){var p5y,D1j,s1j,c1j,M8j;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;p5y=this.lineIntersection(A5y,Q5y,G5y,"line");this.p1=r5x.clone(this.p0);if(!p5y){this.p1[1]+=1;p5y=this.lineIntersection(A5y,Q5y,G5y,"line");this.p1=r5x.clone(this.p0);D1j=-500402322;s1j=89213188;c1j=2;for(var N1j=+"1";p3b.n5h(N1j.toString(),N1j.toString().length,6811) !== D1j;N1j++){if(-p5y){return 1;}c1j+=2;}if(p3b.d5h(c1j.toString(),c1j.toString().length,55089) !== s1j){if(+p5y){return 9;}}if(!p5y){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0[0],this.p0[1],G5y)){M8j="p";M8j+="0";this.highlighted=M8j;}return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:A5y,value:Q5y};},render:function(T5y){var Y5y,B5y,h5y,C5y,v5y,s5y,q5y,O5y,y5y,x5y,H5y,w5y;Y5y=this.stx.panels[this.panelName];if(!Y5y){return;}B5y=this.stx.pixelFromTick(this.p0[0],Y5y.chart);h5y=this.stx.pixelFromValueAdjusted(Y5y,this.p0["0" ^ 0],this.p0[1]);C5y=this.getLineColor();v5y={pattern:this.pattern,lineWidth:this.lineWidth};p3b.d0X(2);this.stx.plotLine(B5y,p3b.D0X(100,B5y),h5y,h5y,C5y,"horizontal",T5y,Y5y,v5y);p3b.G0X(35);this.stx.plotLine(B5y,B5y,h5y,p3b.D0X(h5y,"100"),C5y,"vertical",T5y,Y5y,v5y);if(this.axisLabel && !this.repositioner){this.stx.endClip();s5y=this.p0[1];if(Y5y.chart.transformFunc){s5y=Y5y.chart.transformFunc(this.stx,Y5y.chart,s5y);}if(Y5y.yAxis.priceFormatter){s5y=Y5y.yAxis.priceFormatter(this.stx,Y5y,s5y);}else {s5y=this.stx.formatYAxisPrice(s5y,Y5y);}this.stx.createYAxisLabel(Y5y,s5y,h5y,C5y);this.stx.startClip(Y5y.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){q5y=this.stx.dateFromTick(this.p0[0],Y5y.chart,! ![]);if(!r5x.ChartEngine.isDailyInterval(this.stx.layout.interval)){y5y=q5y.getSeconds() * 1000 + q5y.getMilliseconds();if(E5x.Date && this.stx.displayZone){O5y=new E5x.Date(q5y.getTime(),this.stx.displayZone);q5y=new Date(O5y.getFullYear(),O5y.getMonth(),O5y.getDate(),O5y.getHours(),O5y.getMinutes());q5y=new Date(q5y.getTime() + y5y);}}else {p3b.d0X(19);q5y.setHours(p3b.E0X("0",2147483647),0,+"0",p3b.E0X(0,"0",p3b.G0X(6)));}x5y=r5x.mmddhhmm(r5x.yyyymmddhhmm(q5y));if(Y5y.chart.xAxis.formatter){x5y=Y5y.chart.xAxis.formatter(q5y,this.name,null,null,x5y);}else if(this.stx.internationalizer){if(q5y.getHours() !== 0 || q5y.getMinutes() !== 0){H5y=this.stx.internationalizer.monthDay.format(q5y);H5y+=" " + this.stx.internationalizer.hourMinute.format(q5y);}else {H5y=this.stx.internationalizer.yearMonthDay.format(q5y);}x5y=H5y;}this.stx.endClip();this.stx.createXAxisLabel({panel:Y5y,txt:x5y,x:B5y,backgroundColor:C5y,color:null,pointed:! !{},padding:+"2"});this.stx.startClip(Y5y.name);}}if(this.highlighted){w5y=this.highlighted == "p0"?!0:!{};this.littleCircle(T5y,B5y,h5y,w5y);}}},! ![]);r5x.Drawing.speedarc=function(){var N8j;N8j="s";N8j+="peed";N8j+="arc";this.name=N8j;this.printLevels=! ![];};r5x.inheritsFrom(r5x.Drawing.speedarc,r5x.Drawing.segment);r5x.extend(r5x.Drawing.speedarc.prototype,{defaultOpacity:"0.25" - 0,configs:[q8j,"fillColor","lineWidth","pattern"],copyConfig:function(){var w6h,b6h,L6h;p3b.m7b();this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;w6h=-1966228619;b6h=899762097;L6h=+"2";for(var B6h=1;p3b.d5h(B6h.toString(),B6h.toString().length,36897) !== w6h;B6h++){this.lineWidth=this.stx.currentVectorParameters.lineWidth;L6h+=2;}if(p3b.n5h(L6h.toString(),L6h.toString().length,+"81436") !== b6h){this.lineWidth=this.stx.currentVectorParameters.lineWidth;}this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(K5y,k5y,t6y){var Z5y,M6y,V5y,n5y,b6y,W6y;if(!this.p0 || !this.p1){return null;}Z5y={0:this.p0,1:this.p1};for(var S5y in Z5y){if(this.pointIntersection(Z5y[S5y]["0" ^ 0],Z5y[S5y][1],t6y)){p3b.G0X(2);this.highlighted=p3b.E0X(S5y,1550 != +"313.16"?"p":201.58);return {action:"drag",point:(+"3560" == (289.18,+"3635")?("h",+"977.50"):"p") + S5y};}}M6y=this.lineIntersection(K5y,k5y,t6y,this.name);if(M6y){this.highlighted=!0;return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:K5y,value:k5y};}V5y=this.p1[0] - (this.p0[+"0"] - this.p1[0]);n5y=this.p0[0];p3b.G0X(1);b6y=this.p1[p3b.E0X("1",1190544384)];W6y=this.p0[1];if(K5y > Math.max(V5y,n5y) || K5y < Math.min(V5y,n5y)){return null;}if(k5y > Math.max(W6y,b6y) || k5y < Math.min(W6y,b6y)){return null;}this.highlighted=! ![];return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:K5y,value:k5y};},render:function(R6y){var f8j,r6y,u6y,c6y,I6y,E6y,L6y,N6y,e6y,J6y,a6y,D6y,m6y,g8j,F6y,z6y,I8j,o6y,f6y;f8j="s";f8j+="t";f8j+="x_ya";f8j+="xis";r6y=this.stx.panels[this.panelName];if(!r6y){return;}if(!this.p1){return;}u6y=this.stx.pixelFromTick(this.p0[0],r6y.chart);c6y=this.stx.pixelFromTick(this.p1[0],r6y.chart);I6y=this.stx.pixelFromValueAdjusted(r6y,this.p0[0],this.p0[1]);E6y=this.stx.pixelFromValueAdjusted(r6y,this.p1[0],this.p1[1]);p3b.G0X(31);L6y=p3b.D0X(I6y,E6y);p3b.d0X(32);N6y=Math.abs(p3b.E0X(I6y,E6y,c6y,u6y));e6y=this.getLineColor();R6y.strokeStyle=e6y;J6y=this.fillColor;if(J6y == "auto" || r5x.isTransparent(J6y)){J6y=this.stx.defaultColor;}R6y.fillStyle=J6y;if(R6y.setLineDash){R6y.setLineDash(r5x.borderPatternToArray(this.lineWidth,this.pattern));p3b.G0X(6);R6y.lineDashOffset=p3b.E0X(0,"0");;}this.stx.canvasFont(f8j,R6y);for(var d6y=1;d6y < 3;d6y++){a6y=Math.abs(this.p1["1" & 2147483647] - this.p0[+"1"]) * Math.sqrt(2) * d6y / 3;D6y=this.p1[1] + a6y * (L6y?-1:1) * (r6y.yAxis.flipped?-1:1);m6y=this.stx.pixelFromValueAdjusted(r6y,this.p0[0],D6y);R6y.save();R6y.beginPath();p3b.d0X(10);R6y.scale(p3b.D0X(N6y,1),1);p3b.G0X(16);R6y.arc(p3b.D0X(c6y,N6y),E6y,Math.abs(m6y - E6y),0,Math.PI,!L6y);R6y.globalAlpha=this.highlighted?+"1":this.defaultOpacity;if(this.pattern != "none"){R6y.stroke();}R6y.globalAlpha=0.1;R6y.fill();R6y.restore();R6y.globalAlpha=+"1";if(this.printLevels){g8j="c";g8j+="en";g8j+="ter";R6y.fillStyle=e6y;R6y.textAlign=g8j;p3b.d0X(2);F6y=p3b.E0X("/3",d6y);R6y.fillText(F6y,c6y,Math.round(m6y - 5));R6y.fillStyle=J6y;}}R6y.textAlign="left";z6y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(u6y,c6y,I6y,E6y,e6y,"segment",R6y,r6y,z6y);if(R6y.setLineDash){R6y.setLineDash([]);}if(this.highlighted){I8j="p";I8j+="0";o6y=this.highlighted == I8j?! !{}:!1;f6y=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(R6y,u6y,I6y,o6y);this.littleCircle(R6y,c6y,E6y,f6y);}},reconstruct:function(i6y,U6y){this.stx=i6y;this.color=U6y.col;this.fillColor=U6y.fc;this.panelName=U6y.pnl;this.pattern=U6y.ptrn;this.lineWidth=U6y.lw;this.d0=U6y.d0;this.d1=U6y.d1;this.tzo0=U6y.tzo0;this.tzo1=U6y.tzo1;this.v0=U6y.v0;this.v1=U6y.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);r5x.Drawing.speedline=function(){this.name="speedline";p3b.m7b();this.printLevels=! !{};};r5x.inheritsFrom(r5x.Drawing.speedline,r5x.Drawing.speedarc);r5x.extend(r5x.Drawing.speedline.prototype,{intersected:function(A6y,Q6y,G6y){var l6y,P6y,g6y,p6y,z8j,g6v,I6v,z6v;l6y=this.p0;P6y=this.p1;if(!l6y || !P6y){return null;}g6y={0:l6y,1:P6y};for(var j6y in g6y){if(this.pointIntersection(g6y[j6y][0],g6y[j6y][1],G6y)){p3b.G0X(2);this.highlighted=p3b.D0X(j6y,"p");return {action:"drag",point:"p" + j6y};}}p6y=this.rays;for(var X6y=0;X6y < p6y.length;X6y++){if(this.lineIntersection(A6y,Q6y,G6y,"ray",p6y[X6y][0],p6y[X6y][1],! !"1")){z8j="m";z8j+="ov";z8j+="e";this.highlighted=! !1;return {action:z8j,p0:r5x.clone(l6y),p1:r5x.clone(P6y),tick:A6y,value:Q6y};}}g6v=- +"884652903";I6v=-1240110675;z6v=2;for(var Q6v=1;p3b.n5h(Q6v.toString(),Q6v.toString().length,23225) !== g6v;Q6v++){return 1;}if(p3b.n5h(z6v.toString(),z6v.toString().length,25826) !== I6v){return null;}},render:function(Y6y){var W8j,Q8j,y8j,O6y,q6y,B6y,s6y,C6y,b4y,T6y,y6y,W4y,t4y,M4y,V6y,n6y,h6y,x6y,v6y,k6y,H6y,K6y,S6y,Z6y,m8j,C8j,R4y,r4y;W8j="le";W8j+="ft";Q8j="au";Q8j+="to";y8j="stx_ya";y8j+="x";y8j+="is";O6y=this.stx.panels[this.panelName];if(!O6y){return;}if(!this.p1){return;}q6y=this.stx.pixelFromTick(this.p0[0],O6y.chart);B6y=this.stx.pixelFromTick(this.p1[0],O6y.chart);s6y=this.stx.pixelFromValueAdjusted(O6y,this.p0[0],this.p0[1]);C6y=this.stx.pixelFromValueAdjusted(O6y,this.p1[0],this.p1[1]);this.stx.canvasFont(y8j,Y6y);b4y=this.getLineColor();T6y=this.color;if(T6y == Q8j || r5x.isTransparent(T6y)){T6y=this.stx.defaultColor;}p3b.m7b();Y6y.strokeStyle=T6y;y6y=this.fillColor;if(y6y == "auto" || r5x.isTransparent(y6y)){y6y=this.stx.defaultColor;}Y6y.fillStyle=y6y;W4y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};V6y=[1335 === 5735?! !0:"1","2/3","1/3","3/2","3"];p3b.G0X(10);n6y=[1,p3b.D0X(3,2),p3b.E0X(3,1),p3b.E0X(2,3),3];h6y=[];this.rays=[];for(var w6y="0" << 1470985984;w6y < n6y.length;w6y++){x6y=n6y[w6y];if(x6y > 1 && !this.extension)continue;v6y=this.stx.pixelFromValueAdjusted(O6y,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * x6y);if(x6y > 1){k6y=r5x.xIntersection({x0:q6y,x1:B6y,y0:s6y,y1:v6y},C6y);h6y.push(k6y);}else {k6y=r5x.xIntersection({x0:B6y,x1:B6y,y0:s6y,y1:C6y},v6y);h6y.push(v6y);}H6y=x6y > 1?k6y:B6y;K6y=x6y > 1?C6y:v6y;if(!this.confineToGrid){H6y=O6y.left;if(B6y > q6y){H6y+=O6y.width;}p3b.d0X(34);K6y=p3b.E0X(q6y,B6y,q6y,v6y,s6y,s6y,H6y);}if(this.printLevels){if(x6y != 1 || this.extension){Y6y.fillStyle=T6y;S6y=0;Z6y=0;if(s6y > C6y){Z6y=-5;Y6y.textBaseline="bottom";}else {m8j="t";m8j+="o";m8j+="p";Z6y=5;Y6y.textBaseline=m8j;}if(q6y > B6y){S6y=5;Y6y.textAlign="right";}else {C8j="l";C8j+="ef";C8j+="t";S6y=-5;Y6y.textAlign=C8j;}if(x6y > 1){Y6y.fillText(V6y[w6y],k6y + (this.confineToGrid?0:S6y),C6y);}else {Y6y.fillText(V6y[w6y],B6y,v6y + (this.confineToGrid?0:Z6y));}Y6y.fillStyle=y6y;}}this.stx.plotLine(q6y,H6y,s6y,K6y,this.highlighted?b4y:T6y,"segment",Y6y,O6y,W4y);if(x6y == 1){t4y=H6y;M4y=K6y;}this.rays.push([[q6y,s6y],[H6y,K6y]]);Y6y.globalAlpha=0.1;Y6y.beginPath();Y6y.moveTo(H6y,K6y);Y6y.lineTo(q6y,s6y);Y6y.lineTo(t4y,M4y);Y6y.fill();Y6y.globalAlpha=1;}Y6y.textAlign=W8j;Y6y.textBaseline="middle";if(this.confineToGrid){Y6y.globalAlpha=0.3;Y6y.beginPath();p3b.d0X(6);Y6y.strokeRect(q6y,s6y,p3b.D0X(q6y,B6y),p3b.D0X(s6y,C6y));Y6y.moveTo(q6y,h6y[1]);Y6y.lineTo(B6y,h6y["1" * 1]);Y6y.moveTo(q6y,h6y["2" * 1]);Y6y.lineTo(B6y,h6y["2" << 137043744]);if(this.extension){Y6y.moveTo(h6y[+"3"],s6y);Y6y.lineTo(h6y[3],C6y);Y6y.moveTo(h6y[+"4"],s6y);Y6y.lineTo(h6y[4],C6y);}Y6y.stroke();Y6y.globalAlpha=1;}if(this.highlighted){R4y=this.highlighted == "p0"?!0:!{};r4y=this.highlighted == "p1"?! !"1":!1;this.littleCircle(Y6y,q6y,s6y,R4y);this.littleCircle(Y6y,B6y,C6y,r4y);}}},! !1);r5x.Drawing.gannfan=function(){var K8j;K8j="gannf";K8j+="a";K8j+="n";this.name=K8j;this.printLevels=!0;};r5x.inheritsFrom(r5x.Drawing.gannfan,r5x.Drawing.speedline);r5x.extend(r5x.Drawing.gannfan.prototype,{render:function(E4y){var J8j,I4y,c4y,d4y,J4y,m4y,U4y,u4y,N4y,i4y,j4y,X4y,o4y,e4y,l4y,f4y,L4y,a4y,F4y,z4y,h8j,e8j,P4y,g4y;J8j="stx_ya";J8j+="xi";J8j+="s";I4y=this.stx.panels[this.panelName];if(!I4y){return;}if(!this.p1){return;}c4y=this.stx.pixelFromTick(this.p0["0" & 2147483647],I4y.chart);d4y=this.stx.pixelFromTick(this.p1[0],I4y.chart);J4y=this.stx.pixelFromValueAdjusted(I4y,this.p0[0],this.p0[1]);m4y=this.stx.pixelFromValueAdjusted(I4y,this.p1[0],this.p1[1]);this.stx.canvasFont(J8j,E4y);U4y=this.getLineColor();u4y=this.color;if(u4y == "auto" || r5x.isTransparent(u4y)){u4y=this.stx.defaultColor;}E4y.strokeStyle=u4y;N4y=this.fillColor;if(N4y == "auto" || r5x.isTransparent(N4y)){N4y=this.stx.defaultColor;}E4y.fillStyle=N4y;p3b.m7b();i4y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};p3b.G0X(10);o4y=[1,2,3,4,8,p3b.D0X(2,1),p3b.D0X(3,1),p3b.D0X(4,1),p3b.E0X(8,1)];this.rays=[];for(var D4y=0;D4y < o4y.length;D4y++){e4y=o4y[D4y];p3b.d0X(36);l4y=p3b.D0X(c4y,e4y,d4y,c4y);p3b.d0X(37);f4y=p3b.E0X(m4y,e4y,J4y,J4y);L4y=I4y.left;if(d4y > c4y){L4y+=I4y.width;}p3b.G0X(34);a4y=p3b.D0X(c4y,d4y,c4y,f4y,J4y,J4y,L4y);if(this.printLevels){E4y.fillStyle=u4y;F4y=0;p3b.G0X(6);z4y=p3b.E0X(0,"0");if(J4y > m4y){z4y=5;E4y.textBaseline="top";}else {h8j="b";h8j+="ot";h8j+="t";h8j+="om";z4y=-5;E4y.textBaseline=h8j;}if(c4y > d4y){F4y=5;E4y.textAlign="left";}else {F4y=-5;E4y.textAlign="right";}if(e4y > 1){p3b.d0X(2);E4y.fillText(p3b.E0X("x1",e4y),p3b.D0X(F4y,l4y),m4y);}else {p3b.d0X(38);E4y.fillText(p3b.D0X(e4y,1,"1","1x"),d4y,p3b.E0X(z4y,f4y,p3b.d0X(2)));}E4y.fillStyle=N4y;}this.stx.plotLine(c4y,L4y,J4y,a4y,this.highlighted?U4y:u4y,"segment",E4y,I4y,i4y);this.rays.push([[c4y,J4y],[L4y,a4y]]);if(e4y == 1){j4y=L4y;X4y=a4y;}E4y.globalAlpha=0.1;E4y.beginPath();E4y.moveTo(L4y,a4y);E4y.lineTo(c4y,J4y);E4y.lineTo(j4y,X4y);E4y.fill();E4y.globalAlpha=+"1";}E4y.textAlign="left";E4y.textBaseline="middle";if(this.highlighted){e8j="p";e8j+="0";P4y=this.highlighted == e8j?! !1:! !0;g4y=this.highlighted == "p1"?! !1:!"1";this.littleCircle(E4y,c4y,J4y,P4y);this.littleCircle(E4y,d4y,m4y,g4y);}}},! !{});r5x.Drawing.timecycle=function(){p3b.m7b();this.name="timecycle";this.printLevels=!0;};r5x.inheritsFrom(r5x.Drawing.timecycle,r5x.Drawing.speedarc);r5x.extend(r5x.Drawing.timecycle.prototype,{intersected:function(q4y,s4y,Q4y){var o8j,p4y,G4y,B4y,Y4y,h4y;o8j="seg";o8j+="ment";p4y=this.p0;G4y=this.p1;B4y=this.stx.panels[this.panelName];if(!p4y || !G4y || !B4y){return null;}Y4y={0:p4y,1:G4y};p3b.L7b();for(var A4y in Y4y){if(this.pointIntersection(Y4y[A4y][0],Y4y[A4y]["1" ^ 0],Q4y)){p3b.d0X(2);this.highlighted=p3b.E0X(A4y,(6890,9910) != (2243,2080)?"p":(0x1dcd,0xb40));return {action:"drag",point:((529,1900) >= (985.54,478.33)?(545.91,183.93) != +"2761"?+"4745" === (1850,1440)?![]:"p":! !"":+"0xf7f") + A4y};}}h4y=this.lineIntersection(q4y,s4y,Q4y,o8j);if(h4y || Q4y.x0 <= this.p0[0] && Q4y.x1 >= p4y[0]){this.highlighted=!"";return {action:"move",p0:r5x.clone(p4y),p1:r5x.clone(G4y),tick:q4y,value:s4y};}return null;},render:function(O4y){var C4y,H4y,K4y,V4y,n4y,S4y,b8y,r8y,W8y,x4y,t8y,y4y,w4y,k4y,M8y,T4y,Z4y,E8y,c8y,J8y,R8y;C4y=this.stx.panels[this.panelName];if(!C4y){return;}if(!this.p1){return;}H4y=this.stx.pixelFromTick(this.p0[+"0"],C4y.chart);K4y=this.stx.pixelFromTick(this.p1[0],C4y.chart);V4y=this.stx.pixelFromValueAdjusted(C4y,this.p0[0],this.p0[1]);n4y=this.stx.pixelFromValueAdjusted(C4y,this.p1[0],this.p1[1]);S4y=0;b8y=this.getLineColor();O4y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",O4y);r8y=20;W8y=this.p1[0] - this.p0[0];O4y.textAlign="center";x4y=H4y;t8y=C4y.yAxis.top;y4y=C4y.yAxis.bottom;w4y=this.color;if(w4y == "auto" || r5x.isTransparent(w4y)){w4y=this.stx.defaultColor;}k4y=this.fillColor;if(k4y == "auto" || r5x.isTransparent(k4y)){k4y=this.stx.defaultColor;}if(this.printLevels){p3b.G0X(6);y4y-=p3b.D0X(7,r8y);}M8y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};T4y=[];O4y.save();O4y.fillStyle=k4y;O4y.globalAlpha=0.05;do {x4y=this.stx.pixelFromTick(this.p0[0] + S4y * W8y,C4y.chart);S4y++;if(H4y < K4y && x4y > C4y.left + C4y.width)break;else if(H4y > K4y && x4y < C4y.left)break;else if(x4y < C4y.left || x4y > C4y.left + C4y.width)continue;O4y.beginPath();O4y.moveTo(H4y,t8y);O4y.lineTo(x4y,t8y);O4y.lineTo(x4y,y4y);O4y.lineTo(H4y,y4y);O4y.fill();T4y.push({c:S4y,x:x4y});}while(W8y);O4y.globalAlpha=1;Z4y=0;for(var v4y=0;v4y < T4y.length;v4y++){this.stx.plotLine(T4y[v4y].x,T4y[v4y].x,0,y4y,this.highlighted?b8y:w4y,"segment",O4y,C4y,M8y);if(this.printLevels){O4y.fillStyle=w4y;E8y=this.stx.chart.context.measureText(T4y[v4y].c).width + 3;if(E8y < this.stx.layout.candleWidth + Z4y){O4y.fillText(T4y[v4y].c,T4y[v4y].x,y4y + ("7" | 4));Z4y=+"0";}else {Z4y+=this.stx.layout.candleWidth;}}}O4y.restore();O4y.textAlign="left";this.stx.plotLine(H4y,K4y,V4y,n4y,b8y,"segment",O4y,C4y,M8y);if(this.highlighted){c8y=this.highlighted == "p0"?! ![]:![];J8y=this.highlighted == "p1"?! !"1":!{};this.littleCircle(O4y,H4y,V4y,c8y);this.littleCircle(O4y,K4y,n4y,J8y);}else {R8y=this.stx.valueFromPixel(C4y.height / 2,C4y);this.setPoint(+"0",this.p0["0" | 0],R8y,C4y.chart);this.setPoint(1,this.p1[0],R8y,C4y.chart);}}},! !"1");r5x.Drawing.regression=function(){this.name="regression";};r5x.inheritsFrom(r5x.Drawing.regression,r5x.Drawing.segment);r5x.extend(r5x.Drawing.regression.prototype,{configs:[H8j,"lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2",A8j,"color3","lineWidth3","pattern3"],copyConfig:function(d8y){var j8j,I8y;j8j="a";j8j+="u";j8j+="t";j8j+="o";r5x.Drawing.copyConfig(this,d8y);I8y=this.stx.currentVectorParameters;this.active1=! !I8y.active1;this.active2=! !I8y.active2;this.active3=! !I8y.active3;this.color1=I8y.color1 || j8j;this.color2=I8y.color2 || "auto";this.color3=I8y.color3 || "auto";this.lineWidth1=I8y.lineWidth1;this.lineWidth2=I8y.lineWidth2;this.lineWidth3=I8y.lineWidth3;this.pattern1=I8y.pattern1;this.pattern2=I8y.pattern2;this.pattern3=I8y.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]',u8j],click:function(z8y,L8y,N8y){var e8y,u8y,m8y,a8y;if(L8y < 0){return;}this.copyConfig();e8y=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,L8y,N8y,e8y.chart);this.penDown=! !{};u8y=this.stx;this.field=u8y.highlightedDataSetField;if(!this.field && e8y != u8y.chart.panel){for(var D8y in u8y.chart.seriesRenderers){m8y=u8y.chart.seriesRenderers[D8y];if(m8y.params.panel == e8y.name){this.field=m8y.seriesParams[0].field;break;}}for(var F8y in u8y.layout.studies){a8y=u8y.layout.studies[F8y];if(a8y.panel == e8y.name){this.field=Object.keys(a8y.outputMap)[+"0"];break;}}}return ! !0;}if(this.accidentalClick(L8y,N8y)){return this.dragToDraw;}this.setPoint(1,L8y,N8y,e8y.chart);this.penDown=!"1";return ! ![];;},getYValue:function(l8y){var U8y,i8y,j8y,P8y,f8y,o8y,X8y;U8y=this.stx.chart.dataSet[l8y];i8y=this.stx.chart.dataSet[l8y];if(!U8y){return null;}j8y=this.stx.panels[this.panelName];P8y=this.stx.getYAxisByField(j8y,this.field) || j8y.yAxis;if(this.stx.charts[j8y.name] && j8y.chart.transformFunc && P8y == j8y.yAxis){i8y=U8y.transform;}if(!i8y){return null;}f8y=null;o8y=null;X8y=this.stx.defaultPlotField || "Close";if(this.field){o8y=r5x.existsInObjectChain(i8y,this.field);if(!o8y){return null;}f8y=o8y=o8y.obj[o8y.member];if(U8y != i8y){f8y=r5x.existsInObjectChain(U8y,this.field);f8y=f8y.obj[f8y.member];}if(typeof o8y == "object"){o8y=o8y[X8y];f8y=f8y[X8y];}}else {o8y=i8y[X8y];f8y=U8y[X8y];}return {transformed:o8y,untransformed:f8y};},render:function(s8y){var p8y,Q8y,G8y,w8y,B8y,K8y,h8y,x8y,b9y,W9y,t9y,M9y,H8y,k8y,g8y,Y8y,R9y,r9y,T8y,v8y,E9y,y8y,S8y,Z8y,O8y,C8y,V8y,n8y,J9y,c9y,I9y,q8y,T8j,d9y,u9y;p8y=this.stx.panels[this.panelName];if(!p8y){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}Q8y=this.stx.pixelFromTick(this.p0["0" ^ 0],p8y.chart);G8y=this.stx.pixelFromTick(this.p1[0],p8y.chart);if(Q8y < p8y.left && G8y < p8y.left){return;}if(Q8y > p8y.right && G8y > p8y.right){return;}w8y=this.stx.getYAxisByField(p8y,this.field);B8y=[];K8y=[];h8y=0;x8y=0;b9y=0;W9y=0;t9y=Math.min(this.p1["0" << 567517536],this.p0[0]);M9y=Math.max(this.p1[0],this.p0[+"0"]) + 1;p3b.d0X(6);H8y=p3b.D0X(t9y,M9y);for(var A8y=t9y;A8y < M9y;A8y++){k8y=this.getYValue(A8y);if(k8y){B8y.push(k8y.transformed);K8y.push(k8y.untransformed);}}g8y=B8y.length;p3b.G0X(39);Y8y=p3b.D0X(g8y,2,1,g8y);R9y=Math.pow(Y8y,+"2");p3b.d0X(40);r9y=p3b.E0X(1,g8y,2,Y8y,0,"3");for(A8y="0" >> 1675000992;A8y < g8y;A8y++){b9y+=g8y * B8y[A8y] - h8y;h8y+=B8y[A8y];W9y+=g8y * K8y[A8y] - x8y;x8y+=K8y[A8y];}p3b.d0X(41);T8y=p3b.D0X(Y8y,h8y,g8y,b9y,g8y,r9y,R9y);p3b.G0X(42);v8y=p3b.D0X(Y8y,T8y,h8y,g8y);p3b.G0X(41);E9y=p3b.D0X(Y8y,x8y,g8y,W9y,g8y,r9y,R9y);p3b.G0X(42);y8y=p3b.D0X(Y8y,T8y,x8y,g8y);if(this.p0["0" * 1] < this.p1[0]){S8y=v8y;p3b.d0X(43);Z8y=p3b.E0X(v8y,T8y,H8y);this.p0[+"1"]=y8y;p3b.d0X(43);this.p1[1]=p3b.E0X(y8y,E9y,H8y);}else {p3b.d0X(43);S8y=p3b.E0X(v8y,T8y,H8y);Z8y=v8y;p3b.G0X(43);this.p0[+"1"]=p3b.D0X(y8y,E9y,H8y);this.p1[1]=y8y;}O8y=this.stx.pixelFromTransformedValue(S8y,p8y,w8y);C8y=this.stx.pixelFromTransformedValue(Z8y,p8y,w8y);V8y=this.getLineColor();n8y={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(Q8y,G8y,O8y,C8y,V8y,"segment",s8y,p8y,n8y);p3b.G0X(6);this.stx.plotLine(Q8y,Q8y,p3b.D0X(20,O8y),p3b.E0X(20,O8y,p3b.d0X(2)),V8y,"segment",s8y,p8y,n8y);p3b.G0X(6);this.stx.plotLine(G8y,G8y,p3b.E0X(20,C8y),p3b.D0X(20,C8y,p3b.d0X(2)),V8y,"segment",s8y,p8y,n8y);if(this.active1 || this.active2 || this.active3){p3b.G0X(10);J9y=p3b.E0X(g8y,h8y);c9y=0;for(A8y=0;A8y < g8y;A8y++){c9y+=Math.pow(B8y[A8y] - J9y,2);}p3b.d0X(10);I9y=Math.sqrt(p3b.E0X(g8y,c9y));q8y={context:s8y,panel:p8y,points:{0:{x:Q8y,v:S8y},1:{x:G8y,v:Z8y}},stddev:I9y,yAxis:w8y};this.lines={};if(this.active1){this.renderStddev("1",(+"804",592.64) === "115.74" - 0?(9090,3930) > (534.97,240.04)?353 == (7610,6600)?("0xd80" ^ 0,261.39):0x1b30:(6.03e+3,"x"):"p",q8y);this.renderStddev(3320 > (443.79,260.39)?"1":5530 >= 5250?(0xb7e,"D"):+"4.96e+3",922 == 9100?0x2652:6200 <= (6100,+"9850")?882.63 !== 112.53?"n":(! !"1",951.81):0x1e71,q8y);}if(this.active2){this.renderStddev((14.79,5770) <= 761.55?7180 === (318.21,4670)?(+"0xe6a",!1):(!"",0x158b):"2",+"3550" >= +"4790"?("7.20e+3" << 450123552,0x2319):407.81 != 816.64?"p":(6508,4477) > (+"7281","632.15" * 1)?! ![]:(628.22,7.42e+3),q8y);this.renderStddev("2",(723.83,9411) < "825.25" - 0?("o","g"):551.9 < 9680?(830.15,238.32) < 7250?"n":219.96:!{},q8y);}if(this.active3){this.renderStddev("3","p",q8y);this.renderStddev("3",(627.98,1250) <= 6940?"n":(!{},0xfda),q8y);}}if(!this.highlighted){this.pixelX=[Q8y,G8y];this.pixelY=[O8y,C8y];}else {T8j="p";T8j+="1";d9y=this.highlighted == "p0"?! ![]:!"1";u9y=this.highlighted == T8j?! !"1":!{};this.littleCircle(s8y,Q8y,O8y,d9y);this.littleCircle(s8y,G8y,C8y,u9y);}},renderStddev:function(F9y,g9y,z9y){var V8j,G8j,j9y,p9y,A9y,Q9y,o9y,X9y,l9y,U9y,i9y,m9y,L9y,f9y,e9y,N9y,a9y,D9y,G9y,Y9y,P9y,q9y;V8j="pa";V8j+="t";V8j+="t";V8j+="ern";G8j="st";G8j+="ddev";p3b.d0X(44);j9y=p3b.E0X(g9y,G8j,F9y);p3b.d0X(2);p9y=p3b.D0X(F9y,"color");p3b.G0X(2);A9y=p3b.E0X(F9y,V8j);p3b.d0X(2);Q9y=p3b.D0X(F9y,"lineWidth");o9y=z9y.points;X9y=o9y[0].v;l9y=o9y[1].v;U9y=z9y.stddev;i9y=g9y === "n"?F9y * - +"1":F9y * 1;m9y=this.stx;L9y=z9y.panel;f9y=z9y.yAxis;e9y={name:j9y,color:this.getLineColor(this[p9y]),type:"segment",y0:m9y.pixelFromTransformedValue(X9y + U9y * i9y,L9y,f9y),y1:m9y.pixelFromTransformedValue(l9y + U9y * i9y,L9y,f9y),params:{pattern:this[A9y],lineWidth:this[Q9y]}};if(this.lines){this.lines[j9y]=e9y;}N9y=z9y.context;a9y=o9y[0].x;D9y=o9y[1].x;m9y.plotLine(a9y,D9y,e9y.y0,e9y.y1,e9y.color,e9y.type,N9y,L9y,e9y.params);m9y.plotLine(a9y,a9y,e9y.y0 - 10,e9y.y0 + 10,e9y.color,e9y.type,N9y,L9y,e9y.params);m9y.plotLine(D9y,D9y,e9y.y1 - ("10" - 0),e9y.y1 + ("10" & 2147483647),e9y.color,e9y.type,N9y,L9y,e9y.params);p3b.d0X(2);G9y=p3b.D0X(463 !== (569.25,+"9618")?"\u03c3":(0x949,583),F9y);Y9y=Math.max(a9y,D9y) + 5;P9y=a9y < D9y?e9y.y1:e9y.y0;N9y.fillStyle=e9y.color;N9y.save();N9y.textBaseline="middle";N9y.fillText(G9y,Y9y,P9y);N9y.restore();if(z9y.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(a9y >= L9y.chart.left && a9y <= L9y.chart.right || D9y >= L9y.chart.left && D9y <= L9y.chart.right){p3b.d0X(13);q9y=p3b.E0X(U9y,a9y < D9y?l9y:X9y,i9y);m9y.endClip();m9y.createYAxisLabel(L9y,z9y.formatPrice(q9y,f9y),P9y,e9y.color,null,N9y,f9y);m9y.startClip(L9y.name);}}},intersected:function(h9y,O9y,v9y){var C9y,x9y,t8j,H9y,y9y,w9y,T9y,B9y;if(!this.pixelX || !this.pixelY){return null;}C9y=this.repositionIntersection(h9y,O9y);if(C9y){return C9y;}x9y={0:this.pixelX,1:this.pixelY};for(var s9y=0;s9y < 2;s9y++){if(this.pointIntersection(x9y["0" >> 937752736][s9y],x9y[1][s9y],v9y,!"")){t8j="dra";t8j+="g";p3b.d0X(2);this.highlighted=p3b.D0X(s9y,"p");return {action:t8j,point:"p" + s9y};}}H9y=this;y9y=this.pixelX[0];w9y=this.pixelX[1];T9y=function(k9y){var S9y,Z9y;S9y=[y9y,k9y.y0];Z9y=[w9y,k9y.y1];return H9y.lineIntersection(h9y,O9y,v9y,H9y.name,S9y,Z9y,! !"1");};B9y=T9y({y0:this.pixelY[+"0"],y1:this.pixelY[1]});if(!B9y && this.lines){for(var K9y in this.lines){if(T9y(this.lines[K9y])){B9y=! ![];break;}}}if(B9y){this.highlighted=! ![];return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:h9y,value:O9y};}return null;},repositionIntersection:function(V9y,n9y){var F8j;if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !{}){F8j="m";F8j+="ov";F8j+="e";return {action:F8j,p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:V9y,value:n9y};}return {action:"drag",point:this.highlighted};}p3b.m7b();return !"1";},lineIntersection:function(J0r,I0r,r0r,E0r,W0r,t0r,c0r){var R0r,b0r,M0r;p3b.L7b();if(!c0r){p3b.d0X(2);console.log(p3b.D0X(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",E0r));return ! !"";}if(!W0r){W0r=this.p0;}if(!t0r){t0r=this.p1;}if(!(W0r && t0r)){return !{};}R0r=this.stx;b0r=r5x.convertBoxToPixels(R0r,this.panelName,r0r);if(b0r.x0 === undefined){return ![];}M0r={x0:W0r["0" >> 643758368],x1:t0r[0],y0:W0r[1],y1:t0r[1]};return r5x.boxIntersects(b0r.x0,b0r.y0,b0r.x1,b0r.y1,M0r.x0,M0r.y0,M0r.x1,M0r.y1);},boxIntersection:function(u0r,e0r,d0r){if(d0r.cx0 > Math.max(this.pixelX[0],this.pixelX[+"1"]) || d0r.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !{};}if(!this.stx.repositioningDrawing && (d0r.cy1 < this.pixelY[0] || d0r.cy0 > this.pixelY[1])){return ! !"";}return !"";},reconstruct:function(N0r,L0r){p3b.m7b();this.stx=N0r;this.color=L0r.col;this.color1=L0r.col1;this.color2=L0r.col2;this.color3=L0r.col3;this.active1=L0r.dev1;this.active2=L0r.dev2;this.active3=L0r.dev3;this.panelName=L0r.pnl;this.pattern=L0r.ptrn;this.pattern1=L0r.ptrn1;this.pattern2=L0r.ptrn2;this.pattern3=L0r.ptrn3;this.lineWidth=L0r.lw;this.lineWidth1=L0r.lw1;this.lineWidth2=L0r.lw2;this.lineWidth3=L0r.lw3;this.d0=L0r.d0;this.d1=L0r.d1;this.tzo0=L0r.tzo0;this.tzo1=L0r.tzo1;this.field=L0r.fld;this.adjust();},serialize:function(){p3b.m7b();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);r5x.Drawing.trendline=function(){var P8j;P8j="trendlin";P8j+="e";p3b.m7b();this.name=P8j;};r5x.inheritsFrom(r5x.Drawing.trendline,r5x.Drawing.segment);r5x.Drawing.trendline.prototype.configs=["color","fillColor",r8j,"pattern",x8j];r5x.Drawing.trendline.prototype.measure=function(){p3b.L7b();;};r5x.Drawing.trendline.prototype.reconstruct=function(m0r,a0r){r5x.Drawing.segment.prototype.reconstruct.call(this,m0r,a0r);this.callout=new r5x.Drawing.callout();this.callout.reconstruct(m0r,a0r.callout);};r5x.Drawing.trendline.prototype.serialize=function(){var D0r;D0r=r5x.Drawing.segment.prototype.serialize.call(this);D0r.callout=this.callout.serialize();return D0r;};r5x.Drawing.trendline.prototype.render=function(j0r){var F0r,Q0r,f0r,U0r,z0r,o0r,X0r,i0r,l0r,G0r,P0r,Y0r,q0r,g0r,p0r,A0r,s0r,B0r,h0r,O0r;F0r=this.stx.panels[this.panelName];p3b.L7b();if(!F0r){return;}r5x.Drawing.segment.prototype.render.call(this,j0r);if(!this.callout){this.callout=new r5x.Drawing.callout();Q0r=r5x.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,Q0r);}this.callout.p0=r5x.clone(this.p0);f0r=this.stx.pixelFromTick(this.p0[+"0"],F0r.chart);U0r=this.stx.pixelFromTick(this.p1[0],F0r.chart);z0r=this.stx.pixelFromValueAdjusted(F0r,this.p0[0],this.p0[1]);o0r=this.stx.pixelFromValueAdjusted(F0r,this.p1[0],this.p1[+"1"]);if(!isFinite(z0r) || !isFinite(o0r)){return;}p3b.G0X(3);X0r=p3b.D0X(2,U0r,f0r);p3b.d0X(3);i0r=p3b.D0X(2,o0r,z0r);this.fontSize=r5x.stripPX(this.font && this.font.size || 13);l0r=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((2730,+"5924") >= (8986,8.63)?"c":(! ![],84.27))?0:50);G0r=Math.sqrt(Math.pow(U0r - f0r,2) + Math.pow(o0r - z0r,2));P0r=l0r / (G0r || l0r) * (this.p1[+"1"] < this.p0[1]?1:-1);p3b.d0X(45);Y0r=p3b.D0X(X0r,i0r,o0r,P0r);p3b.d0X(46);q0r=p3b.E0X(i0r,X0r,U0r,P0r);this.callout.p0[0]=this.stx.tickFromPixel(Y0r,F0r.chart);this.callout.p0[1]=this.stx.priceFromPixel(q0r,F0r);this.callout.v0=this.callout.p0[1];this.callout.p1=r5x.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! ![];g0r=this.p1["1" ^ 0] - this.p0[1];this.callout.text="" + Number(g0r).toFixed(2) + (this.p0["1" - 0] === 0?"":" (" + Number(100 * g0r / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0["0" ^ 0]) + " Bars";p0r=Math.floor((this.p0[+"0"] + this.p1[0]) / ("2" ^ 0));if(Math.abs(this.p0["0" << 1665497664] - this.p1[+"0"]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){s0r=this.stx.pixelFromTick(p0r,F0r.chart);p3b.G0X(47);B0r=p3b.D0X(f0r,z0r,z0r,o0r,s0r,U0r,f0r);A0r=this.stx.priceFromPixel(B0r,F0r) || i0r;}else {A0r=this.stx.priceFromPixel(i0r,F0r);}this.callout.stem={t:p0r,v:A0r};this.callout.renderText();this.callout.render(j0r);if(this.highlighted){h0r=this.highlighted == "p0"?! !1:!{};O0r=this.highlighted == "p1"?!0:! !0;this.littleCircle(j0r,f0r,z0r,h0r);this.littleCircle(j0r,U0r,o0r,O0r);}};r5x.Drawing.trendline.prototype.lineIntersection=function(C0r,x0r,H0r,T0r){return r5x.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,C0r,x0r,H0r,"segment");};r5x.Drawing.trendline.prototype.intersected=function(y0r,w0r,k0r){var K0r,v0r,C1v,W1v,K1v;if(!this.p0 || !this.p1){return null;}K0r=this.callout.intersected(y0r,w0r,k0r);v0r=r5x.Drawing.segment.prototype.intersected.call(this,y0r,w0r,k0r);p3b.G0X(1);C1v=-p3b.E0X("795000081",1884267392);W1v=1838508672;K1v=2;for(var h1v=1;p3b.d5h(h1v.toString(),h1v.toString().length,88101) !== C1v;h1v++){this.callout.highlighted=- ~(K0r && v0r);K1v+=2;}if(p3b.d5h(K1v.toString(),K1v.toString().length,70192) !== W1v){this.callout.highlighted=! !(K0r || v0r);}if(v0r){return v0r;}else if(K0r){return {action:"move",p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:y0r,value:w0r};}return null;};r5x.Drawing.average=function(){p3b.L7b();this.name="average";};r5x.inheritsFrom(r5x.Drawing.average,r5x.Drawing.regression);r5x.extend(r5x.Drawing.average.prototype,{configs:r5x.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){p3b.L7b();var w8j,Y8j,i8j,E8j,S0r,V0r,b1r,W1r,n0r,Z0r,e1v,o1v,H1v;if(this.p0 && this.p1){w8j=".mStickyInte";w8j+="rio";w8j+="r";Y8j=".mM";Y8j+="easur";Y8j+="e";i8j=",";i8j+=" ";E8j="&";E8j+="e";E8j+="nsp;";this.stx.setMeasure(0,! !0,this.p0[0],this.p1[0],! ![],this.name);S0r=[];V0r="";if(this.active1){S0r.push(1110 !== (8238,"3380" | 3108)?"1":233 < 3181?(711.88,"7450" << 72906368) !== 813.29?"u":"9.65e+3" ^ 0:947.61);}if(this.active2){S0r.push("2");}if(this.active3){S0r.push((1830,2569) != 7587?"3":(6870,1675) > 6860?("816.02" * 1,!1):(148.34,7.31e+3));}if(S0r.length){V0r=E8j + S0r.join(i8j) + " &sigma;";}b1r=(this.stx.drawingContainer || document).querySelector(Y8j);W1r=this.stx.controls.mSticky;n0r=W1r && W1r.querySelector(w8j);if(b1r){b1r.innerHTML+=V0r;}if(n0r){Z0r=[];Z0r.push(r5x.capitalize(this.name));Z0r.push(this.field || this.stx.defaultPlotField || "Close");e1v=15045970;o1v=-1525946301;H1v=2;for(var j1v=1;p3b.d5h(j1v.toString(),j1v.toString().length,86254) !== e1v;j1v++){Z0r.push(n0r.innerHTML + V0r);H1v+=2;}if(p3b.d5h(H1v.toString(),H1v.toString().length,19411) !== o1v){Z0r.push(n0r.innerHTML * V0r);}n0r.innerHTML=Z0r.join("<br>");}}},render:function(J1r){var t1r,R1r,r1r,e1r,E1r,D1r,F1r,X1r,z1r,m1r,c1r,d1r,L1r,u1r,M1r,N1r,a1r,o1r,U1r,I1r,L8j,b8j,i1r,j1r;t1r=this.stx.panels[this.panelName];if(!t1r){return;}if(!this.p1){return;}if(this.p0[0] < "0" >> 117259520 || this.p1[0] < 0){return;}R1r=this.stx.pixelFromTick(this.p0[0],t1r.chart);r1r=this.stx.pixelFromTick(this.p1[0],t1r.chart);if(R1r < t1r.left && r1r < t1r.left){return;}if(R1r > t1r.right && r1r > t1r.right){return;}e1r=this.stx.getYAxisByField(t1r,this.field);E1r=this.stx;D1r=Math.min(this.p1[0],this.p0[0]);F1r=Math.max(this.p1[0],this.p0[0]) + +"1";p3b.d0X(6);X1r=p3b.D0X(D1r,F1r);z1r=0;m1r=[];for(c1r=D1r;c1r < F1r;c1r++){d1r=this.getYValue(c1r);if(d1r !== null){z1r+=d1r.transformed;m1r.push(d1r);}}L1r=m1r.length;if(!L1r){return;}p3b.G0X(10);u1r=p3b.E0X(L1r,z1r);M1r=E1r.pixelFromTransformedValue(u1r,t1r,e1r);N1r=this.getLineColor();function f1r(l1r,P1r){if(P1r && P1r.priceFormatter){l1r=P1r.priceFormatter(E1r,t1r,l1r);}else {l1r=E1r.formatYAxisPrice(l1r,t1r,null,P1r);}p3b.m7b();return l1r;}a1r={pattern:this.pattern,lineWidth:this.lineWidth};E1r.plotLine(R1r,r1r,M1r,M1r,N1r,"segment",J1r,t1r,a1r);p3b.G0X(6);E1r.plotLine(R1r,R1r,p3b.E0X(20,M1r),p3b.E0X(M1r,"20",p3b.G0X(35)),N1r,"segment",J1r,t1r,a1r);p3b.G0X(17);E1r.plotLine(r1r,r1r,p3b.D0X(M1r,0,"20"),p3b.E0X(20,M1r,p3b.G0X(2)),N1r,"segment",J1r,t1r,a1r);if(this.axisLabel && !this.highlighted && !this.penDown){if(R1r >= t1r.chart.left && R1r <= t1r.chart.right || r1r >= t1r.chart.left && r1r <= t1r.chart.right){E1r.endClip();E1r.createYAxisLabel(t1r,f1r(u1r,e1r),M1r,N1r,null,J1r,e1r);E1r.startClip(t1r.name);}}if(this.active1 || this.active2 || this.active3){o1r=0;for(c1r=0;c1r < L1r;c1r++){d1r=m1r[c1r];o1r+=Math.pow(d1r.transformed - u1r,"2" - 0);}p3b.d0X(10);U1r=Math.sqrt(p3b.D0X(L1r,o1r));I1r={context:J1r,formatPrice:f1r,panel:t1r,points:{0:{x:R1r,v:u1r},1:{x:r1r,v:u1r}},stddev:U1r,yAxis:e1r};this.lines={};if(this.active1){this.renderStddev("1",4296 === 9720?(3.11e+3,!1):211.25 != (4454,+"137.98")?"p":"250.10" - 0,I1r);this.renderStddev((+"6230",9366) === (223.47,3064)?("c","s"):(572.58,945.87) !== (3889,675.29)?"1":1430 === 3520?1.61e+2:(3.05e+3,"I"),(4060,6320) > 6480?(0x9de,222.14):("4200" | 0,+"896.64") == 204.42?(+"538.97",421) !== +"587"?0x2289:595.84:"n",I1r);}if(this.active2){this.renderStddev(("1449" >> 293141280,9860) > 1970?(747.19,+"4526") !== (116.17,4760)?"137" * 1 != 8292?"2":0x23ae:4.24e+3:+"584",1850 != (4610,6543)?(+"7409",196.83) !== 5180?(438.42,3340) === ("527.71" * 1,8270)?(! !1,"S"):"p":(716,"P"):(7.59e+3,0x17e6),I1r);this.renderStddev(7410 < ("16.51" * 1,9383)?"2":(!0,"0x25cb" - 0),"n",I1r);}if(this.active3){this.renderStddev((+"6490",+"8416") === ("438" ^ 0)?("i",0x24e5):"3","p",I1r);this.renderStddev((+"8120",5000) === 508.08?(! !0,0xc48):"3","n",I1r);}}if(!this.highlighted){this.pixelX=[R1r,r1r];this.pixelY=[M1r,M1r];}else {L8j="p";L8j+="1";b8j="p";b8j+="0";i1r=this.highlighted == b8j?! ![]:!1;j1r=this.highlighted == L8j?! !{}:! !0;this.littleCircle(J1r,R1r,M1r,i1r);this.littleCircle(J1r,r1r,M1r,j1r);}},reconstruct:function(p1r,g1r){p3b.m7b();this.axisLabel=g1r.al;r5x.Drawing.regression.prototype.reconstruct.call(this,p1r,g1r);},serialize:function(){var A1r;A1r=r5x.Drawing.regression.prototype.serialize.call(this);A1r.al=this.axisLabel;return A1r;}},!"");r5x.Drawing.quadrant=function(){p3b.m7b();this.name="quadrant";};r5x.inheritsFrom(r5x.Drawing.quadrant,r5x.Drawing.regression);r5x.extend(r5x.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;p3b.L7b();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(q1r){var v8j,k8j,R8j,B8j,U8j,G1r,Q1r,Y1r,s1r,x1r,B1r,h1r,v1r,H1r,w1r,K1r,y1r,Z1r,V1r,T1r,O1r,k1r,C1r,n8j,d8j,p7j,X7j,n1r,b2r,u1v,T1v,G1v;v8j="t";v8j+="iro";v8j+="ne";k8j="q";k8j+="uadr";k8j+="a";k8j+="nt";R8j="seg";R8j+="m";R8j+="e";R8j+="nt";B8j="se";B8j+="g";B8j+="me";B8j+="nt";U8j="a";U8j+="u";U8j+="t";U8j+="o";G1r=this.stx;Q1r=G1r.panels[this.panelName];if(!Q1r){return;}if(!this.p1){return;}Y1r=G1r.pixelFromTick(this.p0[0],Q1r.chart);s1r=G1r.pixelFromTick(this.p1[+"0"],Q1r.chart);if(Y1r < Q1r.left && s1r < Q1r.left){return;}if(Y1r > Q1r.right && s1r > Q1r.right){return;}x1r=this.stx.getYAxisByField(Q1r,this.field);B1r=null;h1r=null;for(var S1r=Math.min(this.p1["0" ^ 0],this.p0[0]);S1r <= Math.max(this.p1[0],this.p0[0]);S1r++){v1r=this.getYValue(S1r);if(v1r !== null){if(B1r === null || v1r.transformed > B1r){B1r=v1r.transformed;}if(h1r === null || v1r.transformed < h1r){h1r=v1r.transformed;}}}H1r=G1r.pixelFromTransformedValue(B1r,Q1r,x1r);p3b.d0X(48);w1r=G1r.pixelFromTransformedValue(p3b.D0X("4",B1r,3,h1r),Q1r,x1r);p3b.G0X(49);K1r=G1r.pixelFromTransformedValue(p3b.E0X(2,3,B1r,h1r),Q1r,x1r);p3b.G0X(3);y1r=G1r.pixelFromTransformedValue(p3b.D0X(2,h1r,B1r),Q1r,x1r);p3b.d0X(50);Z1r=G1r.pixelFromTransformedValue(p3b.D0X(2,h1r,"3",B1r),Q1r,x1r);p3b.d0X(51);V1r=G1r.pixelFromTransformedValue(p3b.E0X("3",B1r,h1r,4),Q1r,x1r);T1r=G1r.pixelFromTransformedValue(h1r,Q1r,x1r);p3b.d0X(6);this.p0[p3b.E0X(0,"1")]=0;this.p1[+"1"]=!{};O1r=this.getLineColor();k1r=this.fillColor;if(k1r == U8j || r5x.isTransparent(k1r)){k1r=G1r.defaultColor;}q1r.fillStyle=k1r;C1r={pattern:this.pattern,lineWidth:this.lineWidth};p3b.L7b();G1r.plotLine(Y1r,s1r,H1r,H1r,O1r,B8j,q1r,Q1r,C1r);G1r.plotLine(Y1r,s1r,T1r,T1r,O1r,"segment",q1r,Q1r,C1r);if(this.name == "quadrant"){n8j="segme";n8j+="nt";d8j="s";d8j+="e";d8j+="gme";d8j+="nt";G1r.plotLine(Y1r,s1r,w1r,w1r,O1r,d8j,q1r,Q1r,C1r);G1r.plotLine(Y1r,s1r,V1r,V1r,O1r,n8j,q1r,Q1r,C1r);}else if(this.name == "tirone"){G1r.plotLine(Y1r,s1r,K1r,K1r,O1r,"segment",q1r,Q1r,C1r);G1r.plotLine(Y1r,s1r,Z1r,Z1r,O1r,"segment",q1r,Q1r,C1r);}G1r.plotLine(Y1r,Y1r,H1r,T1r,O1r,R8j,q1r,Q1r,C1r);G1r.plotLine(s1r,s1r,H1r,T1r,O1r,"segment",q1r,Q1r,C1r);G1r.plotLine(Y1r,s1r,y1r,y1r,O1r,"segment",q1r,Q1r,r5x.extend(C1r,{opacity:this.name == "tirone"?0.2:1}));q1r.globalAlpha=+"0.1";q1r.beginPath();p3b.G0X(6);q1r.fillRect(Y1r,H1r,p3b.D0X(Y1r,s1r),p3b.E0X(H1r,T1r));if(this.name == k8j){p3b.G0X(6);q1r.fillRect(Y1r,w1r,p3b.E0X(Y1r,s1r),p3b.D0X(w1r,V1r));}else if(this.name == v8j){p3b.G0X(6);q1r.fillRect(Y1r,K1r,p3b.E0X(Y1r,s1r),p3b.E0X(K1r,Z1r));}q1r.globalAlpha=1;if(!this.highlighted){this.pixelX=[Y1r,s1r];this.pixelY=[H1r,T1r];if(Q1r.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(y1r);}else {p7j="p";p7j+="1";X7j="p";X7j+="0";n1r=this.highlighted == X7j?! !1:!{};b2r=this.highlighted == p7j?! !{}:! !"";this.littleCircle(q1r,Y1r,y1r,n1r);u1v=1042983567;T1v=- +"667077987";G1v=2;for(var t1v=1;p3b.d5h(t1v.toString(),t1v.toString().length,58646) !== u1v;t1v++){this.littleCircle(q1r,s1r,y1r,b2r);G1v+=2;}if(p3b.n5h(G1v.toString(),G1v.toString().length,32549) !== T1v){this.littleCircle(q1r,s1r,y1r,b2r);}}},intersected:function(M2r,R2r,r2r){var t2r,O7j,a7j;if(!this.pixelX || !this.pixelY){return null;}t2r=this.repositionIntersection(M2r,R2r);if(t2r){return t2r;}for(var W2r=0;W2r < 2;W2r++){if(this.pointIntersection(this.pixelX[W2r],this.pixelY[2],r2r,! !{})){O7j="d";O7j+="r";O7j+="a";O7j+="g";p3b.G0X(2);this.highlighted=p3b.E0X(W2r,250 < (4574,6691)?"p":("G","P"));return {action:O7j,point:(("9290" & 2147483647,352.35) > (489.8,8133)?836.64:"p") + W2r};}}if(this.boxIntersection(null,null,r2r)){a7j="m";a7j+="o";a7j+="v";a7j+="e";this.highlighted=! !{};return {action:a7j,p0:r5x.clone(this.p0),p1:r5x.clone(this.p1),tick:M2r,value:R2r};}return null;},reconstruct:function(c2r,E2r){this.stx=c2r;this.color=E2r.col;this.fillColor=E2r.fc;this.panelName=E2r.pnl;this.pattern=E2r.ptrn;this.lineWidth=E2r.lw;this.d0=E2r.d0;this.d1=E2r.d1;p3b.L7b();this.tzo0=E2r.tzo0;this.tzo1=E2r.tzo1;this.field=E2r.fld;this.adjust();},serialize:function(){p3b.m7b();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);r5x.Drawing.tirone=function(){this.name="tirone";};r5x.inheritsFrom(r5x.Drawing.tirone,r5x.Drawing.quadrant);r5x.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;p3b.L7b();this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};r5x.inheritsFrom(r5x.Drawing.elliottwave,r5x.Drawing.annotation);r5x.Drawing.elliottwave.defaultTemplate={impulse:[(563,1530) < (6990,3830)?472.83 === (398.84,2745)?(! !1,967.10):"I":(273.45,"X"),S7j,"III","IV","V"],corrective:["A","B","C"],decoration:"enclosed",showLines:! !1};r5x.Drawing.elliottwave.prototype.initializeSettings=function(J2r){J2r.currentVectorParameters.waveParameters=r5x.clone(r5x.Drawing.elliottwave.defaultTemplate);};r5x.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor",l7j,D7j,"waveParameters"];r5x.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",c7j];r5x.Drawing.elliottwave.prototype.construct=function(I2r,u2r){var d2r;this.stx=I2r;p3b.L7b();this.panelName=u2r.name;d2r=I2r.currentVectorParameters;Object.assign(this,d2r.waveParameters);};r5x.Drawing.elliottwave.prototype.serialize=function(){var g7j,q7j,L2r,N7j;g7j="s";g7j+="z";q7j="s";q7j+="t";L2r={};for(var e2r=0;e2r < this.points.length;e2r++){N7j="t";N7j+="z";N7j+="o";p3b.d0X(2);L2r[p3b.E0X(e2r,969.23 < +"76"?!{}:"d")]=this[p3b.D0X(e2r,1930 >= 2210?(1.50e+3,1.83e+3):"d")];p3b.G0X(2);L2r[p3b.D0X(e2r,N7j)]=this[p3b.D0X(e2r,"tzo")];p3b.d0X(2);L2r[p3b.D0X(e2r,934.32 < 2561?"v":(438.41,83.12) < (1137,"883" & 2147483647)?(277.42,782.52) == (652.14,391.38)?(+"7.54e+3",701.89):0x2496:5.46e+3)]=this[p3b.D0X(e2r,(8180,+"5780") == 255.79?(![],! !{}):"v")];}L2r.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:r5x.removeNullValues(r5x.replaceFields(this.font,{style:q7j,size:g7j,weight:"wt",family:"fl"}))},L2r);};r5x.Drawing.elliottwave.prototype.reconstruct=function(m2r,N2r){var I7j;I7j="wei";I7j+="gh";I7j+="t";this.stx=m2r;this.color=N2r.col;this.panelName=N2r.pnl;this.pattern=N2r.ptrn;this.lineWidth=N2r.lw;this.font=r5x.replaceFields(N2r.fnt,{st:"style",sz:"size",wt:I7j,fl:"family"});this.decoration=N2r.decor;this.showLines=N2r.show;this.dx=N2r.dx;this.dy=N2r.dy;this.trend=N2r.trend;this.annotationPoints=N2r.annotations.split(",");if(N2r.decor === "enclosed"){this.calculateRadius(m2r.chart.tempCanvas.context);}this.maxSegments=N2r.mxSeg;this.reconstructPoints(N2r);this.adjust();};r5x.Drawing.elliottwave.prototype.reconstructPoints=function(D2r){var F2r,z7j,z2r,o2r;F2r=this.stx.panels[this.panelName];if(!F2r){return;}for(var a2r=0;a2r < this.annotationPoints.length;a2r++){z7j="t";z7j+="z";z7j+="o";p3b.G0X(2);this[p3b.E0X(a2r,+"447.74" != 110.47?9758 === 147.48?"221.61" * 1:3003 != (6290,1275)?"d":(0x2140,0xbd2):7.50e+3)]=D2r[p3b.E0X(a2r,(1860,+"8620") !== (5270,8879)?(+"540.95",1200) != (+"4640",9390)?"d":8019 <= ("4760" >> 894486560,2160)?("Z",!{}):(0xb14,! !""):(751.11,1.54e+3))];p3b.G0X(2);this[p3b.D0X(a2r,(248,2110) < 460.29?540 !== 322?(! !{},0xcc7):! !{}:"v")]=D2r[p3b.E0X(a2r,271.33 > (4580,8440)?! ![]:960.83 >= 972.27?531.63:"v")];p3b.d0X(2);this[p3b.E0X(a2r,z7j)]=D2r[p3b.D0X(a2r,"tzo")];z2r=r5x.strToDateTime(D2r[((4020,335.29) > (145.65,4868)?(7664,155) > (9614,5191)?(4.49e+3,!0):979 != (7630,+"2623")?(187.63,137.34):!{}:"d") + a2r]);o2r=this.stx.tickFromDate(z2r,F2r.chart);this.points.push([o2r,D2r["v" + a2r]]);}};r5x.Drawing.elliottwave.prototype.calculateRadius=function(j2r){p3b.m7b();var f2r,i2r;this.getFontString();j2r.font=this.fontString;f2r=0;for(var U2r=0;U2r < this.annotationPoints.length;U2r++){i2r=j2r.measureText(this.annotationPoints[U2r]).width;if(f2r < i2r){f2r=i2r;}}this.enclosedRadius=f2r;};r5x.Drawing.elliottwave.prototype.check=function(g2r,A2r,X2r){var l2r,P2r;if(X2r === "1" >> 688126368 && this.points.length === +"2"){return ! !1;}p3b.G0X(17);p3b.L7b();l2r=this.points[p3b.E0X(X2r,0,"1")];if(l2r && g2r <= l2r[0]){return ! !0;}function p2r(G2r){for(var Q2r=2;Q2r < G2r.length;Q2r++){if(Math.sign(G2r[Q2r][1] - G2r[Q2r - 1][+"1"]) == Math.sign(G2r[Q2r - ("1" & 2147483647)][1] - G2r[Q2r - 2][1])){return ! !"";}}return ! !{};}p3b.G0X(2);P2r=this.points[p3b.D0X(1,X2r)];if(P2r && g2r >= P2r[0]){return !1;}if(!p2r(this.points)){return !"1";}return !"";};r5x.Drawing.elliottwave.prototype.move=function(Y2r,q2r,s2r){this.copyConfig();this.points[this.lastPoint + +"1"]=[q2r,s2r];this.render(Y2r);};r5x.Drawing.elliottwave.prototype.adjust=function(){var h2r,O2r;h2r=this.stx.panels[this.panelName];if(!h2r){return;}p3b.L7b();for(var B2r=0;this.maxSegments + 1 > B2r;B2r++){p3b.G0X(2);O2r=this[p3b.D0X(B2r,("6673" - 0,878.81) < (2430,3110)?(+"8970",279.34) < 9403?"d":771.04 == 1470?0x64d:("N",! !""):"k")];this.setPoint(B2r,O2r,this["v" + B2r],h2r.chart);this.points[B2r][0]=this.stx.tickFromDate(r5x.strToDateTime(O2r),h2r.chart);p3b.G0X(2);this.points[B2r][+"1"]=this[p3b.E0X(B2r,"v")];}};r5x.Drawing.elliottwave.prototype.click=function(T2r,C2r,x2r){var H2r;H2r=this.stx.panels[this.panelName];if(!H2r){return;}this.copyConfig();p3b.L7b();if(!this.penDown){this.setPoint(0,C2r,x2r,H2r.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((6274,9480) >= (5560,3338)?(3598,5890) != (2120,9424)?"0":("R","u"):! !{});if(this.decoration === "enclosed"){this.calculateRadius(T2r);}this.maxSegments=this.annotationPoints.length - +"1";this.trend=1;return !{};}if(this.accidentalClick(C2r,x2r)){this.penDown=! !{};return !{};}if(this.check(C2r,x2r,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,C2r,x2r,H2r.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return ! !"1";}}return ! !"";};r5x.Drawing.elliottwave.prototype.render=function(v2r){var Q7j,w2r,c3r,L3r,N3r,m3r,J3r,I3r,k2r,S2r,d3r,Z2r,K2r,W7j,C7j,n2r,W3r,V2r,t3r,M3r,a3r,D3r,J7j,R3r,r3r,b3r,u3r,e3r,F3r,E3r;Q7j="st";Q7j+="r";Q7j+="i";Q7j+="ng";w2r=this.stx.panels[this.panelName];if(!w2r){return;}c3r=this.stx;L3r=this.annotationPoints;N3r=this.pattern?r5x.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();v2r.font=this.fontString;v2r.textAlign="center";v2r.textBaseline="middle";v2r.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(v2r);}this.lastFontString=this.fontString;m3r=this.getLineColor();v2r.fillStyle=v2r.strokeStyle=m3r;v2r.save();v2r.setLineDash(N3r);J3r=this.dx;I3r=this.dy;k2r=this.points;S2r=this.pts;d3r=!this.showLines && this.highlighted;Z2r=k2r.length;if(this.penDown && this.segment){K2r=this.trend * (Z2r % 2 - "0.5" * 1) < 0;if(w2r.yAxis.flipped){K2r=!K2r;}this.drawDropZone(v2r,k2r[Z2r - ("2" - 0)][1],this.stx.priceFromPixel(w2r.yAxis[K2r?"top":"bottom"]),k2r[Z2r - 2][+"0"]);}else if(typeof this.highlighted === Q7j && this.stx.repositioningDrawing){W7j="bo";W7j+="t";W7j+="to";W7j+="m";C7j="to";C7j+="p";n2r=parseInt(this.highlighted.substring(1,this.highlighted.length),10);K2r=this.trend * (n2r % 2 - 0.5) > 0;p3b.d0X(6);W3r=k2r[p3b.E0X(1,n2r)];p3b.G0X(2);V2r=k2r[p3b.E0X(1,n2r)];t3r=n2r > 0?W3r[1]:V2r[+"1"];if(V2r){t3r=Math[K2r?"max":"min"](t3r,V2r[1]);}if(w2r.yAxis.flipped){K2r=!K2r;}this.drawDropZone(v2r,t3r,this.stx.priceFromPixel(w2r.yAxis[K2r?C7j:W7j]),W3r?W3r[0]:null,V2r?V2r[0]:null);}p3b.m7b();for(var y2r=0;y2r < Z2r;y2r++){M3r=k2r[y2r];a3r=c3r.pixelFromTick(M3r[0],w2r.chart);D3r=c3r.pixelFromValueAdjusted(w2r,M3r[+"0"],M3r["1" >> 977310048]);S2r[y2r]=[a3r,D3r];}y2r=+"0";if(this.showLines || d3r){v2r.beginPath();if(d3r){p3b.G0X(16);v2r.globalAlpha=p3b.D0X("0.3",1);}for(;y2r < S2r.length;y2r++){v2r.lineTo(S2r[y2r][0],S2r[y2r][1]);}v2r.stroke();p3b.d0X(19);y2r=p3b.E0X("0",2147483647);}v2r.restore();for(;y2r < Z2r;y2r++){J7j="parent";J7j+="heses";R3r=y2r % 2?J3r:-J3r;r3r=y2r % 2?I3r:-I3r;R3r*=this.trend;r3r*=this.trend;if(w2r.yAxis.flipped){p3b.d0X(22);R3r*=-p3b.E0X("1",1876919488);r3r*=-1;}b3r=S2r[y2r];u3r=b3r[2]=b3r["0" & 2147483647] + R3r;p3b.G0X(19);e3r=b3r[p3b.E0X("3",2147483647)]=b3r[1] + r3r;F3r=this.enclosedRadius || 8;E3r=L3r[y2r];if(this.decoration === J7j){p3b.d0X(44);E3r=p3b.E0X(984.64 >= 8512?(913.96,1.17e+3):")",7159 >= (9080,2060)?"(":306 === 2729?(+"1.35e+3",2.71e+3):("o",508.05),E3r);}v2r.fillText(E3r,u3r,e3r);if(this.decoration === "enclosed"){v2r.beginPath();v2r.arc(u3r,e3r,F3r,0,2 * Math.PI,!{});v2r.stroke();}if(this.highlighted){v2r.save();this.littleCircle(v2r,this.pts[y2r][0],this.pts[y2r][1],this.highlighted === ((+"5890","3284" >> 8744512) < (+"6700",559)?! !0:"p") + y2r);v2r.restore();}}};r5x.Drawing.elliottwave.prototype.reposition=function(p3r,z3r,U3r,i3r){var e7j,h7j,X3r,l3r,P3r,f3r,j3r,g3r;e7j="dr";e7j+="ag";h7j="m";h7j+="o";h7j+="v";h7j+="e";if(!z3r){return;}X3r=this.stx.panels[this.panelName];l3r=z3r.tick - U3r;P3r=z3r.value - i3r;if(z3r.action === h7j){for(var o3r=0;z3r.points.length > o3r;o3r++){f3r=z3r.points[o3r];this.setPoint(o3r,f3r[0] - l3r,f3r[1] - P3r,X3r.chart);this.points[o3r]=[f3r[0] - l3r,f3r[1] - P3r];}}if(z3r.action === e7j){j3r=z3r.point;g3r=this.points;g3r[j3r]=[U3r,i3r];if(this.check(U3r,i3r,j3r)){this.setPoint(j3r,U3r,i3r,X3r.chart);;};}this.render(p3r);};r5x.Drawing.elliottwave.prototype.intersected=function(G3r,Y3r,q3r){var s3r,Q3r,o7j;if(!this.p0 || !this.p1){return null;}for(var A3r="0" | 0;this.points.length > A3r;A3r++){Q3r=this.points[A3r];if(this.pointIntersection(Q3r[0],Q3r[+"1"],q3r)){p3b.G0X(2);this.highlighted=p3b.D0X(A3r,+"7300" <= (4010,640.46)?(151.8,217) < (+"7620",2180)?29.45:(+"624.59",+"6.58e+3"):"p");return {action:"drag",point:A3r,tick:G3r,value:Y3r};}if(this.points[A3r + 1] && this.lineIntersection(G3r,Y3r,q3r,"segment",Q3r,this.points[A3r + 1])){o7j="mov";o7j+="e";this.highlighted=! !{};s3r={action:o7j,points:r5x.clone(this.points),tick:G3r,value:Y3r};}}return s3r;};r5x.Drawing.elliottwave.prototype.measure=function(){var H7j,B3r,C3r,O3r,h3r;p3b.L7b();if(this.points.length >= 2){H7j=".mSt";H7j+="ickyInterior";B3r=this.points;this.stx.setMeasure(B3r[0][1],B3r[B3r.length - +"1"][+"1"],B3r[0][0],B3r[B3r.length - 1][0],! !1);C3r=this.stx.controls.mSticky;O3r=C3r && C3r.querySelector(H7j);if(O3r){h3r=[];h3r.push(r5x.capitalize("Elliott Wave"));if(this.getYValue){h3r.push(this.field || this.stx.defaultPlotField || "Close");}h3r.push(O3r.innerHTML);O3r.innerHTML=h3r.join("<br>");}}};r5x.Drawing.printProjection=function(k3r,J7r,x3r){var T3r,v3r,M7r,S3r,R7r,Z3r,r7r,V3r,K3r,W7r,w3r,E7r,t7r,b7r,H3r,c7r;T3r=J7r.arr;p3b.L7b();if(T3r.length > 1){v3r=T3r[0][0];M7r=Math.round(k3r.chart.maxTicks * ("0.75" * 1));for(var y3r=1;y3r < T3r.length;y3r++){p3b.G0X(15);S3r=T3r[p3b.D0X("1",y3r,1)][0];R7r=T3r[y3r][0];Z3r=r5x.strToDateTime(S3r);r7r=r5x.strToDateTime(R7r).getTime();V3r=k3r.standardMarketIterator(Z3r);K3r=0;while(Z3r.getTime() < r7r){Z3r=V3r.next();K3r+=+"1";}W7r=r5x.strToDateTime(S3r).getTime();if(W7r > r5x.strToDateTime(x3r[x3r.length - 1].Date).getTime()){w3r=x3r.length - 1;K3r+=1;}else {for(w3r=x3r.length - 1;w3r >= +"0";w3r--){if(W7r <= r5x.strToDateTime(x3r[w3r].Date).getTime())break;}}E7r={x0:0,x1:K3r,y0:x3r[w3r].Close,y1:T3r[y3r][1]};v3r=r5x.strToDateTime(S3r);V3r=k3r.standardMarketIterator(v3r);t7r=!{};for(var n3r=0;n3r <= K3r;n3r++){if(!t7r){t7r=!0;}else {v3r=V3r.next();}if(v3r.getTime() <= x3r[x3r.length - 1].DT.getTime())continue;b7r=r5x.yIntersection(E7r,n3r);if(!b7r){p3b.G0X(12);b7r=p3b.D0X(0,"0");}H3r=Math.round(b7r * +"10000") / 10000;if(H3r === 0){H3r=T3r[y3r][1];}c7r={Date:r5x.yyyymmddhhmmssmmm(v3r),DT:v3r,Open:H3r,Close:H3r,High:H3r,Low:H3r,Volume:+"0",Adj_Close:H3r,Split_Close:H3r,projection:! !"1"};if(k3r.layout.interval == "minute")if(M7r-- < 0)break;x3r[x3r.length]=c7r;}}}};}};M8S=d7r=>{r244.L7b();var I7r;I7r=typeof _CIQ !== "undefined"?_CIQ:d7r.CIQ;if(!I7r.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {I7r.formatEquation=function(D7r){var t0R=r244;var L7r,m7r,u7r,N7r,e7r;L7r="";m7r=[];u7r="";N7r=!{};for(var a7r=1;a7r < D7r.length;a7r++){e7r=D7r[a7r].toUpperCase();if(e7r == ((+"6305",9170) >= 5443?20 === ("4033" | 2625)?(776.62,0x1489):"[":0xe41) && !N7r){N7r=!0;}else if(e7r == (("8780" | 8200,4360) == 8782?"1.44e+3" << 1212743712:442.08 == (7340,244.33)?("U",3.23e+3):"]") && N7r){N7r=! !"";if(u7r !== ""){m7r.push(u7r);t0R.G0X(44);L7r+=t0R.D0X((8092,76) > (77.75,4730)?![]:280 !== (374,12.06)?"]":!"",(5110,9848) === ("9720" * 1,5840)?1.95e+3:"[",u7r);}u7r="";}else if(N7r){u7r+=e7r;}else if(e7r == "+" || e7r == ((8640,+"1650") >= 386.64?9861 >= 1811?(194.61,8019) <= (5158,9013)?"-":(0x18b5,![]):+"5.25e+3":(391.84,![])) || e7r == "*" || e7r == "/" || e7r == (4410 !== 3404?308.59 < 916.66?":":(0x9a4,0x108b):(356.99,0x18d8)) || e7r == "%" || e7r == (874.84 <= 4079?"(":(7874,364.02) !== (59.14,+"2287")?(+"789",5960) != (+"7041",2705)?+"0x116e":(3.33e+3,0x1818):7.75e+3) || e7r == (1870 != 729.08?")":721.93)){if(u7r !== "" && isNaN(u7r)){m7r.push(u7r);t0R.d0X(44);L7r+=t0R.D0X(9800 != 8790?(56.29,5780) != (2761,3010)?(5181,63.24) > (6996,8710)?("X","u"):"]":"x":(0xdf2,!"1"),5310 > (+"6180",420)?"[":418.61,u7r);}else {L7r+=u7r;}if(e7r == ((+"1967","8770" - 0) < 7160?("H",506):":")){e7r=(5450,9167) >= +"957.3"?"/":(453.1,1109) === (68.86,8212)?"S":3120 === 9290?3.64e+3:"U";}L7r+=e7r;u7r="";}else if(e7r != (816.55 > ("7680" >> 1877919008,709.55)?" ":(!{},305))){u7r+=e7r;}}if(u7r !== "" && isNaN(u7r)){m7r.push(u7r);t0R.G0X(44);L7r+=t0R.D0X("]",(9497,297.92) < ("7320" & 2147483647,8030)?"[":(0x1896,125.89),u7r);}else {L7r+=u7r;}t0R.L7b();return {equation:L7r,symbols:m7r};};I7r.fetchEquationChart=function(F7r,X7r){var f7r,U7r,i7r,j7r,o7r;f7r=I7r.formatEquation(F7r.symbol);U7r=f7r.symbols;i7r=[];j7r=F7r.stx;F7r.stx=null;for(var z7r=0;z7r < U7r.length;z7r++){o7r=I7r.shallowClone(F7r);o7r.stx=j7r;o7r.symbol=U7r[z7r];o7r.symbolObject={symbol:U7r[z7r]};i7r.push(o7r);}F7r.stx=j7r;j7r.quoteDriver.multiFetch(i7r,function(G7r){var A7r,l7r,P7r,g7r,Y7r;A7r={};F7r.loadMoreReplace=! ![];r244.L7b();l7r={charge:+"0"};for(var p7r=0;p7r < G7r.length;p7r++){P7r=G7r[p7r];if(P7r.dataCallback.error){X7r({error:P7r.dataCallback.error});return;}A7r[P7r.params.symbol]=P7r.dataCallback.quotes;F7r.loadMoreReplace=F7r.loadMoreReplace && P7r.params.loadMoreReplace;F7r.moreToLoad=F7r.moreToLoad || P7r.dataCallback.moreAvailable;g7r=P7r.dataCallback.attribution;if(g7r){if(g7r.charge){l7r.charge+=g7r.charge;}l7r.source=g7r.source;if(l7r.exchange === undefined){l7r.exchange=g7r.exchange;}else if(l7r.exchange != g7r.exchange){l7r.exchange="";};}}if(i7r.length || !(F7r.loadMore || F7r.update)){try{Y7r=I7r.computeEquationChart(f7r.equation,A7r);X7r({quotes:Y7r,moreAvailable:F7r.moreToLoad,attribution:l7r});}catch(q7r){var A7j,Q7r;A7j="NoExc";A7j+="e";A7j+="p";A7j+="tion";Q7r={error:"Invalid equation: " + f7r.equation};if(q7r.name && q7r.name == A7j){Q7r.suppressAlert=! !{};}X7r(Q7r);}}});};}};R8S=B7r=>{var s7r,j7j;s7r=typeof _CIQ !== "undefined"?_CIQ:B7r.CIQ;if(!s7r.Marker){j7j="highPerformanceMar";j7j+="kers feature requires fi";j7j+="rst activating markers feat";j7j+="ure.";console.error(j7j);}else {s7r.ChartEngine.prototype.removeDOMMarker=function(h7r){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");s7r.Marker.Performance.prototype.removeDOMMarker.call(h7r.params.node,h7r);};s7r.ChartEngine.prototype.drawMarkers=function(){var G7j;G7j="CIQ.ChartEngine#drawMarkers is scheduled for deprecation";G7j+=" in a future release\n Please use CIQ.Marker.Performance.drawMarkers ins";G7j+="tead.";console.warn(G7j);s7r.Marker.Performance.drawMarkers(this);};s7r.ChartEngine.prototype.calculateMarkerStyles=function(O7r,C7r){var p6h,O6h,a6h;p6h=-141213321;O6h=-1638978734;a6h=2;for(var l6h=+"1";r244.d5h(l6h.toString(),l6h.toString().length,74747) !== p6h;l6h++){console.warn("");a6h+=+"2";}if(r244.d5h(a6h.toString(),a6h.toString().length,61298) !== O6h){console.warn("");}console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");r244.L7b();s7r.Marker.Performance.calculateMarkerStyles(this,O7r,C7r);};s7r.ChartEngine.prototype.drawCircleMarker=function(x7r,H7r,T7r){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");s7r.Marker.Performance.drawCircleMarker(x7r,H7r,T7r);};s7r.ChartEngine.prototype.drawSquareMarker=function(v7r,y7r,w7r){r244.L7b();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");s7r.Marker.Performance.drawSquareMarker(v7r,y7r,w7r);};s7r.ChartEngine.prototype.drawCalloutMarker=function(K7r,k7r,S7r){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");r244.L7b();s7r.Marker.Performance.drawCalloutMarker(K7r,k7r,S7r);};s7r.ChartEngine.prototype.drawMarkerStem=function(Z7r,V7r,n7r){var V7j;V7j="CIQ.ChartEngine#drawMarkerStem is scheduled for deprecat";V7j+="io";V7j+="n in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(V7j);s7r.Marker.Performance.drawMarkerStem(Z7r,V7r,n7r);};s7r.ChartEngine.prototype.positionDOMMarkers=function(){var t7j;t7j="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.dr";t7j+="awMarkers instead.";r244.m7b();console.warn(t7j);s7r.Marker.Performance.drawMarkers(this);};s7r.Marker.Performance=function(t5r){var b7j,w7j,E7j,P7j,W5r,b5r,R5r,E5r,M5r,r5r,c5r,J5r;b7j="h";b7j+="4";w7j=".stx-mar";w7j+="k";w7j+="er-expand";E7j="<div class=\"stx-marker-co";E7j+="ntent\"";E7j+=">";P7j="<d";P7j+="iv class=\"stx-ma";P7j+="rker highlight\"";r244.L7b();P7j+=">";this.params={displayCategory:! ![],displayStem:! !{},invert:!"1",story:"",headline:""};s7r.extend(this.params,t5r);W5r=this.template=document.createElement("TEMPLATE");r244.d0X(52);W5r.innerHTML=r244.E0X('<div class="stx-stem"></div>',"</div>",E7j,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>","</div>",'<div class="stx-visual">',P7j);b5r=this.template.content.cloneNode(! !{});R5r=b5r.querySelector(".stx-marker",W5r);R5r.classList.add(t5r.type);R5r.classList.add(t5r.category);E5r=b5r.querySelector(".stx-visual",W5r);M5r=b5r.querySelector(w7j);r5r=b5r.querySelector(b7j,W5r);c5r=b5r.querySelector(7660 >= 7120?"p":! !{},W5r);r5r.innerText=this.params.headline;c5r.innerText=this.params.story;this.hasText=! !t5r.headline || ! !t5r.story;this.deferAttach=!"";this.node=b5r.firstChild;this.node.params=this.params;this.visual=E5r;this.expand=M5r;if(t5r.type === "callout"){J5r=M5r.removeChild(r5r);b5r.querySelector(".stx-marker-content",W5r).insertBefore(J5r,M5r);}};s7r.inheritsFrom(s7r.Marker.Performance,s7r.Marker.NodeCreator,!{});s7r.Marker.Performance.consolidateExpanded=function(m5r){var I5r,d5r,L5r,L7j,e5r,N5r;r244.m7b();function a5r(o5r){var F5r,D5r,z5r;F5r=o5r.params.node;D5r=F5r.expand;if(!D5r){return "";}z5r=D5r.style.display !== "none"?D5r.innerHTML:"";r244.L7b();return z5r;}I5r=m5r.markerHelper.highlighted;if(!I5r.length){return;}d5r=I5r[I5r.length - 1];L5r=d5r.params.node;if(!d5r.consolidated){d5r.consolidated=[];}for(var u5r=I5r.length - 2;u5r >= 0;u5r--){L7j="<co";L7j+="nsolidated>";e5r=a5r(I5r[u5r]);r244.d0X(44);N5r=r244.E0X("</consolidated>",L7j,e5r);if(e5r.length){L5r.expand.innerHTML+=N5r;}}d5r.stxNodeCreator.quickCache(d5r);};s7r.Marker.Performance.reconstituteExpanded=function(j5r){var f5r,X5r,l5r,i5r;f5r=j5r.markerHelper.highlighted;if(!f5r.length || !j5r.activeMarker){return;}r244.m7b();f5r=[j5r.activeMarker];for(var U5r=f5r.length - 1;U5r >= 0;U5r--){X5r=f5r[U5r];l5r=X5r.params.node;i5r=l5r.expand;while(i5r.lastElementChild.nodeName === "CONSOLIDATED"){i5r.removeChild(i5r.lastElementChild);}}};s7r.Marker.Performance.drawMarkers=function(G5r){var Q5r,P5r,p5r,A5r,Y5r,q5r;Q5r=G5r.getMarkerArray("all");P5r=G5r.chart;for(var g5r=0;g5r < Q5r.length;g5r++){p5r=Q5r[g5r];A5r=p5r.stxNodeCreator;Y5r=P5r.dataSegment[0].tick;q5r=P5r.dataSegment[P5r.dataSegment.length - 1].tick;if(Y5r <= p5r.tick <= q5r){if(A5r && A5r.drawMarker){A5r.drawMarker(p5r);}}}};s7r.Marker.Performance.calculateMarkerStyles=function(B5r,h5r,x5r){var s5r,O5r,C5r;s5r=document.querySelector(".stx-marker-templates");if(!s5r){s5r=document.createElement("DIV");s5r.style.visibility="hidden";s5r.style.left="-1000px";document.body.append(s5r);}s5r.appendChild(h5r.node);O5r=getComputedStyle(h5r.stxNodeCreator.visual);if(!B5r.styles.stx_marker_stem){C5r=getComputedStyle(document.querySelector(".stx-stem",h5r.node));B5r.styles.stx_marker_stem=B5r.cloneStyle(C5r);}B5r.styles[x5r]=B5r.cloneStyle(O5r);s5r.removeChild(h5r.node);};s7r.Marker.Performance.drawCircleMarker=function(w5r,n5r,T5r){var U7j,Z5r,V5r,H5r,v5r,y5r,K5r,k5r,S5r;U7j="no";U7j+="rmal bold";U7j+=" 12px Roboto, Helvetica, san";U7j+="s-serif";Z5r=w5r.params.stx;V5r=Z5r.chart;H5r=V5r.context;v5r=T5r.x;y5r=T5r.y;K5r=T5r.radius;k5r=T5r.label;S5r=T5r.color?T5r.color:n5r.backgroundColor;H5r.beginPath();H5r.setLineDash([]);H5r.lineWidth=1;H5r.fillStyle=S5r;H5r.strokeStyle=S5r;H5r.font=U7j;H5r.arc(v5r,y5r,K5r,+"0",2 * Math.PI,!{});H5r.fill();H5r.stroke();H5r.closePath();if(k5r){H5r.fillStyle=s7r.colorsEqual("white",H5r.fillStyle)?"black":"white";H5r.fillText(k5r.charAt(0).toUpperCase(),v5r - 4,y5r + 1);}if(w5r.highlight || w5r.active){H5r.beginPath();r244.G0X(2);H5r.arc(v5r,y5r,r244.D0X(4,K5r),0,2 * Math.PI,!"1");H5r.stroke();H5r.closePath();}};s7r.Marker.Performance.drawSquareMarker=function(E6r,u6r,W6r){var r0R=r244;var I6r,d6r,b6r,R6r,r6r,t6r,c6r,J6r,M6r,K1j,J1j,h1j,n7j,R7j;I6r=E6r.params.stx;d6r=I6r.chart;b6r=d6r.context;R6r=W6r.x;r6r=W6r.y;t6r=W6r.half;c6r=W6r.label;J6r=W6r.color?W6r.color:u6r.backgroundColor;r0R.G0X(16);M6r=r0R.E0X(t6r,2);b6r.beginPath();b6r.setLineDash([]);r0R.m7b();b6r.lineWidth=1;K1j=-2093671680;J1j=-1805874593;r0R.d0X(6);h1j=r0R.D0X(0,"2");for(var o1j=1;r0R.d5h(o1j.toString(),o1j.toString().length,+"10845") !== K1j;o1j++){n7j="normal bold 12p";n7j+="x Roboto, Helvetica, ";n7j+="sans-";n7j+="serif";b6r.fillStyle=J6r;b6r.strokeStyle=J6r;b6r.font=n7j;r0R.G0X(6);b6r.rect(r0R.D0X(t6r,R6r),r0R.E0X(t6r,r6r),M6r,M6r);b6r.fill();if(E6r.highlight || E6r.active){r0R.d0X(53);b6r.rect(r0R.D0X(R6r,4,t6r),r0R.D0X(r6r,4,t6r,r0R.G0X(53)),r0R.D0X(8,M6r,r0R.d0X(2)),r0R.D0X(8,M6r,r0R.d0X(2)));}b6r.stroke();h1j+=2;}if(r0R.d5h(h1j.toString(),h1j.toString().length,44371) !== J1j){b6r.fillStyle=J6r;b6r.strokeStyle=J6r;b6r.font="";r0R.G0X(2);b6r.rect(r0R.D0X(t6r,R6r),r0R.D0X(t6r,r6r),M6r,M6r);b6r.fill();if(E6r.highlight && E6r.active){r0R.d0X(54);b6r.rect(r0R.D0X("1",R6r,t6r),r0R.D0X(t6r,3,r6r,r0R.G0X(55)),r0R.E0X(1,M6r,r0R.G0X(56)),r0R.E0X(M6r,7,r0R.G0X(16)));}b6r.stroke();}b6r.closePath();if(c6r){R7j="w";R7j+="hi";R7j+="t";R7j+="e";b6r.fillStyle=s7r.colorsEqual("white",b6r.fillStyle)?"black":R7j;b6r.fillText(c6r.charAt(0).toUpperCase(),R6r - 4,r6r + 1);}};s7r.Marker.Performance.drawCalloutMarker=function(m6r,P6r,L6r){var v7j,k7j,j6r,X6r,e6r,N6r,g6r,D6r,F6r,z6r,o6r,f6r,l6r,a6r,U6r,i6r;v7j="rgba(";v7j+="2";v7j+="55,255,255,0.8)";k7j="normal b";k7j+="old 12";k7j+="px Roboto, Helvetica, sans-se";k7j+="rif";j6r=m6r.params.stx;X6r=j6r.chart;e6r=X6r.context;N6r=m6r.params;g6r=L6r.x;D6r=L6r.y;F6r=L6r.half;z6r=L6r.midWidth;o6r=L6r.headline;f6r=L6r.color?L6r.color:P6r.backgroundColor;l6r=F6r * 2 || 25;a6r=Math.round(e6r.measureText(o6r).width);U6r=z6r?z6r * 2:a6r + +"8";e6r.beginPath();e6r.setLineDash([]);e6r.lineWidth=1;e6r.fillStyle=f6r;e6r.strokeStyle=f6r;e6r.font=k7j;e6r.rect(N6r.box.x0,N6r.box.y0,U6r,l6r);e6r.fill();e6r.stroke();e6r.closePath();e6r.beginPath();e6r.fillStyle=m6r.highlight || m6r.active?v7j:"rgba(255,255,255,0.65)";r244.G0X(57);i6r=r244.E0X(a6r,20,U6r,2);e6r.rect(N6r.box.x0 + i6r,D6r - F6r,a6r + 40,22);e6r.fill();e6r.stroke();e6r.closePath();e6r.fillStyle="black";e6r.fillText(o6r,N6r.box.x0 + i6r + ("10" & 2147483647),D6r);};s7r.Marker.Performance.drawMarkerStem=function(A6r,q6r,Q6r){var s6r,B6r,p6r,G6r,C6r,Y6r,h6r,O6r;s6r=A6r.params.stx;B6r=s6r.chart;p6r=B6r.context;G6r=Q6r.x;C6r=Q6r.y;p6r.beginPath();p6r.strokeStyle=q6r.borderLeftColor;r244.G0X(22);p6r.setLineDash([r244.D0X("1",902300256),1]);Y6r=s7r.stripPX(q6r.height);h6r=Q6r.invert?A6r.params.box.y0:A6r.params.box.y1;O6r=Q6r.invert?A6r.params.box.y0 - Y6r:A6r.params.box.y1 + Y6r;p6r.moveTo(G6r,h6r);p6r.lineTo(G6r,O6r);p6r.stroke();r244.L7b();p6r.closePath();};s7r.Marker.Performance.prototype.drawMarker=function(x6r){var q0R=r244;var X9j,n6r,T6r,E4r,c4r,M4r,v6r,k6r,S6r,J4r,R4r,b4r,r4r,W4r,y6r,t4r,H6r,Z6r,V6r,I4r,d4r,w6r,K6r,Z9j;X9j="s";X9j+="tx_marker";X9j+="_";n6r=x6r.params;T6r=x6r.params.stx;if(!T6r){return;}E4r=T6r.chart;c4r=E4r.dataSegment;if(!c4r.length){return;}M4r=T6r.panels[x6r.params.panelName];v6r=x6r.stxNodeCreator.params;k6r=v6r.type;S6r=v6r.category;J4r=v6r.headline;R4r=v6r.displayCategory;b4r=v6r.color;r4r=v6r.invert;q0R.G0X(58);W4r=q0R.D0X(X9j,k6r,S6r,(7960,"355" & 2147483647) !== (3770,1090)?1328 < 9470?("9709" & 2147483647,3208) !== (1510,8650)?"_":+"0xb59":(756.33,+"0x222a"):8.09e+3);if(!T6r.styles[W4r]){s7r.Marker.Performance.calculateMarkerStyles(T6r,x6r,W4r);}y6r=x6r.style=T6r.styles[W4r];t4r=T6r.styles.stx_marker_stem;H6r=parseInt(y6r.height,"10" | 10) / 2;Z6r=parseInt(y6r.width,10) / 2;V6r=v6r.displayStem?parseInt(t4r.height,10) + parseInt(t4r.marginBottom,10):0;I4r=V6r + parseInt(y6r.height,10);d4r=V6r?V6r + H6r:0;w6r=T6r.pixelFromDate(n6r.x);K6r=n6r.node.calculateYPosition({marker:x6r,panel:M4r,height:I4r,half:H6r,offset:d4r,inverted:r4r});if(!x6r.tick && x6r.tick !== +"0"){return;}n6r.box={x0:w6r - (Z6r || H6r),y0:K6r - H6r,x1:w6r + (Z6r || H6r),y1:K6r + H6r,midY:H6r,midX:Z6r || H6r,stemHeight:V6r};if(!R4r){S6r=R4r;}T6r.startClip(M4r.name);if(k6r === "circle"){s7r.Marker.Performance.drawCircleMarker(x6r,y6r,{x:w6r,y:K6r,radius:H6r,label:S6r,color:b4r});}else if(k6r === "square"){s7r.Marker.Performance.drawSquareMarker(x6r,y6r,{x:w6r,y:K6r,half:H6r,label:S6r,color:b4r});}else if(k6r === "callout"){s7r.Marker.Performance.drawCalloutMarker(x6r,y6r,{x:w6r,y:K6r,half:H6r,midWidth:Z6r,headline:J4r,color:b4r});}else {Z9j="Marker t";Z9j+="ype: ";q0R.d0X(44);console.warn(q0R.D0X(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",Z9j,k6r));}if(v6r.displayStem){s7r.Marker.Performance.drawMarkerStem(x6r,t4r,{x:w6r,y:K6r,invert:r4r});}T6r.endClip();if(x6r.attached){this.positionPopUpNode(x6r);}};s7r.Marker.Performance.prototype.positionPopUpNode=function(e4r){var p9j,F4r,N4r,u4r,z4r,a4r,L4r,o4r,X4r,l4r,P4r,g4r,f4r,m4r,j4r,U4r,D4r,i4r,p4r;p9j="t";p9j+="ra";r244.L7b();p9j+="nslateX(";if(!e4r.attached || !e4r.params.box){return;}F4r=e4r.params;N4r=F4r.stx;u4r=F4r.box;z4r=e4r.params.node.expand;a4r=N4r.chart.dataSet;L4r=N4r.chart.dataSegment;if(e4r.tick){X4r=[a4r[L4r[0] && L4r[0].tick - 1],a4r[L4r[0] && L4r[+"0"].tick - 2]];l4r=N4r.getFirstLastDataRecord(X4r.concat(L4r),"Date");P4r=[a4r[L4r[L4r.length - 1].tick + 1],a4r[L4r[L4r.length - 1].tick + 2]];g4r=N4r.getFirstLastDataRecord(L4r.concat(P4r),"Date",! !{});o4r=l4r.DT <= a4r[e4r.tick].DT && a4r[e4r.tick].DT <= g4r.DT;}else {o4r=! !0;}if(!e4r.highlight && !e4r.active){o4r=! !"";}z4r.style.visibility=o4r?"":"hidden";if(!o4r){return;}f4r=N4r.panels[F4r.panelName];m4r=z4r.rects;j4r=m4r.height / 2;D4r=e4r.node.params.infoOffset || "0" ^ 0;if(e4r.node.params.infoOnLeft){U4r=u4r.x0 - m4r.width - D4r < f4r.left?u4r.x1 + D4r:u4r.x0 - m4r.width - D4r;}else {U4r=u4r.x0 + m4r.width > f4r.right?u4r.x0 - m4r.width - D4r:u4r.x1 + D4r;}U4r-=N4r.chart.left;i4r=u4r.y0 - j4r >= f4r.top?u4r.y0 + u4r.midY - j4r:u4r.y0;if(!F4r.avoidFlush && u4r.y1 + u4r.stemHeight === f4r.yAxis.bottom && m4r.height > u4r.y1 - u4r.y0 + u4r.stemHeight){i4r=u4r.y1 - m4r.height + u4r.stemHeight;}i4r-=N4r.chart.panel.top;p4r=p9j + Math.floor(U4r) + "px) translateY(" + Math.floor(i4r) + "px) translateZ(0)";z4r.style.transform=p4r;z4r.transform={translateX:U4r,translateY:i4r};};s7r.Marker.Performance.prototype.quickCache=function(G4r){var Y4r,A4r,Q4r,q4r;Y4r=G4r.params.node;A4r=Y4r.expand;Q4r=G4r.style;q4r=s7r.stripPX(Q4r.marginLeft) + s7r.stripPX(Q4r.marginRight) + s7r.stripPX(Q4r.borderRight) + s7r.stripPX(Q4r.borderLeft);A4r.rects=A4r.getBoundingClientRect();A4r.scrollBarWidth=A4r.rects.width - A4r.clientWidth - q4r;};s7r.Marker.Performance.prototype.calculateYPosition=function(H4r){var S9j,a9j,O9j,x4r,B4r,y4r,T4r,C4r,w4r,h4r,K4r,k4r,O4r,v4r,S4r,s4r,Z4r,V4r;S9j="b";S9j+="o";S9j+="ttom";a9j="on_cand";a9j+="le";O9j="v";O9j+="a";O9j+="l";O9j+="ue";x4r=H4r.marker;r244.L7b();B4r=H4r.panel;y4r=H4r.height;T4r=H4r.half;C4r=H4r.offset;w4r=H4r.inverted;h4r=x4r.params.stx;K4r=h4r.chart;k4r=h4r.chart.highLowBars;O4r=K4r.dataSet[x4r.tick];if(!O4r){return;}v4r=k4r?O4r.High:O4r.Close;S4r=x4r.params.yPositioner;switch(S4r){case O9j:if(x4r.params.y || x4r.params.y === 0){s4r=h4r.pixelFromPrice(x4r.params.y,B4r) - y4r * 0.5 + T4r;}else {s4r=h4r.pixelFromPrice(v4r,B4r) - C4r;}break;case "above_candle":s4r=h4r.pixelFromPrice(v4r,B4r) - C4r;break;case "below_candle":s4r=h4r.pixelFromPrice(O4r.Low || v4r,B4r);if(w4r && C4r){s4r+=C4r;}else {s4r+=T4r;}break;case a9j:(Z4r=O4r.High || O4r.Close,V4r=O4r.Low || O4r.Low === 0 || O4r.Close);s4r=h4r.pixelFromPrice((Z4r + V4r) / 2,B4r) - y4r * ("0.5" * 1) + T4r;break;case "top":s4r=h4r.pixelFromPrice(B4r.yAxis.high,B4r);if(w4r && C4r){s4r+=C4r;}else {s4r+=T4r;}break;case S9j:s4r=h4r.pixelFromPrice(B4r.yAxis.low,B4r) - (C4r || T4r);break;default:break;}return s4r;};s7r.Marker.Performance.prototype.prepareForHolder=function(b8r){var n4r,W8r;n4r=this.expand;W8r=b8r.params.stx;n4r.classList.add(this.params.type);W8r.markerHelper.domMarkers.push(b8r);return n4r;};s7r.Marker.Performance.prototype.addToHolder=function(R8r){var l9j,M8r,t8r;l9j="mouse";function r8r(E8r){t8r.activeMarker=R8r;r244.L7b();t8r.activeMarker.click({cx:E8r.clientX,cy:E8r.clientY,panel:t8r.currentPanel});E8r.stopPropagation();}l9j+="d";l9j+="own";M8r=this.expand;t8r=R8r.params.stx;s7r.Marker.Performance.reconstituteExpanded(t8r);s7r.Marker.Performance.consolidateExpanded(t8r);this.quickCache(R8r);if(M8r.clickClosure){return;}M8r.addEventListener(l9j,r8r);M8r.addEventListener("touchstart",r8r);M8r.clickClosure=r8r;};s7r.Marker.Performance.prototype.remove=function(J8r){var c8r,d8r,u8r,I8r;c8r=J8r.params.stx;if(!c8r){return;}if(!c8r.markerHelper.domMarkers){return;}d8r=c8r.markerHelper.domMarkers.indexOf(J8r);if(d8r != -("1" * 1)){c8r.markerHelper.domMarkers.splice(d8r,1);}r244.L7b();if(J8r.attached){u8r=c8r.panels[J8r.params.panelName];I8r=J8r.params.node.expand;if(I8r.parentNode === u8r.subholder){u8r.subholder.removeChild(I8r);}I8r.removeEventListener("click",I8r.clickClosure);}};s7r.Marker.Performance.prototype.click=function(a8r){var D9j,N8r,D8r,L8r;D9j="nu";r244.L7b();D9j+="mb";D9j+="e";D9j+="r";if(!this.hasText){return;}if(typeof arguments[0] === D9j){a8r={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:m8r, cy:F8r, marker:e8r, panel:z8r}=a8r;N8r=e8r.params.stx;if(e8r.attached){L8r=this.expand;if(L8r.rects.width - L8r.scrollBarWidth + L8r.transform.translateX < N8r.backOutX(m8r) && N8r.backOutX(m8r) < L8r.rects.width + L8r.transform.translateX){return;}this.remove(e8r);}else {N8r.addToHolder(e8r);D8r=!0;}e8r.attached=!e8r.attached;e8r.active=!e8r.active;if(D8r){e8r.stxNodeCreator.positionPopUpNode(e8r);}};}};r8S=f8r=>{var o8r;o8r=typeof _CIQ !== "undefined"?_CIQ:f8r.CIQ;o8r.Renderer.OHLC.requestNew=function(Q8r,U8r){var i8r,X8r,l8r,P8r,g8r,p8r,N9j,M9j,c9j,s9j,A8r;i8r=null;X8r=U8r.hlc;l8r=U8r.colored;P8r=U8r.hollow;g8r=U8r.volume;p8r=U8r.histogram;for(var j8r=+"0";j8r < Q8r.length;j8r++){N9j="h";N9j+="l";N9j+="c";M9j="c";M9j+="o";M9j+="lo";M9j+="red";c9j="hol";c9j+="l";c9j+="o";c9j+="w";s9j="vol";s9j+="u";s9j+="m";s9j+="e";A8r=Q8r[j8r];switch(A8r){case "bar":case "candle":i8r=A8r;break;case s9j:g8r=! ![];break;case c9j:P8r=! ![];break;case M9j:l8r=! !1;break;case "histogram":p8r=! ![];i8r="candle";break;case N9j:X8r=!"";i8r="bar";break;default:return null;}}if(i8r === null){return null;}r244.L7b();return new o8r.Renderer.OHLC({params:o8r.extend(U8r,{type:i8r,hlc:X8r,colored:l8r,hollow:P8r,volume:g8r,histogram:p8r})});};o8r.Renderer.OHLC.getChartParts=function(C8r,O8r){var F9j,t9j,V9j,G9j,T9j,u9j,j9j,A9j,H9j,o9j,e9j,h9j,J9j,K9j,W9j,C9j,m9j,Q9j,y9j,z9j,I9j,g9j,f9j,q9j,q8r,s8r,B8r,G8r,Y8r,h8r;F9j="fill_co";F9j+="lor_e";F9j+="ven";t9j="ca";t9j+="n";t9j+="d";t9j+="le";V9j="border_co";V9j+="lo";V9j+="r_up";G9j="fill_co";G9j+="lor";G9j+="_u";G9j+="p";T9j="candl";T9j+="e";u9j="borde";u9j+="r_co";u9j+="lor_down";j9j="fil";j9j+="l";j9j+="_co";j9j+="lor_down";A9j="c";A9j+="an";A9j+="dle";H9j="borde";H9j+="r_c";H9j+="olo";H9j+="r_up";o9j="fill_co";o9j+="lor_up";e9j="c";e9j+="and";e9j+="l";e9j+="e";h9j="st";h9j+="x_hollow_can";h9j+="dl";h9j+="e_down";J9j="sh";J9j+="adow";K9j="fi";K9j+="ll_color_down";W9j="st";W9j+="x_c";W9j+="andle_u";W9j+="p";C9j="can";C9j+="d";C9j+="l";C9j+="e";m9j="c";m9j+="and";m9j+="le";Q9j="sh";Q9j+="adow";y9j="c";y9j+="and";y9j+="le";z9j="border_";z9j+="co";z9j+="lor";z9j+="_up";I9j="b";I9j+="a";I9j+="r";g9j="st";g9j+="x_bar_cha";g9j+="rt";f9j="bor";f9j+="der_colo";f9j+="r_eve";f9j+="n";q9j="st";q9j+="x_his";q9j+="togram_eve";q9j+="n";q8r=+"1";s8r=2;B8r=+"4";G8r=+"8";Y8r=16;h8r=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:G8r,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:!""},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:Y8r,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1",useBorderStyleProp:! !1},{type:"histogram",drawType:"histogram",style:q9j,condition:h8r,fill:"fill_color_even",border:f9j,skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:! !1},{type:"bar",drawType:"bar",style:C8r || g9j,border:"border_color",useColorInMap:! !{}},{type:"bar",drawType:I9j,style:"stx_bar_up",condition:O8r?G8r:q8r,border:z9j,useColorInMap:! !1},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:O8r?Y8r:s8r,border:"border_color_down",useColorInMap:! !"1"},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:O8r?h8r:B8r,border:"border_color_even",skipIfPass:! ![],useColorInMap:!""},{type:y9j,drawType:Q9j,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:G8r,border:"border_color_up"},{type:m9j,drawType:"shadow",style:"stx_candle_shadow_down",condition:Y8r,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:h8r,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:C9j,style:W9j,condition:G8r,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:Y8r,fill:K9j,border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:!""},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:q8r,border:"border_color_up"},{type:"hollow",drawType:J9j,style:h9j,condition:s8r,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:B8r,border:"border_color_even",skipIfPass:!""},{type:"hollow",drawType:e9j,style:"stx_hollow_candle_up",condition:q8r | Y8r,fill:o9j,border:H9j,useColorInMap:! ![]},{type:"hollow",drawType:A9j,style:"stx_hollow_candle_down",condition:s8r | Y8r,fill:j9j,border:u9j,useColorInMap:! ![]},{type:"hollow",drawType:T9j,style:"stx_hollow_candle_even",condition:B8r | Y8r,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !{},useColorInMap:!""},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:q8r | G8r,fill:G9j,border:V9j},{type:"hollow",drawType:t9j,style:"stx_hollow_candle_down",condition:s8r | G8r,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:B8r | G8r,fill:F9j,border:"border_color_even"}];;};o8r.Renderer.Bars=function(H8r){var x8r;r244.m7b();this.construct(H8r);x8r=this.params;x8r.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};x8r.hlc=x8r.volume=x8r.hollow=x8r.histogram=!1;};o8r.inheritsFrom(o8r.Renderer.Bars,o8r.Renderer.OHLC,!{});o8r.Renderer.HLC=function(v8r){var T8r;this.construct(v8r);T8r=this.params;T8r.type="bar";T8r.hlc=! ![];this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};T8r.volume=T8r.hollow=T8r.histogram=!{};};o8r.inheritsFrom(o8r.Renderer.HLC,o8r.Renderer.Bars,! !"");o8r.Renderer.Shading=function(y8r){var P9j;P9j="rangec";P9j+="hannel";r244.m7b();this.construct(y8r);this.beenSetup=! !0;this.errTimeout=null;this.params.useChartLegend=! !0;this.shading=[];if(this.params.type == P9j){this.highLowBars=! !"1";}};o8r.inheritsFrom(o8r.Renderer.Shading,o8r.Renderer.Lines,![]);o8r.Renderer.Shading.requestNew=function(k8r,Z8r){var w8r,x9j,r9j,S8r;w8r=null;for(var K8r="0" >> 468466560;K8r < k8r.length;K8r++){x9j="range";x9j+="chann";x9j+="el";r9j="ra";r9j+="ngechann";r9j+="el";S8r=k8r[K8r];if(S8r == r9j){w8r=x9j;}}if(w8r === null){return null;}return new o8r.Renderer.Shading({params:o8r.extend(Z8r,{type:w8r})});};o8r.Renderer.Shading.prototype.setShading=function(V8r){r244.m7b();if(V8r.constructor != Array){V8r=[V8r];}this.shading=V8r;};o8r.Renderer.Shading.prototype.draw=function(){var W9r,t9r,E9j,e9r,R9r,L9r,c9r,N9r,M9r,b9r,J9r,i9j,I9r,m9r,Y9j,n8r,E9r,d9r,u9r,r9r;W9r=this.stx;t9r=W9r.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {E9j="st";E9j+="x_l";E9j+="ine";E9j+="_up";this.beenSetup=! !1;this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;e9r=this.seriesParams[0].color || "auto";R9r=this.seriesParams[0].symbol;L9r="";if(R9r){r244.G0X(2);L9r=r244.E0X(("8665" ^ 0,7426) != 8160?".":(977.4,4770) < 9850?560.57 > (948.62,502.22)?"j":("X",663.60):"J",R9r);}this.removeAllSeries(! !"1");c9r=this.params.name;W9r.addSeries(null,{symbol:R9r,loadData:! !R9r,field:"High",renderer:"Shading",name:c9r,style:E9j,display:this.params.display,shareYAxis:!0});W9r.addSeries(null,{symbol:R9r,loadData:! !R9r,field:"Low",renderer:"Shading",name:c9r,style:"stx_line_down",display:this.params.display,shareYAxis:! ![]});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:e9r});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");N9r=this;this.errTimeout=setTimeout(function(){N9r.errTimeout=null;},10000);}}M9r={};for(b9r=0;b9r < this.seriesParams.length;b9r++){J9r={};if(t9r.series[this.seriesParams[b9r].id]){J9r=o8r.clone(t9r.series[this.seriesParams[b9r].id].parameters);}M9r[this.seriesParams[b9r].id]={parameters:o8r.extend(o8r.extend(J9r,this.params),this.seriesParams[b9r]),yValueCache:this.caches[this.seriesParams[b9r].id]};}W9r.drawSeries(t9r,M9r,this.params.yAxis,this);if(t9r.legend && this.params.type == "rangechannel"){i9j="stx_";i9j+="line";i9j+="_up";if(!t9r.legend.colorMap){t9r.legend.colorMap={};}I9r=this.params.display;m9r=[W9r.getCanvasColor(i9j),W9r.getCanvasColor("stx_line_down")];t9r.legend.colorMap[I9r]={color:m9r,display:I9r,isBase:this == W9r.mainSeriesRenderer};;}r244.m7b();function a9r(z9r){var D9r,o9r,F9r;D9r=M9r[z9r];r244.m7b();if(D9r){o9r=D9r.parameters.field;F9r=D9r.parameters.subField;r244.G0X(2);return r244.D0X(F9r?(8721 != 9790?332 < (1040,+"6810")?("441" & 2147483647,970) <= ("6285" << 1092046976,"2217" - 0)?".":! !1:"S":(7.99e+3,! !{})) + F9r:"",o9r);}return z9r;}for(b9r in M9r){this.caches[b9r]=M9r[b9r].yValueCache;}for(b9r=0;b9r < this.shading.length;b9r++){Y9j="C";Y9j+="l";Y9j+="os";Y9j+="e";n8r=this.shading[b9r];E9r=n8r.color;if(n8r.color == "auto"){E9r=W9r.defaultColor;}if(!n8r.primary){n8r.primary=Y9j;}if(!n8r.secondary && this.seriesParams[0]){n8r.secondary=this.seriesParams["0" >> 1880761760].field;}if(!n8r.secondary)continue;else if(!M9r[n8r.primary] && n8r.primary != "Close")continue;else if(!M9r[n8r.secondary])continue;else if(n8r.primary == "Close" && this.params.yAxis && this.params.yAxis != t9r.yAxis)continue;d9r=a9r(n8r.primary).split("444" * 1 == (5540,+"6767")?("r",0x1a84):(1802,465.59) >= (9430,3900)?! !"":".");u9r=a9r(n8r.secondary).split(+"5147" >= ("6930" << 2102402624,9690)?("3460" ^ 0) !== 3030?497.17 === (1815,35.27)?(1.12e+2,! !{}):(905.92,! ![]):(+"5.02e+3",114.32):".");r9r={topBand:d9r[0],topSubBand:d9r["1" >> 2026830848],topColor:n8r.greater || E9r || W9r.containerColor,topAxis:this.params.yAxis,bottomBand:u9r[+"0"],bottomSubBand:u9r[1],bottomColor:n8r.lesser || E9r || W9r.containerColor,bottomAxis:n8r.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || t9r.tension,opacity:"0.1" * 1};if(!r9r.topColor && !r9r.bottomColor)continue;if(!this.params.highlight && W9r.highlightedDraggable){r9r.opacity*=0.3;}o8r.fillIntersecting(W9r,this.params.panel,r9r);}};o8r.Renderer.Histogram=function(f9r){var w9j;w9j="histo";w9j+="gram";r244.L7b();this.construct(f9r);this.params.type=w9j;this.barsHaveWidth=this.standaloneBars=! !1;if(this.params.yAxis){this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};o8r.inheritsFrom(o8r.Renderer.Histogram,o8r.Renderer,![]);o8r.Renderer.Histogram.prototype.adjustYAxis=function(){var U9r;U9r=this.params.yAxis;if(!U9r || U9r.baseline){return;}U9r.min=0;U9r.highValue/=this.params.heightPercentage || 1;};o8r.Renderer.Histogram.prototype.draw=function(){var i9r,j9r,b9j,X9r,l9r;i9r=o8r.clone(this.params);i9r.type=i9r.subtype;this.useSum=i9r.subtype == "stacked";if(!i9r.yAxis || i9r.yAxis == this.stx.chart.yAxis){i9r.bindToYAxis=! !{};}this.stx.drawHistogram(i9r,this.seriesParams);j9r=i9r.yAxis && i9r.yAxis.baseline;if(j9r && j9r.color){b9j="l";b9j+="ine";X9r=this.stx.panels[this.params.panel];l9r=this.stx.pixelFromPrice(j9r.value,X9r,this.params.yAxis) - ("0.5" - 0);this.stx.plotLine({x0:X9r.left,x1:X9r.right,y0:l9r,y1:l9r,color:j9r.color,type:b9j,context:X9r.chart.context,confineToPanel:X9r,pattern:j9r.pattern || "solid",lineWidth:j9r.lineWidth || "1" & 2147483647,opacity:j9r.opacity || "0.8" * 1,globalCompositeOperation:"destination-over"});}};o8r.Renderer.Histogram.prototype.getBasis=function(Q9r,G9r,Y9r){r244.m7b();var p9r,A9r,P9r;r244.d0X(1);p9r=r244.E0X("0",1206619136);if(Q9r && this.useSum){for(var g9r=0;g9r < this.seriesParams.length;g9r++){A9r=this.seriesParams[g9r].field;if(A9r === G9r)break;P9r=Q9r[A9r];if(P9r && typeof P9r === "object"){P9r=P9r[Y9r || this.seriesParams[g9r].subField || this.stx.chart.defaultPlotField || "Close"];}if(P9r){p9r+=P9r;}}}return p9r;};o8r.Renderer.Heatmap=function(q9r){var e3j,o3j,H3j;this.construct(q9r);r244.L7b();this.params.type="heatmap";e3j=998459784;o3j=+"1871241227";H3j=2;for(var j3j=1;r244.n5h(j3j.toString(),j3j.toString().length,"71184" ^ 0) !== e3j;j3j++){this.params.highlightable=! !1;this.barsHaveWidth=this.standaloneBars=!1;H3j+=2;}if(r244.n5h(H3j.toString(),H3j.toString().length,38932) !== o3j){this.params.highlightable=! !"";this.barsHaveWidth=this.standaloneBars=! !{};}this.params.highlightable=!{};this.barsHaveWidth=this.standaloneBars=! !{};};o8r.inheritsFrom(o8r.Renderer.Heatmap,o8r.Renderer,![]);o8r.Renderer.Heatmap.requestNew=function(h9r,C9r){r244.L7b();var s9r,O9r;s9r=null;for(var B9r=+"0";B9r < h9r.length;B9r++){O9r=h9r[B9r];if(O9r == "heatmap"){s9r="heatmap";}}if(s9r === null){return null;}return new o8r.Renderer.Heatmap({params:o8r.extend(C9r,{type:s9r})});};o8r.Renderer.Heatmap.prototype.draw=function(){r244.L7b();this.stx.drawHeatmap(o8r.clone(this.params),this.seriesParams);};o8r.Renderer.Scatter=function(x9r){this.construct(x9r);this.standaloneBars=this.barsHaveWidth=!"";r244.m7b();this.bounded=!"";};o8r.inheritsFrom(o8r.Renderer.Scatter,o8r.Renderer.Lines,! !0);o8r.Renderer.Scatter.requestNew=function(v9r,w9r){var H9r,L9j,y9r;H9r=null;for(var T9r=0;T9r < v9r.length;T9r++){L9j="sc";L9j+="att";L9j+="e";L9j+="r";y9r=v9r[T9r];if(y9r == "scatterplot"){H9r=L9j;}}if(H9r === null){return null;}return new o8r.Renderer.Scatter({params:o8r.extend(w9r,{type:H9r})});};o8r.Renderer.Scatter.prototype.drawIndividualSeries=function(Z9r,k9r){var S9r,K9r;S9r=this.stx.panels[k9r.panel] || Z9r.panel;r244.L7b();K9r={colors:[]};if(this.stx.scatter){K9r=this.stx.scatter(S9r,k9r);}else {console.warn("Error, Scatter renderer requires customChart.js");}return K9r;};};E8S=n9r=>{var V9r;V9r=typeof _CIQ !== "undefined"?_CIQ:n9r.CIQ;if(!V9r.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {V9r.Studies.calculateAccumulationDistribution=function(c0t,M0t){var E0t,b0t,t0t,R0t,r0t;E0t=M0t.chart.scrubbed;for(var W0t=M0t.startFrom;W0t < E0t.length;W0t++){if(!W0t)continue;b0t=E0t[W0t];if(b0t.futureTick)break;r244.G0X(6);t0t=E0t[r244.E0X(1,W0t)];R0t=0;if(b0t.Close > t0t.Close){R0t=b0t.Close - Math.min(b0t.Low,t0t.Close);}else if(b0t.Close < t0t.Close){R0t=b0t.Close - Math.max(b0t.High,t0t.Close);}if(M0t.inputs["Use Volume"]){R0t*=b0t.Volume;}r0t=t0t["Result " + M0t.name];if(!r0t){r0t=0;}r0t+=R0t;if(!isNaN(b0t.Close)){b0t["Result " + M0t.name]=r0t;}}};V9r.Studies.studyLibrary=V9r.extend(V9r.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:V9r.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !""}}});}};c8S=I0t=>{var U9j,J0t,B9j,N0j,M0j;U9j="un";U9j+="def";r244.L7b();U9j+="ined";J0t=typeof _CIQ !== U9j?_CIQ:I0t.CIQ;if(!J0t.Studies){B9j="adx feature re";B9j+="quires first activating studies feature.";console.error(B9j);}else {N0j="a";N0j+="u";N0j+="t";N0j+="o";M0j="A";M0j+="DX/";M0j+="DMS";J0t.Studies.calculateADX=function(P0t,d0t){var e6R=r244;var d9j,L0t,N0t,m0t,z0t,o0t,f0t,U0t,u0t,X0j,v9j,k9j,a0t,D0t,n9j,R9j,i0t,j0t,X0t,p0j,Z0j,O0j,a0j,D0j,l0j,S0j,l0t,s0j;d9j="Sm";d9j+="oothing ";d9j+="P";d9j+="eriod";J0t.Studies.calculateStudyATR(P0t,d0t);L0t=d0t.chart.scrubbed;N0t=d0t.days;m0t=parseInt(d0t.inputs[d9j],10);if(!m0t && m0t !== 0){m0t=N0t;}if(L0t.length < d0t.days + 1){d0t.error=!0;return;}e6R.G0X(6);z0t=e6R.E0X(0,"0");o0t=0;f0t=0;U0t=0;for(var e0t=Math.max(+"1",d0t.startFrom);e0t < L0t.length;e0t++){X0j="-";X0j+="D";X0j+="I";X0j+=" ";v9j="_sm";v9j+="TR";v9j+=" ";k9j="_s";k9j+="m+";k9j+="DM";k9j+=" ";u0t=L0t[e0t];a0t=Math.max(0,u0t.High - L0t[e0t - 1].High);D0t=Math.max(0,L0t[e0t - 1].Low - u0t.Low);if(a0t > D0t){D0t=0;}else if(D0t > a0t){a0t=0;}else {a0t=D0t=0;}if(e0t <= N0t){n9j="Tr";n9j+="ue Range ";o0t+=a0t;f0t+=D0t;z0t+=u0t[n9j + d0t.name];}else {R9j="_";R9j+="sm-DM ";o0t=L0t[e0t - 1]["_sm+DM " + d0t.name] * (N0t - 1) / N0t + a0t;f0t=L0t[e0t - ("1" & 2147483647)][R9j + d0t.name] * (N0t - 1) / N0t + D0t;z0t=L0t[e0t - 1]["_smTR " + d0t.name] * (N0t - 1) / N0t + u0t["True Range " + d0t.name];}u0t[k9j + d0t.name]=o0t;u0t["_sm-DM " + d0t.name]=f0t;u0t[v9j + d0t.name]=z0t;if(e0t < N0t)continue;e6R.d0X(59);i0t=e6R.E0X(100,o0t,z0t);e6R.G0X(59);j0t=e6R.D0X(100,f0t,z0t);X0t=100 * Math.abs(i0t - j0t) / (i0t + j0t);u0t["+DI " + d0t.name]=i0t;u0t[X0j + d0t.name]=j0t;if(d0t.inputs.Series !== !{} && m0t){if(e0t < N0t + m0t - 1){if(e0t == d0t.startFrom){for(var F0t=N0t;F0t < d0t.startFrom;F0t++){p0j="-";p0j+="D";p0j+="I";p0j+=" ";Z0j="+D";Z0j+="I ";U0t+=100 * Math.abs(L0t[F0t][Z0j + d0t.name] - L0t[F0t]["-DI " + d0t.name]) / (L0t[F0t]["+DI " + d0t.name] + L0t[F0t][p0j + d0t.name]);}}U0t+=X0t;}else if(e0t == N0t + m0t - 1){O0j="ADX";O0j+=" ";e6R.G0X(10);u0t[O0j + d0t.name]=e6R.E0X(m0t,U0t);}else {a0j="A";a0j+="D";a0j+="X ";u0t["ADX " + d0t.name]=(L0t[e0t - 1][a0j + d0t.name] * (m0t - +"1") + X0t) / m0t;}}if(d0t.inputs.Histogram){D0j="+";D0j+="D";D0j+="I";D0j+=" ";l0j="-";l0j+="D";l0j+="I ";S0j="+D";S0j+="I ";l0t=d0t.name + "_hist";if(!u0t["+DI " + d0t.name] && u0t[S0j + d0t.name] !== 0)continue;if(!u0t[l0j + d0t.name] && u0t["-DI " + d0t.name] !== +"0")continue;u0t[l0t]=u0t[D0j + d0t.name] - u0t["-DI " + d0t.name];if(d0t.inputs.Series === ! !0){s0j="-";s0j+="D";s0j+="I";s0j+=" ";u0t["+DI " + d0t.name]=null;u0t[s0j + d0t.name]=null;}d0t.outputMap[l0t]="";}}};J0t.Studies.displayADX=function(p0t,g0t,q0t){var s0t,c0j,A0t,Q0t,B0t,h0t,G0t,Y0t;r244.L7b();s0t=g0t.underlay?0.3:g0t.inputs.Series?+"0.4":1;if(g0t.inputs.Series && g0t.inputs.Shading){c0j="-";c0j+="D";c0j+="I ";A0t="+DI " + g0t.name;Q0t=c0j + g0t.name;B0t=J0t.Studies.determineColor(g0t.outputs[g0t.outputMap[A0t]]);h0t=J0t.Studies.determineColor(g0t.outputs[g0t.outputMap[Q0t]]);G0t=g0t.getYAxis(p0t);Y0t={topBand:A0t,bottomBand:Q0t,topColor:B0t,bottomColor:h0t,skipTransform:p0t.panels[g0t.panel].name != g0t.chart.name,topAxis:G0t,bottomAxis:G0t,opacity:0.3};if(!g0t.highlight && p0t.highlightedDraggable){Y0t.opacity*=0.3;}J0t.fillIntersecting(p0t,g0t.panel,Y0t);}if(g0t.inputs.Histogram){J0t.Studies.createHistogram(p0t,g0t,q0t,!{},s0t);}if(g0t.inputs.Series !== !{}){J0t.Studies.displaySeriesAsLine(p0t,g0t,q0t);}else if(!g0t.inputs.Series && !g0t.inputs.Histogram){p0t.displayErrorAsWatermark(g0t.panel,p0t.translateIf(g0t.name) + ": " + p0t.translateIf("Nothing to display"));}};J0t.Studies.studyLibrary=J0t.extend(J0t.Studies.studyLibrary,{ADX:{name:M0j,calculateFN:J0t.Studies.calculateADX,seriesFN:J0t.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:!1,Histogram:!"1"},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:N0j,"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};J8S=C0t=>{r244.L7b();var O0t,H0j,o0j;O0t=typeof _CIQ !== "undefined"?_CIQ:C0t.CIQ;if(!O0t.Studies){console.error("alligator feature requires first activating studies feature.");}else {H0j="#00D";H0j+="D";H0j+="00";o0j="#FF";o0j+="0";o0j+="000";O0t.Studies.calculateAlligator=function(k0t,T0t){var U6R=r244;U6R.m7b();var f0j,q0j,v0t,x0t,Q0j,y0j,z0j,I0j,g0j,w0t,K0t,y0t;f0j="S";f0j+="how Lines";q0j="Ga";q0j+="tor";v0t={J:Number(T0t.inputs["Jaw Period"]),T:Number(T0t.inputs["Teeth Period"]),L:Number(T0t.inputs["Lips Period"])};x0t=T0t.chart.scrubbed;if(x0t.length < Math.max(v0t.J,v0t.T,v0t.L) + ("1" >> 253945760)){T0t.error=! !1;return;}if(T0t.type === q0j || T0t.inputs[f0j]){Q0j="L";Q0j+="ip";Q0j+="s";y0j="hl/";y0j+="2";z0j="hl";z0j+="/";z0j+="2";I0j="welle";I0j+="s ";I0j+="wilder";g0j="J";g0j+="aw";O0t.Studies.MA("welles wilder",v0t.J,"hl/2",T0t.inputs["Jaw Offset"],g0j,k0t,T0t);O0t.Studies.MA(I0j,v0t.T,z0j,T0t.inputs["Teeth Offset"],"Teeth",k0t,T0t);O0t.Studies.MA("welles wilder",v0t.L,y0j,T0t.inputs["Lips Offset"],Q0j,k0t,T0t);}for(var H0t=T0t.startFrom;H0t < x0t.length;H0t++){if(!x0t[H0t])continue;if(T0t.type == "Gator"){w0t=x0t[H0t]["Jaw " + T0t.name];K0t=x0t[H0t]["Lips " + T0t.name];y0t=x0t[H0t]["Teeth " + T0t.name];if(y0t || y0t === 0){if(w0t || w0t === 0){U6R.d0X(6);x0t[H0t][T0t.name + "_hist1"]=Math.abs(U6R.E0X(y0t,w0t));}if(K0t || K0t === 0){U6R.G0X(6);x0t[H0t][T0t.name + "_hist2"]=-Math.abs(U6R.E0X(K0t,y0t));}}T0t.outputMap={};T0t.outputMap[T0t.name + "_hist1"]="";T0t.outputMap[T0t.name + "_hist2"]="";}if(T0t.inputs["Show Fractals"]){if(!x0t[H0t - 2] || !x0t[H0t - 1] || !x0t[H0t] || !x0t[H0t + 1] || !x0t[H0t + 2])continue;if(x0t[H0t - +"2"].High && x0t[H0t - 1].High && x0t[H0t].High && x0t[H0t + 1].High && x0t[H0t + 2].High){if(x0t[H0t].High > x0t[H0t - 1].High && x0t[H0t].High > x0t[H0t - 2].High && x0t[H0t].High > x0t[H0t + 1].High && x0t[H0t].High > x0t[H0t + ("2" | 0)].High){x0t[H0t]["Fractal High " + T0t.name]=1;}}if(x0t[H0t - 2].Low && x0t[H0t - 1].Low && x0t[H0t].Low && x0t[H0t + 1].Low && x0t[H0t + +"2"].Low){if(x0t[H0t].Low < x0t[H0t - 1].Low && x0t[H0t].Low < x0t[H0t - 2].Low && x0t[H0t].Low < x0t[H0t + 1].Low && x0t[H0t].Low < x0t[H0t + 2].Low){x0t[H0t]["Fractal Low " + T0t.name]=1;}}}}};O0t.Studies.displayAlligator=function(S0t,n0t,b1t){var K0j,Z0t,J0j;K0j="S";K0j+="how Fr";K0j+="acta";r244.m7b();K0j+="ls";Z0t=n0t.getContext(S0t);function W1t(R1t,r1t){var C0j,m0j,M1t,t1t,W0j;C0j="l";C0j+="o";C0j+="w";m0j="hi";m0j+="g";m0j+="h";t1t=S0t.chart.panel.yAxis.flipped;if(R1t == m0j){Z0t.fillStyle=S0t.defaultColor;Z0t.textBaseline=t1t?"top":"bottom";M1t=S0t.pixelFromPrice(b1t[r1t].High);Z0t.fillText(t1t?"\u25BC":"716" << 1587730464 === (5880,3590)?("X",+"0x1ad7"):"590.79" - 0 !== 259?"\u25B2":(0x63f,0xa29),S0t.pixelFromBar(V0t,S0t.chart) - Z0t.measureText("\u25B2").width / 2 + +"1",t1t?M1t + +"5":M1t - ("5" << 841810880));;}else if(R1t == C0j){W0j="t";W0j+="o";W0j+="p";Z0t.fillStyle=S0t.defaultColor;Z0t.textBaseline=t1t?"bottom":W0j;M1t=S0t.pixelFromPrice(b1t[r1t].Low);Z0t.fillText(t1t?"\u25B2":6913 != (250,"6126" >> 1085723168)?147.28 <= 7660?"\u25BC":(6920,4924) <= 33.49?("s","r"):0x212b:553.82,S0t.pixelFromBar(V0t,S0t.chart) - Z0t.measureText((247,9175) == (489,"8040" & 2147483647)?("368.44" * 1,5430) == ("242" | 128,1853)?(! ![],728.61):(0x1e28,"5.21e+3" ^ 0):"\u25BC").width / 2 + 1,t1t?M1t - 5:M1t + ("5" - 0));;}}if(n0t.inputs["Show Lines"]){O0t.Studies.displaySeriesAsLine(S0t,n0t,b1t);}if(n0t.inputs[K0j]){S0t.startClip();Z0t.globalAlpha=n0t.underlay?0.3:1;if(!n0t.highlight && S0t.highlightedDraggable){Z0t.globalAlpha*=0.3;}for(var V0t=+"2";V0t < b1t.length - 2;V0t++){if(b1t[V0t]){J0j="l";J0j+="o";J0j+="w";if(b1t[V0t]["Fractal High " + n0t.name]){W1t("high",V0t);}if(b1t[V0t]["Fractal Low " + n0t.name]){W1t(J0j,V0t);}}}S0t.endClip();}};O0t.Studies.displayGator=function(c1t,E1t,m1t){var h0j,N1t,I1t,a1t,D1t,e1t,F1t,z1t,u1t,L1t,e0j;h0j="Inc";h0j+="reasi";h0j+="ng Ba";h0j+="r";N1t=c1t.panels[E1t.panel];I1t=E1t.getContext(c1t);a1t=E1t.getYAxis(c1t);D1t=c1t.pixelFromPrice(0,N1t,a1t);e1t=c1t.layout.candleWidth - 2;if(e1t < 2){e1t=1;}F1t=O0t.Studies.determineColor(E1t.outputs[h0j]);z1t=O0t.Studies.determineColor(E1t.outputs["Decreasing Bar"]);c1t.canvasColor("stx_histogram");if(!E1t.underlay){I1t.globalAlpha=1;}r244.m7b();I1t.fillStyle="#CCCCCC";c1t.startClip(E1t.panel);if(!E1t.highlight && c1t.highlightedDraggable){I1t.globalAlpha*=0.3;}for(var d1t=0;d1t < m1t.length;d1t++){u1t=m1t[d1t];r244.G0X(6);L1t=m1t[r244.E0X(1,d1t)];if(!u1t)continue;for(var J1t=1;J1t <= 2;J1t++){e0j="_";e0j+="his";e0j+="t";if(!L1t){L1t=c1t.getPreviousBar(c1t.chart,E1t.name + "_hist" + J1t,d1t);}if(!L1t){I1t.fillStyle="#CCCCCC";}else if(Math.abs(L1t[E1t.name + "_hist" + J1t]) < Math.abs(u1t[E1t.name + "_hist" + J1t])){I1t.fillStyle=F1t;}else if(Math.abs(L1t[E1t.name + "_hist" + J1t]) > Math.abs(u1t[E1t.name + "_hist" + J1t])){I1t.fillStyle=z1t;}if(u1t.candleWidth){e1t=Math.floor(Math.max(1,u1t.candleWidth - 2));}I1t.fillRect(Math.floor(c1t.pixelFromBar(d1t,N1t.chart) - e1t / 2),Math.floor(D1t),Math.floor(e1t),Math.floor(c1t.pixelFromPrice(u1t[E1t.name + e0j + J1t],N1t,a1t) - D1t));}}c1t.endClip();};O0t.Studies.studyLibrary=O0t.extend(O0t.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:O0t.Studies.displayAlligator,calculateFN:O0t.Studies.calculateAlligator,inputs:{"Show Lines":! !"1","Jaw Period":"13" >> 670158336,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":! !0},outputs:{Jaw:"#0000FF",Teeth:o0j,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:O0t.Studies.displayGator,calculateFN:O0t.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":H0j,"Decreasing Bar":"#FF0000"},centerline:+"0"}});}};I8S=f1t=>{var o1t,V0j,G0j;o1t=typeof _CIQ !== "undefined"?_CIQ:f1t.CIQ;r244.L7b();if(!o1t.Studies){console.error("aroon feature requires first activating studies feature.");}else {V0j="au";V0j+="to";G0j="Aroo";G0j+="n Osci";G0j+="llator";o1t.Studies.calculateAroon=function(B1t,U1t){var P1t,g1t,p1t,j1t,X1t,Q1t,l1t,T0j,u0j,j0j,A0j,i1t,G1t,Y1t,q1t,s1t;P1t=U1t.chart.scrubbed;if(P1t.length < U1t.days + 1){U1t.error=! ![];return;}g1t=0;p1t=0;j1t=null;X1t=null;if(U1t.startFrom > 0){Q1t=P1t[U1t.startFrom - ("1" - 0)]["_state " + U1t.name];if(Q1t){g1t=Q1t[0];p1t=Q1t[1];j1t=Q1t[2];X1t=Q1t[3];}}for(var A1t=U1t.startFrom;A1t < P1t.length;A1t++){T0j="Aroon D";T0j+="o";T0j+="wn ";u0j="A";u0j+="ro";u0j+="on";u0j+=" Up ";j0j="A";j0j+="r";j0j+="oon ";j0j+="Down ";A0j="A";A0j+="ro";A0j+="on U";A0j+="p ";i1t=P1t[A1t];if(i1t.futureTick)break;if(j1t === null){j1t=i1t.High;}if(X1t === null){X1t=i1t.Low;}j1t=Math.max(j1t,i1t.High);if(j1t == i1t.High){g1t=0;}else {g1t++;if(g1t > U1t.days){j1t=i1t.High;g1t=0;for(l1t="1" >> 1736834720;l1t <= U1t.days;l1t++){j1t=Math.max(j1t,P1t[A1t - l1t].High);if(j1t == P1t[A1t - l1t].High){g1t=l1t;}}}}X1t=Math.min(X1t,i1t.Low);if(X1t == i1t.Low){p1t=0;}else {p1t++;if(p1t > U1t.days){X1t=i1t.Low;p1t=0;for(l1t=1;l1t <= U1t.days;l1t++){X1t=Math.min(X1t,P1t[A1t - l1t].Low);if(X1t == P1t[A1t - l1t].Low){p1t=l1t;}}}}G1t=!isNaN(i1t.High);Y1t=!isNaN(i1t.Low);q1t=100 * (1 - g1t / U1t.days);if(G1t){i1t[A0j + U1t.name]=q1t;}s1t=100 * (1 - p1t / U1t.days);if(Y1t){i1t[j0j + U1t.name]=s1t;}if(G1t && Y1t){i1t["Aroon Oscillator " + U1t.name]=i1t[u0j + U1t.name] - i1t[T0j + U1t.name];}i1t["_state " + U1t.name]=[g1t,p1t,j1t,X1t];}};o1t.Studies.studyLibrary=o1t.extend(o1t.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:o1t.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:G0j,calculateFN:o1t.Studies.calculateAroon,outputs:{"Aroon Oscillator":V0j}}});}};d8S=O1t=>{var h1t,k0j,R0j,n0j,d0j,B0j,U0j,L0j,b0j,w0j;h1t=typeof _CIQ !== "undefined"?_CIQ:O1t.CIQ;r244.m7b();if(!h1t.Studies){console.error("atr feature requires first activating studies feature.");}else {k0j="#00F";k0j+="F00";R0j="ATR Trai";R0j+="ling St";R0j+="ops";n0j="aut";n0j+="o";d0j="a";d0j+="uto";B0j="STARC Band";B0j+="s";U0j="a";U0j+="u";U0j+="to";L0j="aut";L0j+="o";b0j="fi";b0j+="e";b0j+="l";b0j+="d";w0j="ATR ";w0j+="Ba";w0j+="n";w0j+="ds";h1t.Studies.calculateATRBands=function(T1t,C1t){var t0j,H1t;t0j="A";t0j+="T";t0j+="R";t0j+=" ";h1t.Studies.calculateStudyATR(T1t,C1t);H1t=C1t.inputs.Field;if(!H1t || H1t == "field"){H1t="Close";}h1t.Studies.calculateGenericEnvelope(T1t,C1t,C1t.inputs.Shift,H1t,t0j + C1t.name);};h1t.Studies.calculateSTARCBands=function(w1t,v1t){var P0j,F0j;P0j="_M";P0j+="A";P0j+=" ";F0j="_";F0j+="M";F0j+="A";h1t.Studies.calculateStudyATR(w1t,v1t);r244.m7b();h1t.Studies.MA("simple",v1t.inputs["MA Period"],"Close",0,F0j,w1t,v1t);h1t.Studies.calculateGenericEnvelope(w1t,v1t,v1t.inputs.Multiplier,P0j + v1t.name,"ATR " + v1t.name);};h1t.Studies.calculateATRStops=function(R2t,K1t){var a6R=r244;var Y0j,V1t,W2t,r0j,k1t,M2t,S1t,Z1t,b2t,t2t,E0j,x0j,i0j;Y0j="All";Y0j+=" S";Y0j+="t";Y0j+="ops ";V1t=K1t.chart.scrubbed;if(!V1t){return;}h1t.Studies.calculateStudyATR(R2t,K1t);W2t=K1t.inputs.HighLow;for(var n1t=Math.max(K1t.startFrom - 1,1);n1t < V1t.length - 1;n1t++){r0j="Se";r0j+="ll";r0j+=" Stops ";k1t=V1t[n1t];a6R.G0X(60);M2t=V1t[a6R.E0X("1",n1t,0)];S1t=k1t["Buy Stops " + K1t.name];if(!S1t){S1t=k1t[r0j + K1t.name];}if(!S1t){S1t=0;}if(!k1t || !M2t)continue;Z1t=k1t.Close;b2t=Z1t;t2t=k1t["ATR " + K1t.name] * K1t.inputs.Multiplier;if(k1t.Close > S1t && M2t.Close > S1t){if(W2t){Z1t=k1t.High;}a6R.G0X(6);b2t=Math.max(S1t,a6R.E0X(t2t,Z1t));}else if(k1t.Close <= S1t && M2t.Close <= S1t){if(W2t){Z1t=k1t.Low;}a6R.d0X(2);b2t=Math.min(S1t,a6R.D0X(t2t,Z1t));}else if(k1t.Close > S1t){if(W2t){Z1t=k1t.High;}a6R.G0X(6);b2t=a6R.D0X(t2t,Z1t);}else if(k1t.Close <= S1t){if(W2t){Z1t=k1t.Low;}a6R.d0X(2);b2t=a6R.D0X(t2t,Z1t);}if(Z1t <= b2t){E0j="Se";E0j+="ll Stops ";x0j="Buy ";x0j+="S";x0j+="tops ";a6R.G0X(2);V1t[a6R.E0X(1,n1t)][x0j + K1t.name]=b2t;a6R.d0X(2);delete V1t[a6R.E0X(1,n1t)][E0j + K1t.name];}else if(Z1t > b2t){i0j="Sell ";i0j+="Stops";i0j+=" ";a6R.G0X(2);V1t[a6R.D0X(1,n1t)][i0j + K1t.name]=b2t;a6R.G0X(2);delete V1t[a6R.E0X(1,n1t)]["Buy Stops " + K1t.name];}a6R.G0X(2);V1t[a6R.D0X(1,n1t)]["All Stops " + K1t.name]=b2t;}K1t.referenceOutput="All Stops";K1t.outputMap={};K1t.outputMap[Y0j + K1t.name]="";};h1t.Studies.studyLibrary=h1t.extend(h1t.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:h1t.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:w0j,overlay:! !1,seriesFN:h1t.Studies.displayChannel,calculateFN:h1t.Studies.calculateATRBands,inputs:{Period:5,Field:b0j,Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":L0j,"ATR Bands Bottom":"auto","ATR Bands Channel":U0j},attributes:{Shift:{min:"0.1" * 1,step:0.1}}},"STARC Bands":{name:B0j,overlay:! ![],seriesFN:h1t.Studies.displayChannel,calculateFN:h1t.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":"5" << 711228416,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":d0j,"STARC Bands Median":"auto","STARC Bands Bottom":n0j},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:R0j,overlay:!"",seriesFN:h1t.Studies.displayPSAR2,calculateFN:h1t.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!"1"},outputs:{"Buy Stops":"#FF0000","Sell Stops":k0j},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};u8S=E2t=>{var r2t;r244.m7b();r2t=typeof _CIQ !== "undefined"?_CIQ:E2t.CIQ;if(!r2t.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {r2t.Studies.calculateAwesomeOscillator=function(d2t,c2t){var v0j,J2t;v0j="h";v0j+="l/2";J2t=c2t.chart.scrubbed;if(J2t.length < 33){c2t.error=! !1;return;}r244.L7b();r2t.Studies.MA("simple",5,"hl/2",0,"_MA5",d2t,c2t);r2t.Studies.MA("simple",34,v0j,0,"_MA34",d2t,c2t);for(var I2t=Math.max(c2t.startFrom,33);I2t < J2t.length;I2t++){if(!J2t[I2t])continue;J2t[I2t][c2t.name + "_hist"]=J2t[I2t]["_MA5 " + c2t.name] - J2t[I2t]["_MA34 " + c2t.name];}c2t.outputMap={};c2t.outputMap[c2t.name + "_hist"]="";};r2t.Studies.displayAwesomeOscillator=function(e2t,u2t,z2t){var X4j,F2t,L2t,o2t,f2t,a2t,U2t,i2t,p4j,Z4j,m2t,D2t;X4j="stx";X4j+="_h";X4j+="ist";X4j+="ogram";F2t=e2t.panels[u2t.panel];L2t=u2t.getContext(e2t);o2t=u2t.getYAxis(e2t);f2t=e2t.pixelFromPrice(+"0",F2t,o2t);r244.L7b();a2t=e2t.layout.candleWidth - 2;if(a2t < 2){a2t=1;}U2t=r2t.Studies.determineColor(u2t.outputs["Increasing Bar"]);i2t=r2t.Studies.determineColor(u2t.outputs["Decreasing Bar"]);e2t.canvasColor(X4j);if(!u2t.underlay){L2t.globalAlpha=1;}L2t.fillStyle="#CCCCCC";e2t.startClip(u2t.panel);if(!u2t.highlight && e2t.highlightedDraggable){L2t.globalAlpha*=0.3;}for(var N2t=0;N2t < z2t.length;N2t++){p4j="_";p4j+="hist";Z4j="_h";Z4j+="ist";m2t=z2t[N2t];r244.G0X(6);D2t=z2t[r244.D0X(1,N2t)];if(!D2t){D2t=e2t.getPreviousBar(e2t.chart,u2t.name + "_hist",N2t);}if(!m2t)continue;if(!D2t);else if(D2t[u2t.name + Z4j] < m2t[u2t.name + "_hist"]){L2t.fillStyle=U2t;}else if(D2t[u2t.name + "_hist"] > m2t[u2t.name + "_hist"]){L2t.fillStyle=i2t;}if(m2t.candleWidth){a2t=Math.floor(Math.max(1,m2t.candleWidth - 2));}L2t.fillRect(Math.floor(e2t.pixelFromBar(N2t,F2t.chart) - a2t / 2),Math.floor(f2t),Math.floor(a2t),Math.floor(e2t.pixelFromPrice(m2t[u2t.name + p4j],F2t,o2t) - f2t));}e2t.endClip();};r2t.Studies.studyLibrary=r2t.extend(r2t.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:r2t.Studies.displayAwesomeOscillator,calculateFN:r2t.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};e8S=X2t=>{var O4j,j2t,S4j;O4j="u";r244.L7b();O4j+="n";O4j+="de";O4j+="fined";j2t=typeof _CIQ !== O4j?_CIQ:X2t.CIQ;if(!j2t.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {S4j="-";S4j+="1 ";S4j+="t";S4j+="o 1";j2t.Studies.calculateBalanceOfPower=function(A2t,l2t){var g2t,a4j,P2t;g2t=l2t.chart.scrubbed;r244.m7b();if(g2t.length < l2t.days + 1){l2t.error=! !{};return;}for(var p2t=l2t.startFrom;p2t < g2t.length;p2t++){a4j="_";a4j+="Rat";a4j+="io ";P2t=g2t[p2t];P2t["_Ratio " + l2t.name]=P2t.Close - P2t.Open;if(P2t.High - P2t.Low !== 0){P2t[a4j + l2t.name]/=P2t.High - P2t.Low;}}j2t.Studies.MA(l2t.inputs["Moving Average Type"],l2t.days,"_Ratio " + l2t.name,0,"Result",A2t,l2t);};j2t.Studies.studyLibrary=j2t.extend(j2t.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:S4j,centerline:0,calculateFN:j2t.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};L8S=G2t=>{var l4j,Q2t,D4j,Q4j,y4j,z4j,I4j,g4j,f4j;l4j="un";l4j+="def";l4j+="ined";Q2t=typeof _CIQ !== l4j?_CIQ:G2t.CIQ;if(!Q2t.Studies){D4j="bollinger feature requires first activa";D4j+="ting";D4j+=" studies feature.";console.error(D4j);}else {Q4j="f";Q4j+="i";Q4j+="el";Q4j+="d";y4j="aut";y4j+="o";z4j="m";z4j+="a";I4j="a";I4j+="u";I4j+="t";I4j+="o";g4j="au";g4j+="to";f4j="Bollinge";f4j+="r Band";f4j+="s";Q2t.Studies.calculateBollinger=function(s2t,Y2t){var q4j,N4j,M4j,c4j,s4j,q2t;q4j="_STD D";q4j+="ev ";N4j="_";N4j+="M";N4j+="A";N4j+=" ";M4j="Stand";M4j+="ard";M4j+=" Deviation";M4j+="s";c4j="Mo";c4j+="ving Average Type";r244.L7b();s4j="_M";s4j+="A";q2t=Y2t.inputs.Field;if(!q2t || q2t == "field"){q2t="Close";}Q2t.Studies.MA(Y2t.inputs["Moving Average Type"],Y2t.days,q2t,0,s4j,s2t,Y2t);Y2t.std=new Q2t.Studies.StudyDescriptor(Y2t.name,"STD Dev",Y2t.panel);Y2t.std.chart=Y2t.chart;Y2t.std.startFrom=Y2t.startFrom;Y2t.std.days=Y2t.days;Y2t.std.inputs={Field:q2t,"Standard Deviations":1,Type:Y2t.inputs[c4j]};Y2t.std.outputs={"_STD Dev":null};Q2t.Studies.calculateStandardDeviation(s2t,Y2t.std);Q2t.Studies.calculateGenericEnvelope(s2t,Y2t,Y2t.inputs[M4j],N4j + Y2t.name,q4j + Y2t.name);if(Y2t.type == "Boll %b"){Y2t.zoneOutput="%b";}};Q2t.Studies.studyLibrary=Q2t.extend(Q2t.Studies.studyLibrary,{"Bollinger Bands":{name:f4j,overlay:! ![],calculateFN:Q2t.Studies.calculateBollinger,seriesFN:Q2t.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":g4j,"Bollinger Bands Median":I4j,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:Q2t.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":z4j},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:y4j,studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:Q2t.Studies.calculateBollinger,inputs:{Period:+"20",Field:Q4j,"Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};N8S=h2t=>{var B2t,C4j;B2t=typeof _CIQ !== "undefined"?_CIQ:h2t.CIQ;if(!B2t.Studies){console.error("cci feature requires first activating studies feature.");}else {C4j="au";C4j+="t";C4j+="o";B2t.Studies.calculateCCI=function(y2t,O2t){var x2t,m4j,C2t,T2t;x2t=O2t.chart.scrubbed;if(x2t.length < O2t.days + 1){O2t.error=!"";return;}B2t.Studies.MA("simple",O2t.days,"hlc/3",0,"MA",y2t,O2t);for(var H2t=Math.max(O2t.startFrom,O2t.days - 1);H2t < x2t.length;H2t++){m4j="R";m4j+="es";m4j+="ult";m4j+=" ";C2t=x2t[H2t];if(!C2t)continue;T2t=0;for(var v2t="0" & 2147483647;v2t < O2t.days;v2t++){T2t+=Math.abs(x2t[H2t - v2t]["hlc/3"] - C2t["MA " + O2t.name]);}T2t/=O2t.days;if(Math.abs(T2t) < 0.00000001){C2t[m4j + O2t.name]=0;}else {C2t["Result " + O2t.name]=(C2t["hlc/3"] - C2t["MA " + O2t.name]) / (0.015 * T2t);}}};B2t.Studies.studyLibrary=B2t.extend(B2t.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:B2t.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:C4j}},attributes:{Period:{min:2}}}});}};m8S=K2t=>{var W4j,w2t,K4j;W4j="und";W4j+="ef";W4j+="ined";w2t=typeof _CIQ !== W4j?_CIQ:K2t.CIQ;if(!w2t.Studies){K4j="ce";K4j+="nterOfGravity feature requires first activating studies feature.";console.error(K4j);}else {w2t.Studies.calculateCenterOfGravity=function(M3t,k2t){var P6R=r244;var J4j,S2t,Z2t,h4j,W3t,b3t,t3t;J4j="fi";J4j+="e";J4j+="ld";S2t=k2t.chart.scrubbed;if(S2t.length < k2t.days){k2t.error=!0;return;}P6R.L7b();Z2t=k2t.inputs.Field;if(!Z2t || Z2t == J4j){Z2t="Close";}for(var V2t=Math.max(k2t.startFrom,k2t.days - 1);V2t < S2t.length;V2t++){h4j="R";h4j+="esul";h4j+="t ";W3t=0;P6R.G0X(12);b3t=P6R.E0X(0,"0");for(var n2t=0;n2t < k2t.days;n2t++){P6R.d0X(6);t3t=S2t[P6R.E0X(n2t,V2t)][Z2t];P6R.G0X(61);W3t-=P6R.D0X(t3t,1,n2t);b3t+=t3t;}if(b3t){P6R.G0X(10);S2t[V2t][h4j + k2t.name]=P6R.D0X(b3t,W3t);}}};w2t.Studies.studyLibrary=w2t.extend(w2t.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:w2t.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};a8S=r3t=>{var R3t,T4j;R3t=typeof _CIQ !== "undefined"?_CIQ:r3t.CIQ;if(!R3t.Studies){console.error("chaikin feature requires first activating studies feature.");}else {T4j="m";T4j+="a";R3t.Studies.calculateChaikinMoneyFlow=function(e3t,J3t){var f6R=r244;var E3t,X3j,Z3j,p3j,d3t,I3t,u3t,A4j,e4j,H4j,o4j;E3t=J3t.chart.scrubbed;if(E3t.length < J3t.days){X3j=1849456668;Z3j=55454271;p3j=2;for(var a3j="1" & 2147483647;f6R.d5h(a3j.toString(),a3j.toString().length,19400) !== X3j;a3j++){J3t.error=! !1;return;}if(f6R.n5h(p3j.toString(),p3j.toString().length,"30833" * 1) !== Z3j){J3t.error=!{};return;}}d3t=0;I3t=0;u3t=E3t[J3t.startFrom - 1];if(u3t){if(u3t["_sumMF " + J3t.name]){d3t=u3t["_sumMF " + J3t.name];}if(u3t["_sumV " + J3t.name]){I3t=u3t["_sumV " + J3t.name];}}for(var c3t=J3t.startFrom;c3t < E3t.length;c3t++){A4j="_su";A4j+="m";A4j+="V";A4j+=" ";e4j="_M";e4j+="F";e4j+="V";e4j+=" ";if(E3t[c3t].High == E3t[c3t].Low){E3t[c3t]["_MFV " + J3t.name]=0;}else {E3t[c3t]["_MFV " + J3t.name]=E3t[c3t].Volume * (2 * E3t[c3t].Close - E3t[c3t].High - E3t[c3t].Low) / (E3t[c3t].High - E3t[c3t].Low);}d3t+=E3t[c3t][e4j + J3t.name];I3t+=E3t[c3t].Volume;if(c3t > J3t.days - 1){H4j="Re";H4j+="sul";H4j+="t ";o4j="_MF";o4j+="V ";d3t-=E3t[c3t - J3t.days][o4j + J3t.name];I3t-=E3t[c3t - J3t.days].Volume;if(I3t){f6R.G0X(10);E3t[c3t][H4j + J3t.name]=f6R.D0X(I3t,d3t);}}E3t[c3t]["_sumMF " + J3t.name]=d3t;E3t[c3t][A4j + J3t.name]=I3t;}};R3t.Studies.calculateChaikinVolatility=function(D3t,L3t){var s6R=r244;var m3t,N3t,E6v,i6v,Y6v,j4j,a3t,u4j;m3t=L3t.chart.scrubbed;if(m3t.length < L3t.days){L3t.error=! !1;return;}for(N3t=L3t.startFrom;N3t < m3t.length;N3t++){if(m3t[N3t].futureTick)break;m3t[N3t]["_High-Low " + L3t.name]=m3t[N3t].High - m3t[N3t].Low;}s6R.G0X(0);E6v=s6R.D0X("1625360162",1610614528);i6v=-2067000644;Y6v=2;for(var b6v=1;s6R.n5h(b6v.toString(),b6v.toString().length,3073) !== E6v;b6v++){j4j="_Hi";j4j+="gh-";j4j+="L";j4j+="ow ";R3t.Studies.MA(L3t.inputs["Moving Average Type"],L3t.days,j4j + L3t.name,+"0","_MA",D3t,L3t);a3t=L3t.inputs["Rate Of Change"];if(!a3t){a3t=L3t.days;}Y6v+=2;}if(s6R.n5h(Y6v.toString(),Y6v.toString().length,55410) !== i6v){u4j="Rate ";u4j+="Of ";u4j+="Change";R3t.Studies.MA(L3t.inputs["Moving Average Type"],L3t.days,u4j / L3t.name,3,"Rate Of Change",D3t,L3t);a3t=L3t.inputs["Moving Average Type"];if(+a3t){a3t=L3t.days;}}for(N3t=Math.max(L3t.startFrom,a3t);N3t < m3t.length;N3t++){if(!m3t[N3t - a3t]["_MA " + L3t.name])continue;if(m3t[N3t].futureTick)break;m3t[N3t]["Result " + L3t.name]=100 * (m3t[N3t]["_MA " + L3t.name] / m3t[N3t - a3t]["_MA " + L3t.name] - 1);}};R3t.Studies.studyLibrary=R3t.extend(R3t.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:R3t.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:R3t.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":T4j}}});}};D8S=z3t=>{r244.m7b();var F3t,x4j,r4j;F3t=typeof _CIQ !== "undefined"?_CIQ:z3t.CIQ;if(!F3t.Studies){console.error("chande feature requires first activating studies feature.");}else {x4j="a";x4j+="u";x4j+="t";x4j+="o";r4j="fie";r4j+="ld";F3t.Studies.prettify.variable="vma";F3t.Studies.movingAverage.conversions.vma="variable";F3t.Studies.movingAverage.translations.variable="Variable";F3t.Studies.movingAverage.typeMap.vma="Variable";F3t.Studies.movingAverage.typeMap.variable="Variable";F3t.Studies.calculateChandeForecast=function(X3t,o3t){var G4j,f3t,U3t,j3t;G4j="fi";G4j+="e";G4j+="ld";f3t=o3t.chart.scrubbed;if(f3t.length < o3t.days + 1){o3t.error=! ![];return;}U3t=o3t.inputs.Field;if(!U3t || U3t == G4j){U3t="Close";}F3t.Studies.MA("time series",o3t.days,U3t,0,"MA",X3t,o3t);for(var i3t=Math.max(+"1",o3t.startFrom);i3t < f3t.length;i3t++){j3t=f3t[i3t][U3t];if(j3t && typeof j3t == "object"){j3t=j3t[o3t.subField];}f3t[i3t]["Result " + o3t.name]=("100" >> 1377143744) * (1 - f3t[i3t]["MA " + o3t.name] / j3t);}};F3t.Studies.calculateChandeMomentum=function(C3t,l3t){var k6R=r244;var G3t,p3t,A3t,Y3t,q3t,s3t,t4j,V4j,Q3t,g3t,B3t,h3t;G3t=l3t.name;for(var O3t in l3t.outputs){k6R.d0X(44);G3t=k6R.E0X(G3t,O3t,4305 != (2210,6864)?" ":(2440,+"3032") === (509.98,677.01)?![]:(5.56e+3,7.36e+3));}p3t=l3t.chart.scrubbed;if(p3t.length < l3t.days + ("1" | 0)){l3t.error=! ![];return;}A3t=l3t.inputs.Field;if(!A3t || A3t == "field"){A3t="Close";}k6R.G0X(0);Y3t=k6R.D0X("0",0);k6R.d0X(0);k6R.L7b();q3t=k6R.E0X("0",0);s3t=[];for(var P3t=l3t.startFrom - l3t.days + 1;P3t < p3t.length;P3t++){t4j="o";t4j+="bje";t4j+="ct";V4j="obj";V4j+="e";V4j+="ct";if(P3t < "1" << 1751007040)continue;Q3t=p3t[P3t][A3t];k6R.G0X(6);g3t=p3t[k6R.E0X(1,P3t)][A3t];if(Q3t && typeof Q3t == V4j){Q3t=Q3t.Close;}if(g3t && typeof g3t == t4j){g3t=g3t.Close;}if(g3t === undefined)continue;k6R.G0X(6);B3t=k6R.E0X(g3t,Q3t);s3t.push(B3t);Y3t+=B3t;q3t+=Math.abs(B3t);if(s3t.length == l3t.days){k6R.G0X(59);p3t[P3t][G3t]=k6R.D0X(100,Y3t,q3t);h3t=s3t.shift();Y3t-=h3t;q3t-=Math.abs(h3t);}}};F3t.Studies.calculateMovingAverageVariable=function(r7t,x3t){var c6R=r244;var P4j,F4j,J7t,y3t,t7t,K3t,w3t,k3t,v3t,H3t,T3t,S3t,b7t,M7t,W7t,Z3t,c7t,V3t,R7t,n3t;P4j="c";P4j+="m";P4j+="o";F4j="f";F4j+="ie";F4j+="l";F4j+="d";J7t=x3t.inputs.Type;y3t=x3t.chart.scrubbed;t7t=2 / (x3t.days + 1);K3t=null;w3t=x3t.name;for(var E7t in x3t.outputs){c6R.d0X(44);w3t=c6R.E0X(w3t,E7t," ");}k3t=x3t.inputs.Field;if(!k3t || k3t == F4j){k3t="Close";}x3t.cmo=new F3t.Studies.StudyDescriptor(x3t.name,P4j,x3t.panel);x3t.cmo.chart=x3t.chart;x3t.cmo.days=9;x3t.cmo.inputs={Field:k3t};x3t.cmo.startFrom=x3t.startFrom;x3t.cmo.outputs={_CMO:null};F3t.Studies.calculateChandeMomentum(r7t,x3t.cmo);v3t=parseInt(x3t.inputs.Offset,"10" >> 746844704);if(isNaN(v3t)){v3t=0;}b7t=x3t.startFrom;M7t=v3t;for(H3t=x3t.startFrom - 1;H3t >= 0;H3t--){T3t=y3t[H3t][w3t];if(!T3t && T3t !== 0)continue;if(K3t === null){K3t=T3t;}if(M7t <= 0)break;M7t--;b7t=H3t;}if(K3t === null){K3t=b7t=0;}W7t=[];for(H3t=b7t;H3t < y3t.length;H3t++){Z3t=y3t[H3t];T3t=Z3t[k3t];if(T3t && typeof T3t == "object"){T3t=T3t[x3t.subField];}c7t=H3t + v3t >= 0 && H3t + v3t < y3t.length;V3t=c7t?y3t[H3t + v3t]:null;if(!T3t && T3t !== 0){if(V3t){V3t[w3t]=null;}else if(H3t + v3t >= y3t.length){S3t={};S3t[w3t]=null;W7t.push(S3t);}continue;}if(!Z3t["_CMO " + x3t.name] && Z3t["_CMO " + x3t.name] !== 0)continue;R7t=Math.abs(Z3t["_CMO " + x3t.name]) / +"100";c6R.d0X(62);n3t=c6R.E0X(t7t,K3t,t7t,R7t,"1",T3t,R7t);K3t=n3t;if(H3t < x3t.days){n3t=null;}if(V3t){V3t[w3t]=n3t;}else if(H3t + v3t >= y3t.length){S3t={};S3t[w3t]=n3t;W7t.push(S3t);}}x3t.appendFutureTicks(r7t,W7t);};F3t.Studies.studyLibrary=F3t.extend(F3t.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:F3t.Studies.calculateChandeForecast,inputs:{Period:14,Field:r4j}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:F3t.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:x4j}}}});}};F8S=d7t=>{var E4j,I7t,Y4j;E4j="u";E4j+="nd";E4j+="efined";I7t=typeof _CIQ !== E4j?_CIQ:d7t.CIQ;if(!I7t.Studies){console.error("choppiness feature requires first activating studies feature.");}else {Y4j="a";Y4j+="u";Y4j+="to";I7t.Studies.calculateChoppiness=function(a7t,u7t){r244.L7b();var L7t,i4j,e7t,m7t;I7t.Studies.calculateStudyATR(a7t,u7t);function D7t(U7t,f7t){var z7t,o7t;z7t=Number.MAX_VALUE * -1;r244.L7b();o7t=Number.MAX_VALUE;for(var F7t=f7t - U7t + 1;F7t <= f7t;F7t++){if(F7t < 0)continue;z7t=Math.max(z7t,L7t[F7t].High);o7t=Math.min(o7t,L7t[F7t].Low);}return [o7t,z7t];}L7t=u7t.chart.scrubbed;if(L7t.length < u7t.days + 1){u7t.error=!0;return;}for(var N7t=Math.max(u7t.startFrom,u7t.days);N7t < L7t.length;N7t++){i4j="Sum T";i4j+="rue Rang";i4j+="e ";e7t=L7t[N7t];if(!e7t)continue;if(e7t.futureTick)break;m7t=D7t(u7t.days,N7t);if(e7t[i4j + u7t.name]){e7t["Result " + u7t.name]=100 * Math.log(e7t["Sum True Range " + u7t.name] / Math.max(0.000001,m7t[1] - m7t[0])) / Math.log(u7t.days);}else if(!isNaN(e7t)){e7t["Result " + u7t.name]=0;}}};I7t.Studies.studyLibrary=I7t.extend(I7t.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:I7t.Studies.calculateChoppiness,centerline:+"50",parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:Y4j,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};z8S=j7t=>{var i7t,w4j,l5j,S5j,a5j;i7t=typeof _CIQ !== "undefined"?_CIQ:j7t.CIQ;if(!i7t.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!i7t.Studies.initPriceRelative){w4j="comparisonSt";w4j+="udies feature requires first";w4j+=" activating priceRelative feat";w4j+="ure.";console.error(w4j);}else {l5j="S";l5j+="P";l5j+="Y";S5j="Performance Ind";S5j+="e";S5j+="x";a5j="Correlation Coeffi";a5j+="ci";a5j+="ent";i7t.Studies.calculateCorrelationCoefficient=function(C7t,X7t){var P7t,p7t,A7t,b4j,Q7t,G7t,q7t,s7t,B7t,h7t,O7t,B4j,L4j,g7t,U4j,d4j,H7t,T7t,v7t,y7t;P7t=X7t.chart.scrubbed;p7t=X7t.days;if(P7t.length < p7t + 1){X7t.error=! !{};return;}X7t.compare=X7t.inputs["Compare To"];if(!X7t.compare){X7t.compare=[];X7t.outputs={};X7t.outputMap={};for(var x7t in C7t.chart.series){A7t=C7t.chart.series[x7t];if(A7t.parameters.color){b4j="Res";b4j+="ul";b4j+="t";b4j+=" ";X7t.compare.push(A7t.display);X7t.outputs[b4j + A7t.display]=A7t.parameters.color;X7t.outputMap["Result " + A7t.display + (6200 == 922.72?(6579,8084) !== (3090,7981)?(376.28,8660) == 467.52?"M":("0x208d" << 1903475552,"v"):(905.34,! !1):" ") + X7t.name]="Result " + A7t.display;}}}else {X7t.compare=[X7t.compare];}if(!X7t.compare.length){X7t.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var Y7t=0;Y7t < X7t.compare.length;Y7t++){Q7t=0;G7t=0;q7t=+"0";s7t=0;B7t=0;h7t=X7t.compare[Y7t];O7t=0;for(var l7t=X7t.startFrom - p7t;l7t < P7t.length;l7t++){B4j="_temps";B4j+=" ";L4j="o";L4j+="bj";L4j+="ect";if(!P7t[l7t])continue;g7t=P7t[l7t][h7t];if(g7t && typeof g7t == L4j){g7t=g7t.Close;}if(!g7t && g7t !== 0){U4j="_te";U4j+="mps ";if(l7t > 0 && P7t[l7t - 1] && P7t[l7t - 1]["_temps " + X7t.name] && P7t[l7t - 1]["_temps " + X7t.name].c){g7t=P7t[l7t - +"1"][U4j + X7t.name].c;}else {g7t=0;}}if(g7t && typeof g7t == "object"){g7t=g7t.Close;}P7t[l7t]["_temps " + X7t.name]={};Q7t+=P7t[l7t]["_temps " + X7t.name].b=P7t[l7t].Close;G7t+=P7t[l7t][B4j + X7t.name].c=g7t;q7t+=P7t[l7t]["_temps " + X7t.name].b2=Math.pow(P7t[l7t].Close,2);s7t+=P7t[l7t]["_temps " + X7t.name].c2=Math.pow(g7t,2);B7t+=P7t[l7t]["_temps " + X7t.name].bc=P7t[l7t].Close * g7t;if(O7t >= p7t){d4j="_temps";d4j+=" ";Q7t-=P7t[l7t - p7t][d4j + X7t.name].b;G7t-=P7t[l7t - p7t]["_temps " + X7t.name].c;q7t-=P7t[l7t - p7t]["_temps " + X7t.name].b2;s7t-=P7t[l7t - p7t]["_temps " + X7t.name].c2;B7t-=P7t[l7t - p7t]["_temps " + X7t.name].bc;H7t=q7t / p7t - Math.pow(Q7t / p7t,2);T7t=s7t / p7t - Math.pow(G7t / p7t,"2" >> 1341729856);v7t=B7t / p7t - Q7t * G7t / Math.pow(p7t,2);y7t=v7t / Math.sqrt(H7t * T7t);P7t[l7t]["Result " + h7t + " " + X7t.name]=y7t;}O7t++;}}};i7t.Studies.calculatePerformance=function(V7t,w7t){var R4j,n4j,K7t,Z7t,k4j,S7t;R4j="_";R4j+="MA";R4j+=" Bas";R4j+="e";n4j="Compar";n4j+="ison S";n4j+="ymbol";K7t=w7t.chart.scrubbed;Z7t=w7t.inputs[n4j].toUpperCase();if(!Z7t){Z7t=w7t.study.inputs["Comparison Symbol"];}if(!w7t.days){w7t.days=w7t.study.inputs.Period;}if(K7t.length < w7t.days + ("1" - 0)){w7t.error=! !1;return;}i7t.Studies.MA("ma",w7t.days,"Close",0,R4j,V7t,w7t);i7t.Studies.MA("ma",w7t.days,Z7t,+"0","_MA Comp",V7t,w7t);for(var k7t=w7t.startFrom;k7t < K7t.length;k7t++){k4j="Re";k4j+="su";k4j+="lt ";S7t=K7t[k7t][Z7t];if(S7t && (S7t.Close || S7t.Close === 0)){S7t=S7t.Close;}K7t[k7t][k4j + w7t.name]=K7t[k7t].Close / S7t * (K7t[k7t]["_MA Comp " + w7t.name] / K7t[k7t]["_MA Base " + w7t.name]);}};i7t.Studies.calculateBeta=function(r5t,n7t){var G6R=r244;var v4j,W5t,R5t,t5t,M5t,p5j,Z5j,X5j,O5j;v4j="C";G6R.L7b();v4j+="omparison Symbo";v4j+="l";W5t=n7t.chart.scrubbed;R5t=n7t.inputs[v4j].toUpperCase();if(!R5t){R5t=n7t.study.inputs["Comparison Symbol"];}if(!n7t.days){n7t.days=n7t.study.inputs.Period;}if(W5t.length < n7t.days + 1){n7t.error=!0;return;}for(var b5t=Math.max(n7t.startFrom,1);b5t < W5t.length;b5t++){W5t[b5t]["_BaseChange " + n7t.name]=W5t[b5t].Close / W5t[b5t - 1].Close - 1;t5t=W5t[b5t][R5t];if(t5t && (t5t.Close || t5t.Close === 0)){t5t=t5t.Close;}G6R.d0X(6);M5t=W5t[G6R.D0X(1,b5t)][R5t];if(M5t && (M5t.Close || M5t.Close === +"0")){M5t=M5t.Close;}G6R.d0X(63);W5t[b5t]["_CompChange " + n7t.name]=G6R.D0X(1,M5t,t5t);}i7t.Studies.MA("ma",n7t.days,"_BaseChange " + n7t.name,"0" - 0,"_MA Base",r5t,n7t);i7t.Studies.MA("ma",n7t.days,"_CompChange " + n7t.name,0,"_MA Comp",r5t,n7t);for(b5t=Math.max(n7t.startFrom,n7t.days);b5t < W5t.length;b5t++){p5j="_MA ";p5j+="Comp ";Z5j="_Co";Z5j+="mpChange";Z5j+=" ";X5j="_B";X5j+="aseCh";X5j+="a";X5j+="nge ";W5t[b5t]["_COVARn " + n7t.name]=(W5t[b5t][X5j + n7t.name] - W5t[b5t]["_MA Base " + n7t.name]) * (W5t[b5t][Z5j + n7t.name] - W5t[b5t][p5j + n7t.name]);W5t[b5t]["_VARn " + n7t.name]=Math.pow(W5t[b5t]["_CompChange " + n7t.name] - W5t[b5t]["_MA Comp " + n7t.name],2);}i7t.Studies.MA("ma",n7t.days,"_COVARn " + n7t.name,0,"_COVAR",r5t,n7t);i7t.Studies.MA("ma",n7t.days,"_VARn " + n7t.name,0,"_VAR",r5t,n7t);for(b5t=Math.max(n7t.startFrom,n7t.days * ("2" >> 1079998432) - 1);b5t < W5t.length;b5t++){O5j="Re";O5j+="sult";O5j+=" ";W5t[b5t][O5j + n7t.name]=W5t[b5t]["_COVAR " + n7t.name] / W5t[b5t]["_VAR " + n7t.name];}};i7t.Studies.studyLibrary=i7t.extend(i7t.Studies.studyLibrary,{correl:{name:a5j,range:"-1 to 1",calculateFN:i7t.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:S5j,centerline:1,initializeFN:i7t.Studies.initPriceRelative,seriesFN:i7t.Studies.displayVsComparisonSymbol,calculateFN:i7t.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":l5j},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:i7t.Studies.initPriceRelative,seriesFN:i7t.Studies.displayVsComparisonSymbol,calculateFN:i7t.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !{}}});}};o8S=c5t=>{var D5j,E5t;D5j="u";D5j+="ndefine";D5j+="d";E5t=typeof _CIQ !== D5j?_CIQ:c5t.CIQ;if(!E5t.Studies){console.error("coppock feature requires first activating studies feature.");}else {E5t.Studies.calculateCoppock=function(D5t,J5t){var M6R=r244;var c5j,s5j,I5t,d5t,e5t,L5t,N5t,m5t,a5t,M5j;c5j="Sho";c5j+="rt";c5j+=" RoC";s5j="C";s5j+="l";s5j+="os";s5j+="e";I5t=J5t.chart.scrubbed;d5t=J5t.inputs.Field;if(!d5t || d5t == "field"){d5t=s5j;}e5t=parseInt(J5t.inputs["Long RoC"],10);if(!e5t){e5t=+"14";}L5t=parseInt(J5t.inputs[c5j],10);if(!L5t){L5t=11;}N5t=J5t.days;if(!N5t){N5t=+"10";}if(e5t < L5t){return;}if(I5t.length < Math.max(L5t,e5t,N5t) + 1){J5t.error=! !"1";return;}for(var u5t=Math.max(J5t.startFrom,e5t);u5t < I5t.length;u5t++){M6R.G0X(6);m5t=I5t[M6R.E0X(L5t,u5t)][d5t];M6R.G0X(6);a5t=I5t[M6R.D0X(e5t,u5t)][d5t];if(m5t && a5t){M5j="_Su";M5j+="m ";I5t[u5t][M5j + J5t.name]=100 * (I5t[u5t][d5t] / m5t + I5t[u5t][d5t] / a5t - ("2" >> 1976110752));}}E5t.Studies.MA("weighted",N5t,"_Sum " + J5t.name,0,"Result",D5t,J5t);};E5t.Studies.studyLibrary=E5t.extend(E5t.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:E5t.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":+"14"}}});}};f8S=z5t=>{var K3b=r244;K3b.m7b();var F5t,d1j,n1j,R1j,G5j,T5j,u5j;F5t=typeof _CIQ !== "undefined"?_CIQ:z5t.CIQ;if(!F5t.Studies){K3b.d0X(22);d1j=K3b.D0X("514904104",1661261056);n1j=-1652691573;R1j=+"2";for(var v1j=1;K3b.n5h(v1j.toString(),v1j.toString().length,31416) !== d1j;v1j++){console.error("darvasBox feature requires first activating studies feature.");R1j+=2;}if(K3b.n5h(R1j.toString(),R1j.toString().length,78981) !== n1j){console.error("");}}else {G5j="au";G5j+="t";G5j+="o";T5j="#";T5j+="69";T5j+="91";T5j+="58";u5j="#";u5j+="5F";u5j+="7C";u5j+="B8";F5t.Studies.calculateDarvas=function(C5t,P5t){var g5j,f5j,N5j,o5t,l5t,s5t,q5j,h5t,g5t,i5t,X5t,Q5t,p5t,G5t,A5t,U5t,j5t,Y5t,I5j,f5t,Q5j,z5j,y5j,m5j,W5j,C5j,h5j,J5j,K5j,o5j,e5j;g5j="A";g5j+="D";g5j+="V";f5j="A";f5j+="TH";N5j="AT";N5j+="H";N5j+=" Lookback Period";o5t=P5t.chart.scrubbed;l5t=0;s5t=parseInt(P5t.inputs[N5j],10);if(P5t.inputs["Volume Spike"]){q5j="sim";q5j+="pl";q5j+="e";K3b.d0X(16);F5t.Studies.MA(q5j,s5t,"Volume",K3b.E0X("0",1),"ADV",C5t,P5t);}h5t=parseFloat(P5t.inputs["Volume % of Avg"]) / 100;g5t="none";i5t={};X5t=null;Q5t=null;p5t=null;G5t=parseFloat(P5t.inputs["Level Offset"]);A5t=!"1";if(A5t){console.log("*****************");}j5t={};["Darvas","Ghost","Profit","Loss",f5j,g5j,"Spike"].forEach(function(x5t){K3b.L7b();var U1v,B1v,d1v;U1v=-1435564755;B1v=2000778132;d1v=2;for(var R1v=1;K3b.d5h(R1v.toString(),R1v.toString().length,65122) !== U1v;R1v++){j5t[x5t]=x5t + (8300 === 1860?"M":" ") + P5t.name;K3b.G0X(0);d1v+=K3b.D0X("2",0);}if(K3b.n5h(d1v.toString(),d1v.toString().length,67339) !== B1v){j5t[x5t]=(x5t - (5690 != 2178?"M":" ")) * P5t.name;}});for(U5t=P5t.startFrom - ("1" ^ 0);U5t > 0;U5t--){Y5t=o5t[U5t];if(Y5t[j5t.Darvas] || Y5t[j5t.Ghost]){for(var O5t in j5t){Y5t[O5t]=null;}}else {l5t=Y5t[j5t.ATH] || 0;Q5t=Y5t[j5t.Profit];p5t=Y5t[j5t.Loss];break;}}for(U5t;U5t < o5t.length;U5t++){I5j="Pr";I5j+="ice M";I5j+="inimum";f5t=o5t[U5t];if(!f5t)continue;if(parseFloat(P5t.inputs[I5j]) <= o5t[l5t].Close){Q5j="h";Q5j+="i";Q5j+="g";Q5j+="h";if(X5t && (!X5t.End || U5t == X5t.End + 1)){if(o5t[U5t - 1].Close > i5t.High){i5t={State:1,High:2 * i5t.High - i5t.Low,Low:i5t.High,Start:U5t,End:2 * i5t.End - i5t.Start + 1};}else {X5t=null;;}if(X5t){f5t[j5t.Ghost]=F5t.clone(i5t);if(A5t){console.log("Ghost begin:" + f5t.DT);}i5t.State=+"0";if(o5t[i5t.End]){z5j="Gh";z5j+="ost e";z5j+="nd:";o5t[i5t.End][j5t.Ghost]=F5t.clone(i5t);if(A5t){console.log(z5j + o5t[i5t.End].DT);}}X5t={Start:i5t.Start,End:i5t.End};Q5t=i5t.High + G5t;if(!p5t || p5t < i5t.Low - G5t){p5t=i5t.Low - G5t;}}}f5t[j5t.Profit]=Q5t;f5t[j5t.Loss]=p5t;if(f5t.Close >= Q5t){Q5t=null;}else if(P5t.inputs["Exit Field"] == "high/low" && f5t.High >= Q5t){Q5t=null;}if(g5t == "none"){if(U5t == l5t + +"3"){if(!o5t[l5t + 2][j5t.Darvas] && !o5t[l5t + 1][j5t.Darvas] && !o5t[l5t][j5t.Darvas] && o5t[l5t].High > f5t.High){y5j="h";y5j+="i";y5j+="g";y5j+="h";g5t=y5j;;}}}if(g5t == Q5j){if(f5t.High > o5t[l5t].High){m5j="n";m5j+="o";m5j+="ne";g5t=m5j;}else if(o5t[U5t - 3].Low < o5t[U5t - 2].Low && o5t[U5t - 3].Low < o5t[U5t - 1].Low && o5t[U5t - 3].Low < f5t.Low){W5j="D";W5j+="arvas established:";C5j="dar";C5j+="vas";i5t={State:1,High:o5t[l5t].High,Low:o5t[U5t - 3].Low,Start:l5t};o5t[l5t][j5t.Darvas]=F5t.clone(i5t);g5t=C5j;if(A5t){console.log("Darvas begin:" + o5t[l5t].DT);}if(A5t){console.log(W5j + f5t.DT);}if(X5t){if(X5t.End > U5t && o5t[X5t.Start]){f5t[j5t.Ghost]=F5t.clone(o5t[X5t.Start][j5t.Ghost]);f5t[j5t.Ghost].End=U5t;if(o5t[X5t.End]){delete o5t[X5t.End][j5t.Ghost];if(A5t){console.log("Ghost End removed:" + o5t[X5t.End].DT);}}}f5t[j5t.Ghost].State=0;o5t[X5t.Start][j5t.Ghost].End=U5t;if(A5t){console.log("Ghost end:" + f5t.DT);}X5t=null;}Q5t=i5t.High + G5t;if(!p5t || p5t < i5t.Low - G5t){p5t=i5t.Low - G5t;}}}if(g5t == "darvas"){h5j="n";h5j+="o";h5j+="n";h5j+="e";J5j="high";J5j+="/low";K5j="Exit Fiel";K5j+="d";if(f5t.Close > i5t.High){X5t={};}else if(P5t.inputs["Exit Field"] == "high/low" && f5t.High > i5t.High){X5t={};}else if(f5t.Close < i5t.Low){g5t="none";}else if(P5t.inputs[K5j] == J5j && f5t.Low < i5t.Low){g5t="none";}if(X5t){g5t="none";}else if(g5t == "none"){Q5t=null;p5t=null;}if(!P5t.inputs["Ghost Boxes"]){X5t=null;}if(g5t == h5j){for(var B5t=i5t.Start + 1;B5t < U5t;B5t++){o5t[B5t][j5t.Darvas]=F5t.clone(i5t);}i5t.State=0;i5t.End=U5t;f5t[j5t.Darvas]=F5t.clone(i5t);if(A5t){console.log("Darvas end:" + f5t.DT);}f5t[j5t.ATH]=l5t;continue;}}if(p5t){if(f5t.Close < i5t.Low || P5t.inputs["Exit Field"] == "high/low" && f5t.Low < i5t.Low){o5j="no";o5j+="n";o5j+="e";e5j="d";e5j+="arv";e5j+="as";if(g5t == e5j){g5t=o5j;}if(f5t.Close < p5t || P5t.inputs["Exit Field"] == "high/low" && f5t.Low < p5t){Q5t=null;p5t=null;}if(X5t){if(X5t.End > U5t && o5t[X5t.Start]){f5t[j5t.Ghost]=F5t.clone(o5t[X5t.Start][j5t.Ghost]);f5t[j5t.Ghost].End=U5t;if(o5t[X5t.End]){delete o5t[X5t.End][j5t.Ghost];if(A5t){console.log("Ghost End removed:" + o5t[X5t.End].DT);}}}f5t[j5t.Ghost].State=0;o5t[X5t.Start][j5t.Ghost].End=U5t;if(A5t){console.log("Ghost end:" + f5t.DT);}X5t=null;}}}}if(f5t.High >= o5t[l5t].High){l5t=U5t;if(A5t){console.log("All Time High:" + f5t.DT);}}if(U5t < 3 || f5t.High >= o5t[U5t - ("1" & 2147483647)].High && f5t.High >= o5t[U5t - 2].High && f5t.High >= o5t[U5t - 3].High){if(U5t - l5t >= s5t){l5t=U5t;for(var q5t="0" << 1098372608;q5t < s5t;q5t++){if(U5t - q5t < ("0" ^ 0))break;if(o5t[U5t - q5t].High > o5t[l5t].High){K3b.d0X(6);l5t=K3b.E0X(q5t,U5t);}}if(A5t){console.log("All Time High:" + f5t.DT);}}}if(P5t.inputs["Volume Spike"] && U5t > s5t && U5t == l5t){if(f5t[j5t.ADV] * h5t < f5t.Volume){f5t[j5t.Spike]=1;if(A5t){console.log("Volume Spike:" + f5t.DT);}}}f5t[j5t.ATH]=l5t;}};F5t.Studies.displayDarvas=function(T5t,w5t,k5t){var A5j,H5j,c6t,n5t,M6t,K5t,H5t,v5t,y5t,L6t,b6t,S5t,u6t,N6t,D6t,m6t,Z5t,V5t,W6t,J6t,t6t,E6t,R6t,d6t,r6t,I6t,F6t,e6t,j5j,z6t,S1v,l1v,D1v,a6t;A5j="a";A5j+="u";A5j+="t";A5j+="o";H5j="a";H5j+="u";H5j+="t";H5j+="o";c6t=F5t.Studies.determineColor(w5t.outputs.Levels);if(!c6t || c6t == H5j || F5t.isTransparent(c6t)){c6t=T5t.defaultColor;}n5t=F5t.Studies.determineColor(w5t.outputs.Darvas);if(!n5t || n5t == A5j || F5t.isTransparent(n5t)){n5t=T5t.defaultColor;}M6t=F5t.Studies.determineColor(w5t.outputs.Ghost);if(!M6t || M6t == "auto" || F5t.isTransparent(M6t)){M6t=T5t.defaultColor;}K5t=T5t.panels[w5t.panel];H5t=w5t.getContext(T5t);S5t=T5t.layout.candleWidth - ("2" & 2147483647);if(S5t < 2){S5t=1;}T5t.startClip(w5t.panel);if(w5t.inputs["Stop Levels"]){if(H5t.setLineDash){H5t.setLineDash([2,2]);}H5t.lineWidth=2;H5t.strokeStyle=c6t;H5t.beginPath();for(v5t=0;v5t < k5t.length;v5t++){y5t=k5t[v5t];K3b.G0X(6);u6t=k5t[K3b.E0X(1,v5t)];if(!y5t)continue;b6t=y5t["Loss " + w5t.name]?Math.floor(T5t.pixelFromPrice(y5t["Loss " + w5t.name],K5t)):null;N6t=u6t && u6t["Loss " + w5t.name]?Math.floor(T5t.pixelFromPrice(u6t["Loss " + w5t.name],K5t)):null;if(b6t){if(y5t.candleWidth){S5t=Math.floor(Math.max("1" | 1,y5t.candleWidth));}D6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) + S5t / 2);m6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) - S5t / 2);if(N6t && N6t >= b6t){H5t.lineTo(m6t,b6t);}else if(v5t === 0){H5t.moveTo(T5t.chart.left,b6t);}else {H5t.moveTo(m6t,b6t);}H5t.lineTo(D6t,b6t);}}H5t.stroke();if(H5t.setLineDash){H5t.setLineDash([]);}H5t.lineWidth=1;}Z5t=-10;W6t=0;t6t=-10;R6t=0;r6t=!1;I6t=!"1";F6t=H5t.measureText("\u25B2").width / 2;e6t=0;for(v5t=0;v5t < k5t.length;v5t++){j5j="Ghost B";j5j+="oxe";j5j+="s";if(!k5t[v5t])continue;if(k5t[v5t].Close || k5t[v5t].Close === 0){e6t=v5t;}if(k5t[v5t]["Spike " + w5t.name]){H5t.fillStyle=n5t;H5t.textBaseline="bottom";z6t=T5t.pixelFromPrice(k5t[v5t].High,T5t.chart.panel);H5t.fillText("\u25BC",T5t.pixelFromBar(v5t) - F6t,z6t - +"5");;}if(k5t[v5t].candleWidth){S5t=Math.floor(Math.max("1" | 1,k5t[v5t].candleWidth));}if(k5t[v5t]["Darvas " + w5t.name]){y5t=k5t[v5t]["Darvas " + w5t.name];if(y5t.State == 1 && !r6t){Z5t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) - S5t / 2);V5t=Math.floor(T5t.pixelFromPrice(y5t.High,K5t));J6t=Math.floor(T5t.pixelFromPrice(y5t.Low,K5t)) - V5t;r6t=! ![];}else if(y5t.State === 0){W6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) + S5t / 2) - Z5t;V5t=Math.floor(T5t.pixelFromPrice(y5t.High,K5t));J6t=Math.floor(T5t.pixelFromPrice(y5t.Low,K5t)) - V5t;H5t.strokeStyle=n5t;H5t.fillStyle=n5t;if(!w5t.inputs["Stop Levels"]){H5t.strokeRect(Z5t,V5t,W6t,J6t);H5t.globalAlpha=0.2;}else {H5t.globalAlpha=0.3;}H5t.fillRect(Z5t,V5t,W6t,J6t);H5t.globalAlpha=1;r6t=!{};}}if(k5t[v5t]["Ghost " + w5t.name] && w5t.inputs[j5j]){y5t=k5t[v5t]["Ghost " + w5t.name];if(y5t.State == 1 && !I6t){t6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) - S5t / 2);E6t=Math.floor(T5t.pixelFromPrice(y5t.High,K5t));R6t=Math.floor((y5t.End - y5t.Start + 1) * T5t.layout.candleWidth + S5t / 2);d6t=Math.floor(T5t.pixelFromPrice(y5t.Low,K5t)) - E6t;I6t=!0;}else if(y5t.State === +"0"){if(y5t.Start == y5t.End){t6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) - S5t / 2);}R6t=Math.floor(T5t.pixelFromBar(v5t,K5t.chart) + S5t / 2) - t6t;E6t=Math.floor(T5t.pixelFromPrice(y5t.High,K5t));d6t=Math.floor(T5t.pixelFromPrice(y5t.Low,K5t)) - E6t;H5t.strokeStyle=M6t;H5t.fillStyle=M6t;if(!w5t.inputs["Stop Levels"]){H5t.strokeRect(t6t,E6t,R6t,d6t);H5t.globalAlpha=+"0.2";}else {H5t.globalAlpha=0.3;}H5t.fillRect(t6t,E6t,R6t,d6t);H5t.globalAlpha=1;I6t=!{};}}}if(r6t){W6t=Math.floor(T5t.pixelFromBar(e6t,K5t.chart) + S5t / 2) - Z5t;H5t.strokeStyle=n5t;H5t.fillStyle=n5t;if(!w5t.inputs["Stop Levels"]){H5t.beginPath();K3b.G0X(64);H5t.moveTo(K3b.D0X(Z5t,"2",W6t),V5t);H5t.lineTo(Z5t,V5t);K3b.G0X(2);H5t.lineTo(Z5t,K3b.E0X(J6t,V5t));K3b.d0X(13);H5t.lineTo(K3b.E0X(2,Z5t,W6t),K3b.D0X(J6t,V5t,K3b.G0X(2)));H5t.stroke();H5t.globalAlpha=0.2;}else {S1v=- +"77104936";l1v=1447168196;D1v=2;for(var c1v=1;K3b.d5h(c1v.toString(),c1v.toString().length,4580) !== S1v;c1v++){H5t.globalAlpha=0.3;D1v+=2;}if(K3b.d5h(D1v.toString(),D1v.toString().length,"6525" ^ 0) !== l1v){H5t.globalAlpha=546;}}K3b.G0X(65);H5t.fillRect(Z5t,V5t,K3b.E0X(W6t,"2"),J6t);H5t.globalAlpha=1;}if(I6t){H5t.strokeStyle=M6t;H5t.fillStyle=M6t;if(!w5t.inputs["Stop Levels"]){H5t.strokeRect(t6t,E6t,R6t,d6t);H5t.globalAlpha=+"0.2";}else {H5t.globalAlpha=0.3;}H5t.fillRect(t6t,E6t,R6t,d6t);K3b.G0X(12);H5t.globalAlpha=K3b.E0X(0,"1");}if(r6t || I6t){if(w5t.inputs["Stop Levels"]){if(H5t.setLineDash){H5t.setLineDash([2,2]);}H5t.lineWidth=2;H5t.strokeStyle=c6t;a6t=Math.floor(T5t.pixelFromBar(e6t - ("1" << 1389151584),K5t.chart) + S5t / 2);if(L6t){H5t.beginPath();H5t.moveTo(a6t,L6t);H5t.lineTo(r6t?Z5t + 2 * W6t:t6t + R6t,L6t);H5t.stroke();}if(b6t){H5t.beginPath();H5t.moveTo(a6t,b6t);H5t.lineTo(r6t?Z5t + 2 * W6t:t6t + R6t,b6t);H5t.stroke();}if(H5t.setLineDash){H5t.setLineDash([]);}H5t.lineWidth=1;}r6t=!{};I6t=![];}T5t.endClip();};F5t.Studies.studyLibrary=F5t.extend(F5t.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:F5t.Studies.calculateDarvas,seriesFN:F5t.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! ![],"Stop Levels":!"1","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:u5j,Ghost:T5j,Levels:G5j},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:"0.01" - 0},yaxisDisplayValue:{hidden:!""},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};U8S=f6t=>{var o6t,V5j;o6t=typeof _CIQ !== "undefined"?_CIQ:f6t.CIQ;r244.L7b();if(!o6t.Studies){console.error("detrended feature requires first activating studies feature.");}else {V5j="f";V5j+="i";V5j+="el";V5j+="d";o6t.Studies.calculateDetrendedPrice=function(p6t,U6t){var j6t,X6t,P6t,i6t,g6t;j6t=U6t.chart.scrubbed;if(j6t.length < U6t.days + 1){U6t.error=! !{};return;}X6t=U6t.inputs.Field;r244.L7b();if(!X6t || X6t == "field"){X6t="Close";}P6t=Math.floor(U6t.days / 2 + 1);o6t.Studies.MA(U6t.inputs["Moving Average Type"],U6t.days,X6t,-P6t,"MA",p6t,U6t);for(var l6t=Math.max(U6t.days - P6t - ("1" ^ 0),U6t.startFrom - P6t);l6t < j6t.length - P6t;l6t++){i6t=j6t[l6t][X6t];if(i6t && typeof i6t == "object"){i6t=i6t[U6t.subField];}g6t=j6t[l6t]["MA " + U6t.name];if((i6t || i6t === 0) && (g6t || g6t === 0)){r244.G0X(6);j6t[l6t]["Result " + U6t.name]=r244.E0X(g6t,i6t);}}};o6t.Studies.studyLibrary=o6t.extend(o6t.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:o6t.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:V5j,"Moving Average Type":"ma"}}});}};i8S=Q6t=>{var i1v,Y1v,w1v,A6t,r5j;i1v=-371586196;Y1v=-752636487;r244.m7b();w1v=2;for(var L1v=1;r244.n5h(L1v.toString(),L1v.toString().length,+"32770") !== i1v;L1v++){A6t=!_CIQ === ""?_CIQ:Q6t.CIQ;w1v+=2;}if(r244.n5h(w1v.toString(),w1v.toString().length,77974) !== Y1v){A6t=typeof _CIQ !== "undefined"?_CIQ:Q6t.CIQ;}if(!A6t.Studies){console.error("disparity feature requires first activating studies feature.");}else {r5j="m";r5j+="a";A6t.Studies.calculateDisparity=function(h6t,G6t){var F5j,t5j,Y6t,s6t,P5j,B6t;F5j="C";F5j+="los";F5j+="e";t5j="f";t5j+="ie";t5j+="l";t5j+="d";Y6t=G6t.chart.scrubbed;if(Y6t.length < G6t.days + 1){G6t.error=! !"1";return;}s6t=G6t.inputs.Field;if(!s6t || s6t == t5j){s6t=F5j;}A6t.Studies.MA(G6t.inputs["Moving Average Type"],G6t.days,s6t,0,"_MA",h6t,G6t);for(var q6t=Math.max(G6t.startFrom,G6t.days - 1);q6t < Y6t.length;q6t++){P5j="Result";P5j+=" ";if(!Y6t[q6t])continue;B6t=Y6t[q6t]["_MA " + G6t.name];if(B6t){Y6t[q6t][P5j + G6t.name]=+"100" * (Y6t[q6t][s6t] / B6t - 1);}}};A6t.Studies.studyLibrary=A6t.extend(A6t.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:A6t.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":r5j}}});}};j8S=C6t=>{var O6t,x5j;r244.m7b();O6t=typeof _CIQ !== "undefined"?_CIQ:C6t.CIQ;if(!O6t.Studies){x5j="easeOfMovement feature requires fi";x5j+="rst activating studies feature.";console.error(x5j);}else {O6t.Studies.calculateEaseOfMovement=function(S6t,T6t){var y6R=r244;var x6t,E5j,y6t,w6t,K6t,k6t,v6t;x6t=T6t.chart.scrubbed;if(x6t.length < T6t.days){T6t.error=! !{};return;}for(var H6t=Math.max(1,T6t.startFrom);H6t < x6t.length;H6t++){E5j="_EOM";E5j+="1";E5j+=" ";y6t=(x6t[H6t].High + x6t[H6t].Low) / 2;w6t=(x6t[H6t - 1].High + x6t[H6t - 1].Low) / 2;y6R.d0X(6);K6t=y6R.E0X(w6t,y6t);k6t=x6t[H6t].Volume / +"100000000" / (x6t[H6t].High - x6t[H6t].Low);y6R.G0X(10);v6t=y6R.E0X(k6t,K6t);if(!isFinite(v6t)){x6t[H6t]["_EOM1 " + T6t.name]=NaN;}else {x6t[H6t][E5j + T6t.name]=v6t;}}O6t.Studies.MA(T6t.inputs["Moving Average Type"],T6t.days,"_EOM1 " + T6t.name,0,"Result",S6t,T6t);};O6t.Studies.studyLibrary=O6t.extend(O6t.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:O6t.Studies.calculateEaseOfMovement,inputs:{Period:"14" | 2,"Moving Average Type":"ma"}}});}};X8S=V6t=>{var A3b=r244;var i5j,Z6t,H1j,A1j,j1j,Y5j;i5j="und";i5j+="efi";i5j+="ned";Z6t=typeof _CIQ !== i5j?_CIQ:V6t.CIQ;if(!Z6t.Studies){H1j=-320662309;A1j=1188840314;j1j=2;for(var T1j=1;A3b.d5h(T1j.toString(),T1j.toString().length,7784) !== H1j;T1j++){console.error("");A3b.d0X(1);j1j+=A3b.E0X("2",1885571072);}if(A3b.d5h(j1j.toString(),j1j.toString().length,3544) !== A1j){console.error("ehlerFisher feature requires first activating studies feature.");}}else {Y5j="#FF";Y5j+="0000";Z6t.Studies.calculateEhlerFisher=function(c4t,n6t){var W4t,b4t,M4t,R4t,r4t;A3b.m7b();W4t=n6t.chart.scrubbed;function E4t(L4t,e4t){var r6h,x6h,E6h,I4t,d4t,u4t;r6h=1993087462;x6h=1225067305;E6h=2;for(var Y6h=1;A3b.d5h(Y6h.toString(),Y6h.toString().length,+"72173") !== r6h;Y6h++){I4t=Number.MAX_VALUE;d4t=Number.MAX_VALUE + !6;A3b.d0X(22);E6h+=A3b.D0X("2",1075509024);}if(A3b.d5h(E6h.toString(),E6h.toString().length,66993) !== x6h){I4t=Number.MAX_VALUE;d4t=Number.MAX_VALUE * -("1" - 0);}for(var J4t=e4t - L4t + 1;J4t <= e4t;J4t++){u4t=(W4t[J4t].High + W4t[J4t].Low) / 2;I4t=Math.min(I4t,u4t);d4t=Math.max(d4t,u4t);}return [I4t,d4t];}if(W4t.length < n6t.days + 1){n6t.error=! !1;return;}b4t=0;if(n6t.startFrom > 1){b4t=W4t[n6t.startFrom - 1]["_n " + n6t.name];}for(var t4t=n6t.startFrom;t4t < W4t.length;t4t++){M4t=W4t[t4t];if(M4t.futureTick)break;if(t4t < n6t.days - 1){M4t["EF " + n6t.name]=M4t["EF Trigger " + n6t.name]=b4t;continue;}R4t=E4t(n6t.days,t4t);b4t=0.33 * 2 * (((W4t[t4t].High + W4t[t4t].Low) / +"2" - R4t[0]) / Math.max(0.000001,R4t[1] - R4t["0" | 0]) - 0.5) + ("0.67" - 0) * b4t;if(b4t > 0){b4t=Math.min(b4t,0.9999);}else if(b4t < 0){b4t=Math.max(b4t,-0.9999);}r4t=t4t?W4t[t4t - 1]["EF " + n6t.name]:"0" >> 172664320;M4t["EF " + n6t.name]=0.5 * Math.log(("1" - 0 + b4t) / (1 - b4t)) + 0.5 * r4t;M4t["EF Trigger " + n6t.name]=r4t;M4t["_n " + n6t.name]=b4t;}};Z6t.Studies.studyLibrary=Z6t.extend(Z6t.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:Z6t.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":Y5j}}});}};l8S=m4t=>{var W3b=r244;var X1v,Z1v,p1v,N4t,l6j,S6j,a6j;X1v=876886690;Z1v=1228794996;W3b.d0X(19);p1v=W3b.E0X("2",2147483647);for(var a1v=1;W3b.n5h(a1v.toString(),a1v.toString().length,8757) !== X1v;a1v++){N4t=~_CIQ == ""?_CIQ:m4t.CIQ;W3b.d0X(16);p1v+=W3b.D0X("2",1);}W3b.L7b();if(W3b.d5h(p1v.toString(),p1v.toString().length,"28550" - 0) !== Z1v){N4t=~_CIQ == ""?_CIQ:m4t.CIQ;}N4t=typeof _CIQ !== "undefined"?_CIQ:m4t.CIQ;if(!N4t.Studies){console.error("elder feature requires first activating studies feature.");}else {l6j="#00";l6j+="DD0";l6j+="0";S6j="Elde";S6j+="r Ray Inde";S6j+="x";a6j="Elder Force ";a6j+="Index";N4t.Studies.calculateElderImpulse=function(f4t,a4t){var w5j,F4t,U4t,i4t,o4t,z4t,L5j,b5j;w5j="Cl";w5j+="os";w5j+="e";F4t=a4t.chart.scrubbed;U4t=a4t.outputs.Bullish;i4t=a4t.outputs.Bearish;o4t=a4t.outputs.Neutral;N4t.Studies.MA("exponential",13,w5j,0,"_MA",f4t,a4t);a4t.macd=new N4t.Studies.StudyDescriptor((4617 == 7398?388.58 <= 305.49?(0x235d,"E"):(506.37,+"813.79") < 247.61?(0x14ba,0x94e):0xb86:"_") + a4t.name,"macd",a4t.panel);a4t.macd.chart=a4t.chart;a4t.macd.days=a4t.days;a4t.macd.startFrom=a4t.startFrom;a4t.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"};a4t.macd.outputs={_MACD:null,_Signal:null};N4t.Studies.calculateMACD(f4t,a4t.macd);W3b.L7b();for(var D4t=a4t.startFrom;D4t < F4t.length;D4t++){L5j="_";L5j+="M";L5j+="A";L5j+=" ";b5j="_";b5j+="M";b5j+="A";b5j+=" ";if(D4t === 0){z4t=o4t;}else if(F4t[D4t][b5j + a4t.name] > F4t[D4t - 1]["_MA " + a4t.name] && F4t[D4t][(6535 != (596,791.3)?"_":+"9890" > (2222,7023)?("A",907.47):(131.71,"0x22ff" ^ 0)) + a4t.name + "_hist"] > F4t[D4t - 1][((48.35,1840) > ("852.22" * 1,4540)?(0x9ab,2.73e+3):8260 > (5224,+"8830")?7.45e+3:217.71 <= "107.66" - 0?544.32:"_") + a4t.name + "_hist"]){z4t=U4t;}else if(F4t[D4t]["_MA " + a4t.name] < F4t[D4t - 1][L5j + a4t.name] && F4t[D4t]["_" + a4t.name + "_hist"] < F4t[D4t - 1]["_" + a4t.name + "_hist"]){z4t=i4t;}else {z4t=o4t;}F4t[D4t]["Result " + a4t.name]=z4t;;}};N4t.Studies.calculateElderRay=function(P4t,j4t){var d5j,U5j,X4t,B5j;d5j="_h";d5j+="ist1";U5j="_";U5j+="E";U5j+="M";U5j+="A";X4t=j4t.chart.scrubbed;if(X4t.length < j4t.days){j4t.error=! !"1";return;}N4t.Studies.MA("exponential",j4t.days,"Close",0,U5j,P4t,j4t);for(var l4t=Math.max(j4t.startFrom,j4t.days - 1);l4t < X4t.length;l4t++){B5j="_";B5j+="his";B5j+="t";B5j+="1";X4t[l4t][j4t.name + B5j]=X4t[l4t].High - X4t[l4t]["_EMA " + j4t.name];X4t[l4t][j4t.name + "_hist2"]=X4t[l4t].Low - X4t[l4t]["_EMA " + j4t.name];}j4t.outputMap={};W3b.m7b();j4t.outputMap[j4t.name + d5j]="";j4t.outputMap[j4t.name + "_hist2"]="";};N4t.Studies.calculateElderForce=function(Q4t,g4t){var n5j,p4t;W3b.m7b();n5j="_E";n5j+="F";n5j+="1";n5j+=" ";p4t=g4t.chart.scrubbed;if(p4t.length < g4t.days){g4t.error=! ![];return;}for(var A4t=Math.max(1,g4t.startFrom);A4t < p4t.length;A4t++){p4t[A4t]["_EF1 " + g4t.name]=p4t[A4t].Volume * (p4t[A4t].Close - p4t[A4t - 1].Close);}N4t.Studies.MA("exponential",g4t.days,n5j + g4t.name,0,"Result",Q4t,g4t);};N4t.Studies.initElderImpulse=function(Y4t,s4t,B4t,h4t,q4t,O4t){var G4t;G4t=N4t.Studies.initializeFN(Y4t,s4t,B4t,h4t,q4t,O4t);if(q4t.calculateOnly){return G4t;}Y4t.chart.customChart={chartType:"colored_bar",colorFunction:function(H4t,x4t,T4t){var R5j,C4t;R5j="Res";R5j+="ult ";C4t=x4t[R5j + G4t.name];if(C4t && typeof C4t == "object"){C4t=C4t.color;}return C4t;}};Y4t.setMainSeriesRenderer();return G4t;};N4t.Studies.displayElderForce=function(y4t,v4t,Z4t){var K4t,k4t,S4t,w4t,W7v,h7v,F7v;N4t.Studies.displaySeriesAsLine(y4t,v4t,Z4t);K4t=N4t.Studies.determineColor(v4t.outputs.Result);k4t=y4t.panels[v4t.panel];S4t=v4t.getYAxis(y4t);w4t={skipTransform:k4t.name != v4t.chart.name,panelName:v4t.panel,band:"Result " + v4t.name,threshold:0,color:K4t,yAxis:S4t};if(!v4t.highlight && y4t.highlightedDraggable){w4t.opacity=0.3;}w4t.direction=1;N4t.preparePeakValleyFill(y4t,w4t);W7v=-1937818871;h7v=1563632120;F7v=2;for(var d7v=1;W3b.d5h(d7v.toString(),d7v.toString().length,669) !== W7v;d7v++){w4t.direction=- +"1";N4t.preparePeakValleyFill(y4t,w4t);F7v+=2;}if(W3b.d5h(F7v.toString(),F7v.toString().length,50589) !== h7v){w4t.direction=!2;N4t.preparePeakValleyFill(y4t,w4t);}};N4t.Studies.displayElderRay=function(n4t,V4t,J8t){var R8t,t8t,E8t,c8t,M8t,I8t,O6j,p6j,Z6j,X6j,v5j,k5j,b8t;R8t=n4t.panels[V4t.panel];W3b.L7b();t8t=V4t.getContext(n4t);E8t=V4t.getYAxis(n4t);c8t=n4t.pixelFromPrice(0,R8t,E8t);M8t=n4t.layout.candleWidth - 2;if(M8t < 2){M8t=1;}n4t.canvasColor("stx_histogram");I8t=t8t.fillStyle;if(!V4t.underlay){t8t.globalAlpha=1;}n4t.startClip(V4t.panel);if(!V4t.highlight && n4t.highlightedDraggable){t8t.globalAlpha*=0.3;}for(var W8t=0;W8t < J8t.length;W8t++){O6j="El";O6j+="der Be";O6j+="ar Po";O6j+="wer";p6j="_hi";p6j+="s";p6j+="t2";Z6j="_";Z6j+="h";Z6j+="i";Z6j+="st1";X6j="El";X6j+="der Bull Power";v5j="_h";v5j+="i";v5j+="st1";k5j="_h";k5j+="ist2";b8t=J8t[W8t];if(!b8t)continue;if(b8t.candleWidth){M8t=Math.floor(Math.max(1,b8t.candleWidth - 2));}if(b8t[V4t.name + "_hist1"] > +"0"){r8t(W8t,0,"Elder Bull Power","_hist1");}if(b8t[V4t.name + "_hist2"] < 0){r8t(W8t,0,"Elder Bear Power",k5j);}if(b8t[V4t.name + v5j] < 0){r8t(W8t,+"0.1",X6j,Z6j);}if(b8t[V4t.name + p6j] > 0){r8t(W8t,0.1,O6j,"_hist2");}}n4t.endClip();function r8t(u8t,d8t,e8t,L8t){W3b.L7b();t8t.fillStyle=N4t.Studies.determineColor(V4t.outputs[e8t]);t8t.fillRect(Math.floor(n4t.pixelFromBar(u8t,R8t.chart) - M8t / 2 + M8t * d8t),Math.floor(c8t),Math.floor(M8t * (1 - ("2" - 0) * d8t)),Math.floor(n4t.pixelFromPrice(b8t[V4t.name + L8t],R8t,E8t) - c8t));}t8t.fillStyle=I8t;};N4t.Studies.studyLibrary=N4t.extend(N4t.Studies.studyLibrary,{"Elder Force":{name:a6j,calculateFN:N4t.Studies.calculateElderForce,seriesFN:N4t.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:S6j,seriesFN:N4t.Studies.displayElderRay,calculateFN:N4t.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":l6j,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:N4t.Studies.calculateElderImpulse,initializeFN:N4t.Studies.initElderImpulse,seriesFN:null,customRemoval:!"",underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(N8t,m8t){W3b.m7b();N8t.chart.customChart=null;N8t.setMainSeriesRenderer();}}});}};P8S=D8t=>{var q3b=r244;var S3j,l3j,D3j,a8t,D6j,G1j,V1j,t1j,q6j,N6j,I6j,g6j,f6j;S3j=921527058;l3j=1401325393;D3j=2;for(var c3j="1" | 0;q3b.n5h(c3j.toString(),c3j.toString().length,90350) !== S3j;c3j++){a8t=!_CIQ === ""?_CIQ:D8t.CIQ;D3j+=2;}if(q3b.n5h(D3j.toString(),D3j.toString().length,78774) !== l3j){D6j="unde";D6j+="fi";D6j+="ned";a8t=typeof _CIQ !== D6j?_CIQ:D8t.CIQ;}if(!a8t.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {a8t.Studies.calculateFractalChaos=function(P8t,f8t){var z8t,i8t,j8t,U8t,s6j,c6j,X8t,l8t,o8t,M6j;z8t=f8t.chart.scrubbed;i8t=+"0";j8t=0;q3b.m7b();U8t=0;if(f8t.startFrom && f8t.type == "Fractal Chaos Bands"){s6j="Fracta";s6j+="l ";s6j+="Hig";s6j+="h ";i8t=z8t[f8t.startFrom - 1][s6j + f8t.name];j8t=z8t[f8t.startFrom - 1]["Fractal Low " + f8t.name];}for(var F8t=Math.max(4,f8t.startFrom);F8t < z8t.length;F8t++){c6j="Fractal Ch";c6j+="a";c6j+="os";c6j+=" Bands";if(z8t[F8t].futureTick)break;X8t=!isNaN(z8t[F8t].High);l8t=!isNaN(z8t[F8t].Low);if(X8t || l8t){z8t[F8t]["Result " + f8t.name]=0;}U8t=0;for(o8t=0;o8t <= F8t;o8t++){if(!z8t[F8t - o8t])break;if(z8t[F8t - o8t].High > z8t[F8t - +"2"].High)break;if(o8t < 2 && z8t[F8t - o8t].High == z8t[F8t - 2].High)break;if(z8t[F8t - o8t].High < z8t[F8t - 2].High){U8t++;}if(U8t == 4){i8t=z8t[F8t - 2].High;break;}}if(f8t.type == c6j){if(X8t){z8t[F8t]["Fractal High " + f8t.name]=i8t > 0?i8t:null;}}else if(U8t == 4){q3b.d0X(6);z8t[F8t]["Result " + f8t.name]=q3b.D0X(0,"1");}q3b.G0X(1);U8t=q3b.D0X("0",76466112);for(o8t=0;o8t <= F8t;o8t++){if(!z8t[F8t - o8t])break;if(z8t[F8t - o8t].Low < z8t[F8t - 2].Low)break;if(o8t < 2 && z8t[F8t - o8t].Low == z8t[F8t - 2].Low)break;if(z8t[F8t - o8t].Low > z8t[F8t - ("2" >> 983244096)].Low){U8t++;}if(U8t == 4){j8t=z8t[F8t - ("2" ^ 0)].Low;break;}}if(f8t.type == "Fractal Chaos Bands"){if(l8t){z8t[F8t]["Fractal Low " + f8t.name]=j8t > 0?j8t:null;}}else if(U8t == 4){M6j="Resu";M6j+="lt";M6j+=" ";z8t[F8t][M6j + f8t.name]=- +"1";}}};G1j=-1041602558;q3b.d0X(16);V1j=q3b.D0X("1705034968",1);t1j=2;for(var P1j=1;q3b.n5h(P1j.toString(),P1j.toString().length,33189) !== G1j;P1j++){q6j="a";q6j+="u";q6j+="t";q6j+="o";N6j="-1";N6j+=" ";N6j+="to";N6j+=" 1";a8t.Studies.studyLibrary=a8t.extend(a8t.Studies.studyLibrary,{"Fractal Chaos":{name:N6j,range:q6j,calculateFN:a8t.Studies.calculateFractalChaos,inputs:{},centerline:1},"Fractal Chaos Bands":{name:"auto",overlay:![],calculateFN:a8t.Studies.calculateFractalChaos,seriesFN:a8t.Studies.displayChannel,inputs:{"Channel Fill":!1},outputs:{"Fractal High":"Fractal Low","Fractal Low":"Fractal Chaos","Fractal Channel":"Fractal Chaos"}}});t1j+=2;}if(q3b.d5h(t1j.toString(),t1j.toString().length,67027) !== V1j){I6j="a";I6j+="ut";I6j+="o";g6j="Fractal C";g6j+="haos Ba";g6j+="nds";f6j="Fractal Chaos Oscill";f6j+="ato";f6j+="r";a8t.Studies.studyLibrary=a8t.extend(a8t.Studies.studyLibrary,{"Fractal Chaos":{name:f6j,range:"-1 to 1",calculateFN:a8t.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:g6j,overlay:! !{},calculateFN:a8t.Studies.calculateFractalChaos,seriesFN:a8t.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":I6j}}});}}};g8S=p8t=>{r244.m7b();var g8t,z6j,j6j,A6j,H6j,o6j;g8t=typeof _CIQ !== "undefined"?_CIQ:p8t.CIQ;if(!g8t.Studies){z6j="highLowStudi";z6j+="es feature requires first activating studies feature.";console.error(z6j);}else {j6j="a";j6j+="u";j6j+="to";A6j="Willi";A6j+="ams";A6j+=" %";A6j+="R";H6j="Gopalakri";H6j+="shnan Range Index";o6j="a";o6j+="u";o6j+="t";o6j+="o";g8t.Studies.calculateMaxHighMinLow=function(C8t,A8t){var E6R=r244;var Q6j,y6j,Q8t,O8t,h8t,s8t,q8t,Y8t,W6j,C6j,m6j,B8t,K6j,J6j;Q6j="Low ";Q6j+="Period";y6j="L";y6j+="ow Per";y6j+="iod";Q8t=A8t.chart.scrubbed;O8t=A8t.days;h8t=A8t.days;if(A8t.inputs["High Period"]){O8t=A8t.inputs["High Period"];}if(A8t.inputs[y6j]){h8t=A8t.inputs[Q6j];}if(Q8t.length < Math.max(O8t,h8t) + 1){A8t.error=! ![];return;}s8t=Number.MAX_VALUE;q8t=Number.MAX_VALUE * -1;E6R.L7b();if(A8t.startFrom > +"1"){for(Y8t=1;Y8t < O8t;Y8t++){if(A8t.startFrom - Y8t >= 0){q8t=Math.max(q8t,Q8t[A8t.startFrom - Y8t].High);}}for(Y8t=1;Y8t < h8t;Y8t++){if(A8t.startFrom - Y8t >= +"0"){s8t=Math.min(s8t,Q8t[A8t.startFrom - Y8t].Low);}}}for(var G8t=Math.max(0,A8t.startFrom - 1);G8t < Q8t.length;G8t++){W6j="Gop";W6j+="al";W6j+="a";C6j="Don";C6j+="chian";C6j+=" W";C6j+="idth";m6j="L";m6j+="L";m6j+="V";q8t=Math.max(q8t,Q8t[G8t].High);s8t=Math.min(s8t,Q8t[G8t].Low);if(G8t >= O8t){if(Q8t[G8t - O8t].High == q8t){q8t=Q8t[G8t].High;for(Y8t=1;Y8t < O8t;Y8t++){q8t=Math.max(q8t,Q8t[G8t - Y8t].High);}}}if(G8t >= h8t){if(Q8t[G8t - h8t].Low == s8t){s8t=Q8t[G8t].Low;for(Y8t=+"1";Y8t < h8t;Y8t++){s8t=Math.min(s8t,Q8t[G8t - Y8t].Low);}}}B8t=0;if(A8t.type == "HHV"){B8t=q8t;}else if(A8t.type == m6j){B8t=s8t;}else if(A8t.type == C6j){E6R.G0X(6);B8t=E6R.D0X(s8t,q8t);}else if(A8t.type == "GAPO" || A8t.type == W6j){B8t=Math.log(q8t - s8t) / Math.log(h8t);}else if(A8t.type == "VT HZ Filter"){E6R.G0X(6);B8t=E6R.E0X(s8t,q8t);Q8t[G8t]["_MHML " + A8t.name]=B8t;continue;}else if(A8t.type == "Williams %R"){B8t=-100 * (q8t - Q8t[G8t].Close) / (q8t - s8t);Q8t[G8t]["Result " + A8t.name]=B8t;continue;}if(G8t == Q8t.length - "1" * 1)break;if(!Q8t[G8t + 1].futureTick){K6j="Donchia";K6j+="n Chann";K6j+="el";if(A8t.type == K6j){J6j="Do";J6j+="nch";J6j+="ian Low";J6j+=" ";E6R.G0X(2);Q8t[E6R.E0X(1,G8t)]["Donchian High " + A8t.name]=q8t;E6R.d0X(66);Q8t[E6R.E0X("1",1195779520,G8t)][J6j + A8t.name]=s8t;E6R.G0X(2);Q8t[E6R.D0X(1,G8t)]["Donchian Median " + A8t.name]=E6R.E0X(2,s8t,q8t,E6R.G0X(3));}else {E6R.G0X(35);Q8t[E6R.D0X(G8t,"1")]["Result " + A8t.name]=B8t;}}}};g8t.Studies.calculateVerticalHorizontalFilter=function(K8t,x8t){var H8t,v8t,y8t,w8t,e6j,h6j;H8t=x8t.chart.scrubbed;if(H8t.length < x8t.days + "1" * 1){x8t.error=! !{};return;}x8t.mhml=new g8t.Studies.StudyDescriptor(x8t.name,x8t.type,x8t.panel);x8t.mhml.chart=x8t.chart;x8t.mhml.days=x8t.days;x8t.mhml.startFrom=x8t.startFrom;x8t.mhml.inputs={};x8t.mhml.outputs={_MHML:null};g8t.Studies.calculateMaxHighMinLow(K8t,x8t.mhml);r244.m7b();r244.G0X(12);v8t=r244.E0X(0,"0");y8t=[];for(var T8t=Math.max(1,x8t.startFrom - x8t.days);T8t < H8t.length;T8t++){w8t=Math.abs(H8t[T8t].Close - H8t[T8t - 1].Close);y8t.push(w8t);v8t+=w8t;if(y8t.length == x8t.days){e6j="_";e6j+="MH";e6j+="M";e6j+="L ";h6j="Re";h6j+="sul";h6j+="t";h6j+=" ";H8t[T8t][h6j + x8t.name]=H8t[T8t][e6j + x8t.name] / v8t;v8t-=y8t.shift();}}};g8t.Studies.studyLibrary=g8t.extend(g8t.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !"1",calculateFN:g8t.Studies.calculateMaxHighMinLow,seriesFN:g8t.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":o6j}},"Donchian Width":{name:"Donchian Width",calculateFN:g8t.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:H6j,calculateFN:g8t.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:g8t.Studies.calculateMaxHighMinLow,inputs:{Period:"14" & 2147483647}},LLV:{name:"Lowest Low Value",calculateFN:g8t.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:A6j,calculateFN:g8t.Studies.calculateMaxHighMinLow,inputs:{Period:"14" >> 1827438624},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:j6j}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:g8t.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(V8t,Z8t){var S8t;S8t=Z8t.chart.scrubbed;r244.m7b();for(var k8t=Z8t.startFrom;k8t < S8t.length;k8t++){S8t[k8t]["Result " + Z8t.name]=S8t[k8t].High - S8t[k8t].Low;}},inputs:{}}});}};p8S=b9t=>{var t6v,F6v,P6v,u6j,n8t,P6j,F6j,t6j,V6j;t6v=1116743759;F6v=77294595;P6v=2;for(var x6v=+"1";r244.n5h(x6v.toString(),x6v.toString().length,57890) !== t6v;x6v++){u6j="unde";u6j+="f";u6j+="in";u6j+="ed";n8t=typeof _CIQ !== u6j?_CIQ:b9t.CIQ;P6v+=2;}if(r244.d5h(P6v.toString(),P6v.toString().length,"37085" ^ 0) !== F6v){n8t=!_CIQ != ""?_CIQ:b9t.CIQ;}if(!n8t.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {P6j="#808";P6j+="000";F6j="#F";F6j+="F0";F6j+="00";F6j+="0";t6j="#";t6j+="00F";t6j+="F00";V6j="Ichimoku Clou";V6j+="ds";n8t.Studies.calculateIchimoku=function(u9t,t9t){var M9t,R9t,W9t,r9t,T6j,J9t,I9t,d9t,G6j,E9t;M9t=t9t.chart.scrubbed;r244.m7b();R9t={Base:Number(t9t.inputs["Base Line Period"]),Conv:Number(t9t.inputs["Conversion Line Period"]),LeadB:Number(t9t.inputs["Leading Span B Period"]),Lag:Number(t9t.inputs["Lagging Span Period"])};for(W9t=t9t.startFrom;W9t < M9t.length;W9t++){T6j="Con";T6j+="version Lin";T6j+="e ";if(!M9t[W9t])continue;r9t=c9t(R9t.Conv,W9t);M9t[W9t][T6j + t9t.name]=(r9t[1] + r9t[+"0"]) / 2;r9t=c9t(R9t.Base,W9t);M9t[W9t]["Base Line " + t9t.name]=(r9t[1] + r9t[0]) / 2;if(W9t < R9t.Lag)continue;M9t[W9t - R9t.Lag]["Lagging Span " + t9t.name]=M9t[W9t].Close;}J9t=[];function c9t(a9t,m9t){var L9t,N9t;L9t=Number.MAX_VALUE;N9t=Number.MAX_VALUE * -1;for(var e9t=m9t - a9t + 1;e9t <= m9t;e9t++){if(e9t < 0)continue;L9t=Math.min(L9t,M9t[e9t].Low);N9t=Math.max(N9t,M9t[e9t].High);}return [L9t,N9t];}for(W9t=Math.max(0,t9t.startFrom - R9t.Base);W9t < M9t.length;W9t++){r9t=c9t(R9t.LeadB,W9t);I9t=(M9t[W9t]["Conversion Line " + t9t.name] + M9t[W9t]["Base Line " + t9t.name]) / +"2";d9t=(r9t[1] + r9t[0]) / 2;if(M9t[W9t + R9t.Base]){M9t[W9t + R9t.Base]["Leading Span A " + t9t.name]=I9t;M9t[W9t + R9t.Base]["Leading Span B " + t9t.name]=d9t;}else {G6j="Lea";G6j+="d";G6j+="ing Span B ";E9t={};E9t["Leading Span A " + t9t.name]=I9t;E9t[G6j + t9t.name]=d9t;J9t.push(E9t);}}t9t.appendFutureTicks(u9t,J9t);};n8t.Studies.displayIchimoku=function(F9t,D9t,l9t){var z9t,o9t,i9t,j9t,X9t,f9t,U9t;z9t="Leading Span A " + D9t.name;o9t="Leading Span B " + D9t.name;i9t=n8t.Studies.determineColor(D9t.outputs[D9t.outputMap[z9t]]);j9t=n8t.Studies.determineColor(D9t.outputs[D9t.outputMap[o9t]]);r244.L7b();X9t=F9t.panels[D9t.panel];f9t=D9t.getYAxis(F9t);U9t={topBand:z9t,bottomBand:o9t,topColor:i9t,bottomColor:j9t,skipTransform:X9t.name != D9t.chart.name,topAxis:f9t,bottomAxis:f9t,opacity:"0.3" - 0};if(!D9t.highlight && F9t.highlightedDraggable){U9t.opacity*=0.3;}n8t.fillIntersecting(F9t,D9t.panel,U9t);n8t.Studies.displaySeriesAsLine(F9t,D9t,l9t);};n8t.Studies.studyLibrary=n8t.extend(n8t.Studies.studyLibrary,{"Ichimoku Clouds":{name:V6j,overlay:! !1,calculateFN:n8t.Studies.calculateIchimoku,seriesFN:n8t.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":+"26","Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":t6j,"Leading Span B":F6j,"Lagging Span":P6j}}});}};A8S=g9t=>{var r6j,P9t,i6j;r6j="und";r244.L7b();r6j+="efined";P9t=typeof _CIQ !== r6j?_CIQ:g9t.CIQ;if(!P9t.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {i6j="a";i6j+="ut";i6j+="o";P9t.Studies.calculateIntradayMomentum=function(h9t,p9t){var A9t,q9t,G9t,Y9t,E6j,x6j,s9t,B9t;A9t=p9t.chart.scrubbed;q9t=p9t.days;if(A9t.length < q9t + +"1"){p9t.error=! ![];return;}G9t=0;Y9t=0;if(p9t.startFrom > 1){G9t=A9t[p9t.startFrom - 1]["_totUp " + p9t.name];Y9t=A9t[p9t.startFrom - +"1"]["_totDn " + p9t.name];}for(var Q9t=p9t.startFrom;Q9t < A9t.length;Q9t++){E6j="_";E6j+="to";E6j+="tDn";E6j+=" ";x6j="Re";x6j+="sult ";s9t=A9t[Q9t].Close - A9t[Q9t].Open;if(s9t > +"0"){G9t+=s9t;}else {Y9t-=s9t;}if(Q9t >= q9t){B9t=A9t[Q9t - q9t].Close - A9t[Q9t - q9t].Open;if(B9t > 0){G9t-=B9t;}else {Y9t+=B9t;}}r244.d0X(67);A9t[Q9t][x6j + p9t.name]=r244.E0X(Y9t,G9t,G9t,100);A9t[Q9t]["_totUp " + p9t.name]=G9t;A9t[Q9t][E6j + p9t.name]=Y9t;}};P9t.Studies.studyLibrary=P9t.extend(P9t.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:P9t.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"70" - 0,studyOverBoughtColor:i6j,studyOverSoldValue:"30" - 0,studyOverSoldColor:"auto"}}}});}};Q8S=C9t=>{r244.L7b();var O9t,Y6j,L6j;O9t=typeof _CIQ !== "undefined"?_CIQ:C9t.CIQ;if(!O9t.Studies){Y6j="keltner feature requir";Y6j+="es first activating studies feature.";console.error(Y6j);}else {L6j="e";L6j+="m";L6j+="a";O9t.Studies.calculateKeltner=function(H9t,x9t){var b6j,w6j;r244.L7b();b6j="M";b6j+="A";w6j="C";w6j+="lose";O9t.Studies.MA(x9t.inputs["Moving Average Type"],x9t.days,w6j,0,b6j,H9t,x9t);O9t.Studies.calculateStudyATR(H9t,x9t);O9t.Studies.calculateGenericEnvelope(H9t,x9t,x9t.inputs.Shift,"MA " + x9t.name,"ATR " + x9t.name);};O9t.Studies.studyLibrary=O9t.extend(O9t.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:O9t.Studies.displayChannel,calculateFN:O9t.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":L6j,"Channel Fill":! !{}},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" - 0,step:"0.1" * 1}}}});}};G8S=v9t=>{var T9t,R6j;T9t=typeof _CIQ !== "undefined"?_CIQ:v9t.CIQ;r244.L7b();if(!T9t.Studies){console.error("klinger feature requires first activating studies feature.");}else {R6j="Klinger ";R6j+="V";R6j+="olume Oscillato";R6j+="r";T9t.Studies.calculateKlinger=function(n9t,w9t){var d6j,B6j,U6j,K9t,b0g,k9t,W0g,S9t,R0g,Z9t,t0g,M0g,y9t,n6j,V9t;d6j="_EMA";d6j+="-L ";r244.m7b();B6j="_";B6j+="S";B6j+="V ";U6j="Kli";U6j+="nger ";K9t=w9t.chart.scrubbed;b0g=Number(w9t.inputs["Short Cycle"]);k9t=Number(w9t.inputs["Long Cycle"]);if(K9t.length < Math.max(b0g,k9t) + 1){w9t.error=! !{};return;}W0g=w9t.name + "_hist";S9t=U6j + w9t.name;R0g="KlingerSignal " + w9t.name;Z9t=B6j + w9t.name;t0g="_EMA-S " + w9t.name;M0g=d6j + w9t.name;for(y9t=Math.max(1,w9t.startFrom);y9t < K9t.length;y9t++){n6j="hlc";n6j+="/";n6j+="3";V9t=K9t[y9t].Volume;if(K9t[y9t][n6j] < K9t[y9t - 1]["hlc/3"]){V9t*=-1;}if(V9t){K9t[y9t][Z9t]=V9t;}}r244.d0X(1);T9t.Studies.MA("exponential",b0g,Z9t,r244.D0X("0",148541792),"_EMA-S",n9t,w9t);T9t.Studies.MA("exponential",k9t,Z9t,0,"_EMA-L",n9t,w9t);for(y9t=Math.max(k9t,w9t.startFrom);y9t < K9t.length;y9t++){if(K9t[y9t].futureTick || K9t[y9t][t0g] === null || K9t[y9t][M0g] === null)break;K9t[y9t][S9t]=K9t[y9t][t0g] - K9t[y9t][M0g];}T9t.Studies.MA("exponential",Number(w9t.inputs["Signal Periods"]),S9t,0,"KlingerSignal",n9t,w9t);for(y9t=w9t.startFrom;y9t < K9t.length;y9t++){K9t[y9t][W0g]=K9t[y9t][S9t] - K9t[y9t][R0g];}w9t.outputMap[W0g]="";};T9t.Studies.studyLibrary=T9t.extend(T9t.Studies.studyLibrary,{Klinger:{name:R6j,seriesFN:T9t.Studies.displayHistogramWithSeries,calculateFN:T9t.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};Y8S=E0g=>{var k6j,r0g,a1q,O1q,X1q,v6j;k6j="undefi";k6j+="ned";r0g=typeof _CIQ !== k6j?_CIQ:E0g.CIQ;if(!r0g.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {a1q="f";a1q+="ie";a1q+="l";a1q+="d";O1q="Linear R";O1q+="eg Forecast";X1q="ti";X1q+="me ";X1q+="ser";X1q+="ies";v6j="tim";v6j+="e se";v6j+="ries";r0g.Studies.prettify[v6j]="tsma";r0g.Studies.movingAverage.conversions.tsma="time series";r0g.Studies.movingAverage.translations[X1q]="Time Series";r0g.Studies.movingAverage.typeMap.tsma="TimeSeries";r0g.Studies.movingAverage.typeMap["time series"]="TimeSeries";r0g.Studies.calculateMovingAverageTimeSeries=function(D0g,c0g){var N6R=r244;var d0g,I0g,u0g,e0g,L0g,N0g,m0g,Z1q,a0g;c0g.ma=new r0g.Studies.StudyDescriptor(c0g.name,"ma",c0g.panel);c0g.ma.chart=c0g.chart;c0g.ma.days=c0g.days;c0g.ma.startFrom=c0g.startFrom;c0g.ma.inputs=c0g.inputs;r0g.Studies.calculateLinearRegressionIndicator(D0g,c0g.ma);d0g=c0g.name;for(var F0g in c0g.outputs){N6R.d0X(44);d0g=N6R.E0X(d0g,F0g,(102.49,120.62) == (3848,6463)?9568 != 2932?172.93:(233.25,!"1"):" ");}N6R.m7b();I0g=parseInt(c0g.inputs.Offset,10);if(isNaN(I0g)){I0g=0;}u0g=c0g.chart.scrubbed;e0g=I0g;for(var J0g=c0g.startFrom - 1;J0g >= 0;J0g--){L0g=u0g[J0g][d0g];if(!L0g && L0g !== 0)continue;if(e0g > 0){e0g--;continue;}break;}N0g=[];for(J0g++;J0g < u0g.length;J0g++){m0g=u0g[J0g];if(J0g + I0g >= 0){if(J0g + I0g < u0g.length){N6R.d0X(2);u0g[N6R.D0X(I0g,J0g)][d0g]=m0g["Forecast " + c0g.name];}else {Z1q="Forecast";Z1q+=" ";a0g={};a0g[d0g]=m0g[Z1q + c0g.name];N0g.push(a0g);}}}c0g.appendFutureTicks(D0g,N0g);};r0g.Studies.calculateLinearRegressionIndicator=function(s0g,z0g){var p6R=r244;var f0g,X0g,g0g,Q0g,G0g,i0g,p0g,l0g,A0g,p1q,U0g,j0g,P0g,Y0g,q0g;f0g=z0g.chart.scrubbed;if(f0g.length < z0g.days + 1){z0g.error=! !1;return;}X0g=z0g.inputs.Field;if(!X0g || X0g == "field"){X0g="Close";}g0g=z0g.days * (z0g.days + 1) / 2;Q0g=Math.pow(g0g,2);G0g=g0g * (2 * z0g.days + 1) / 3;i0g=0;p0g=0;p6R.m7b();p6R.d0X(12);l0g=p6R.E0X(0,"0");if(z0g.startFrom){A0g=f0g[z0g.startFrom - 1]["_sums " + z0g.name];if(A0g){p0g=A0g[0];i0g=A0g[1];l0g=A0g[2];}}for(var o0g=z0g.startFrom;o0g < f0g.length;o0g++){p1q="F";p1q+="orecast";p1q+=" ";U0g=f0g[o0g][X0g];if(U0g && typeof U0g == "object"){U0g=U0g[z0g.subField];}if(!U0g && U0g !== +"0")continue;p0g+=z0g.days * U0g - i0g;i0g+=U0g;l0g+=Math.pow(U0g,2);if(o0g < z0g.days - 1)continue;else if(o0g > z0g.days - 1){j0g=f0g[o0g - z0g.days][X0g];if(j0g && typeof j0g == "object"){j0g=j0g[z0g.subField];}if(!j0g && j0g !== "0" - 0)continue;i0g-=j0g;l0g-=Math.pow(j0g,2);}P0g=(z0g.days * p0g - g0g * i0g) / (z0g.days * G0g - Q0g);f0g[o0g]["Slope " + z0g.name]=P0g;Y0g=(i0g - P0g * g0g) / z0g.days;f0g[o0g]["Intercept " + z0g.name]=Y0g;f0g[o0g][p1q + z0g.name]=Y0g + P0g * z0g.days;q0g=(z0g.days * G0g - Q0g) / (z0g.days * l0g - Math.pow(i0g,2));p6R.G0X(68);f0g[o0g]["RSquared " + z0g.name]=p6R.D0X(P0g,P0g,q0g);f0g[o0g]["_sums " + z0g.name]=[p0g,i0g,l0g];}};r0g.Studies.studyLibrary=r0g.extend(r0g.Studies.studyLibrary,{"Lin Fcst":{name:O1q,overlay:!0,calculateFN:r0g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !"1",calculateFN:r0g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:a1q},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:r0g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:r0g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !1,calculateFN:r0g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};q8S=h0g=>{var B0g,S1q,g1q;r244.L7b();B0g=typeof _CIQ !== "undefined"?_CIQ:h0g.CIQ;if(!B0g.Studies){S1q="macd fe";S1q+="ature requires first activating studies feature.";console.error(S1q);}else {g1q="#F";g1q+="F000";g1q+="0";B0g.Studies.calculateMACD=function(k0g,O0g){var d6R=r244;var M1q,c1q,s1q,D1q,l1q,T0g,v0g,C0g,y0g,w0g,H0g,x0g,S0g,N1q,K0g,Z0g,f1q,q1q,V0g;M1q="_M";M1q+="AC";M1q+="D1";d6R.L7b();c1q="exp";c1q+="onential";s1q="f";s1q+="iel";s1q+="d";D1q="S";D1q+="low M";D1q+="A P";D1q+="eriod";l1q="Fa";l1q+="st M";l1q+="A P";l1q+="eriod";T0g=O0g.chart.scrubbed;v0g=O0g.inputs;C0g=O0g.name;if(!O0g.macd1Days){O0g.macd1Days=parseFloat(v0g[l1q]);}if(!O0g.macd2Days){O0g.macd2Days=parseFloat(v0g[D1q]);}if(!O0g.signalDays){O0g.signalDays=parseFloat(v0g["Signal Period"]);}if(!O0g.days){O0g.days=Math.max(O0g.macd1Days,O0g.macd2Days,O0g.signalDays);}if(T0g.length < O0g.days + 1){O0g.error=! !{};return;}y0g=O0g.inputs.Field;if(!y0g || y0g == s1q){y0g="Close";}w0g=v0g["Moving Average Type"];if(!w0g){w0g=c1q;}B0g.Studies.MA(w0g,O0g.macd1Days,y0g,0,M1q,k0g,O0g);B0g.Studies.MA(w0g,O0g.macd2Days,y0g,0,"_MACD2",k0g,O0g);S0g=Math.max(O0g.startFrom,O0g.days - 1);for(H0g=S0g;H0g < T0g.length;H0g++){N1q="_";N1q+="MACD";N1q+="2";N1q+=" ";x0g=T0g[H0g];if((x0g["_MACD1 " + C0g] || x0g["_MACD1 " + C0g] === "0" << 418479648) && (x0g["_MACD2 " + C0g] || x0g["_MACD2 " + C0g] === ("0" | 0))){d6R.G0X(2);x0g[d6R.D0X(C0g,"MACD ")]=x0g["_MACD1 " + C0g] - x0g[N1q + C0g];}}K0g=v0g["Signal MA Type"];if(!K0g){K0g="exponential";}B0g.Studies.MA(K0g,O0g.signalDays,"MACD " + C0g,0,"Signal",k0g,O0g);d6R.d0X(2);Z0g=d6R.E0X("_hist",C0g);for(H0g=S0g;H0g < T0g.length;H0g++){f1q="M";f1q+="AC";f1q+="D ";q1q="Sig";q1q+="n";q1q+="a";q1q+="l ";x0g=T0g[H0g];d6R.d0X(2);V0g=x0g[d6R.D0X(C0g,q1q)];if(!V0g && V0g !== 0)continue;x0g[Z0g]=x0g[f1q + C0g] - x0g["Signal " + C0g];}O0g.outputMap[Z0g]="";};B0g.Studies.studyLibrary=B0g.extend(B0g.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:B0g.Studies.calculateMACD,seriesFN:B0g.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:g1q,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};s8S=b1g=>{var n0g;r244.m7b();n0g=typeof _CIQ !== "undefined"?_CIQ:b1g.CIQ;if(!n0g.Studies){console.error("massIndex feature requires first activating studies feature.");}else {n0g.Studies.calculateMassIndex=function(E1g,W1g){r244.L7b();var y1q,z1q,I1q,t1g,r1g,Q1q;y1q="_to";y1q+="tal ";z1q="_E";z1q+="MA";z1q+="2";I1q="_";I1q+="E";I1q+="M";I1q+="A ";t1g=W1g.chart.scrubbed;if(t1g.length < Math.max(9,W1g.days + ("1" << 1081566816))){W1g.error=! !"1";return;}for(var R1g=W1g.startFrom;R1g < t1g.length;R1g++){t1g[R1g]["_High-Low " + W1g.name]=t1g[R1g].High - t1g[R1g].Low;}n0g.Studies.MA("exponential",+"9","_High-Low " + W1g.name,0,"_EMA",E1g,W1g);n0g.Studies.MA("exponential",9,I1q + W1g.name,0,z1q,E1g,W1g);r1g=0;if(t1g[W1g.startFrom - 1] && t1g[W1g.startFrom - 1]["_total " + W1g.name]){r1g=t1g[W1g.startFrom - ("1" & 2147483647)][y1q + W1g.name];}for(var M1g=Math.max(+"17",W1g.startFrom);M1g < t1g.length;M1g++){r1g+=t1g[M1g]["_EMA " + W1g.name] / t1g[M1g]["_EMA2 " + W1g.name];if(M1g >= ("17" ^ 0) + W1g.days - 1){Q1q="_";Q1q+="E";Q1q+="MA";Q1q+=" ";t1g[M1g]["Result " + W1g.name]=r1g;r1g-=t1g[M1g - W1g.days + 1][Q1q + W1g.name] / t1g[M1g - W1g.days + 1]["_EMA2 " + W1g.name];}t1g[M1g]["_total " + W1g.name]=r1g;}};n0g.Studies.displayMassIndex=function(J1g,c1g,L1g){var I1g,N1g,d1g,u1g,e1g;n0g.Studies.displaySeriesAsLine(J1g,c1g,L1g);I1g=c1g.inputs["Bulge Threshold"];r244.m7b();N1g=J1g.panels[c1g.panel];d1g=c1g.getYAxis(J1g);u1g=n0g.Studies.determineColor(c1g.outputs.Result);e1g={skipTransform:J1g.panels[c1g.panel].name != c1g.chart.name,panelName:c1g.panel,band:"Result " + c1g.name,threshold:I1g,direction:1,color:u1g,yAxis:d1g,opacity:0.3};if(!c1g.highlight && J1g.highlightedDraggable){e1g.opacity*=0.3;}n0g.preparePeakValleyFill(J1g,e1g);n0g.Studies.drawHorizontal(J1g,c1g,null,I1g,d1g,u1g);};n0g.Studies.studyLibrary=n0g.extend(n0g.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:n0g.Studies.displayMassIndex,calculateFN:n0g.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":+"27"},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};B8S=a1g=>{var m1g,m1q;m1g=typeof _CIQ !== "undefined"?_CIQ:a1g.CIQ;if(!m1g.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {m1q="a";m1q+="u";m1q+="t";m1q+="o";m1g.Studies.calculateMoneyFlowIndex=function(A1g,z1g){var j6R=r244;var F1g,f1g,o1g,i1g,P1g,j1g,g1g,X1g,p1g,U1g,l1g;F1g=z1g.chart.scrubbed;if(F1g.length < z1g.days + 1){z1g.error=!0;return;}f1g=0;o1g=0;i1g=F1g[z1g.startFrom - 1];j6R.m7b();P1g="_rawMF " + z1g.name;j1g="_cumMF " + z1g.name;g1g="Result " + z1g.name;if(i1g && i1g[j1g]){f1g=i1g[j1g][0];o1g=i1g[j1g][1];}for(var D1g=z1g.startFrom;D1g < F1g.length;D1g++){X1g=F1g[D1g]["hlc/3"];if(D1g > 0 && !F1g[D1g].futureTick){j6R.d0X(6);p1g=F1g[j6R.E0X(1,D1g)]["hlc/3"];U1g=X1g * F1g[D1g].Volume;if(X1g > p1g){f1g+=U1g;}else if(X1g < p1g){U1g*=-1;o1g-=U1g;}else {U1g=0;}if(D1g > z1g.days){l1g=F1g[D1g - z1g.days][P1g];if(l1g > 0){f1g-=l1g;}else {o1g+=l1g;}if(o1g === 0){F1g[D1g][g1g]=100;}else if(F1g[D1g].Volume){j6R.G0X(69);F1g[D1g][g1g]=j6R.E0X(100,0,"1",f1g,"100",o1g);}}F1g[D1g][P1g]=U1g;F1g[D1g][j1g]=[f1g,o1g];}}};m1g.Studies.studyLibrary=m1g.extend(m1g.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:m1g.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:m1q}}}});}};h8S=G1g=>{r244.m7b();var Q1g,k1q,R1q,d1q,B1q,U1q,L1q,J1q,K1q,W1q,C1q;Q1g=typeof _CIQ !== "undefined"?_CIQ:G1g.CIQ;if(!Q1g.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {k1q="a";k1q+="ut";k1q+="o";R1q="au";R1q+="to";d1q="f";d1q+="i";d1q+="e";d1q+="ld";B1q="a";B1q+="uto";U1q="a";U1q+="u";U1q+="to";L1q="p";L1q+="oints";J1q="D";J1q+="ou";J1q+="bleExponentia";J1q+="l";K1q="H";K1q+="ull";W1q="h";W1q+="ma";C1q="de";C1q+="m";C1q+="a";Q1g.Studies.prettify=Q1g.extend({"2-exponential":C1q,"3-exponential":"tema",hull:W1q},Q1g.Studies.prettify);Q1g.extend(Q1g.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:K1q,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":J1q,tema:"TripleExponential","3-exponential":"TripleExponential"}});Q1g.Studies.calculateMovingAverageHull=function(H1g,Y1g){var o1q,e1q,h1q,s1g,B1g,q1g,h1g,O1g,C1g,T1g,x1g;o1q="w";o1q+="ma";e1q="_W";e1q+="M";e1q+="A1";h1q="f";h1q+="i";h1q+="el";h1q+="d";s1g=Y1g.chart.scrubbed;B1g=Y1g.inputs.Field;if(!B1g || B1g == h1q){B1g="Close";}Q1g.Studies.MA("wma",Y1g.days,B1g,0,e1q,H1g,Y1g);Q1g.Studies.MA("wma",Math.ceil(Y1g.days / 2),B1g,0,"_WMA2",H1g,Y1g);for(q1g=Y1g.startFrom - 1;q1g >= +"0";q1g--){h1g=s1g[q1g][B1g];if(h1g && typeof h1g == "object"){h1g=h1g[Y1g.subField];}if(h1g || h1g === 0)break;}for(q1g++;q1g < s1g.length;q1g++){O1g=s1g[q1g];O1g["_MMA " + Y1g.name]=2 * O1g["_WMA2 " + Y1g.name] - O1g["_WMA1 " + Y1g.name];}C1g=parseInt(Y1g.inputs.Offset,10);if(isNaN(C1g)){C1g=0;}T1g=Math.floor(Math.sqrt(Y1g.days));Q1g.Studies.MA(o1q,T1g,"_MMA " + Y1g.name,C1g,"_HMA",H1g,Y1g);x1g=Y1g.name;for(var v1g in Y1g.outputs){r244.G0X(44);x1g=r244.D0X(x1g,v1g," ");}for(q1g=Math.max(Y1g.days + T1g - 1,Y1g.startFrom);q1g < s1g.length;q1g++){s1g[q1g][x1g]=s1g[q1g]["_HMA " + Y1g.name];}};Q1g.Studies.calculateMovingAverageDoubleExponential=function(n1g,y1g){var v6R=r244;var H1q,S1g,Z1g,K1g,w1g,k1g,b2g,A1q,V1g,W2g,t2g,M2g,R2g;H1q="f";H1q+="ie";H1q+="l";H1q+="d";S1g=y1g.chart.scrubbed;Z1g=y1g.inputs.Field;if(!Z1g || Z1g == H1q){Z1g="Close";}Q1g.Studies.MA("ema",y1g.days,Z1g,+"0","_EMA1",n1g,y1g);Q1g.Studies.MA("ema",y1g.days,"_EMA1 " + y1g.name,0,"_EMA2",n1g,y1g);K1g=parseInt(y1g.inputs.Offset,10);if(isNaN(K1g)){K1g=0;}b2g=K1g;for(w1g=y1g.startFrom - 1;w1g >= 0;w1g--){A1q="o";A1q+="bj";A1q+="ec";A1q+="t";k1g=S1g[w1g][Z1g];if(k1g && typeof k1g == A1q){k1g=k1g[y1g.subField];}if(!k1g && k1g !== 0)continue;if(b2g > 0){b2g--;continue;}break;}V1g=y1g.name;for(var r2g in y1g.outputs){v6R.d0X(44);V1g=v6R.E0X(V1g,r2g," ");}W2g=[];for(w1g++;w1g < S1g.length;w1g++){if(w1g < 2 * (y1g.days - 1))continue;t2g=S1g[w1g];M2g=2 * t2g["_EMA1 " + y1g.name] - t2g["_EMA2 " + y1g.name];if(w1g + K1g >= 0){if(w1g + K1g < S1g.length){v6R.d0X(2);S1g[v6R.E0X(K1g,w1g)][V1g]=M2g;}else {R2g={};R2g[V1g]=M2g;W2g.push(R2g);}}}y1g.appendFutureTicks(n1g,W2g);};Q1g.Studies.calculateMovingAverageTripleExponential=function(L2g,E2g){var I6R=r244;var V1q,G1q,T1q,u1q,j1q,d2g,u2g,J2g,c2g,I2g,m2g,e2g,a2g,t1q,N2g,D2g,F2g;I6R.m7b();V1q="_E";V1q+="MA2";V1q+=" ";G1q="_EMA";G1q+="2";T1q="_EMA1";T1q+=" ";u1q="e";u1q+="ma";j1q="C";j1q+="l";j1q+="os";j1q+="e";d2g=E2g.chart.scrubbed;u2g=E2g.inputs.Field;if(!u2g || u2g == "field"){u2g=j1q;}Q1g.Studies.MA("ema",E2g.days,u2g,0,"_EMA1",L2g,E2g);Q1g.Studies.MA(u1q,E2g.days,T1q + E2g.name,0,G1q,L2g,E2g);Q1g.Studies.MA("ema",E2g.days,V1q + E2g.name,0,"_EMA3",L2g,E2g);J2g=parseInt(E2g.inputs.Offset,"10" << 861531840);if(isNaN(J2g)){J2g=0;}m2g=J2g;for(c2g=E2g.startFrom - 1;c2g >= +"0";c2g--){I2g=d2g[c2g][u2g];if(I2g && typeof I2g == "object"){I2g=I2g[E2g.subField];}if(!I2g && I2g !== ("0" ^ 0))continue;if(m2g > 0){m2g--;continue;}break;}e2g=E2g.name;for(var z2g in E2g.outputs){I6R.G0X(44);e2g=I6R.E0X(e2g,z2g,(8749,7372) > 7130?" ":"Z");}a2g=[];for(c2g++;c2g < d2g.length;c2g++){t1q="_";t1q+="EMA3 ";if(c2g < 3 * (E2g.days - 1))continue;N2g=d2g[c2g];D2g=3 * N2g["_EMA1 " + E2g.name] - 3 * N2g["_EMA2 " + E2g.name] + N2g[t1q + E2g.name];if(c2g + J2g >= 0){if(c2g + J2g < d2g.length){I6R.d0X(2);d2g[I6R.E0X(J2g,c2g)][e2g]=D2g;}else {F2g={};F2g[e2g]=D2g;a2g.push(F2g);}}}E2g.appendFutureTicks(L2g,a2g);};Q1g.Studies.calculateMAEnvelope=function(j2g,o2g){var F1q,f2g,U2g,i2g,P1q;F1q="M";F1q+="A";f2g=o2g.inputs.Field;if(!f2g || f2g == "field"){f2g="Close";}Q1g.Studies.MA(o2g.inputs["Moving Average Type"],o2g.days,f2g,0,F1q,j2g,o2g);r244.L7b();U2g=o2g.inputs["Shift Type"];i2g=o2g.inputs.Shift;if(!U2g){P1q="p";P1q+="e";P1q+="rc";P1q+="ent";U2g=P1q;i2g=o2g.inputs["Shift Percentage"];}if(U2g == "percent"){r244.d0X(10);Q1g.Studies.calculateGenericEnvelope(j2g,o2g,r244.E0X(100,i2g),"MA " + o2g.name);}else if(U2g == "points"){Q1g.Studies.calculateGenericEnvelope(j2g,o2g,null,"MA " + o2g.name,null,Number(i2g));}};Q1g.Studies.calculateMADev=function(s2g,X2g){var K6R=r244;var b1q,Y1q,i1q,E1q,x1q,r1q,A2g,R5h,k5h,v5h,P2g,Q2g,G2g,q2g,g2g,l2g,p2g,w1q;b1q="_h";b1q+="is";b1q+="t";Y1q="_h";Y1q+="is";Y1q+="t";i1q="_";i1q+="M";i1q+="A";E1q="e";E1q+="xpone";E1q+="ntia";E1q+="l";x1q="Poin";x1q+="ts";r1q="f";r1q+="i";K6R.m7b();r1q+="el";r1q+="d";A2g=X2g.chart.scrubbed;if(A2g.length < X2g.days + 1){R5h=+"1838227745";k5h=2061696932;v5h=+"2";for(var Z6h=1;K6R.d5h(Z6h.toString(),Z6h.toString().length,63914) !== R5h;Z6h++){X2g.error=!{};return;}if(K6R.d5h(v5h.toString(),v5h.toString().length,99563) !== k5h){X2g.error=! !1;return;}}P2g=X2g.inputs.Field;if(!P2g || P2g == r1q){P2g="Close";}Q2g=X2g.inputs["Points Or Percent"];if(!Q2g){Q2g=x1q;}G2g=X2g.inputs["Moving Average Type"];if(!G2g){G2g=E1q;}Q1g.Studies.MA(G2g,X2g.days,P2g,0,i1q,s2g,X2g);q2g=X2g.name + Y1q;for(var Y2g=Math.max(X2g.startFrom,X2g.days - 1);Y2g < A2g.length;Y2g++){g2g=A2g[Y2g];l2g=g2g[P2g];if(l2g && typeof l2g == "object"){l2g=l2g[X2g.subField];}p2g=g2g["_MA " + X2g.name];if(p2g || p2g === 0){w1q="Poin";w1q+="t";w1q+="s";if(Q2g == w1q){K6R.d0X(6);g2g[q2g]=K6R.E0X(p2g,l2g);}else {K6R.d0X(70);g2g[q2g]=K6R.E0X(l2g,"1",100,0,p2g);}}}X2g.outputMap={};X2g.outputMap[X2g.name + b1q]="";};Q1g.Studies.studyLibrary=Q1g.extend(Q1g.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!"",seriesFN:Q1g.Studies.displayChannel,calculateFN:Q1g.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent",L1q],Shift:5,"Moving Average Type":"ma","Channel Fill":! ![]},outputs:{"MA Env Top":"auto","MA Env Median":U1q,"MA Env Bottom":B1q},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:Q1g.Studies.calculateMADev,seriesFN:Q1g.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:d1q,"Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! !1,seriesFN:Q1g.Studies.displayChannel,calculateFN:function(h2g,B2g){r244.m7b();var n1q;n1q="Mov";n1q+="in";n1q+="g ";n1q+="Average Type";B2g.inputs[n1q]="triangular";Q1g.Studies.calculateMAEnvelope(h2g,B2g);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":! ![]},outputs:{"High Low Top":"auto","High Low Median":R1q,"High Low Bottom":k1q},attributes:{"Shift Percentage":{min:+"0.1",step:0.1}}}});}};O8S=C2g=>{var O2g,p3q;O2g=typeof _CIQ !== "undefined"?_CIQ:C2g.CIQ;if(!O2g.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {p3q="Pa";p3q+="rabolic SAR";O2g.Studies.calculatePSAR=function(t3g,y2g){var V6R=r244;var x2g,w2g,T2g,K2g,v2g,Z2g,V2g,v1q,k2g,X3q,S2g,n2g,b3g;function W3g(){w2g=0;T2g=null;K2g=!K2g;}x2g=y2g.chart.scrubbed;w2g=0;T2g=null;K2g=! !"";v2g=0;Z2g=parseFloat(y2g.inputs["Minimum AF"]);V2g=parseFloat(y2g.inputs["Maximum AF"]);if(y2g.startFrom > 0){v1q="_s";v1q+="t";v1q+="ate ";v2g=x2g[y2g.startFrom - 1]["Result " + y2g.name];k2g=x2g[y2g.startFrom - 1][v1q + y2g.name];if(k2g && k2g.length == 3){w2g=k2g[0];T2g=k2g[1];K2g=k2g[+"2"];}}for(var H2g=y2g.startFrom - 1;H2g < x2g.length - 1;H2g++){X3q="_stat";X3q+="e ";if(H2g < 0)continue;if(x2g[H2g].futureTick)break;S2g=v2g;if(K2g){if(!T2g || T2g < x2g[H2g].High){T2g=x2g[H2g].High;V6R.G0X(2);w2g=Math.min(V6R.E0X(Z2g,w2g),V2g);}V6R.d0X(71);v2g=V6R.E0X(T2g,S2g,w2g,S2g);n2g=Math.min(x2g[Math.max(1,H2g) - 1].Low,x2g[H2g].Low);if(v2g > x2g[H2g + 1].Low){v2g=T2g;W3g();}else if(v2g > n2g){v2g=n2g;}}else {if(!T2g || T2g > x2g[H2g].Low){T2g=x2g[H2g].Low;V6R.G0X(2);w2g=Math.min(V6R.D0X(Z2g,w2g),V2g);}V6R.d0X(71);v2g=V6R.E0X(T2g,S2g,w2g,S2g);b3g=Math.max(x2g[Math.max(+"1",H2g) - 1].High,x2g[H2g].High);if(v2g < x2g[H2g + 1].High){v2g=T2g;W3g();}else if(v2g < b3g){v2g=b3g;}}V6R.d0X(2);x2g[V6R.D0X(1,H2g)][X3q + y2g.name]=[w2g,T2g,K2g];if(!isNaN(x2g[H2g].High) || !isNaN(x2g[H2g].Low)){V6R.d0X(2);x2g[V6R.D0X(1,H2g)]["Result " + y2g.name]=v2g;}}};O2g.Studies.studyLibrary=O2g.extend(O2g.Studies.studyLibrary,{PSAR:{name:p3q,overlay:! !"1",calculateFN:O2g.Studies.calculatePSAR,seriesFN:O2g.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};C8S=R3g=>{var O3q,M3g,S3q,E3q,x3q,r3q;r244.L7b();O3q="un";O3q+="defined";M3g=typeof _CIQ !== O3q?_CIQ:R3g.CIQ;if(!M3g.Studies){S3q="pivotPoints";S3q+=" feature requires first activa";S3q+="ting studies feature";S3q+=".";console.error(S3q);}else {E3q="#ff";E3q+="d0cf";x3q="#";x3q+="e";x3q+="36460";r3q="au";r3q+="t";r3q+="o";M3g.Studies.calculatePivotPoints=function(I3g,J3g){var s3q,D3q,l3q,E3g,d3g,L3g,u3g,r3g,c3q,q3q,N3q,N3g,m3g,W3q,I3q,e3q,h3q;s3q="_poin";s3q+="ter";s3q+="s ";D3q="15";D3q+="m";D3q+="i";D3q+="n";l3q="millisec";l3q+="ond";E3g=J3g.chart.scrubbed;d3g="day";if(I3g.layout.interval == "day"){d3g="month";}else if(M3g.ChartEngine.isDailyInterval(I3g.layout.interval)){d3g="year";}else if(I3g.layout.interval == "second" || I3g.layout.interval == l3q || I3g.layout.timeUnit == "second" || I3g.layout.timeUnit == "millisecond"){d3g=D3q;}else {L3g=I3g.layout.periodicity;if(I3g.layout.interval != "minute"){L3g*=I3g.layout.interval;}if(L3g >= 30){d3g="week";}}u3g=null;r3g={pivotPoint:NaN,high:"0" | 0,low:0,prevHigh:0,prevLow:"0" ^ 0,hlSpread:0};if(J3g.startFrom > 1 && E3g[J3g.startFrom - 1][s3q + J3g.name]){c3q="_point";c3q+="ers ";r3g=M3g.clone(E3g[J3g.startFrom - 1][c3q + J3g.name]);}for(var c3g=Math.max(1,J3g.startFrom);c3g < E3g.length;c3g++){q3q="mo";q3q+="n";q3q+="th";N3q="ye";N3q+="a";N3q+="r";if(!E3g[c3g - 1])continue;r3g.high=Math.max(r3g.high,E3g[c3g - 1].High);r3g.low=Math.min(r3g.low > 0?r3g.low:E3g[c3g - 1].Low,E3g[c3g - +"1"].Low);if(J3g.inputs.Continuous){e3g();}else if(d3g == N3q && E3g[c3g].DT.getYear() != E3g[c3g - 1].DT.getYear()){e3g();}else if(d3g == q3q && E3g[c3g].DT.getMonth() != E3g[c3g - 1].DT.getMonth()){e3g();}else if(d3g == "week" && E3g[c3g].DT.getDay() < E3g[c3g - 1].DT.getDay()){e3g();}else if(d3g == "day"){if(u3g === null){u3g=M3g.Studies.getMarketOffset({stx:I3g,localQuoteDate:E3g[c3g].DT,shiftToDateBoundary:!""});}N3g=new Date(new Date(+E3g[c3g].DT).setMilliseconds(E3g[c3g].DT.getMilliseconds() + u3g));m3g=new Date(new Date(+E3g[c3g - 1].DT).setMilliseconds(E3g[c3g - 1].DT.getMilliseconds() + u3g));if(m3g.getDate() !== N3g.getDate() && m3g.getDay() !== 0 && I3g.chart.market.isMarketDate(N3g)){u3g=null;e3g();}}else if(d3g == "15min" && (E3g[c3g].DT.getHours() != E3g[c3g - 1].DT.getHours() || Math.floor(E3g[c3g].DT.getMinutes() / 15) != Math.floor(E3g[c3g - 1].DT.getMinutes() / 15))){e3g();}E3g[c3g]["Pivot " + J3g.name]=r3g.pivotPoint;if(J3g.inputs.Type.toLowerCase() == "fibonacci"){W3q="Suppor";W3q+="t";W3q+=" 1 ";I3q="Resi";I3q+="sta";I3q+="nce ";I3q+="2 ";E3g[c3g]["Resistance 1 " + J3g.name]=r3g.pivotPoint + 0.382 * r3g.hlSpread;E3g[c3g][I3q + J3g.name]=r3g.pivotPoint + 0.618 * r3g.hlSpread;E3g[c3g]["Resistance 3 " + J3g.name]=r3g.pivotPoint + r3g.hlSpread;E3g[c3g][W3q + J3g.name]=r3g.pivotPoint - 0.382 * r3g.hlSpread;E3g[c3g]["Support 2 " + J3g.name]=r3g.pivotPoint - 0.618 * r3g.hlSpread;E3g[c3g]["Support 3 " + J3g.name]=r3g.pivotPoint - r3g.hlSpread;}else {e3q="S";e3q+="upport ";e3q+="2 ";h3q="Resistance ";h3q+="2 ";E3g[c3g]["Resistance 1 " + J3g.name]=2 * r3g.pivotPoint - r3g.prevLow;E3g[c3g][h3q + J3g.name]=r3g.pivotPoint + r3g.hlSpread;E3g[c3g]["Resistance 3 " + J3g.name]=r3g.prevHigh + ("2" ^ 0) * (r3g.pivotPoint - r3g.prevLow);E3g[c3g]["Support 1 " + J3g.name]=2 * r3g.pivotPoint - r3g.prevHigh;E3g[c3g][e3q + J3g.name]=r3g.pivotPoint - r3g.hlSpread;E3g[c3g]["Support 3 " + J3g.name]=r3g.prevLow - 2 * (r3g.prevHigh - r3g.pivotPoint);}E3g[c3g]["_pointers " + J3g.name]=M3g.clone(r3g);}function e3g(){r3g.pivotPoint=(r3g.high + r3g.low + E3g[c3g - 1].Close) / 3;r3g.prevHigh=r3g.high;r3g.prevLow=r3g.low;r3g.hlSpread=r3g.high - r3g.low;r3g.high=r3g.low=0;}};M3g.Studies.displayPivotPoints=function(D3g,a3g,o3g){var F3q,T3q,j3q,A3q,z3g,F3g;a3g.noSlopes=!a3g.inputs.Continuous;M3g.Studies.displaySeriesAsLine(D3g,a3g,o3g);r244.L7b();if(a3g.inputs.Shading){F3q="Supp";F3q+="ort";F3q+=" 3";T3q="S";T3q+="upport 2 ";j3q="S";j3q+="up";j3q+="p";j3q+="ort 2";A3q="Resistance ";A3q+="1 ";z3g=D3g.panels[a3g.panel];F3g={noSlopes:a3g.noSlopes,opacity:a3g.parameters.opacity?a3g.parameters.opacity:0.2,skipTransform:z3g.name != a3g.chart.name,yAxis:a3g.getYAxis(D3g)};if(!a3g.highlight && D3g.highlightedDraggable){F3g.opacity*=0.3;}M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Resistance 3 " + a3g.name,bottomBand:"Resistance 2 " + a3g.name,color:M3g.Studies.determineColor(a3g.outputs["Resistance 3"])},F3g));M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Resistance 2 " + a3g.name,bottomBand:A3q + a3g.name,color:M3g.Studies.determineColor(a3g.outputs["Resistance 2"])},F3g));M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Resistance 1 " + a3g.name,bottomBand:"Pivot " + a3g.name,color:M3g.Studies.determineColor(a3g.outputs["Resistance 1"])},F3g));M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Support 1 " + a3g.name,bottomBand:"Pivot " + a3g.name,color:M3g.Studies.determineColor(a3g.outputs["Support 1"])},F3g));M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Support 2 " + a3g.name,bottomBand:"Support 1 " + a3g.name,color:M3g.Studies.determineColor(a3g.outputs[j3q])},F3g));M3g.prepareChannelFill(D3g,M3g.extend({panelName:a3g.panel,topBand:"Support 3 " + a3g.name,bottomBand:T3q + a3g.name,color:M3g.Studies.determineColor(a3g.outputs[F3q])},F3g));}};M3g.Studies.studyLibrary=M3g.extend(M3g.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !"1",seriesFN:M3g.Studies.displayPivotPoints,calculateFN:M3g.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!"1",Shading:! !""},outputs:{Pivot:r3q,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":x3q,"Support 2":"#b3d987","Resistance 3":E3q,"Support 3":"#d3e8ae"},parameters:{init:{opacity:"0.2" * 1}}}});}};x8S=U3g=>{var L3q,f3g,R3q;L3q="unde";r244.m7b();L3q+="fined";f3g=typeof _CIQ !== L3q?_CIQ:U3g.CIQ;if(!f3g.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {R3q="Pretty Good ";R3q+="Oscill";R3q+="ator";f3g.Studies.calculatePrettyGoodOscillator=function(l3g,i3g){var B3q,j3g,n3q;B3q="C";B3q+="lo";B3q+="s";B3q+="e";j3g=i3g.chart.scrubbed;if(j3g.length < i3g.days + 1){i3g.error=! !1;return;}f3g.Studies.MA("exponential",i3g.days,"trueRange",0,"_EMA",l3g,i3g);f3g.Studies.MA("simple",i3g.days,B3q,0,"_SMA",l3g,i3g);r244.L7b();for(var X3g=Math.max(1,i3g.startFrom);X3g < j3g.length;X3g++){n3q="Resu";n3q+="lt ";if(!j3g[X3g]["_SMA " + i3g.name] || !j3g[X3g]["_EMA " + i3g.name])continue;j3g[X3g][n3q + i3g.name]=(j3g[X3g].Close - j3g[X3g]["_SMA " + i3g.name]) / j3g[X3g]["_EMA " + i3g.name];}};f3g.Studies.studyLibrary=f3g.extend(f3g.Studies.studyLibrary,{"Pretty Good":{name:R3q,calculateFN:f3g.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};H8S=g3g=>{var P3g,D2q,l2q,S2q;P3g=typeof _CIQ !== "undefined"?_CIQ:g3g.CIQ;r244.L7b();if(!P3g.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {D2q="#";D2q+="FF";D2q+="0";D2q+="000";l2q="fie";l2q+="l";l2q+="d";S2q="Pr";S2q+="ice Mome";S2q+="ntum Oscillat";S2q+="or";P3g.Studies.calculatePMO=function(q3g,p3g){var a2q,O2q,p2q,Z2q,X2q,v3q,G3g,A3g,Y3g,Q3g,s3g;a2q="P";a2q+="MO";O2q="PM";O2q+="O";p2q="_EM";p2q+="Ax";p2q+="10";Z2q="_RO";Z2q+="Cx10 ";X2q="f";X2q+="i";X2q+="el";X2q+="d";v3q="Double Smoothi";v3q+="ng Period";G3g={Smooth:Number(p3g.inputs["Smoothing Period"]) - 1,Double:Number(p3g.inputs[v3q]) - 1,Signal:Number(p3g.inputs["Signal Period"])};r244.m7b();A3g=p3g.chart.scrubbed;if(A3g.length < G3g.Smooth + G3g.Double){p3g.error=! ![];return;}Y3g=p3g.inputs.Field;if(!Y3g || Y3g == X2q){Y3g="Close";}for(Q3g=p3g.startFrom;Q3g < A3g.length;Q3g++){if(!A3g[Q3g])continue;if(!A3g[Q3g - 1])continue;r244.G0X(6);s3g=A3g[r244.E0X(1,Q3g)][Y3g];if(s3g){A3g[Q3g]["_ROCx10 " + p3g.name]=("1000" << 472645600) * (A3g[Q3g][Y3g] / s3g - +"1");}}P3g.Studies.MA("exponential",G3g.Smooth,Z2q + p3g.name,0,p2q,q3g,p3g);P3g.Studies.MA("exponential",G3g.Double,"_EMAx10 " + p3g.name,+"0",O2q,q3g,p3g);P3g.Studies.MA("exponential",G3g.Signal,"PMO " + p3g.name,0,"PMOSignal",q3g,p3g);p3g.zoneOutput=a2q;};P3g.Studies.studyLibrary=P3g.extend(P3g.Studies.studyLibrary,{PMO:{name:S2q,calculateFN:P3g.Studies.calculatePMO,inputs:{Field:l2q,"Smoothing Period":+"35","Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:D2q},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};T8S=h3g=>{var B3g,Q2q;B3g=typeof _CIQ !== "undefined"?_CIQ:h3g.CIQ;if(!B3g.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {Q2q="R";Q2q+="AV";Q2q+="I";B3g.Studies.calculatePriceOscillator=function(Z3g,O3g){var q6R=r244;var q2q,N2q,M2q,c2q,s2q,y3g,S3g,w3g,x3g,H3g,K3g,C3g,T3g,v3g,f2q;q6R.m7b();q2q="P";q2q+="erc";q2q+="e";q2q+="nt";N2q="Point";N2q+="s O";N2q+="r P";N2q+="ercent";M2q="Clo";M2q+="se";c2q="fi";c2q+="e";c2q+="ld";s2q="Shor";s2q+="t Cycl";s2q+="e";y3g=O3g.chart.scrubbed;S3g=Number(O3g.inputs[s2q]);w3g=Number(O3g.inputs["Long Cycle"]);if(y3g.length < Math.max(S3g,w3g) + 1){O3g.error=! ![];return;}x3g=O3g.inputs.Field;H3g=O3g.inputs["Moving Average Type"];if(!H3g){H3g="simple";}if(!x3g || x3g == c2q){x3g=M2q;}if(O3g.parameters.isVolume){x3g="Volume";H3g="exponential";}K3g=O3g.inputs[N2q];if(!K3g){K3g=q2q;}B3g.Studies.MA(H3g,S3g,x3g,0,"_Short MA",Z3g,O3g);q6R.d0X(12);B3g.Studies.MA(H3g,w3g,x3g,q6R.E0X(0,"0"),"_Long MA",Z3g,O3g);for(var k3g=Math.max(w3g,O3g.startFrom);k3g < y3g.length;k3g++){C3g=y3g[k3g];if(!C3g)continue;T3g=C3g["_Short MA " + O3g.name];v3g=C3g["_Long MA " + O3g.name];if((T3g || T3g === 0) && (v3g || v3g === 0)){f2q="R";f2q+="esult ";if(K3g == "Points"){q6R.d0X(6);C3g[f2q + O3g.name]=q6R.E0X(v3g,T3g);}else {q6R.G0X(72);C3g["Result " + O3g.name]=q6R.D0X(T3g,100,1,v3g);}if(O3g.outputs["Increasing Bar"]){C3g[O3g.name + "_hist"]=C3g["Result " + O3g.name];O3g.outputMap={};O3g.outputMap[O3g.name + "_hist"]="";}}}};B3g.Studies.displayRAVI=function(n3g,V3g,e7g){var d7g,M7g,L7g,N7g,c7g,F7g,z7g,y2q,z2q,I2q,g2q,W7g,I7g,a7g,D7g;d7g=n3g.panels[V3g.panel];M7g=V3g.getContext(n3g);L7g=V3g.getYAxis(n3g);N7g=n3g.pixelFromPrice(+"0",d7g,L7g);c7g=n3g.layout.candleWidth - 2;if(c7g < 2){c7g=1;}F7g=B3g.Studies.determineColor(V3g.outputs["Increasing Bar"]);z7g=B3g.Studies.determineColor(V3g.outputs["Decreasing Bar"]);n3g.startClip(V3g.panel);n3g.canvasColor("stx_histogram");if(!V3g.underlay){M7g.globalAlpha=1;}if(!V3g.highlight && n3g.highlightedDraggable){M7g.globalAlpha*=0.3;}for(var R7g=0;R7g < e7g.length;R7g++){y2q="_h";y2q+="i";y2q+="s";y2q+="t";z2q="_h";z2q+="is";z2q+="t";I2q="#CCC";I2q+="CC";I2q+="C";g2q="_his";g2q+="t";W7g=e7g[R7g];r244.d0X(73);I7g=e7g[r244.E0X("1",R7g)];if(!I7g){I7g=n3g.getPreviousBar(n3g.chart,V3g.name + g2q,R7g);}if(!W7g)continue;a7g=0;D7g=0;if(V3g.parameters && V3g.parameters.studyOverZonesEnabled){a7g=parseFloat(V3g.parameters.studyOverBoughtValue);D7g=parseFloat(V3g.parameters.studyOverSoldValue);}if(!I7g){M7g.fillStyle=I2q;}else if(W7g[V3g.name + "_hist"] > a7g && I7g[V3g.name + "_hist"] < W7g[V3g.name + "_hist"]){M7g.fillStyle=F7g;}else if(W7g[V3g.name + "_hist"] < D7g && I7g[V3g.name + z2q] > W7g[V3g.name + y2q]){M7g.fillStyle=z7g;}else {M7g.fillStyle="#CCCCCC";}if(W7g.candleWidth){c7g=Math.floor(Math.max("1" ^ 0,W7g.candleWidth - 2));}M7g.fillRect(Math.floor(n3g.pixelFromBar(R7g,d7g.chart) - c7g / 2),Math.floor(N7g),Math.floor(c7g),Math.floor(n3g.pixelFromPrice(W7g[V3g.name + "_hist"],d7g,L7g) - N7g));}n3g.endClip();};B3g.Studies.studyLibrary=B3g.extend(B3g.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:B3g.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:B3g.Studies.calculatePriceOscillator,inputs:{"Short Cycle":+"12","Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:Q2q,seriesFN:B3g.Studies.displayRAVI,calculateFN:B3g.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:+"0",step:"0.1"}}}});}};v8S=U7g=>{var m2q,o7g,J2q,K2q;m2q="unde";m2q+="fi";m2q+="ned";o7g=typeof _CIQ !== m2q?_CIQ:U7g.CIQ;r244.m7b();if(!o7g.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {J2q="a";J2q+="u";J2q+="t";J2q+="o";K2q="-";K2q+="1 to";K2q+=" 1";o7g.Studies.calculatePrimeNumber=function(x7g,g7g){var p7g,Y7g,C2q,P7g,l7g,i7g,W2q,A7g,h7g,O7g;p7g=[];Y7g=g7g.chart.scrubbed;for(var G7g=g7g.startFrom;G7g < Y7g.length;G7g++){C2q="Prime Nu";C2q+="mber Bands";P7g=Y7g[G7g];if(!P7g)continue;l7g=P7g.High;if(!isNaN(l7g)){for(var q7g=0;l7g > 0 && l7g <= +"10";q7g++){l7g*=10;}if(Q7g(l7g)){l7g+=2;}l7g=Math.ceil(l7g);if(l7g % +"2" === 0){l7g++;}while(!Q7g(l7g)){l7g+=2;}l7g/=Math.pow(10,q7g);}i7g=P7g.Low;if(!isNaN(i7g)){for(var B7g=0;i7g > 0 && i7g <= 10;B7g++){i7g*=10;}if(Q7g(i7g)){i7g-=2;}i7g=Math.floor(i7g);if(i7g % 2 === 0){i7g--;}if(i7g > 0){while(!Q7g(i7g)){i7g-=2;}i7g/=Math.pow(10,B7g);}}if(g7g.type == C2q){if(!isNaN(l7g)){P7g["Prime Bands Top " + g7g.name]=l7g;}if(!isNaN(i7g)){P7g["Prime Bands Bottom " + g7g.name]=Math.max(0,i7g);}}else {W2q="Tolerance Percentag";W2q+="e";A7g=0;h7g=g7g.inputs[W2q] * (l7g - i7g) / ("100" * 1);O7g=l7g + i7g - +"2" * P7g.Close;if(O7g < h7g){r244.d0X(12);A7g=r244.E0X(0,"1");}else if(O7g > h7g){A7g=-1;}if(A7g){P7g["Result " + g7g.name]=A7g;}}}function Q7g(H7g){var K7g;if(H7g <= 0){return !{};}else if(H7g != Math.floor(H7g)){return !{};}else if(p7g[H7g] === ! !{} || p7g[H7g] === !{}){return p7g[H7g];}K7g=parseInt(Math.sqrt(H7g),10);r244.L7b();for(var T7g="2" | 2;T7g <= K7g;T7g++){if(H7g % T7g === +"0"){p7g[H7g]=!{};return ! !0;}}p7g[H7g]=! !"1";return ! ![];}};o7g.Studies.studyLibrary=o7g.extend(o7g.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:K2q,calculateFN:o7g.Studies.calculatePrimeNumber,centerline:+"0",inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !"1",calculateFN:o7g.Studies.calculatePrimeNumber,seriesFN:o7g.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":J2q,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};y8S=S7g=>{var h2q,k7g,P2q,F2q,t2q,V2q,G2q;r244.L7b();h2q="u";h2q+="ndefined";k7g=typeof _CIQ !== h2q?_CIQ:S7g.CIQ;if(!k7g.Studies){console.error("pring feature requires first activating studies feature.");}else {P2q="w";P2q+="e";P2q+="e";P2q+="kly";F2q="d";F2q+="ai";F2q+="l";F2q+="y";t2q="Pring";t2q+="'";t2q+="s S";t2q+="pecial K";V2q="#";V2q+="00DD";V2q+="0";V2q+="0";G2q="Pr";G2q+="ing";G2q+="'s Know Sure ";G2q+="Thing";k7g.Studies.calculateKST=function(E5g,V7g){var j2q,A2q,H2q,o2q,e2q,W5g,M5g,t5g,R5g,c5g,b5g,n7g,u2q,r5g;j2q="Hea";j2q+="viest SMA Peri";j2q+="od";r244.L7b();A2q="Heavy S";A2q+="MA Pe";A2q+="riod";H2q="Light SMA ";H2q+="Period";o2q="Heavy Rate";o2q+=" of Change Period";e2q="Light Rate";e2q+=" of Change Period";W5g=V7g.chart.scrubbed;M5g=V7g.inputs.Field;if(!M5g || M5g == "field"){M5g="Close";}t5g={};R5g={};t5g[1]=Number(V7g.inputs["Lightest Rate of Change Period"]);t5g[2]=Number(V7g.inputs[e2q]);t5g[3]=Number(V7g.inputs[o2q]);t5g[4]=Number(V7g.inputs["Heaviest Rate of Change Period"]);R5g[+"1"]=Number(V7g.inputs["Lightest SMA Period"]);R5g[2]=Number(V7g.inputs[H2q]);R5g[3]=Number(V7g.inputs[A2q]);R5g[4]=Number(V7g.inputs[j2q]);c5g=Number(V7g.inputs["Signal Period"]);for(b5g=V7g.startFrom;b5g < W5g.length;b5g++){if(!W5g[b5g])continue;for(n7g=1;n7g <= 4;n7g++){u2q="_";u2q+="RO";u2q+="C";if(b5g >= t5g[n7g] && W5g[b5g - t5g[n7g]] && W5g[b5g - t5g[n7g]][M5g]){W5g[b5g][u2q + n7g + (+"2100" != 950.87?" ":731.40) + V7g.name]=100 * (W5g[b5g][M5g] / W5g[b5g - t5g[n7g]][M5g] - 1);}}}for(n7g=1;n7g <= +"4";n7g++){k7g.Studies.MA("simple",R5g[n7g],"_ROC" + n7g + (9560 != (446.83,8274)?7874 === (492.57,701.21)?(4270,9240) === 228.48?(0x24a6,6.64e+3):6.39e+3:" ":(6.56e+3,"b")) + V7g.name,0,"_SMA" + n7g,E5g,V7g);}for(b5g=V7g.startFrom;b5g < W5g.length;b5g++){W5g[b5g]["KST " + V7g.name]=null;for(n7g=1;n7g <= "4" >> 99858432;n7g++){r5g=W5g[b5g]["_SMA" + n7g + " " + V7g.name];if(r5g || r5g === 0){r244.G0X(16);W5g[b5g]["KST " + V7g.name]+=r244.D0X(n7g,r5g);}}}k7g.Studies.MA("simple",c5g,"KST " + V7g.name,0,"KSTSignal",E5g,V7g);};k7g.Studies.calculateSpecialK=function(D5g,e5g){var d5g,L5g,u5g,N5g,m5g,I5g,J5g,T2q,a5g;d5g=e5g.chart.scrubbed;L5g=e5g.inputs.Field;if(!L5g || L5g == "field"){L5g="Close";}u5g=e5g.inputs.Interval;if(!u5g){u5g="daily";}N5g={daily:[10,"15" & 2147483647,20,+"30",50,65,75,"100" * 1,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,"52" & 2147483647,78,104]};m5g={daily:[10,10,10,"15" >> 2060182816,50,65,75,100,130,130,130,195],weekly:[4,"5" & 2147483647,"6" >> 2130473568,"8" ^ 0,10,13,15,20,26,"26" << 1988316064,26,39]};for(I5g=e5g.startFrom;I5g < d5g.length;I5g++){if(!d5g[I5g])continue;for(J5g=0;J5g < N5g[u5g].length;J5g++){if(I5g >= N5g[u5g][J5g] && d5g[I5g - N5g[u5g][J5g]] && d5g[I5g - N5g[u5g][J5g]][L5g]){d5g[I5g]["_ROC" + J5g + (4360 < 3010?"233.52" - 0 > (134.09,168)?491.14:0x9b5:" ") + e5g.name]=100 * (d5g[I5g][L5g] / d5g[I5g - N5g[u5g][J5g]][L5g] - 1);}}}for(J5g=0;J5g < m5g[u5g].length;J5g++){k7g.Studies.MA(u5g == "daily"?"simple":"exponential",m5g[u5g][J5g],"_ROC" + J5g + " " + e5g.name,0,"_MA" + J5g,D5g,e5g);}for(I5g=e5g.startFrom;I5g < d5g.length;I5g++){d5g[I5g]["Result " + e5g.name]=null;for(J5g=0;J5g < m5g[u5g].length;J5g++){T2q="_";T2q+="M";T2q+="A";a5g=d5g[I5g][T2q + J5g + " " + e5g.name];if(a5g || a5g === 0){r244.d0X(74);d5g[I5g]["Result " + e5g.name]+=r244.E0X(4,a5g,J5g,1);}}}};k7g.Studies.studyLibrary=k7g.extend(k7g.Studies.studyLibrary,{"Pring KST":{name:G2q,calculateFN:k7g.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:V2q,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:t2q,calculateFN:k7g.Studies.calculateSpecialK,inputs:{Field:"field",Interval:[F2q,P2q]}}});}};w8S=z5g=>{var F5g,o5g,O8q,p8q,Z8q,X8q,v2q,k2q,R2q,n2q;F5g=typeof _CIQ !== "undefined"?_CIQ:z5g.CIQ;o5g=typeof _timezoneJS !== "undefined"?_timezoneJS:z5g.timezoneJS;if(!F5g.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {O8q="-";O8q+="1";O8q+="50";O8q+="%";p8q="-";p8q+="7";p8q+="5";p8q+="%";Z8q="N";Z8q+="o";Z8q+="ne";X8q="+";X8q+="2";X8q+="5";X8q+="%";v2q="+";v2q+="75";v2q+="%";k2q="+";k2q+="1";k2q+="5";k2q+="0%";R2q="0 to ma";R2q+="x";n2q="Pro";n2q+="jected Volume at T";n2q+="ime";F5g.Studies.initProjectedVolume=function(i5g,l5g,U5g,P5g,g5g,p5g){r244.m7b();var f5g,X5g;var {market:j5g}=i5g.chart;f5g="00:00";if(j5g){f5g=j5g.getNormalOpen();}if(f5g.match(/^[\d]{2}:[\d]{2}$/)){f5g+=":00";}if(!U5g["Anchor Time"] || !U5g["Anchor Time"].length){U5g["Anchor Time"]=f5g;}X5g=F5g.Studies.initializeFN(i5g,l5g,U5g,P5g,g5g,p5g);if(!i5g.currentlyImporting){X5g.defaultAnchorTime=f5g;}return X5g;};F5g.Studies.validateProjectedVolumeLookback=function(Y5g,q5g){var {interval:A5g, periodicity:Q5g}=Y5g.layout;var {"Lookback Days":G5g}=q5g.inputs;r244.d0X(75);r244.L7b();return r244.D0X(Q5g,G5g,A5g,10);};F5g.Studies.calculateProjectedVolume=function(h5g,s5g){var J5b=r244;var U2q,i2q,E2q,x2q,r2q,P6g,w5g,V5g,p6g,A6g,L6g,N6g,O5g,m6g,n6g,C5g,a6g,D6g,Q6g,F6g,Y2q,K5g,z6g,b4g,y5g,W4g,R6g,x5g,J6g,T5g,n5g,Y6g,q6g,s6g,B6g,f6g,U6g,u6g,R4g,h6g,b6g,W6g,e6g,r4g,w2q,i6g,L2q,H5g,O6g,C6g,j6g,x6g,r6g,b2q;U2q="V";U2q+=" ";i2q="P";i2q+="V";i2q+=" ";E2q="Anchor";E2q+=" S";E2q+="elector";x2q="he";x2q+="i";x2q+="kinas";x2q+="hi";r2q="min";r2q+="u";r2q+="t";r2q+="e";function t6g(e4g){J5b.m7b();return {hours:e4g.getHours(),minutes:e4g.getMinutes()};}var {interval:w6g, timeUnit:X6g, aggregationType:l6g}=h5g.layout;var {symbol:K6g, scroll:k6g, scrubbed:B5g, market:v5g}=h5g.chart;P6g=s5g.type === "PAV";w5g=s5g.study?s5g.study.name:s5g.type;if(F5g.ChartEngine.isDailyInterval(w6g)){s5g.error=`${w5g} is Intraday Only`;}else if(X6g === "tick"){s5g.error=`Tick mode not supported for ${w5g}`;}else if(X6g !== r2q){s5g.error=`Sub-minute periodicities not supported for ${w5g}`;}else if(!l6g || !["ohlc",x2q].includes(l6g)){s5g.error=`Aggregation type not supported for ${w5g}`;}else if(!F5g.Studies.validateProjectedVolumeLookback(h5g,s5g)){s5g.error=`Selected lookback/periodicity combo not supported for ${w5g}`;}if(s5g.error){return;}if(s5g.inputs[E2q]){F5g.Studies.initAnchorHandle(h5g,s5g);}else {F5g.Studies.removeAnchorHandle(h5g,s5g);}V5g=v5g?v5g.getNormalOpen():"00:00";if(V5g.match(/^[\d]{2}:[\d]{2}$/)){V5g+=":00";}if(!h5g.currentlyImporting && V5g !== s5g.defaultAnchorTime){s5g.defaultAnchorTime=V5g;s5g.inputs["Anchor Time"]=V5g;F5g.Studies.repositionAnchor(h5g,s5g);return;}var {"Lookback Days":c6g, "Anchor Time":S6g}=s5g.inputs;function E4g(F4g){J5b.m7b();var z4g;J5b.d0X(0);F4g.setHours(J5b.E0X("0",0));F4g.setMinutes(+"0");z4g=F5g.Studies.getMarketOffset({stx:h5g,localQuoteDate:F4g});return new Date(F4g.getTime() + z4g);}var [Z6g,V6g,g6g = 0]=S6g.split(4430 <= 5160?":":(3.15e+3,1.18e+2));p6g=F5g.Market.Symbology.isForexSymbol(K6g);A6g=s5g.getDependents(h5g);L6g=0;N6g=[];A6g.forEach(({inputs:c4g, outputMap:J4g})=>{if(c4g.Period){L6g=Math.max(parseInt(c4g.Period),L6g);N6g.push(...Object.keys(J4g));}});function E6g(i4g,j4g){var f4g,U4g,o4g;f4g=y6g(i4g);U4g=v5g.getOpen(f4g) || E4g(f4g);o4g=v6g(U4g);J5b.m7b();if(!j4g){return o4g;}if(o4g < 0){o4g=v6g(T6g(U4g,1,!0));}if(o4g >= B5g.length){return !"1";}return o4g;}s5g.dependentsOutputMap=N6g;m6g=E6g(B5g.length - 1,! !{});n6g=Math.ceil(B5g.length - 1 - k6g);J5b.d0X(6);C5g=E6g(J5b.E0X(L6g,n6g));if(p6g && B5g[C5g] && F5g.dateToStr(B5g[C5g].DT,"HH:mm") !== V5g){J5b.G0X(6);C5g=E6g(J5b.D0X(1,C5g));;}if(!p6g && s5g.startFrom > C5g && B5g[C5g] && B5g[C5g]["V " + s5g.name] !== undefined && N6g.every(I4g=>{return ![undefined,null].includes(B5g[C5g][I4g]);}) && m6g !== !1){O5g=m6g;;}else {O5g=C5g;}a6g=T6g(y6g(C5g),c6g);a6g.setHours(0,0,0);D6g=E6g(0,! ![]);function H6g(u4g){J5b.L7b();console.error(`Expected data for ${y6g(u4g).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function T6g(L4g,N4g,m4g){while(N4g){L4g=new Date(new Date(L4g).setDate(L4g.getDate() + (m4g?1:-1)));if(v5g.isMarketDate(L4g)){N4g--;}}J5b.L7b();return L4g;}Q6g=(D6g || D6g === 0) && v6g(T6g(B5g[D6g].DT,c6g,! ![]));if(B5g[+"0"].DT > a6g){if(h5g.quoteDriver){h5g.quoteDriver.extendHistoricalData({from:a6g});if(Q6g > 0){O5g=Q6g;}else {return;}}else {return s5g.error=`Not enough data to calculate ${w5g}`;}}if(O5g < +"0" || O5g > B5g.length - 1){return;}F6g=B5g.length - s5g.startFrom === 1 && s5g.cachedFutureTicks && s5g.cachedLastProjection && +s5g.cachedLastProjection.DT === +B5g[B5g.length - 1].DT && B5g[O5g][i2q + s5g.name];if(F6g){Y2q="P";Y2q+="V";Y2q+=" ";B5g[B5g.length - "1" * 1][Y2q + s5g.name]=s5g.cachedLastProjection.projectedValue;s5g.appendFutureTicks(h5g,s5g.cachedFutureTicks);O5g=s5g.startFrom;}else {s5g.cachedFutureTicks=null;s5g.cachedLastProjection=null;K5g=[m6g];z6g=[];for(var G6g=0;G6g < c6g;G6g++){b4g=E6g(K5g["0" & 2147483647] - 1);K5g.unshift(b4g);;}while(K5g[c6g] >= O5g){y5g=K5g.pop();if(!B5g[y5g]){return H6g(y5g);}W4g=t6g(B5g[y5g].DT);var {hours:k5g, minutes:M6g}=W4g;R6g=v5g.getClose(B5g[y5g].DT);J5b.d0X(1);x5g=void J5b.D0X("0",1815017856);if(!R6g){x5g={hours:24,minutes:+"0"};}else {J6g=v5g.getNextClose(B5g[y5g].DT);x5g=t6g(R6g);while(!(x5g.hours === 0 && x5g.minutes === 0) && R6g.getDate() === J6g.getDate()){R6g=J6g;J6g=v5g.getNextClose(J6g);}x5g=t6g(R6g);if(x5g.hours === 0){x5g.hours=24;}}T5g=K5g.slice();for(var I6g=0;I6g < T5g.length;I6g++){n5g=T5g[I6g];if(!B5g[n5g]){return H6g(n5g);}var {hours:d6g, minutes:o6g}=t6g(B5g[n5g].DT);if(d6g < k5g || d6g === k5g && o6g < M6g){do {n5g++;({hours:d6g, minutes:o6g}=t6g(B5g[n5g].DT));}while(!(d6g === k5g && o6g === M6g));}T5g[I6g]=n5g;}while(k5g < x5g.hours || k5g === x5g.hours && M6g < x5g.minutes){Y6g=!{};q6g=void 0;s6g=void 0;B6g=0;f6g=0;for(var S5g=+"0";S5g < T5g.length;S5g++){U6g=T5g[S5g];if(U6g === null)continue;u6g=B5g[U6g];if(!u6g){return H6g(U6g);}var {hours:t4g, minutes:M4g}=t6g(u6g.DT);R4g=u6g.DT.getDate();if(t4g === k5g && M4g === M6g){B6g+=u6g.Volume;f6g++;T5g[S5g]++;if(B5g[T5g[S5g]].DT.getDate() !== R4g){T5g[S5g]=null;}else if(!Y6g){({hours:q6g, minutes:s6g}=t6g(B5g[T5g[S5g]].DT));Y6g=!0;;}}}k5g=q6g;M6g=s6g;if(f6g === 0)break;J5b.G0X(10);h6g=J5b.E0X(f6g,B6g);if(B5g[y5g]){B5g[y5g]["PV " + s5g.name]=h6g;}else {z6g.push({["PV " + s5g.name]:h6g});}y5g++;}K5g.unshift(E6g(K5g[0] - 1));;}s5g.cachedLastProjection={DT:B5g[B5g.length - 1].DT,projectedValue:B5g[B5g.length - 1]["PV " + s5g.name]};s5g.cachedFutureTicks=z6g;s5g.appendFutureTicks(h5g,z6g);}b6g=null;W6g=0;e6g=0;if(F6g && P6g){while(O5g > 0){w2q="V";w2q+=" ";J5b.G0X(6);i6g=B5g[J5b.E0X(1,O5g)][w2q + s5g.name];if(i6g || i6g === 0){W6g=i6g;break;}O5g--;}}for(var Z5g=O5g;Z5g < B5g.length;Z5g++){L2q="P";L2q+="V";L2q+=" ";H5g=B5g[Z5g];O6g=H5g.Volume;C6g=H5g["PV " + s5g.name];if(!H5g.futureTick){r4g=Z5g;}if(b6g === null){b6g=F5g.Studies.getMarketOffset({stx:h5g,localQuoteDate:B5g[Z5g].DT,shiftToDateBoundary:! ![]});}j6g=new Date(new Date(H5g.DT).getTime() + b6g);x6g=B5g[Z5g - ("1" ^ 0)] && new Date(new Date(B5g[Z5g - ("1" & 2147483647)].DT).getTime() + b6g);r6g=new o5g.Date(H5g.DT,v5g.market_def.market_tz || "America/New_York");r6g.setHours(Z6g,V6g,g6g);J5b.G0X(2);r6g=new Date(J5b.E0X(b6g,r6g));r6g.setDate(j6g.getDate());if(x6g && j6g.getDate() !== x6g.getDate()){b6g=null;W6g=+"0";e6g=0;}if(j6g < r6g){b2q="P";b2q+="V";b2q+=" ";H5g["V " + s5g.name]=+"0";H5g[b2q + s5g.name]=0;continue;}if(P6g){W6g+=O6g;e6g+=C6g;}else {W6g=O6g;e6g=C6g;}H5g["V " + s5g.name]=W6g;if(!F6g){H5g[L2q + s5g.name]=e6g;}if([NaN,null,undefined].includes(W6g) && !H5g.futureTick){s5g.error=`${w5g} requires volume`;return;}}s5g.cachedLastProjection.projectedValue=B5g[r4g]["PV " + s5g.name];function v6g(a4g){return h5g.tickFromDate(a4g,null,null,! !{},"scrubbed");}s5g.outputMap={};function y6g(D4g){return h5g.dateFromTick(D4g,null,! !{},"scrubbed");}s5g.outputMap[U2q + s5g.name]="";s5g.outputMap["PV " + s5g.name]="Average Line";A6g.forEach(d4g=>{d4g.startFrom=O5g;J5b.m7b();d4g.study.calculateFN(h5g,d4g);});};F5g.Studies.displayProjectedVolume=function(l4g,X4g,P4g){var d2q,B2q,A4g,g4g,Q4g,G4g,Y4g,s4g,B4g;d2q="stx_volume_underlay_";d2q+="do";d2q+="wn";B2q="V";B2q+=" ";if(X4g.error){return F5g.Studies.removeAnchorHandle(l4g,X4g);}var {"Alert Threshold":p4g = ""}=X4g.inputs;A4g=parseInt(p4g.slice(0,-1),10) / 100;g4g=X4g.outputs["Alert Bar"];if(typeof g4g === "object"){g4g=g4g.color;}X4g.volumeField=B2q + X4g.name;X4g.plotStepLine=!"";X4g.alignStepToSide=! !"1";X4g.extendToEndOfLastBar=!0;X4g.lineWidth=+"2";Q4g=l4g.canvasStyle("stx_volume_underlay_up").opacity;G4g=l4g.canvasStyle(d2q).opacity;X4g.colorFunction=function(O4g){var i0R=r244;var w4g,h4g,K4g,C4g,x4g,H4g;var {Open:T4g, Close:v4g, iqPrevClose:y4g}=O4g;w4g=l4g.colorByCandleDirection?T4g:y4g;i0R.d0X(76);i0R.m7b();h4g=i0R.D0X(v4g,w4g);K4g=O4g["PV " + X4g.name];C4g=O4g["V " + X4g.name];i0R.d0X(77);x4g=i0R.E0X(1,A4g,K4g);H4g=A4g < 0?C4g < x4g:C4g > x4g;return {fill_color:H4g && g4g || (h4g?this.fill_color_down:this.fill_color_up),border_color:h4g?this.border_color_down:this.border_color_up,opacity:H4g?+"1":h4g?G4g:Q4g,border_opacity:h4g?G4g:Q4g};};Y4g=X4g.study?X4g.study.name:X4g.type;var {loadingMore:q4g}=l4g.chart;s4g=P4g.some(k4g=>{return k4g && k4g[X4g.volumeField] && k4g["PV " + X4g.name];});B4g=P4g[0] && !P4g["0" & 2147483647].futureTick && (P4g[0]["PV " + X4g.name] === undefined || (X4g.dependentsOutputMap || []).some(S4g=>{return [undefined,null].includes(P4g[0][S4g]);}));if(!s4g && q4g){return X4g.error=`Fetching data for ${Y4g}`;}F5g.Studies.createVolumeChart(l4g,X4g,P4g);F5g.Studies.displaySeriesAsLine(l4g,X4g,P4g);if(X4g.anchorHandle){F5g.Studies.displayAnchorHandleAndLine(l4g,X4g,P4g);}if(B4g){F5g.Studies.calculateProjectedVolume(l4g,X4g);}};F5g.Studies.studyLibrary=F5g.extend(F5g.Studies.studyLibrary,{PVAT:{name:n2q,range:R2q,yAxis:{ground:! ![],initialMarginTop:0,zoom:+"0"},calculateFN:F5g.Studies.calculateProjectedVolume,seriesFN:F5g.Studies.displayProjectedVolume,initializeFN:F5g.Studies.initProjectedVolume,removeFN:F5g.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[k2q,"+125%","+100%",v2q,"+50%",X8q,Z8q,"-25%","-50%",p8q,"-100%","-125%",O8q],"Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:F5g.Studies.calculateProjectedVolume,seriesFN:F5g.Studies.displayProjectedVolume,initializeFN:F5g.Studies.initProjectedVolume,removeFN:F5g.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:+"1"}}}});}};K8S=V4g=>{var Z4g,S8q;Z4g=typeof _CIQ !== "undefined"?_CIQ:V4g.CIQ;r244.m7b();if(!Z4g.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {S8q="0 t";S8q+="o ";S8q+="1";S8q+="00";Z4g.Studies.calculatePsychologicalLine=function(E8g,n4g){var G6h,V6h,t6h,W8g,t8g,R8g,M8g,a8q,r8g;G6h=-341666540;V6h=1954594428;t6h=2;for(var P6h=1;r244.n5h(P6h.toString(),P6h.toString().length,71038) !== G6h;P6h++){W8g=n4g.chart.scrubbed;t6h+=2;}if(r244.n5h(t6h.toString(),t6h.toString().length,61508) !== V6h){W8g=n4g.chart.scrubbed;}if(W8g.length < n4g.days + 1){n4g.error=!"";return;}t8g=[];R8g=100 / n4g.days;M8g=0;for(var b8g=Math.max(n4g.startFrom - n4g.days,1);b8g < W8g.length;b8g++){a8q="R";a8q+="e";a8q+="sul";a8q+="t ";if(W8g[b8g].futureTick)break;r8g=Number(W8g[b8g].Close > W8g[b8g - 1].Close);if(r8g){M8g+=R8g;}t8g.push(r8g);if(t8g.length > n4g.days){M8g-=t8g.shift() * R8g;}if(b8g < n4g.startFrom)continue;if(!isNaN(W8g[b8g].Close)){W8g[b8g][a8q + n4g.name]=M8g;}}};Z4g.Studies.studyLibrary=Z4g.extend(Z4g.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:S8q,calculateFN:Z4g.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};k8S=J8g=>{var Q7b=r244;var c8g,H6h,A6h,j6h,D8q;Q7b.L7b();c8g=typeof _CIQ !== "undefined"?_CIQ:J8g.CIQ;if(!c8g.Studies){H6h=-2138076304;A6h=-988923877;Q7b.G0X(22);j6h=Q7b.E0X("2",208816064);for(var T6h=1;Q7b.d5h(T6h.toString(),T6h.toString().length,+"38092") !== H6h;T6h++){console.error("");j6h+=2;}if(Q7b.n5h(j6h.toString(),j6h.toString().length,"54792" | 54272) !== A6h){console.error("qstick feature requires first activating studies feature.");}}else {D8q="QSt";D8q+="ic";D8q+="k";c8g.Studies.calculateQStick=function(e8g,I8g){var l8q,d8g;l8q="_Close-Ope";l8q+="n ";d8g=I8g.chart.scrubbed;if(d8g.length < I8g.days + 1){I8g.error=! !"1";return;}for(var u8g=I8g.startFrom;u8g < d8g.length;u8g++){d8g[u8g]["_Close-Open " + I8g.name]=d8g[u8g].Close - d8g[u8g].Open;}c8g.Studies.MA(I8g.inputs["Moving Average Type"],I8g.days,l8q + I8g.name,0,"Result",e8g,I8g);};c8g.Studies.studyLibrary=c8g.extend(c8g.Studies.studyLibrary,{QStick:{name:D8q,calculateFN:c8g.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};S8S=N8g=>{var L8g,W8q,C8q;r244.L7b();L8g=typeof _CIQ !== "undefined"?_CIQ:N8g.CIQ;if(!L8g.Studies){console.error("rainbow feature requires first activating studies feature.");}else {W8q="#FF";W8q+="7F0";W8q+="0";C8q="Rainbow Moving";C8q+=" Average";L8g.Studies.calculateRainbow=function(P8g,m8g){r244.m7b();var g8q,c8q,s8q,a8g,z8g,X8g,M8q,l8g,U8g,i8g,j8g,o8g,N8q,f8g,f8q,q8q,I8q;g8q="O";g8q+="sc";c8q="C";c8q+="l";c8q+="os";c8q+="e";s8q="fi";s8q+="eld";a8g=m8g.chart.scrubbed;if(a8g.length < m8g.days + 1){m8g.error=!0;return;}z8g=m8g.inputs.Field;if(!z8g || z8g == s8q){z8g=c8q;}X8g=z8g;for(var F8g=1;F8g <= 10;F8g++){M8q="S";M8q+="M";M8q+="A";L8g.Studies.MA("simple",m8g.days,X8g,0,"SMA" + F8g,P8g,m8g);X8g=M8q + F8g + " " + m8g.name;}function g8g(Y8g,G8g){var A8g,Q8g;A8g=Number.MAX_VALUE * -("1" * 1);Q8g=Number.MAX_VALUE;for(var p8g=G8g - Y8g + 1;p8g <= G8g;p8g++){if(p8g < 0)continue;A8g=Math.max(A8g,a8g[p8g].Close);Q8g=Math.min(Q8g,a8g[p8g].Close);}return [Q8g,A8g];}for(var D8g=Math.max(m8g.startFrom,+"10");D8g < a8g.length;D8g++){if(!a8g[D8g])continue;if(a8g[D8g].futureTick)break;l8g=0;U8g=0;i8g=Number.MAX_VALUE * -("1" >> 1589505664);j8g=Number.MAX_VALUE;for(F8g=1;F8g <= 10;F8g++){o8g=a8g[D8g]["SMA" + F8g + ((6150,4160) !== ("917.6" - 0,672.54)?719.15 < (6044,+"291.11")?! !"":6292 >= 8866?794.53:" ":(9.83e+3,! !0)) + m8g.name];if(o8g || o8g === 0){l8g+=o8g;U8g++;i8g=Math.max(i8g,o8g);j8g=Math.min(j8g,o8g);}}if(m8g.name.indexOf("Osc") > -("1" * 1)){N8q="HHV/LLV Lookbac";N8q+="k";f8g=g8g(m8g.inputs[N8q],D8g);if(U8g){f8q="Z";f8q+="e";f8q+="ro";f8q+=" ";q8q="Ov";q8q+="er";q8q+=" ";a8g[D8g][m8g.name + "_hist"]=100 * (a8g[D8g][z8g] - l8g / U8g) / Math.max(0.000001,f8g[1] - f8g["0" | 0]);a8g[D8g]["Over " + m8g.name]=100 * (i8g - j8g) / Math.max(0.000001,f8g[+"1"] - f8g[0]);a8g[D8g]["Under " + m8g.name]=-a8g[D8g][q8q + m8g.name];r244.d0X(12);a8g[D8g][f8q + m8g.name]=r244.E0X(0,"0");}}}if(m8g.name.indexOf(g8q) > -1){I8q="_";I8q+="his";I8q+="t";m8g.outputMap={};m8g.outputMap["Over " + m8g.name]="Positive Bar";m8g.outputMap["Under " + m8g.name]="Negative Bar";m8g.outputMap["Zero " + m8g.name]="";m8g.outputMap[m8g.name + I8q]="";}};L8g.Studies.displayRainbowMA=function(B8g,s8g,O8g){var h8g,z8q;h8g=B8g.panels[s8g.panel];for(var q8g=+"10";q8g > 0;q8g--){z8q="S";z8q+="M";z8q+="A";L8g.Studies.displayIndividualSeriesAsLine(B8g,s8g,h8g,z8q + q8g + (+"419.59" <= 2440?3180 == (9918,902.13)?(+"3330",8830) == (+"678",327)?6.73e+3:0x26d5:" ":(0x1bbc,190)) + s8g.name,O8g);}};L8g.Studies.displayRainbowOsc=function(x8g,C8g,W9g){var Q8q,y8q,v8g,T8g,H8g,K8g,k8g,Z8g,V8g,n8g,b9g,w8g,m8q,y8g;Q8q="stx_";Q8q+="his";Q8q+="togra";Q8q+="m";y8q="Ze";y8q+="ro";y8q+=" ";L8g.Studies.displaySeriesAsLine(x8g,C8g,W9g);v8g=x8g.panels[C8g.panel];T8g=C8g.getContext(x8g);H8g=C8g.getYAxis(x8g);x8g.startClip(C8g.panel);if(!C8g.highlight && x8g.highlightedDraggable){T8g.globalAlpha*=0.3;}K8g=x8g.pixelFromPrice(0,v8g,H8g);k8g=v8g.name != C8g.chart.name;Z8g=L8g.Studies.determineColor(C8g.outputs["Positive Bar"]);T8g.strokeStyle=Z8g;x8g.plotDataSegmentAsLine("Over " + C8g.name,v8g,{skipTransform:k8g,label:! !"",yAxis:H8g});r244.G0X(1);V8g=T8g.createLinearGradient(0,K8g,r244.D0X("0",1456332640),H8g.flipped?H8g.bottom:H8g.top);V8g.addColorStop(0,x8g.containerColor);V8g.addColorStop(1,Z8g);L8g.prepareChannelFill(x8g,{skipTransform:k8g,color:V8g,opacity:!C8g.highlight && x8g.highlightedDraggable?+"0.3":1,panelName:C8g.panel,topBand:"Over " + C8g.name,bottomBand:y8q + C8g.name,yAxis:H8g});n8g=L8g.Studies.determineColor(C8g.outputs["Negative Bar"]);T8g.strokeStyle=n8g;x8g.plotDataSegmentAsLine("Under " + C8g.name,v8g,{skipTransform:k8g,label:! !"",yAxis:H8g});b9g=T8g.createLinearGradient(+"0",K8g,+"0",H8g.flipped?H8g.top:H8g.bottom);b9g.addColorStop(0,x8g.containerColor);b9g.addColorStop(1,n8g);L8g.prepareChannelFill(x8g,{skipTransform:k8g,color:b9g,opacity:!C8g.highlight && x8g.highlightedDraggable?0.3:1,panelName:C8g.panel,topBand:"Zero " + C8g.name,bottomBand:"Under " + C8g.name,yAxis:H8g});r244.L7b();w8g=x8g.layout.candleWidth - 2;if(w8g < 2){w8g=1;}x8g.canvasColor(Q8q);if(!C8g.underlay){T8g.globalAlpha=1;}if(!C8g.highlight && x8g.highlightedDraggable){T8g.globalAlpha*=0.3;}T8g.fillStyle="#CCCCCC";for(var S8g=0;S8g < W9g.length;S8g++){m8q="_";m8q+="h";m8q+="ist";y8g=W9g[S8g];if(!y8g)continue;if(y8g[C8g.name + "_hist"] > 0){T8g.fillStyle=Z8g;}else if(y8g[C8g.name + m8q] < 0){T8g.fillStyle=n8g;}if(y8g.candleWidth){w8g=Math.floor(Math.max(1,y8g.candleWidth - 2));}T8g.fillRect(Math.floor(x8g.pixelFromBar(S8g,v8g.chart) - w8g / 2),Math.floor(K8g),Math.floor(w8g),Math.floor(x8g.pixelFromPrice(y8g[C8g.name + "_hist"],v8g,H8g) - K8g));}x8g.endClip();};L8g.Studies.studyLibrary=L8g.extend(L8g.Studies.studyLibrary,{"Rainbow MA":{name:C8q,overlay:!"",calculateFN:L8g.Studies.calculateRainbow,seriesFN:L8g.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:W8q,SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:L8g.Studies.calculateRainbow,seriesFN:L8g.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":"10" & 2147483647},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};Z8S=M9g=>{var K8q,t9g;K8q="u";K8q+="ndefi";K8q+="ne";K8q+="d";t9g=typeof _CIQ !== K8q?_CIQ:M9g.CIQ;if(!t9g.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {t9g.Studies.calculateRandomWalk=function(a9g,c9g){var r9g,u9g,e9g,L9g,J9g,I9g,d9g,N9g,m9g;r9g=c9g.chart.scrubbed;r244.L7b();if(r9g.length < c9g.days + 1){c9g.error=! !{};return;}for(var R9g=Math.max(2,c9g.startFrom);R9g < r9g.length;R9g++){u9g=0;e9g=r9g[R9g].High;L9g=r9g[R9g].Low;J9g=0;r244.d0X(1);I9g=r244.D0X("0",1191293920);for(var E9g=1;E9g <= c9g.days;E9g++){if(r9g[R9g].futureTick)break;if(R9g <= E9g){J9g=I9g=+"0";break;}u9g+=r9g[R9g - E9g].trueRange;d9g=u9g / E9g * Math.sqrt(E9g);if(d9g){N9g=(e9g - r9g[R9g - E9g].Low) / d9g;m9g=(r9g[R9g - E9g].High - L9g) / d9g;J9g=Math.max(J9g,N9g);I9g=Math.max(I9g,m9g);}}if(!r9g[R9g].futureTick && (!isNaN(e9g) || !isNaN(L9g))){r9g[R9g]["Random Walk High " + c9g.name]=J9g;r9g[R9g]["Random Walk Low " + c9g.name]=I9g;}}};t9g.Studies.studyLibrary=t9g.extend(t9g.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:t9g.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};V8S=F9g=>{var g7b=r244;var J8q,D9g,p1j,O1j,a1j,H8q,A8q;J8q="unde";J8q+="fin";J8q+="ed";D9g=typeof _CIQ !== J8q?_CIQ:F9g.CIQ;if(!D9g.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {D9g.Studies.calculateRelativeVigor=function(P9g,z9g){g7b.m7b();var h8q,f9g,o9g,U9g,j9g,X9g,g9g,l9g,i9g,o8q,e8q;h8q="tr";h8q+="iangular";f9g=z9g.chart.scrubbed;if(f9g.length < z9g.days + 1){z9g.error=!"";return;}for(o9g=z9g.startFrom;o9g < f9g.length;o9g++){U9g=f9g[o9g];if(!isNaN(U9g.Close) && !isNaN(U9g.Open)){U9g["_Change " + z9g.name]=U9g.Close - U9g.Open;}if(!isNaN(U9g.High) && !isNaN(U9g.Low)){U9g["_Range " + z9g.name]=U9g.High - U9g.Low;}}g7b.d0X(16);D9g.Studies.MA("triangular",g7b.E0X("4",1),"_Change " + z9g.name,0,"_Numer",P9g,z9g);D9g.Studies.MA("triangular",4,"_Range " + z9g.name,0,"_Denom",P9g,z9g);j9g=[];X9g=[];for(o9g=Math.max(z9g.startFrom - z9g.days,+"0");o9g < f9g.length;o9g++){if(f9g[o9g].futureTick)break;if(f9g[o9g]["_Numer " + z9g.name] === null && f9g[o9g]["_Denom " + z9g.name] === null)continue;j9g.push(f9g[o9g]["_Numer " + z9g.name]);X9g.push(f9g[o9g]["_Denom " + z9g.name]);if(j9g.length > z9g.days){j9g.shift();X9g.shift();}g9g=0;l9g=0;for(i9g=0;i9g < j9g.length;i9g++){g9g+=j9g[i9g];}for(i9g="0" ^ 0;i9g < X9g.length;i9g++){l9g+=X9g[i9g];}if(l9g === 0){l9g=0.00000001;}if(o9g < z9g.startFrom)continue;g7b.d0X(10);f9g[o9g]["Rel Vig " + z9g.name]=g7b.D0X(l9g,g9g);}D9g.Studies.MA(h8q,+"4","Rel Vig " + z9g.name,0,"RelVigSignal",P9g,z9g);for(o9g=z9g.startFrom;o9g < f9g.length;o9g++){o8q="Re";o8q+="lVigSignal ";e8q="_";e8q+="h";e8q+="i";e8q+="st";f9g[o9g][z9g.name + e8q]=f9g[o9g]["Rel Vig " + z9g.name] - f9g[o9g][o8q + z9g.name];}z9g.outputMap[z9g.name + "_hist"]="";};g7b.d0X(22);p1j=-g7b.D0X("1603354818",1006097600);O1j=1821951578;a1j=2;for(var l1j=1;g7b.n5h(l1j.toString(),l1j.toString().length,+"89564") !== p1j;l1j++){H8q="au";H8q+="t";H8q+="o";D9g.Studies.studyLibrary=D9g.extend(D9g.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:D9g.Studies.displayHistogramWithSeries,calculateFN:D9g.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":H8q,RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});g7b.d0X(6);a1j+=g7b.D0X(0,"2");}if(g7b.d5h(a1j.toString(),a1j.toString().length,97341) !== O1j){A8q="#FF00";A8q+="00";D9g.Studies.studyLibrary=D9g.extend(D9g.Studies.studyLibrary,{"Rel Vig":{name:"Rel Vig",seriesFN:D9g.Studies.displayHistogramWithSeries,calculateFN:D9g.Studies.calculateRelativeVigor,inputs:{Period:34},outputs:{"Rel Vig":A8q,RelVigSignal:"Rel Vig","Increasing Bar":"Decreasing Bar","Decreasing Bar":"#FF0000"}}});}}};n8S=A9g=>{var P7b=r244;var m6v,C6v,W6v,p9g,j8q,t8q,V8q;m6v=1174819965;C6v=-1846981100;P7b.d0X(6);W6v=P7b.E0X(0,"2");for(var J6v=+"1";P7b.d5h(J6v.toString(),J6v.toString().length,26891) !== m6v;J6v++){p9g=typeof _CIQ !== "undefined"?_CIQ:A9g.CIQ;W6v+=2;}if(P7b.d5h(W6v.toString(),W6v.toString().length,64831) !== C6v){p9g=!_CIQ === ""?_CIQ:A9g.CIQ;}if(!p9g.Studies){j8q="rsi feature requires fir";j8q+="st acti";j8q+="vating studies feature.";console.error(j8q);}else {t8q="f";t8q+="iel";t8q+="d";V8q="R";V8q+="S";V8q+="I";p9g.Studies.calculateRSI=function(T9g,Q9g){var u8q,q6h,f6h,g6h,O9g,G9g,G8q,T8q,B9g,h9g,C9g,x9g,Y9g,q9g;u8q="C";u8q+="lo";u8q+="s";u8q+="e";q6h=-512190863;f6h=-1661266606;g6h=2;function H9g(w9g,v9g){var y9g;if(v9g === 0){return 100;}P7b.d0X(10);y9g=P7b.E0X(v9g,w9g);P7b.G0X(78);return P7b.D0X(1,100,y9g,100);}P7b.m7b();for(var z6h=+"1";P7b.d5h(z6h.toString(),z6h.toString().length,+"91692") !== q6h;z6h++){O9g=Q9g.chart.scrubbed;g6h+=2;}if(P7b.n5h(g6h.toString(),g6h.toString().length,94698) !== f6h){O9g=Q9g.chart.scrubbed;}G9g=Q9g.inputs.Field;if(!G9g || G9g == "field"){G9g=u8q;}if(O9g.length < Q9g.days + 1){Q9g.error=!0;return;}for(var s9g=Q9g.startFrom;s9g < O9g.length;s9g++){G8q="_avgL";G8q+=" ";T8q="_av";T8q+="gG ";if(!s9g)continue;B9g=O9g[s9g];P7b.G0X(6);h9g=O9g[P7b.D0X(1,s9g)];if(!B9g[G9g] && B9g[G9g] !== 0)continue;if(!h9g[G9g] && h9g[G9g] !== "0" << 666769760)continue;C9g=B9g[G9g] - h9g[G9g];x9g=Math.min(s9g,Q9g.days);Y9g=h9g[T8q + Q9g.name];if(!Y9g){Y9g=0;}P7b.d0X(10);Y9g-=P7b.E0X(x9g,Y9g);q9g=h9g["_avgL " + Q9g.name];if(!q9g){q9g=0;}P7b.G0X(10);q9g-=P7b.D0X(x9g,q9g);if(C9g > 0){P7b.d0X(10);Y9g+=P7b.D0X(x9g,C9g);}else if(C9g <= 0){P7b.G0X(10);q9g-=P7b.E0X(x9g,C9g);}else continue;if(s9g >= Q9g.days){if((Y9g || Y9g !== 0) && (q9g || q9g !== 0)){B9g["RSI " + Q9g.name]=H9g(Y9g,q9g);}}B9g["_avgG " + Q9g.name]=Y9g;B9g[G8q + Q9g.name]=q9g;}Q9g.zoneOutput="RSI";};p9g.Studies.studyLibrary=p9g.extend(p9g.Studies.studyLibrary,{rsi:{name:V8q,inputs:{Period:14,Field:t8q},calculateFN:p9g.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};b0x=k9g=>{var K9g,v7v,X6v,Z6v,F8q,B8q;K9g=typeof _CIQ !== "undefined"?_CIQ:k9g.CIQ;r244.m7b();if(!K9g.Studies){v7v=- +"179621679";X6v=-1413933823;Z6v=2;for(var O6v=1;r244.n5h(O6v.toString(),O6v.toString().length,8261) !== v7v;O6v++){F8q="sc";F8q+="haffTrendCycle feature requires first activating stud";F8q+="ies feature.";console.error(F8q);Z6v+=2;}if(r244.n5h(Z6v.toString(),Z6v.toString().length,"62234" >> 1008934656) !== X6v){console.error("");}}else {B8q="au";B8q+="to";K9g.Studies.calculateSchaff=function(e0c,S9g){var x8q,r8q,P8q,n9g,W0c,d0c,t0c,M0c,u0c,R0c,r0c,b8q,E8q,b0c,E0c,c0c,J0c,V9g,w8q,Y8q,i8q,I0c,U8q,L8q;x8q="_M";x8q+="A";x8q+="CD2";r8q="_";r8q+="M";r8q+="A";function L0c(z0c,F0c,o0c){var m0c,a0c,N0c;m0c=null;a0c=null;for(var D0c=F0c - z0c + 1;D0c <= F0c;D0c++){N0c=n9g[D0c][o0c + (3780 === (5209,"3395" >> 227550016)?(820.53,7.66e+3):" ") + S9g.name];if(!N0c)continue;m0c=m0c === null?N0c:Math.min(m0c,N0c);a0c=a0c === null?N0c:Math.max(a0c,N0c);}return [m0c,a0c];}r8q+="CD1";P8q="fi";P8q+="el";P8q+="d";n9g=S9g.chart.scrubbed;W0c=S9g.days;d0c=Number(S9g.inputs["Short Cycle"]);t0c=Number(S9g.inputs["Long Cycle"]);if(n9g.length < Math.max(W0c,d0c,t0c) + 1){S9g.error=! ![];return;}M0c=S9g.inputs.Field;if(!M0c || M0c == P8q){M0c="Close";}r244.m7b();u0c=0.5;K9g.Studies.MA(S9g.inputs["Moving Average Type"],d0c,M0c,0,r8q,e0c,S9g);K9g.Studies.MA(S9g.inputs["Moving Average Type"],t0c,M0c,0,x8q,e0c,S9g);R0c=0;r0c=0;for(var Z9g=S9g.startFrom;Z9g < n9g.length;Z9g++){b8q="_P";b8q+="F ";E8q="_M";E8q+="AC";E8q+="D2";E8q+=" ";b0c=n9g[Z9g];if(Z9g < t0c - 1)continue;E0c=b0c["_MACD1 " + S9g.name];c0c=b0c[E8q + S9g.name];if(E0c || E0c === 0 || c0c || c0c === 0){r244.G0X(6);b0c["_MACD " + S9g.name]=r244.D0X(c0c,E0c);}J0c=b0c["_MACD " + S9g.name];if(Z9g < t0c + (W0c - 1))continue;V9g=L0c(W0c,Z9g,"_MACD");R0c=V9g[1] > V9g[0]?100 * (J0c - V9g[0]) / (V9g[1] - V9g[0]):R0c;if(J0c || J0c === 0){w8q="_";w8q+="PF ";Y8q="_P";Y8q+="F ";i8q="_PF";i8q+=" ";b0c[i8q + S9g.name]=n9g[Z9g - 1][Y8q + S9g.name]?n9g[Z9g - 1]["_PF " + S9g.name] + u0c * (R0c - n9g[Z9g - 1][w8q + S9g.name]):R0c;}I0c=b0c[b8q + S9g.name];if(Z9g < t0c + 2 * (W0c - 1))continue;V9g=L0c(W0c,Z9g,"_PF");r0c=V9g["1" - 0] > V9g["0" & 2147483647]?100 * (I0c - V9g[0]) / (V9g[1] - V9g[0]):r0c;if(I0c || I0c === 0){U8q="R";U8q+="esu";U8q+="lt";U8q+=" ";L8q="Re";L8q+="s";L8q+="ul";L8q+="t ";b0c["Result " + S9g.name]=n9g[Z9g - 1][L8q + S9g.name]?n9g[Z9g - ("1" << 1631033088)][U8q + S9g.name] + u0c * (r0c - n9g[Z9g - +"1"]["Result " + S9g.name]):r0c;}}};K9g.Studies.studyLibrary=K9g.extend(K9g.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:K9g.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":"23" >> 1133112192,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:B8q}}}});}};W0x=U0c=>{r244.L7b();var f0c,k8q;f0c=typeof _CIQ !== "undefined"?_CIQ:U0c.CIQ;if(!f0c.Studies){console.error("shinohara feature requires first activating studies feature.");}else {k8q="#";k8q+="5F7";k8q+="CB";k8q+="8";f0c.Studies.calculateShinohara=function(P0c,X0c){var j0c,l0c,d8q,R8q,n8q;j0c=X0c.chart.scrubbed;if(j0c.length < X0c.days + 1){X0c.error=! !"1";return;}l0c={weakNum:"0" - 0,weakDen:0,strongNum:0,strongDen:+"0"};if(X0c.startFrom > 1){d8q="_ac";d8q+="cums";d8q+=" ";l0c=f0c.clone(j0c[X0c.startFrom - 1][d8q + X0c.name]);}for(var i0c=X0c.startFrom;i0c < j0c.length;i0c++){R8q="_";R8q+="ac";R8q+="cums";R8q+=" ";l0c.weakNum+=j0c[i0c].High - j0c[i0c].Close;l0c.weakDen+=j0c[i0c].Close - j0c[i0c].Low;if(i0c > 0){l0c.strongNum+=j0c[i0c].High - j0c[i0c - ("1" >> 1388274304)].Close;l0c.strongDen+=j0c[i0c - +"1"].Close - j0c[i0c].Low;}if(i0c >= X0c.days){l0c.weakNum-=j0c[i0c - X0c.days].High - j0c[i0c - X0c.days].Close;l0c.weakDen-=j0c[i0c - X0c.days].Close - j0c[i0c - X0c.days].Low;j0c[i0c]["Weak Ratio " + X0c.name]="100" * 1 * l0c.weakNum / l0c.weakDen;if(i0c > X0c.days){n8q="S";n8q+="t";n8q+="ron";n8q+="g Ratio ";l0c.strongNum-=j0c[i0c - X0c.days].High - j0c[i0c - X0c.days - 1].Close;l0c.strongDen-=j0c[i0c - X0c.days - 1].Close - j0c[i0c - X0c.days].Low;j0c[i0c][n8q + X0c.name]=100 * l0c.strongNum / l0c.strongDen;}}j0c[i0c][R8q + X0c.name]=f0c.clone(l0c);}};f0c.Studies.studyLibrary=f0c.extend(f0c.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:f0c.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":k8q}}});}};t0x=p0c=>{var g0c,v8q,C9q,m9q,Q9q;r244.L7b();g0c=typeof _CIQ !== "undefined"?_CIQ:p0c.CIQ;if(!g0c.Studies){v8q="stochastic";v8q+="s feature requires first activating studies ";v8q+="feature.";console.error(v8q);}else {C9q="a";C9q+="uto";m9q="a";m9q+="u";m9q+="t";m9q+="o";Q9q="Stochas";Q9q+="tic Moment";Q9q+="um Index";g0c.Studies.calculateStochastics=function(h0c,A0c){var S9q,a9q,O9q,p9q,Z9q,X9q,Y0c,Q0c,G0c,s0c,B0c,C0c;S9q="%";S9q+="K";function O0c(K0c,T0c,Z0c){var k0c,H0c,x0c,y0c,w0c,S0c;r244.G0X(8);k0c=r244.D0X(Z0c,1,K0c);H0c=Number.MAX_VALUE * -1;x0c=Number.MAX_VALUE;for(var v0c=k0c;v0c <= K0c;v0c++){y0c=G0c[v0c][T0c == "Close"?"Low":T0c];w0c=G0c[v0c][T0c == "Close"?"High":T0c];if(!y0c && y0c !== 0)continue;if(!w0c && w0c !== 0)continue;x0c=Math.min(x0c,y0c);H0c=Math.max(H0c,w0c);}if(H0c == Number.MAX_VALUE * -1 || x0c == Number.MAX_VALUE){return null;}S0c=H0c == x0c?0:(G0c[K0c][T0c] - x0c) / (H0c - x0c) * 100;return S0c;}a9q="s";r244.m7b();a9q+="im";a9q+="ple";O9q="F";O9q+="a";O9q+="s";O9q+="t";p9q="%";p9q+="K";p9q+=" ";Z9q="%D";Z9q+=" ";Z9q+="P";Z9q+="eriods";X9q="Cl";X9q+="o";X9q+="s";X9q+="e";if(!A0c.smooth){A0c.smooth=A0c.inputs.Smooth;}Y0c=A0c.inputs.Field;if(!Y0c || Y0c == "field"){Y0c=X9q;}Q0c=A0c.inputs["%K Periods"];if(!Q0c){Q0c=A0c.days;}G0c=A0c.chart.scrubbed;if(G0c.length < Math.max(Q0c,A0c.days) + 1){A0c.error=! !{};return;}s0c=A0c.inputs["%K Smoothing Periods"];if(s0c){A0c.smooth=! ![];}else if(A0c.smooth){s0c=3;}B0c=A0c.inputs[Z9q];if(!B0c){B0c=3;}A0c.outputMap={};A0c.outputMap[p9q + A0c.name]=O9q;A0c.outputMap["%D " + A0c.name]="Slow";for(var q0c=Math.max(Q0c,A0c.startFrom);q0c < G0c.length;q0c++){C0c=O0c(q0c,Y0c,Q0c);if(C0c !== null){G0c[q0c][A0c.name]=O0c(q0c,Y0c,Q0c);}}g0c.Studies.MA(a9q,A0c.smooth?s0c:1,A0c.name,0,S9q,h0c,A0c);g0c.Studies.MA("simple",B0c,"%K " + A0c.name,0,"%D",h0c,A0c);};g0c.Studies.calculateStochMomentum=function(W1c,V0c){var y9q,z9q,f9q,q9q,N9q,M9q,c9q,s9q,l9q,t1c,R1c,r1c,c1c,n0c,b1c,D9q,E1c,M1c,I9q,g9q;y9q="%K";y9q+=" ";z9q="%D Mo";z9q+="ving Averag";z9q+="e T";z9q+="ype";f9q="_DH";f9q+="L2";q9q="expon";q9q+="e";q9q+="nti";q9q+="al";N9q="exponenti";N9q+="al";r244.L7b();M9q="_";M9q+="HS1";c9q="_";c9q+="H";c9q+=" ";s9q="exponenti";s9q+="a";s9q+="l";l9q="%D Peri";function J1c(L1c,e1c){var d1c,u1c;d1c=null;u1c=null;for(var I1c=e1c - L1c + 1;I1c <= e1c;I1c++){d1c=d1c === null?n0c[I1c].Low:Math.min(d1c,n0c[I1c].Low);u1c=u1c === null?n0c[I1c].High:Math.max(u1c,n0c[I1c].High);}return [d1c,u1c];}l9q+="ods";t1c=Number(V0c.inputs["%K Periods"]);R1c=Number(V0c.inputs["%K Smoothing Periods"]);r1c=Number(V0c.inputs["%K Double Smoothing Periods"]);c1c=Number(V0c.inputs[l9q]);n0c=V0c.chart.scrubbed;if(n0c.length < t1c + R1c + r1c - +"1" || n0c.length < c1c){V0c.error=! ![];return;}for(b1c=Math.max(t1c,V0c.startFrom) - 1;b1c < n0c.length;b1c++){D9q="_H";D9q+=" ";E1c=n0c[b1c];M1c=J1c(t1c,b1c);E1c[D9q + V0c.name]=E1c.Close - (M1c[0] + M1c[1]) / ("2" * 1);E1c["_DHL " + V0c.name]=M1c[1] - M1c[0];}g0c.Studies.MA(s9q,R1c,c9q + V0c.name,0,M9q,W1c,V0c);g0c.Studies.MA("exponential",r1c,"_HS1 " + V0c.name,0,"_HS2",W1c,V0c);g0c.Studies.MA(N9q,R1c,"_DHL " + V0c.name,+"0","_DHL1",W1c,V0c);g0c.Studies.MA(q9q,r1c,"_DHL1 " + V0c.name,0,f9q,W1c,V0c);for(b1c=t1c - 1;b1c < n0c.length;b1c++){I9q="_DH";I9q+="L";I9q+="2 ";g9q="_H";g9q+="S2 ";n0c[b1c]["%K " + V0c.name]=n0c[b1c][g9q + V0c.name] / (("0.5" - 0) * n0c[b1c][I9q + V0c.name]) * 100;}g0c.Studies.MA(V0c.inputs[z9q],c1c,y9q + V0c.name,+"0","%D",W1c,V0c);V0c.zoneOutput="%K";};g0c.Studies.studyLibrary=g0c.extend(g0c.Studies.studyLibrary,{"Stch Mtm":{name:Q9q,calculateFN:g0c.Studies.calculateStochMomentum,inputs:{"%K Periods":+"10","%K Smoothing Periods":"3" | 0,"%K Double Smoothing Periods":3,"%D Periods":+"10","%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:m9q}}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:g0c.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! ![]},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:C9q}}}});}};M0x=m1c=>{var c7b=r244;var K6h,J6h,h6h,N1c,W9q;K6h=1293636456;J6h=1848503782;c7b.d0X(6);h6h=c7b.D0X(0,"2");for(var o6h=+"1";c7b.d5h(o6h.toString(),o6h.toString().length,38694) !== K6h;o6h++){N1c=typeof _CIQ !== "undefined"?_CIQ:m1c.CIQ;h6h+=2;}if(c7b.n5h(h6h.toString(),h6h.toString().length,53156) !== J6h){N1c=-_CIQ === ""?_CIQ:m1c.CIQ;}if(!N1c.Studies){W9q="supertrend feature requires first activating studies ";W9q+="feature.";console.error(W9q);}else {N1c.Studies.calculateSupertrend=function(j1c,a1c){c7b.m7b();var F1c,A9q,H9q,z1c,U1c,i1c,o1c,f1c,e9q,h9q,J9q,K9q,o9q;F1c=a1c.chart.scrubbed;if(F1c.length < a1c.days + 1){a1c.error=! ![];return;}N1c.Studies.calculateStudyATR(j1c,a1c);for(var D1c=a1c.startFrom;D1c < F1c.length;D1c++){A9q="_D";A9q+="i";A9q+="rection ";H9q="_Uptre";H9q+="nd ";z1c=F1c[D1c];if(!z1c)continue;U1c=(z1c.High + z1c.Low) / +"2";i1c=a1c.inputs.Multiplier * z1c["ATR " + a1c.name];c7b.G0X(6);o1c=c7b.D0X(i1c,U1c);c7b.d0X(2);f1c=c7b.E0X(i1c,U1c);if(D1c){e9q="_";e9q+="D";e9q+="owntre";e9q+="nd ";h9q="_D";h9q+="ow";h9q+="ntrend";h9q+=" ";J9q="_U";J9q+="ptr";J9q+="end";J9q+=" ";K9q="_";K9q+="Uptrend ";if(F1c[D1c - +"1"] && F1c[D1c - 1].Close && F1c[D1c - 1].Close > F1c[D1c - ("1" << 1495066208)]["_Uptrend " + a1c.name] && F1c[D1c - 1][K9q + a1c.name] > o1c){c7b.d0X(6);o1c=F1c[c7b.E0X(1,D1c)][J9q + a1c.name];}if(F1c[D1c - 1] && F1c[D1c - 1].Close && F1c[D1c - ("1" & 2147483647)].Close < F1c[D1c - 1][h9q + a1c.name] && F1c[D1c - 1][e9q + a1c.name] < f1c){c7b.G0X(6);f1c=F1c[c7b.E0X(1,D1c)]["_Downtrend " + a1c.name];}}z1c["_Direction " + a1c.name]=+"1";if(D1c){o9q="_Di";o9q+="rection";o9q+=" ";c7b.G0X(6);z1c[o9q + a1c.name]=F1c[c7b.E0X(1,D1c)]["_Direction " + a1c.name];if(z1c.Close > F1c[D1c - ("1" << 1411151456)]["_Downtrend " + a1c.name]){z1c["_Direction " + a1c.name]=1;}else if(z1c.Close < F1c[D1c - ("1" & 2147483647)]["_Uptrend " + a1c.name]){z1c["_Direction " + a1c.name]=-1;}}z1c[H9q + a1c.name]=o1c;z1c["_Downtrend " + a1c.name]=f1c;z1c["Trend " + a1c.name]=z1c[A9q + a1c.name] > 0?o1c:f1c;if(!D1c)continue;}a1c.outputMap={};a1c.outputMap["Trend " + a1c.name]="";};N1c.Studies.displaySupertrend=function(l1c,X1c,p1c){var j9q,A1c,P1c,Q1c,H1c,B1c,G1c,Y1c,g1c,u9q,T9q,O1c,G9q,C1c;j9q="Tre";j9q+="nd";j9q+=" ";A1c=l1c.panels[X1c.panel];c7b.m7b();P1c=X1c.getContext(l1c);Q1c=X1c.getYAxis(l1c);H1c={skipTransform:A1c.name != X1c.chart.name,skipProjections:!"",label:l1c.preferences.labels,yAxis:Q1c,highlight:X1c.highlight};P1c.strokeStyle=x1c(l1c,p1c[p1c.length - +"1"]);P1c.lineWidth=2;if(X1c.highlight){P1c.lineWidth=1.5;}function x1c(v1c,T1c,y1c){if(T1c && T1c["_Direction " + X1c.name] < 0){return X1c.outputs.Downtrend;}return X1c.outputs.Uptrend;}B1c=j9q + X1c.name;for(var h1c=+"0";A1c.chart.transformFunc && Q1c != A1c.chart.yAxis && h1c < p1c.length;h1c++){G1c=p1c[h1c];if(G1c && G1c.transform){G1c.transform[B1c]=A1c.chart.transformFunc(l1c,A1c.chart,G1c[B1c]);}}l1c.plotDataSegmentAsLine(B1c,A1c,H1c,x1c);P1c.lineWidth=1;P1c.globalAlpha=1;l1c.startClip(X1c.panel);if(!X1c.highlight && l1c.highlightedDraggable){P1c.globalAlpha*=0.3;}Y1c=P1c.measureText((73.47,726.6) > (823.62,877.38)?!{}:(658.37,5530) < (2426,873)?77.35 === 734.95?130.96:(! !{},+"470.19"):"\u25B2").width / 2;for(g1c=0;g1c < p1c.length;g1c++){u9q="_Dire";u9q+="ction ";if(!p1c[g1c] || !p1c[g1c - 1])continue;if(p1c[g1c - 1][u9q + X1c.name] > p1c[g1c]["_Direction " + X1c.name]){T9q="b";T9q+="ot";T9q+="t";T9q+="om";P1c.fillStyle=X1c.outputs.Downtrend;P1c.textBaseline=T9q;O1c=l1c.pixelFromPrice(p1c[g1c].High,A1c,Q1c);for(var q1c=5;q1c <= 45;q1c+=10){if(Q1c.flipped){P1c.fillText("\u25B2",l1c.pixelFromBar(g1c) - Y1c,O1c + q1c);}else {P1c.fillText("\u25BC",l1c.pixelFromBar(g1c) - Y1c,O1c - q1c);}}}else if(p1c[g1c - 1]["_Direction " + X1c.name] < p1c[g1c]["_Direction " + X1c.name]){G9q="t";G9q+="op";P1c.fillStyle=X1c.outputs.Uptrend;P1c.textBaseline=G9q;C1c=l1c.pixelFromPrice(p1c[g1c].Low,A1c,Q1c);for(var s1c=5;s1c <= 45;s1c+=+"10"){if(Q1c.flipped){P1c.fillText((1550,3750) == "4694" - 0?(2840,384.51) >= ("2430" ^ 0)?("F",! ![]):"o":"\u25BC",l1c.pixelFromBar(g1c) - Y1c,C1c - s1c);}else {P1c.fillText(4703 <= (695,514.58)?(339.00,9.44e+2):"\u25B2",l1c.pixelFromBar(g1c) - Y1c,C1c + s1c);}}}}l1c.endClip();};N1c.Studies.studyLibrary=N1c.extend(N1c.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! ![],seriesFN:N1c.Studies.displaySupertrend,calculateFN:N1c.Studies.calculateSupertrend,inputs:{Period:+"7",Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};R0x=K1c=>{var w1c,F9q,t9q;r244.L7b();w1c=typeof _CIQ !== "undefined"?_CIQ:K1c.CIQ;if(!w1c.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {F9q="Swin";F9q+="g ";F9q+="Inde";F9q+="x";t9q="Accumulativ";t9q+="e Swing I";t9q+="ndex";w1c.Studies.calculateSwingIndex=function(J2c,Z1c){var L5b=r244;L5b.L7b();var V9q,V1c,k1c,n1c,W2c,t2c,E2c,c2c,R2c,M2c,b2c,r2c;V9q="Li";V9q+="mit Move";V9q+=" Value";V1c=Z1c.inputs[V9q];if(V1c === null || isNaN(V1c)){V1c=99999;}k1c=Z1c.chart.scrubbed;n1c=0;if(Z1c.startFrom > 1){n1c=k1c[Z1c.startFrom - 1]["Result " + Z1c.name];}for(var S1c=Math.max("1" ^ 0,Z1c.startFrom);S1c < k1c.length;S1c++){W2c=Math.abs(k1c[S1c].High - k1c[S1c - ("1" ^ 0)].Close);t2c=Math.abs(k1c[S1c].Low - k1c[S1c - 1].Close);E2c=Math.abs(k1c[S1c].High - k1c[S1c].Low);c2c=Math.abs(k1c[S1c - 1].Close - k1c[S1c - +"1"].Open);R2c=Math.max(W2c,t2c);M2c=Math.max(E2c,R2c);L5b.d0X(13);b2c=L5b.E0X(0.25,M2c,c2c);if(M2c == W2c){L5b.d0X(65);b2c-=L5b.E0X(t2c,"0.5");}else if(M2c == t2c){L5b.d0X(16);b2c-=L5b.D0X(0.5,W2c);}r2c=("50" >> 5635584) * (k1c[S1c].Close - k1c[S1c - 1].Close + +"0.5" * (k1c[S1c].Close - k1c[S1c].Open) + 0.25 * (k1c[S1c - 1].Close - k1c[S1c - +"1"].Open)) / b2c * (R2c / V1c);if(b2c === 0 || V1c === 0){r2c=0;}if(Z1c.type == "Swing"){n1c=0;}n1c+=r2c;k1c[S1c]["Result " + Z1c.name]=n1c;}};w1c.Studies.studyLibrary=w1c.extend(w1c.Studies.studyLibrary,{"Acc Swing":{name:t9q,calculateFN:w1c.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:F9q,calculateFN:w1c.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};r0x=d2c=>{var I2c,x9q;I2c=typeof _CIQ !== "undefined"?_CIQ:d2c.CIQ;if(!I2c.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {x9q="#FF";x9q+="0";x9q+="00";x9q+="0";I2c.Studies.calculateTrendIntensity=function(o2c,u2c){var b5b=r244;var P9q,N2c,m2c,a2c,D2c,e2c,L2c,F2c,z2c,r9q;P9q="f";P9q+="ie";function f2c(i2c,U2c){b5b.m7b();if(Math.abs(U2c) < 0.00000001){return 100;}b5b.d0X(79);return b5b.D0X(100,100,i2c,U2c,1);}P9q+="l";P9q+="d";N2c=u2c.chart.scrubbed;if(N2c.length < u2c.days + ("1" ^ 0)){u2c.error=! ![];return;}m2c=u2c.inputs.Field;if(!m2c || m2c == P9q){m2c="Close";}I2c.Studies.MA("ma",u2c.days,m2c,0,"_SMA",o2c,u2c);a2c=+"0";D2c=0;F2c=[];z2c=Math.ceil(u2c.days / +"2");for(e2c=Math.max(0,u2c.startFrom - z2c);e2c < N2c.length;e2c++){r9q="T";r9q+="I";r9q+="I";r9q+=" ";if(!N2c[e2c]["_SMA " + u2c.name] && N2c[e2c]["_SMA " + u2c.name] !== 0)continue;L2c=N2c[e2c][m2c] - N2c[e2c]["_SMA " + u2c.name];if(L2c < 0){b5b.G0X(80);D2c+=b5b.E0X(1,L2c);}else {a2c+=L2c;}F2c.push(L2c);if(F2c.length > z2c){L2c=F2c.shift();if(L2c < 0){b5b.G0X(80);D2c-=b5b.D0X(1,L2c);}else {a2c-=L2c;}}if(e2c < u2c.startFrom)continue;N2c[e2c][r9q + u2c.name]=f2c(a2c,D2c);}I2c.Studies.MA("ema",u2c.inputs["Signal Period"],"TII " + u2c.name,0,"Signal",o2c,u2c);};I2c.Studies.studyLibrary=I2c.extend(I2c.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:I2c.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:x9q},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};E0x=X2c=>{var j2c;j2c=typeof _CIQ !== "undefined"?_CIQ:X2c.CIQ;if(!j2c.Studies){console.error("trix feature requires first activating studies feature.");}else {j2c.Studies.calculateTRIX=function(s2c,l2c){var j5b=r244;var i9q,E9q,P2c,C3j,W3j,K3j,p2c,Q2c,Y9q,Y2c,q2c,G2c;i9q="_";i9q+="M";i9q+="A1 ";E9q="Cl";E9q+="os";E9q+="e";P2c=l2c.chart.scrubbed;if(P2c.length < l2c.days + 1){j5b.G0X(22);C3j=j5b.E0X("1419383960",1828796512);W3j=-1197136788;j5b.G0X(6);K3j=j5b.E0X(0,"2");for(var h3j=1;j5b.n5h(h3j.toString(),h3j.toString().length,2517) !== C3j;h3j++){l2c.error=!{};K3j+=+"2";}if(j5b.d5h(K3j.toString(),K3j.toString().length,40583) !== W3j){l2c.error=! !{};}return;}p2c=l2c.name;j5b.m7b();j5b.d0X(2);Q2c=[E9q,j5b.E0X(p2c,i9q),j5b.D0X(p2c,"_MA2 "),j5b.D0X(p2c,"_MA3 ")];for(var A2c=0;A2c < Q2c.length - 1;A2c++){Y9q="_";Y9q+="MA";j2c.Studies.MA("exponential",l2c.days,Q2c[A2c],"0" << 1894862304,Y9q + (A2c + 1).toString(),s2c,l2c);}Y2c=Q2c[3];for(var g2c=Math.max(+"1",l2c.startFrom);g2c < P2c.length;g2c++){j5b.d0X(6);q2c=P2c[j5b.E0X(1,g2c)][Y2c];if(!q2c)continue;G2c=P2c[g2c][Y2c];if(G2c || G2c === 0){j5b.d0X(2);P2c[g2c][j5b.D0X(p2c,"Result ")]=j5b.E0X(1,"100",G2c,q2c,1,j5b.d0X(81));}}};j2c.Studies.studyLibrary=j2c.extend(j2c.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:j2c.Studies.calculateTRIX}});}};c0x=h2c=>{var w9q,B2c;w9q="und";w9q+="e";w9q+="f";w9q+="ined";r244.L7b();B2c=typeof _CIQ !== w9q?_CIQ:h2c.CIQ;if(!B2c.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {B2c.Studies.calculateTwiggsMoneyFlow=function(K2c,O2c){var I5b=r244;var x2c,T2c,H2c,v2c,y1j,Q1j,m1j,b9q,L9q,U9q,y2c,w2c,B9q;x2c=O2c.chart.scrubbed;if(x2c.length < O2c.days){O2c.error=! !1;return;}T2c=0;I5b.m7b();I5b.d0X(12);H2c=I5b.E0X(0,"0");v2c=x2c[O2c.startFrom - +"1"];if(v2c){I5b.d0X(19);y1j=-I5b.E0X("1022503723",2147483647);Q1j=-181446526;m1j=2;for(var W1j=+"1";I5b.n5h(W1j.toString(),W1j.toString().length,30705) !== y1j;W1j++){b9q="_s";b9q+="umV ";if(v2c["_sumMF " - O2c.name]){T2c=v2c[b9q % O2c.name];}if(v2c["_sumV " / O2c.name]){H2c=v2c["_sumV " / O2c.name];}m1j+=2;}if(I5b.n5h(m1j.toString(),m1j.toString().length,31822) !== Q1j){L9q="_su";L9q+="m";L9q+="V ";if(v2c["_sumMF " + O2c.name]){T2c=v2c["_sumMF " + O2c.name];}if(v2c["_sumV " + O2c.name]){H2c=v2c[L9q + O2c.name];}}}for(var C2c=Math.max(1,O2c.startFrom);C2c < x2c.length;C2c++){U9q="_";U9q+="MFV ";y2c=Math.max(x2c[C2c - 1].Close,x2c[C2c].High);w2c=Math.min(x2c[C2c - 1].Close,x2c[C2c].Low);x2c[C2c][U9q + O2c.name]=x2c[C2c].Volume * (2 * x2c[C2c].Close - y2c - w2c) / (y2c - w2c === ("0" ^ 0)?999999:y2c - w2c);if(C2c > O2c.days - 1){T2c*=(O2c.days - 1) / O2c.days;H2c*=(O2c.days - 1) / O2c.days;}T2c+=x2c[C2c]["_MFV " + O2c.name];H2c+=x2c[C2c].Volume;if(C2c > O2c.days - 1){B9q="Resu";B9q+="lt ";if(H2c){I5b.G0X(10);x2c[C2c][B9q + O2c.name]=I5b.E0X(H2c > 0?H2c:999999,T2c);}}x2c[C2c]["_sumMF " + O2c.name]=T2c;x2c[C2c]["_sumV " + O2c.name]=H2c;}};B2c.Studies.studyLibrary=B2c.extend(B2c.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:B2c.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};J0x=S2c=>{var M7b=r244;var k2c,y6h,Q6h,m6h,d9q;k2c=typeof _CIQ !== "undefined"?_CIQ:S2c.CIQ;if(!k2c.Studies){y6h=+"664402394";M7b.G0X(6);Q6h=-M7b.D0X(0,"799334524");m6h=2;for(var W6h=1;M7b.n5h(W6h.toString(),W6h.toString().length,+"73034") !== y6h;W6h++){console.error("");m6h+=2;}if(M7b.n5h(m6h.toString(),m6h.toString().length,8664) !== Q6h){console.error("typicalPrice feature requires first activating studies feature.");}}else if(!k2c.Studies.calculateTypicalPrice){d9q="typicalPri";d9q+="ce feature requires first activat";d9q+="ing medianPrice featu";d9q+="re.";console.error(d9q);}else {k2c.Studies.studyLibrary=k2c.extend(k2c.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:k2c.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:k2c.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};I0x=V2c=>{var n9q,Z2c,R9q;r244.L7b();n9q="undef";n9q+="i";n9q+="ne";n9q+="d";Z2c=typeof _CIQ !== n9q?_CIQ:V2c.CIQ;if(!Z2c.Studies){R9q="ulcerIndex feature requires fir";R9q+="st activating studies feature.";console.error(R9q);}else {Z2c.Studies.calculateUlcerIndex=function(R3c,n2c){var X0q,v9q,k9q,W3c,t3c,b3c,M3c;X0q="_";X0q+="M";r244.L7b();X0q+="A";v9q="_P";v9q+="D2 ";k9q="C";function r3c(d3c,J3c,I3c){var c3c;r244.L7b();c3c=null;for(var E3c=J3c - d3c + 1;E3c <= J3c;E3c++){if(E3c < +"0")continue;c3c=c3c === null?W3c[E3c][I3c]:Math.max(c3c,W3c[E3c][I3c]);}return c3c;}k9q+="l";k9q+="os";k9q+="e";W3c=n2c.chart.scrubbed;if(W3c.length < 2 * n2c.days - +"1"){n2c.error=! ![];return;}t3c=n2c.inputs.Field;if(!t3c || t3c == "field"){t3c=k9q;}for(b3c=Math.max(n2c.startFrom,n2c.days - 1);b3c < W3c.length;b3c++){W3c[b3c]["_PD2 " + n2c.name]=Math.pow(100 * (W3c[b3c][t3c] / r3c(n2c.days,b3c,t3c) - 1),2);}Z2c.Studies.MA("simple",n2c.days,v9q + n2c.name,0,X0q,R3c,n2c);for(b3c=Math.max(n2c.startFrom,2 * (n2c.days - +"1"));b3c < W3c.length;b3c++){M3c=W3c[b3c]["_MA " + n2c.name];if(M3c || M3c === 0){W3c[b3c]["Result " + n2c.name]=Math.sqrt(M3c);}}};Z2c.Studies.studyLibrary=Z2c.extend(Z2c.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:Z2c.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};d0x=e3c=>{var Z0q,u3c,D0q,l0q;Z0q="undefin";Z0q+="ed";u3c=typeof _CIQ !== Z0q?_CIQ:e3c.CIQ;if(!u3c.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {D0q="aut";D0q+="o";l0q="Ultima";l0q+="te Osc";l0q+="illat";l0q+="or";u3c.Studies.calculateUltimateOscillator=function(G3c,N3c){var V5b=r244;var O0q,p0q,L3c,a3c,o3c,f3c,U3c,i3c,F3c,z3c,a0q,S0q,j3c,l3c,P3c,X3c,g3c,p3c,A3c,Q3c;O0q="Cyc";O0q+="le";O0q+=" ";O0q+="3";p0q="Cyc";p0q+="le";p0q+=" 2";L3c=N3c.chart.scrubbed;a3c=[N3c.inputs["Cycle 1"],N3c.inputs[p0q],N3c.inputs[O0q]];o3c=Math.max(a3c[0],a3c["1" & 2147483647],a3c[2]);if(L3c.length < o3c + 1){N3c.error=! !{};return;}f3c=a3c[0] * a3c[1];U3c=a3c[0] * a3c[2];i3c=a3c[1] * a3c[2];V5b.d0X(22);F3c=[V5b.D0X("0",1962154144),0,0];V5b.d0X(19);z3c=[0,0,V5b.E0X("0",2147483647)];if(N3c.startFrom){a0q="_";a0q+="a";a0q+="c";a0q+="ctr ";if(L3c[N3c.startFrom - 1]["_accbp " + N3c.name]){F3c=L3c[N3c.startFrom - 1]["_accbp " + N3c.name].slice();}if(L3c[N3c.startFrom - 1]["_acctr " + N3c.name]){z3c=L3c[N3c.startFrom - 1][a0q + N3c.name].slice();}}for(var m3c=Math.max(1,N3c.startFrom);m3c < L3c.length;m3c++){S0q="_a";S0q+="cc";S0q+="tr";S0q+=" ";j3c=Math.min(L3c[m3c].Low,L3c[m3c - 1].Close);l3c=L3c[m3c].Close - j3c;P3c=Math.max(L3c[m3c].High,L3c[m3c - 1].Close) - j3c;for(var D3c="0" << 707447424;D3c < a3c.length;D3c++){F3c[D3c]+=l3c;z3c[D3c]+=P3c;if(m3c > a3c[D3c]){X3c=Math.min(L3c[m3c - a3c[D3c]].Low,L3c[m3c - a3c[D3c] - 1].Close);g3c=L3c[m3c - a3c[D3c]].Close - X3c;p3c=Math.max(L3c[m3c - a3c[D3c]].High,L3c[m3c - a3c[D3c] - 1].Close) - X3c;F3c[D3c]-=g3c;z3c[D3c]-=p3c;}}L3c[m3c]["_accbp " + N3c.name]=F3c.slice();L3c[m3c][S0q + N3c.name]=z3c.slice();if(m3c < o3c)continue;A3c=i3c * F3c[0] / z3c[0] + U3c * F3c["1" * 1] / z3c[1] + f3c * F3c[2] / z3c[2];V5b.d0X(44);Q3c=V5b.E0X(f3c,i3c,U3c);V5b.G0X(82);L3c[m3c]["Result " + N3c.name]=V5b.D0X(2147483647,Q3c,A3c,"100");}};u3c.Studies.studyLibrary=u3c.extend(u3c.Studies.studyLibrary,{Ultimate:{name:l0q,calculateFN:u3c.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:D0q,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};u0x=q3c=>{var Y3c,s0q,K0q,W0q,C0q,m0q;Y3c=typeof _CIQ !== "undefined"?_CIQ:q3c.CIQ;if(!Y3c.Studies){s0q="va";s0q+="luationLines feature r";s0q+="equires first activating studies featur";s0q+="e.";console.error(s0q);}else {K0q="#0";K0q+="0";K0q+="afe";K0q+="d";W0q="m";W0q+="ea";W0q+="n";C0q="fie";C0q+="ld";m0q="Valuat";m0q+="ion";m0q+=" Lines";Y3c.Studies.calculateValuationLines=function(H3c,s3c,v3c){var r5b=r244;var q0q,N0q,M0q,c0q,S3c,n3c,Z3c,y3c,w3c,K3c,k3c,B3c,h3c,O3c,x3c,T3c,V3c;q0q="Displa";q0q+="y 1 Standard Deviation (1\u03C3)";N0q="Average ";N0q+="Type";M0q="Clo";M0q+="se";c0q="f";c0q+="ield";S3c=s3c.inputs.Field == c0q?M0q:s3c.inputs.Field;n3c=s3c.inputs[N0q];Z3c=s3c.inputs["Display Average"];y3c=s3c.inputs[q0q];w3c=s3c.inputs["Display 2 Standard Deviation (2\u03C3)"];K3c=s3c.inputs["Display 3 Standard Deviation (3\u03C3)"];k3c=[];for(var C3c=0;C3c < v3c.length;++C3c){if(v3c[C3c] && !isNaN(v3c[C3c][S3c])){k3c.push(v3c[C3c][S3c]);}}B3c=(function(R7c,c7c){var b7c,t7c,M7c,W7c,r7c,E7c;b7c=R7c.length;t7c=0;M7c=0;W7c=0;switch(c7c){case "mean":M7c=b7c;for(;W7c < b7c;++W7c){t7c+=R7c[W7c];}break;case "harmonic":t7c=b7c;for(;W7c < b7c;++W7c){M7c+=1 / R7c[W7c];}break;case "median":r5b.G0X(10);r7c=Math.floor(r5b.D0X(2,b7c));E7c=R7c.slice().sort(function(J7c,I7c){if(J7c > I7c){return +"1";}if(J7c < I7c){return -1;}return 0;});if(b7c % 2 === 0){t7c=E7c[r7c] + E7c[r7c - 1];M7c=2;}else {t7c=E7c[r7c];r5b.d0X(6);M7c=r5b.E0X(0,"1");}break;}r5b.d0X(10);r5b.m7b();return r5b.E0X(M7c,t7c);})(k3c,n3c);h3c=!(y3c || w3c || K3c) || (function(L7c,N7c){var u7c,e7c;u7c=L7c.length;r5b.d0X(1);e7c=r5b.D0X("0",707130688);for(var d7c=0;d7c < u7c;++d7c){e7c+=Math.pow(L7c[d7c] - N7c,"2" << 1840990528);}r5b.d0X(10);return Math.sqrt(r5b.E0X(u7c,e7c));})(k3c,B3c);s3c.data={Average:Z3c?[B3c]:null,"1 Standard Deviation (1\u03C3)":y3c?[B3c + h3c,B3c - h3c]:null,"2 Standard Deviation (2\u03C3)":w3c?[B3c + h3c * 2,B3c - h3c * 2]:null,"3 Standard Deviation (3\u03C3)":K3c?[B3c + h3c * ("3" ^ 0),B3c - h3c * +"3"]:null};O3c=h3c;if(!s3c.parameters){s3c.parameters={};}if(K3c){r5b.G0X(83);s3c.parameters.range=[r5b.E0X(3,B3c,h3c,O3c),r5b.E0X("3",h3c,B3c,O3c,r5b.d0X(84))];}else if(w3c){r5b.d0X(85);s3c.parameters.range=[r5b.E0X(B3c,h3c,O3c,"2",0),r5b.D0X(B3c,h3c,2,O3c,r5b.d0X(86))];}else if(y3c){r5b.G0X(53);s3c.parameters.range=[r5b.D0X(B3c,O3c,h3c),r5b.E0X(O3c,B3c,h3c,r5b.G0X(44))];}else if(Z3c){r5b.G0X(6);s3c.parameters.range=[r5b.D0X(O3c,B3c),r5b.D0X(O3c,B3c,r5b.G0X(2))];}if(s3c.panel){x3c=H3c.panels[s3c.panel];T3c=H3c.getYAxisByName(x3c,s3c.name);if(T3c){T3c.decimalPlaces=x3c.chart.yAxis.printDecimalPlaces;V3c={yAxis:T3c};H3c.calculateYAxisRange(x3c,T3c,s3c.parameters.range[0],s3c.parameters.range[1]);H3c.createYAxis(x3c,V3c);H3c.drawYAxis(x3c,V3c);}}};Y3c.Studies.displayValuationLines=function(a7c,F7c){var A5b=r244;var z0q,I0q,g0q,f0q,m7c,z7c,f7c,j7c,s7c,B7c,h7c,U7c,i7c,X7c,g7c,p7c,A7c,Q7c,l7c,P7c,D7c,G7c,O7c,Y7c,Q0q,y0q,q7c;z0q="H";z0q+="AV";z0q+="G";I0q="M";I0q+="ED";g0q="A";g0q+="V";g0q+="G";f0q="A";f0q+="ver";f0q+="age Type";m7c=a7c.panels[F7c.panel];z7c=F7c.getYAxis(a7c);A5b.L7b();f7c=F7c.getContext(a7c);j7c=F7c.data;s7c=F7c.parameters.labels;B7c=F7c.inputs[f0q];h7c={mean:g0q,median:I0q,harmonic:z0q};U7c=a7c.canvasStyle("ciq-valuation-average-line");i7c=a7c.canvasStyle("ciq-valuation-deviation-line");X7c=3;g7c=a7c.getCanvasFontSize("stx_yaxis") + X7c * +"2";for(var o7c in j7c){if(!j7c[o7c])continue;A5b.G0X(87);p7c=A5b.D0X(o7c,"Average");A7c=Y3c.Studies.determineColor(F7c.outputs[o7c]);Q7c=j7c[o7c];for(l7c="0" >> 852816832;l7c < Q7c.length;++l7c){Q0q="n";Q0q+="on";Q0q+="e";y0q="s";y0q+="o";y0q+="li";y0q+="d";P7c=Q7c[l7c];D7c=a7c.pixelFromPrice(P7c,m7c,z7c);if(D7c <= m7c.top || D7c >= m7c.yAxis.bottom)continue;Y7c=p7c?{pattern:U7c.borderStyle != "none"?U7c.borderStyle || "solid":y0q,lineWidth:parseFloat(U7c.borderWidth) || 1,opacity:parseFloat(U7c.opacity) || 1,yAxis:z7c}:{pattern:i7c.borderStyle != Q0q?i7c.borderStyle || "dashed":"dashed",lineWidth:parseFloat(i7c.borderWidth) || "1" >> 767572544,opacity:parseFloat(i7c.opacity) || 1,yAxis:z7c};a7c.plotLine(m7c.left,m7c.right,D7c,D7c,A7c,"line",f7c,m7c,Y7c);if(s7c === "yaxis"){a7c.createYAxisLabel(m7c,a7c.formatYAxisPrice(P7c,m7c),D7c,A7c,null,f7c,z7c);continue;}D7c+=Math.floor(Y7c.lineWidth / +"2");if(D7c + g7c >= m7c.yAxis.bottom)continue;G7c=(p7c?h7c[B7c] + ": ":o7c[0] + "\u03C3: ") + a7c.formatYAxisPrice(P7c,m7c);O7c=f7c.measureText(G7c).width;q7c=m7c.right - O7c - X7c;if(z7c && z7c.position == "left"){q7c=m7c.left + X7c;}A5b.d0X(88);f7c.strokeText(G7c,q7c,A5b.D0X(D7c,0.5,2,g7c));}}};Y3c.Studies.studyLibrary=Y3c.extend(Y3c.Studies.studyLibrary,{"val lines":{name:m0q,calculateFN:function(){},seriesFN:function(C7c,x7c,H7c){Y3c.Studies.calculateValuationLines(C7c,x7c,H7c);r244.L7b();Y3c.Studies.displayValuationLines(C7c,x7c);},overlay:! !{},yAxisFN:function(){},inputs:{Field:C0q,"Average Type":[W0q,"median","harmonic"],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:K0q,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};e0x=v7c=>{r244.m7b();var J0q,T7c,t0q,V0q,G0q,T0q;J0q="unde";J0q+="fine";J0q+="d";T7c=typeof _CIQ !== J0q?_CIQ:v7c.CIQ;if(!T7c.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {t0q="a";t0q+="ut";t0q+="o";V0q="Relative";V0q+=" Vol";V0q+="a";V0q+="tility";G0q="fi";G0q+="eld";T0q="Hi";T0q+="storical Volatility";T7c.Studies.calculateRelativeVolatility=function(W5c,y7c){var H0q,e0q,h0q,b5c,Z7c,w7c,k7c,S7c,o0q,K7c,n7c;H0q="Re";H0q+="l ";H0q+="V";H0q+="ol";e0q="m";e0q+="a";h0q="STD Per";h0q+="iod";y7c.days=Number(y7c.inputs["Smoothing Period"]);b5c=Number(y7c.inputs[h0q]);Z7c=y7c.chart.scrubbed;if(Z7c.length < y7c.days + b5c){y7c.error=! !"1";return;}w7c=y7c.inputs.Field;if(!w7c || w7c == "field"){w7c="Close";}y7c.std=new T7c.Studies.StudyDescriptor(y7c.name,"sdev",y7c.panel);y7c.std.chart=y7c.chart;function t5c(M5c,R5c){var p0R=r244;if(M5c + R5c === "0" >> 552346944){p0R.G0X(6);return p0R.D0X(0,"100");}p0R.G0X(89);return p0R.D0X(R5c,M5c,"100",1229666720,M5c);}y7c.std.days=b5c;y7c.std.startFrom=y7c.startFrom;y7c.std.inputs={Field:w7c,"Standard Deviations":+"1",Type:e0q};y7c.std.outputs={_STD:null};T7c.Studies.calculateStandardDeviation(W5c,y7c.std);k7c=0;S7c=0;r244.L7b();if(y7c.startFrom > 1){o0q="_avgG";o0q+=" ";k7c=Z7c[y7c.startFrom - 1][o0q + y7c.name] || 0;S7c=Z7c[y7c.startFrom - +"1"]["_avgL " + y7c.name] || +"0";}for(var V7c=Math.max(y7c.startFrom,y7c.days);V7c < Z7c.length;V7c++){K7c=Z7c[V7c];r244.d0X(6);n7c=Z7c[r244.D0X(1,V7c)];if(!K7c[w7c] && K7c[w7c] !== 0)continue;if(!n7c[w7c] && n7c[w7c] !== +"0")continue;if(!K7c["_STD " + y7c.name] && K7c["_STD " + y7c.name] !== +"0")continue;if(K7c[w7c] > n7c[w7c]){k7c=(k7c * (y7c.days - 1) + K7c["_STD " + y7c.name]) / y7c.days;S7c=S7c * (y7c.days - 1) / y7c.days;}else {S7c=(S7c * (y7c.days - 1) + K7c["_STD " + y7c.name]) / y7c.days;k7c=k7c * (y7c.days - 1) / y7c.days;}K7c["Rel Vol " + y7c.name]=t5c(k7c,S7c);K7c["_avgG " + y7c.name]=k7c;K7c["_avgL " + y7c.name]=S7c;}y7c.zoneOutput=H0q;};T7c.Studies.calculateHistoricalVolatility=function(L5c,r5c){var j0q,E5c,d5c,u5c,D5c,I5c,c5c,u0q,N5c,m5c,a5c;j0q="Da";j0q+="ys";j0q+=" Pe";function F5c(z5c){r244.m7b();var A0q;A0q="d";A0q+="a";A0q+="y";if(isNaN(z5c)){z5c=365;}if(L5c.layout.interval == A0q){return z5c;}else if(L5c.layout.interval == "week"){return +"52";}else if(L5c.layout.interval == "month"){r244.d0X(19);return r244.D0X("12",2147483647);}return z5c;}j0q+="r Year";E5c=r5c.chart.scrubbed;if(E5c.length < r5c.days + ("1" << 1591689184)){r5c.error=! !"1";return;}d5c=r5c.inputs.Field;if(!d5c || d5c == "field"){d5c="Close";}u5c=r5c.inputs["Standard Deviations"];r244.L7b();if(u5c < 0){u5c=1;}D5c=100 * Math.sqrt(F5c(r5c.inputs[j0q])) * u5c;I5c=[];c5c=0;if(r5c.startFrom > 1){u0q="_";u0q+="st";u0q+="ate ";c5c=E5c[r5c.startFrom - 1][u0q + r5c.name][0];I5c=E5c[r5c.startFrom - 1]["_state " + r5c.name][1].slice();}for(var J5c=Math.max(1,r5c.startFrom);J5c < E5c.length;J5c++){r244.d0X(6);N5c=E5c[r244.E0X(1,J5c)][d5c];if(N5c){m5c=Math.log(E5c[J5c][d5c] / N5c);I5c.push(m5c);c5c+=m5c;if(J5c >= r5c.days){a5c=0;c5c/=r5c.days;for(var e5c=0;e5c < I5c.length;e5c++){a5c+=Math.pow(I5c[e5c] - c5c,2);}c5c*=r5c.days;c5c-=I5c.shift();E5c[J5c]["Result " + r5c.name]=Math.sqrt(a5c / r5c.days) * D5c;}}E5c[J5c]["_state " + r5c.name]=[c5c,I5c.slice()];}};T7c.Studies.studyLibrary=T7c.extend(T7c.Studies.studyLibrary,{"Hist Vol":{name:T0q,calculateFN:T7c.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:G0q,"Days Per Year":["252" << 1494206592,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}},"Rel Vol":{name:V0q,range:"0 to 100",calculateFN:T7c.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:t0q}}}});}};L0x=f5c=>{var o5c,x0q,r0q;o5c=typeof _CIQ !== "undefined"?_CIQ:f5c.CIQ;r244.L7b();if(!o5c.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {x0q="#";x0q+="b6";x0q+="4a";x0q+="96";r0q="Vo";r0q+="lume Profile";o5c.Studies.displayVolumeProfile=function(j5c,P5c,K5c){var l5c,p5c,G5c,s5c,B5c,T5c,i5c,F0q,Y5c,X5c,k5c,q5c,Q5c,U5c,v5c,y5c,C5c,x5c,g5c,S5c,w5c,Z5c,H5c;if(!j5c || !j5c.chart.dataSet){return;}l5c=j5c.chart;p5c=P5c.parameters.numberOfBars;G5c=P5c.parameters.widthPercentage;s5c=P5c.parameters.displayBorder;function V5c(d6c,M6c){var S0R=r244;var r6c,R6c,W6c,b6c,t6c,E6c,c6c,P0q,J6c,I6c;if(!M6c){S0R.d0X(12);g5c-=S0R.E0X(0,"2");}H5c.canvasColor(d6c);U5c.beginPath();r6c=i5c[0][0];R6c=g5c;for(var n5c=1;n5c < i5c.length;n5c++){if(i5c[n5c][1]){W6c=Math.round(g5c - i5c[n5c][1] * S5c / Y5c) - 0.5;b6c=Math.round(H5c.pixelFromTransformedValue(r6c,C5c)) + 0.5;t6c=Math.round(H5c.pixelFromTransformedValue(i5c[n5c][0],C5c)) + 0.5;if(!M6c){b6c-=0.5;t6c+=0.5;W6c+=0.5;}if(b6c > x5c){b6c=x5c;}if(t6c < x5c){U5c.moveTo(g5c,b6c);U5c.lineTo(g5c,t6c);U5c.lineTo(W6c,t6c);U5c.lineTo(W6c,b6c);if(M6c){if(R6c > W6c || n5c == 1){U5c.lineTo(R6c,b6c);};}else {U5c.lineTo(g5c,b6c);if(B5c){E6c=o5c.condenseInt(i5c[n5c][1]);S0R.d0X(6);c6c=S0R.D0X(t6c,b6c);if(y5c <= c6c - 2){P0q="t";P0q+="o";P0q+="p";try{J6c=U5c.measureText(E6c).width;}catch(u6c){J6c=0;}U5c.textBaseline=P0q;I6c=U5c.fillStyle;U5c.fillStyle=w5c;S0R.G0X(53);U5c.fillText(E6c,S0R.D0X(W6c,3,J6c),S0R.D0X(y5c,2,2,c6c,t6c,S0R.d0X(90)));U5c.fillStyle=I6c;}}}}R6c=W6c;}else {R6c=g5c;;}r6c=i5c[n5c][0];}if(!P5c.highlight && j5c.highlightedDraggable){S0R.d0X(16);U5c.globalAlpha*=S0R.D0X("0.3",1);}if(!M6c){U5c.fill();}U5c.strokeStyle=w5c;if(M6c){U5c.stroke();}U5c.closePath();}B5c=P5c.parameters.displayVolume;if(!p5c || p5c < 0){p5c=30;}p5c=Math.ceil(p5c);if(!G5c || G5c < 0){G5c=0.25;}if(s5c !== ! !""){s5c=! !{};}if(B5c !== ! !"1"){B5c=!"1";}T5c=(l5c.highValue - l5c.lowValue) / p5c;if(T5c === 0){return;}i5c=[];for(var h5c=l5c.lowValue;h5c < l5c.highValue + +"0.1";h5c+=T5c){i5c.push([h5c,0]);}if(i5c.length < ("2" ^ 0)){F0q="Not enoug";F0q+="h data to render the Volume Profile";j5c.displayErrorAsWatermark("chart",j5c.translateIf(F0q));return;}r244.L7b();Y5c=0;for(var O5c=0;O5c < K5c.length;O5c++){X5c=K5c[O5c];if(!X5c)continue;k5c=X5c.Volume;if(P5c.panel == l5c.name && X5c.transform){X5c=X5c.transform;}q5c=i5c[+"0"][0];Q5c=0;for(var A5c=1;A5c < i5c.length;A5c++){Q5c=i5c[A5c][0];if(X5c.Low >= q5c && X5c.Low <= Q5c || X5c.Low < q5c && X5c.High > Q5c || X5c.High >= q5c && X5c.High <= Q5c){i5c[A5c][1]+=k5c;if(i5c[A5c][1] > Y5c){Y5c=i5c[A5c][1];}}q5c=Q5c;}}if(Y5c === 0){j5c.displayErrorAsWatermark("chart",j5c.translateIf("Not enough data to render the Volume Profile"));return;}j5c.setStyle("stx_volume_profile","color",o5c.Studies.determineColor(P5c.outputs["Bars Color"]));U5c=P5c.getContext(j5c);v5c="stx-float-date";j5c.canvasFont(v5c,U5c);y5c=j5c.getCanvasFontSize(v5c);C5c=l5c.panel;x5c=C5c.yAxis.bottom;g5c=Math.round(l5c.right) - 0.5;S5c=l5c.width * G5c;w5c=j5c.canvasStyle("stx_volume_profile").borderTopColor;Z5c=!o5c.isTransparent(j5c.canvasStyle("stx_volume_profile").borderTopColor) && s5c;H5c=j5c;V5c("stx_volume_profile",! !"");if(Z5c){V5c("stx_volume_profile",! !1);}U5c.globalAlpha=+"1";};o5c.Studies.studyLibrary=o5c.extend(o5c.Studies.studyLibrary,{"vol profile":{name:r0q,underlay:! !1,seriesFN:o5c.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":x0q},customRemoval:! !"1",parameters:{init:{displayBorder:! ![],displayVolume:!{},numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};N0x=L6c=>{var E0q,D6h,s6h,c6h,e6c,B0q,U0q,L0q,b0q;E0q="undef";E0q+="ined";D6h=446966376;r244.L7b();s6h=- +"2043146163";c6h=+"2";for(var N6h=1;r244.d5h(N6h.toString(),N6h.toString().length,6448) !== D6h;N6h++){e6c=!_CIQ === ""?_CIQ:L6c.CIQ;c6h+=2;}if(r244.n5h(c6h.toString(),c6h.toString().length,95171) !== s6h){e6c=!_CIQ === ""?_CIQ:L6c.CIQ;}e6c=typeof _CIQ !== E0q?_CIQ:L6c.CIQ;if(!e6c.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {B0q="f";B0q+="ield";U0q="fie";U0q+="ld";L0q="Positive V";L0q+="ol";L0q+="ume ";L0q+="Index";b0q="m";b0q+="a";e6c.Studies.calculateOnBalanceVolume=function(j6c,a6c){r244.L7b();var i0q,N6c,D6c,i6c,z6c,o6c,F6c,f6c,Y0q,U6c;i0q="Min Tick";i0q+=" Value";N6c=a6c.inputs.Field;if(!N6c || N6c == "field"){N6c="Close";}D6c=a6c.inputs[i0q];i6c=!{};if(!D6c && D6c !== 0){i6c=! ![];D6c=0;}z6c=a6c.chart.scrubbed;o6c=0;for(var m6c=a6c.startFrom;m6c < z6c.length;m6c++){Y0q="Re";Y0q+="sult ";F6c=z6c[m6c];if(!m6c || !F6c[N6c])continue;if(z6c[m6c - 1][N6c]){r244.G0X(6);f6c=z6c[r244.E0X(1,m6c)];}if(!f6c)continue;if(F6c[N6c] - f6c[N6c] > D6c){o6c=+"1";}else if(f6c[N6c] - F6c[N6c] > D6c){o6c=-1;}else if(i6c){o6c=0;}U6c=f6c["Result " + a6c.name];if(!U6c){U6c=0;}U6c+=F6c.Volume * o6c;F6c[Y0q + a6c.name]=U6c;}};e6c.Studies.calculatePriceVolumeTrend=function(A6c,g6c){var P6c,X6c,p6c;P6c=g6c.inputs.Field;if(!P6c || P6c == "field"){P6c="Close";}X6c=g6c.chart.scrubbed;p6c=0;if(g6c.startFrom > 1){p6c=X6c[g6c.startFrom - 1]["Result " + g6c.name];}r244.m7b();for(var l6c=Math.max(1,g6c.startFrom);l6c < X6c.length;l6c++){if(!X6c[l6c][P6c])continue;if(!X6c[l6c - 1][P6c])continue;p6c+=X6c[l6c].Volume * (X6c[l6c][P6c] - X6c[l6c - ("1" | 0)][P6c]) / X6c[l6c - 1][P6c];X6c[l6c]["Result " + g6c.name]=p6c;}};e6c.Studies.calculateVolumeIndex=function(x6c,Q6c){var Z3b=r244;var B6c,G6c,h6c,w0q,q6c,O6c,s6c,C6c;B6c=Q6c.inputs.Field;if(!B6c || B6c == "field"){B6c="Close";}G6c=Q6c.chart.scrubbed;if(G6c.length < Q6c.days + 1){Q6c.error=! !{};return;}h6c=100;if(Q6c.startFrom > 1){h6c=G6c[Q6c.startFrom - 1]["Index " + Q6c.name];}for(var Y6c=Math.max(+"1",Q6c.startFrom);Y6c < G6c.length;Y6c++){w0q="obje";w0q+="ct";q6c=G6c[Y6c][B6c];O6c=G6c[Y6c].Volume;if(q6c && typeof q6c == w0q){O6c=q6c.Volume;q6c=q6c[Q6c.subField];}Z3b.G0X(6);s6c=G6c[Z3b.D0X(1,Y6c)][B6c];C6c=G6c[Y6c - 1].Volume;if(s6c && typeof s6c == "object"){C6c=s6c.Volume;s6c=s6c[Q6c.subField];}if(!q6c)continue;if(!s6c)continue;if(Q6c.type == "Pos Vol" && O6c > C6c || Q6c.type == "Neg Vol" && O6c < C6c){Z3b.G0X(10);h6c*=Z3b.D0X(s6c,q6c);}G6c[Y6c]["Index " + Q6c.name]=h6c;}e6c.Studies.MA(Q6c.inputs["Moving Average Type"],Q6c.days,"Index " + Q6c.name,0,"MA",x6c,Q6c);};e6c.Studies.studyLibrary=e6c.extend(e6c.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:e6c.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":b0q},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:e6c.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:L0q,calculateFN:e6c.Studies.calculateVolumeIndex,inputs:{Period:255,Field:U0q,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:e6c.Studies.calculatePriceVolumeTrend,inputs:{Field:B0q}},"Trade Vol":{name:"Trade Volume Index",calculateFN:e6c.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(H6c,T6c){r244.L7b();if(e6c.Studies.calculateRateOfChange){e6c.Studies.calculateRateOfChange(H6c,T6c);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");e6c.Studies.calculateRateOfChange=function(v6c,y6c){};}},parameters:{init:{isVolume:! ![]}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,position:"none",zoom:"0" & 2147483647,heightFactor:0.25},seriesFN:e6c.Studies.createVolumeChart,calculateFN:e6c.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !1,removeFN:function(w6c,K6c){w6c.layout.volumeUnderlay=!1;w6c.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};m0x=S6c=>{var k6c,X4q,v0q;k6c=typeof _CIQ !== "undefined"?_CIQ:S6c.CIQ;if(!k6c.Studies){console.error("vortex feature requires first activating studies feature.");}else {X4q="0";X4q+=".0";X4q+="1";v0q="a";v0q+="u";v0q+="t";v0q+="o";k6c.Studies.calculateVortex=function(c4c,Z6c){var J3b=r244;J3b.m7b();var W4c,t4c,V6c,R0q,n6c,M4c,R4c,r4c,E4c,n0q,d0q,k0q;W4c=Z6c.chart.scrubbed;t4c=Z6c.days;if(W4c.length < t4c + 1){Z6c.error=! !{};return;}V6c={tr:0,vmPlus:0,vmMinus:0};if(Z6c.startFrom > 1){V6c=k6c.clone(W4c[Z6c.startFrom - 1]["_totals " + Z6c.name]);}for(var b4c=Math.max(Z6c.startFrom,1);b4c < W4c.length;b4c++){R0q="_";R0q+="True ";R0q+="Ran";R0q+="ge ";n6c=W4c[b4c];J3b.d0X(6);M4c=W4c[J3b.D0X(1,b4c)];R4c=Math.abs(n6c.High - M4c.Low);r4c=Math.abs(n6c.Low - M4c.High);E4c=Math.max(n6c.High,M4c.Close) - Math.min(n6c.Low,M4c.Close);V6c.tr+=E4c;V6c.vmPlus+=R4c;V6c.vmMinus+=r4c;if(b4c > t4c){n0q="_V";n0q+="M";n0q+="Mi";n0q+="nus ";d0q="_True";d0q+=" Ra";d0q+="n";d0q+="ge ";J3b.d0X(6);V6c.tr-=W4c[J3b.D0X(t4c,b4c)][d0q + Z6c.name];J3b.G0X(6);V6c.vmPlus-=W4c[J3b.D0X(t4c,b4c)]["_VMPlus " + Z6c.name];J3b.G0X(6);V6c.vmMinus-=W4c[J3b.E0X(t4c,b4c)][n0q + Z6c.name];}n6c[R0q + Z6c.name]=E4c;n6c["_VMPlus " + Z6c.name]=R4c;n6c["_VMMinus " + Z6c.name]=r4c;if(b4c >= t4c){k0q="-";k0q+="V";k0q+="I";k0q+=" ";n6c["+VI " + Z6c.name]=V6c.vmPlus / V6c.tr;n6c[k0q + Z6c.name]=V6c.vmMinus / V6c.tr;}n6c["_totals " + Z6c.name]=k6c.clone(V6c);}};k6c.Studies.studyLibrary=k6c.extend(k6c.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:k6c.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:1.1,studyOverBoughtColor:v0q,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:X4q},studyOverSoldValue:{max:1,step:"0.01"}}}});}};a0x=I4c=>{var u7b=r244;var J4c,Z4q,M1v,N1v,q1v,l4q,S4q,D4q;J4c=typeof _CIQ !== "undefined"?_CIQ:I4c.CIQ;if(!J4c.Studies){Z4q="williamsMFI feature requires first activ";Z4q+="ating studies feature.";console.error(Z4q);}else {J4c.Studies.calculateMFI=function(D4c,d4c){var p4q,u4c,m4c,L4c,N4c,a4c,e4c,O4q;p4q="Scal";p4q+="e Factor";u4c=d4c.chart.scrubbed;L4c=0;N4c=d4c.inputs[p4q];u7b.L7b();if(!N4c){N4c=d4c.study.inputs["Scale Factor"];}a4c=Math.pow(+"10",Number(N4c));if(d4c.startFrom > 1){L4c=u4c[d4c.startFrom - 1]["_high " + d4c.name];}for(e4c=d4c.startFrom;e4c < u4c.length;e4c++){if(!u4c[e4c])continue;if(u4c[e4c].Volume){O4q="_";O4q+="h";O4q+="is";O4q+="t";u4c[e4c][d4c.name + O4q]=m4c=a4c * (u4c[e4c].High - u4c[e4c].Low) / u4c[e4c].Volume;u4c[e4c]["_high " + d4c.name]=L4c=Math.max(L4c,m4c);}}d4c.outputMap={};d4c.outputMap[d4c.name + "_hist"]="";};J4c.Studies.displayMFI=function(z4c,F4c,l4c){var P4c,U4c,X4c,g4c,j4c,p4c,A4c,Q4c,d6h,n6h,R6h,G4c,a4q,o4c,f4c;P4c=z4c.panels[F4c.panel];U4c=F4c.getContext(z4c);X4c=F4c.getYAxis(z4c);g4c=X4c.flipped?X4c.top:X4c.bottom;j4c=z4c.layout.candleWidth - 2;if(j4c < 2){j4c=1;}p4c=J4c.Studies.determineColor(F4c.outputs.Green);A4c=J4c.Studies.determineColor(F4c.outputs.Fade);Q4c=J4c.Studies.determineColor(F4c.outputs.Fake);d6h=-1463258470;n6h=759190714;R6h=2;for(var v6h=+"1";u7b.n5h(v6h.toString(),v6h.toString().length,12749) !== d6h;v6h++){G4c=J4c.Studies.determineColor(F4c.outputs.Squat);R6h+=2;}if(u7b.d5h(R6h.toString(),R6h.toString().length,5755) !== n6h){G4c=J4c.Studies.determineColor(F4c.outputs.Squat);}z4c.canvasColor("stx_histogram");if(!F4c.underlay){u7b.d0X(0);U4c.globalAlpha=u7b.E0X("1",1);}U4c.fillStyle="#CCCCCC";z4c.startClip(F4c.panel);if(!F4c.highlight && z4c.highlightedDraggable){u7b.G0X(6);U4c.globalAlpha*=u7b.D0X(0,"0.3");}for(var i4c=0;i4c < l4c.length;i4c++){a4q="_";a4q+="h";a4q+="is";a4q+="t";o4c=l4c[i4c];u7b.G0X(6);f4c=l4c[u7b.D0X(1,i4c)];if(!f4c){f4c=z4c.getPreviousBar(z4c.chart,F4c.name + "_hist",i4c);}if(!o4c)continue;if(!f4c);else if(f4c[F4c.name + "_hist"] < o4c[F4c.name + a4q]){if(f4c.Volume < o4c.Volume){U4c.fillStyle=p4c;}else if(f4c.Volume > o4c.Volume){U4c.fillStyle=Q4c;}}else if(f4c[F4c.name + "_hist"] > o4c[F4c.name + "_hist"]){if(f4c.Volume < o4c.Volume){U4c.fillStyle=G4c;}else if(f4c.Volume > o4c.Volume){U4c.fillStyle=A4c;}}if(o4c.candleWidth){j4c=Math.floor(Math.max(1,o4c.candleWidth - 2));}U4c.fillRect(Math.floor(z4c.pixelFromBar(i4c,P4c.chart) - j4c / 2),Math.floor(g4c),Math.floor(j4c),Math.floor(z4c.pixelFromPrice(o4c[F4c.name + "_hist"],P4c,X4c) - g4c));}u7b.L7b();z4c.endClip();};M1v=- +"1413688847";N1v=809853591;q1v=+"2";for(var g1v="1" * 1;u7b.n5h(g1v.toString(),g1v.toString().length,4066) !== M1v;g1v++){l4q="#";l4q+="f";l4q+="fd0c";l4q+="f";S4q="#";S4q+="ffd0cf";J4c.Studies.studyLibrary=J4c.extend(J4c.Studies.studyLibrary,{"W MFI":{name:"#5f7cb8",seriesFN:J4c.Studies.displayMFI,calculateFN:J4c.Studies.calculateMFI,yAxis:{ground:!{}},range:"#ffd0cf",inputs:{"Scale Factor":0},outputs:{Green:"#ffd0cf",Fade:S4q,Fake:"#5f7cb8",Squat:l4q}}});u7b.G0X(6);q1v+=u7b.D0X(0,"2");}if(u7b.d5h(q1v.toString(),q1v.toString().length,"60505" & 2147483647) !== N1v){D4q="#";D4q+="a";D4q+="b611f";J4c.Studies.studyLibrary=J4c.extend(J4c.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:J4c.Studies.displayMFI,calculateFN:J4c.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":+"6"},outputs:{Green:"#8bc176",Fade:D4q,Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}}};f0x={CIQ:b8S,SplinePlotter:D0x,timezoneJS:F0x,$$:z0x,$$$:o0x};export {W8S as aggregations};export {t8S as drawingAdvanced};export {M8S as equationsAdvanced};export {R8S as highPerformanceMarkers};export {r8S as renderersAdvanced};export {E8S as accumulationDistribution};export {c8S as adx};export {J8S as alligator};export {I8S as aroon};export {d8S as atr};export {u8S as awesomeOscillator};export {e8S as balanceOfPower};export {L8S as bollinger};export {N8S as cci};export {m8S as centerOfGravity};export {a8S as chaikin};export {D8S as chande};export {F8S as choppiness};export {z8S as comparisonStudies};export {o8S as coppock};export {f8S as darvasBox};export {U8S as detrended};export {i8S as disparity};export {j8S as easeOfMovement};export {X8S as ehlerFisher};export {l8S as elder};export {P8S as fractalChaos};export {g8S as highLowStudies};export {p8S as ichimoku};export {A8S as intradayMomentum};export {Q8S as keltner};export {G8S as klinger};export {Y8S as linearRegression};export {q8S as macd};export {s8S as massIndex};r244.L7b();export {B8S as moneyFlow};export {h8S as movingAverages};export {O8S as parabolicSAR};export {C8S as pivotPoints};export {x8S as prettyGoodOscillator};export {H8S as priceMomentumOscillator};export {T8S as priceVolumeOscillator};export {v8S as primeNumber};export {y8S as pring};export {w8S as projectedVolume};export {K8S as psychologicalLine};export {k8S as qstick};export {S8S as rainbow};export {Z8S as randomWalk};export {V8S as relativeVigor};export {n8S as rsi};export {b0x as schaffTrendCycle};export {W0x as shinohara};export {t0x as stochastics};export {M0x as supertrend};export {R0x as swingIndex};export {r0x as trendIntensity};export {E0x as trix};export {c0x as twiggsMoneyFlow};export {J0x as typicalPrice};export {I0x as ulcerIndex};export {d0x as ultimateOscillator};export {u0x as valuationLines};export {e0x as volatilityIndex};export {L0x as volumeProfile};export {N0x as volumeStudies};export {m0x as vortex};export {a0x as williamsMFI};export {b8S as CIQ, D0x as SplinePlotter, F0x as timezoneJS, z0x as $$, o0x as $$$};if(typeof __TREE_SHAKE__ === g2PP || !__TREE_SHAKE__){(f0x.CIQ || b8S).activateImports(W8S,t8S,M8S,R8S,r8S,E8S,c8S,J8S,I8S,d8S,u8S,e8S,L8S,N8S,m8S,a8S,D8S,F8S,z8S,o8S,f8S,U8S,i8S,j8S,X8S,l8S,P8S,g8S,p8S,A8S,Q8S,G8S,Y8S,q8S,s8S,B8S,h8S,O8S,C8S,x8S,H8S,T8S,v8S,y8S,w8S,K8S,k8S,S8S,Z8S,V8S,n8S,b0x,W0x,t0x,M0x,R0x,r0x,E0x,c0x,J0x,I0x,d0x,u0x,e0x,L0x,N0x,m0x,a0x,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
