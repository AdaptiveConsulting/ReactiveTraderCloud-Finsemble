/**
 *	8.1.0
 *	Generation date: 2020-12-17T21:02:23.183Z
 *	Client name: adaptive
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/02/01"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
Q6II[283518]=(function(){var O=2;for(;O !== 9;){switch(O){case 2:O=typeof globalThis === '\x6f\u0062\u006a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var P;try{var V=2;for(;V !== 6;){switch(V){case 2:Object['\x64\x65\u0066\u0069\x6e\u0065\u0050\u0072\x6f\u0070\u0065\u0072\x74\u0079'](Object['\x70\u0072\u006f\u0074\u006f\u0074\x79\u0070\x65'],'\x6f\u007a\x4c\x76\u0063',{'\x67\x65\x74':function(){var j=2;for(;j !== 1;){switch(j){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});P=ozLvc;P['\u0074\u0079\x7a\x79\u0074']=P;V=4;break;case 3:throw "";V=9;break;case 4:V=typeof tyzyt === '\u0075\u006e\u0064\u0065\u0066\x69\u006e\x65\u0064'?3:9;break;case 9:delete P['\u0074\u0079\u007a\x79\x74'];var g=Object['\x70\x72\u006f\x74\x6f\x74\x79\u0070\u0065'];delete g['\x6f\x7a\x4c\u0076\x63'];V=6;break;}}}catch(p){P=window;}return P;break;}}})();Q6II[87757]=H3xx(Q6II[283518]);Q6II[445934]=N6NN(Q6II[283518]);Q6II[580256]=(function(){var P51=function(L51,V51){var X51=V51 & 0xffff;var W51=V51 - X51;return (W51 * L51 | 0) + (X51 * L51 | 0) | 0;},p51=function(a51,m51,J51){var s51=0xcc9e2d51,f51=0x1b873593;var F51=J51;var D51=m51 & ~0x3;for(var i51=0;i51 < D51;i51+=4){var Q51=a51.w3xx(i51) & 0xff | (a51.w3xx(i51 + 1) & 0xff) << 8 | (a51.w3xx(i51 + 2) & 0xff) << 16 | (a51.w3xx(i51 + 3) & 0xff) << 24;Q51=P51(Q51,s51);Q51=(Q51 & 0x1ffff) << 15 | Q51 >>> 17;Q51=P51(Q51,f51);F51^=Q51;F51=(F51 & 0x7ffff) << 13 | F51 >>> 19;F51=F51 * 5 + 0xe6546b64 | 0;}Q51=0;switch(m51 % 4){case 3:Q51=(a51.w3xx(D51 + 2) & 0xff) << 16;case 2:Q51|=(a51.w3xx(D51 + 1) & 0xff) << 8;case 1:Q51|=a51.w3xx(D51) & 0xff;Q51=P51(Q51,s51);Q51=(Q51 & 0x1ffff) << 15 | Q51 >>> 17;Q51=P51(Q51,f51);F51^=Q51;}F51^=m51;F51^=F51 >>> 16;F51=P51(F51,0x85ebca6b);F51^=F51 >>> 13;F51=P51(F51,0xc2b2ae35);F51^=F51 >>> 16;return F51;};return {o51:p51};})();Q6II.o6I=function(){return typeof Q6II[254673].G1c === 'function'?Q6II[254673].G1c.apply(Q6II[254673],arguments):Q6II[254673].G1c;};function N6NN(V8I){function x5I(N6I,U6I,f6I,d6I,I6I){var c6I=2;for(;c6I !== 7;){switch(c6I){case 9:Z8I[3]="de";try{var H6I=2;for(;H6I !== 8;){switch(H6I){case 3:try{var x6I=2;for(;x6I !== 3;){switch(x6I){case 2:Z8I[1]=Z8I[3];Z8I[1]+=Z8I[4];Z8I[1]+=Z8I[7];Z8I[0][0].Object[Z8I[1]](Z8I[2],Z8I[0][4],Z8I[9]);x6I=3;break;}}}catch(i5I){}Z8I[2][Z8I[0][4]]=Z8I[9].value;H6I=8;break;case 2:Z8I[9]={};Z8I[8]=(1,Z8I[0][1])(Z8I[0][0]);Z8I[2]=[Z8I[8],Z8I[8].prototype][Z8I[0][3]];Z8I[9].value=Z8I[2][Z8I[0][2]];H6I=3;break;}}}catch(h5I){}c6I=7;break;case 2:var Z8I=[arguments];Z8I[7]="";Z8I[7]="erty";Z8I[4]="";Z8I[4]="fineProp";c6I=9;break;}}}function W5I(y6I){var W6I=2;for(;W6I !== 5;){switch(W6I){case 2:var e8I=[arguments];return e8I[0][0].Function;break;}}}function c5I(F6I){var J6I=2;for(;J6I !== 5;){switch(J6I){case 2:var X8I=[arguments];return X8I[0][0];break;}}}function C5I(m6I){var O6I=2;for(;O6I !== 5;){switch(O6I){case 2:var G8I=[arguments];return G8I[0][0].RegExp;break;}}}var g6I=2;for(;g6I !== 73;){switch(g6I){case 48:q8I[48]=q8I[36];q8I[48]+=q8I[37];q8I[48]+=q8I[37];q8I[97]=q8I[4];g6I=65;break;case 31:q8I[15]=1;q8I[53]="c6";q8I[79]=2;q8I[79]=0;g6I=44;break;case 35:q8I[99]="";q8I[99]="H6";q8I[37]="";q8I[37]="N";g6I=31;break;case 2:var q8I=[arguments];q8I[1]="";q8I[1]="o";q8I[6]="";g6I=3;break;case 76:R5I(c5I,q8I[92],q8I[79],q8I[41]);g6I=75;break;case 57:var R5I=function(E6I,s6I,S6I,Y6I){var R6I=2;for(;R6I !== 5;){switch(R6I){case 2:var n8I=[arguments];x5I(q8I[0][0],n8I[0][0],n8I[0][1],n8I[0][2],n8I[0][3]);R6I=5;break;}}};g6I=56;break;case 40:q8I[29]+=q8I[37];q8I[29]+=q8I[37];q8I[94]=q8I[51];q8I[94]+=q8I[88];q8I[94]+=q8I[89];q8I[41]=q8I[83];q8I[41]+=q8I[37];g6I=52;break;case 77:R5I(J5I,"push",q8I[15],q8I[48]);g6I=76;break;case 61:q8I[72]+=q8I[5];q8I[57]=q8I[1];q8I[57]+=q8I[2];q8I[57]+=q8I[37];g6I=57;break;case 56:R5I(C5I,"test",q8I[15],q8I[57]);g6I=55;break;case 10:q8I[3]="dual";q8I[4]="C";q8I[39]="";q8I[36]="n6";g6I=17;break;case 3:q8I[6]="__a";q8I[7]="bst";q8I[9]="";q8I[9]="NN";g6I=6;break;case 6:q8I[2]="6N";q8I[5]="ract";q8I[8]="";q8I[8]="6";q8I[3]="";g6I=10;break;case 24:q8I[89]="e";q8I[88]="iz";q8I[51]="";q8I[51]="__optim";g6I=35;break;case 65:q8I[97]+=q8I[8];q8I[97]+=q8I[9];q8I[72]=q8I[6];q8I[72]+=q8I[7];g6I=61;break;case 17:q8I[39]="";q8I[39]="__res";q8I[60]="i";q8I[83]="";q8I[83]="M6";q8I[89]="";g6I=24;break;case 52:q8I[41]+=q8I[37];q8I[92]=q8I[39];q8I[92]+=q8I[60];q8I[92]+=q8I[3];g6I=48;break;case 55:R5I(c5I,q8I[72],q8I[79],q8I[97]);g6I=77;break;case 74:R5I(W5I,"apply",q8I[15],q8I[24]);g6I=73;break;case 44:q8I[24]=q8I[53];q8I[24]+=q8I[37];q8I[24]+=q8I[37];q8I[29]=q8I[99];g6I=40;break;case 75:R5I(c5I,q8I[94],q8I[79],q8I[29]);g6I=74;break;}}function J5I(M6I){var C6I=2;for(;C6I !== 5;){switch(C6I){case 2:var a8I=[arguments];return a8I[0][0].Array;break;}}}}Q6II.t0w=function(){return typeof Q6II[580256].o51 === 'function'?Q6II[580256].o51.apply(Q6II[580256],arguments):Q6II[580256].o51;};Q6II[254673]=(function(){var L6I=2;for(;L6I !== 9;){switch(L6I){case 2:var w6I=[arguments];w6I[2]=undefined;w6I[1]={};w6I[1].G1c=function(){var k6I=2;for(;k6I !== 90;){switch(k6I){case 2:var z6I=[arguments];k6I=1;break;case 17:z6I[5].z7a=['K7a'];z6I[5].Q7a=function(){var M1c=function(){return encodeURIComponent('%');};var H1c=(/\x32\x35/).o6NN(M1c + []);return H1c;};z6I[6]=z6I[5];z6I[30]={};z6I[30].z7a=['K7a'];z6I[30].Q7a=function(){var c1c=function(){return ('x').toUpperCase();};var J1c=(/\x58/).o6NN(c1c + []);return J1c;};k6I=24;break;case 13:z6I[1].Q7a=function(){var R1c=typeof C6NN === 'function';return R1c;};z6I[8]=z6I[1];z6I[3]={};z6I[3].z7a=['v7a'];k6I=20;break;case 32:z6I[59].Q7a=function(){var z1c=function(){return ('aaaa|a').substr(0,3);};var L1c=!(/\x7c/).o6NN(z1c + []);return L1c;};z6I[87]=z6I[59];z6I[98]={};k6I=29;break;case 20:z6I[3].Q7a=function(){var D1c=false;var O1c=[];try{for(var o1c in console){O1c.n6NN(o1c);}D1c=O1c.length === 0;}catch(n1c){}var C1c=D1c;return C1c;};z6I[4]=z6I[3];z6I[5]={};k6I=17;break;case 76:k6I=z6I[58] < z6I[61][z6I[93]].length?75:70;break;case 40:z6I[99]=z6I[27];k6I=39;break;case 45:z6I[7].n6NN(z6I[2]);z6I[16]=[];z6I[86]='t7a';z6I[22]='q7a';k6I=62;break;case 70:z6I[62]++;k6I=57;break;case 37:z6I[21].Q7a=function(){var t1c=typeof H6NN === 'function';return t1c;};z6I[26]=z6I[21];z6I[7].n6NN(z6I[41]);z6I[7].n6NN(z6I[99]);z6I[7].n6NN(z6I[66]);z6I[7].n6NN(z6I[8]);z6I[7].n6NN(z6I[6]);k6I=49;break;case 77:z6I[58]=0;k6I=76;break;case 1:k6I=w6I[2]?5:4;break;case 56:z6I[61]=z6I[7][z6I[62]];try{z6I[37]=z6I[61][z6I[56]]()?z6I[86]:z6I[22];}catch(T1c){z6I[37]=z6I[22];}k6I=77;break;case 29:z6I[98].z7a=['K7a'];z6I[98].Q7a=function(){var Y1c=function(){return ('aaa').includes('a');};var E1c=(/\x74\x72\x75\u0065/).o6NN(Y1c + []);return E1c;};z6I[66]=z6I[98];z6I[27]={};z6I[27].z7a=['K7a'];z6I[27].Q7a=function(){var F1c=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var f1c=!(/\u0028\u005b/).o6NN(F1c + []);return f1c;};k6I=40;break;case 5:return 63;break;case 39:z6I[21]={};z6I[21].z7a=['v7a'];k6I=37;break;case 69:k6I=(function(Q6I){var u6I=2;for(;u6I !== 22;){switch(u6I){case 23:return P6I[4];break;case 8:P6I[3]=0;u6I=7;break;case 7:u6I=P6I[3] < P6I[0][0].length?6:18;break;case 11:P6I[1][P6I[6][z6I[96]]].t+=true;u6I=10;break;case 24:P6I[3]++;u6I=16;break;case 10:u6I=P6I[6][z6I[67]] === z6I[86]?20:19;break;case 4:P6I[1]={};P6I[7]=[];P6I[3]=0;u6I=8;break;case 1:u6I=P6I[0][0].length === 0?5:4;break;case 14:u6I=typeof P6I[1][P6I[6][z6I[96]]] === 'undefined'?13:11;break;case 25:P6I[4]=true;u6I=24;break;case 20:P6I[1][P6I[6][z6I[96]]].h+=true;u6I=19;break;case 16:u6I=P6I[3] < P6I[7].length?15:23;break;case 26:u6I=P6I[2] >= 0.5?25:24;break;case 15:P6I[8]=P6I[7][P6I[3]];P6I[2]=P6I[1][P6I[8]].h / P6I[1][P6I[8]].t;u6I=26;break;case 6:P6I[6]=P6I[0][0][P6I[3]];u6I=14;break;case 13:P6I[1][P6I[6][z6I[96]]]=(function(){var B6I=2;for(;B6I !== 9;){switch(B6I){case 2:var l6I=[arguments];l6I[3]={};l6I[3].h=0;l6I[3].t=0;return l6I[3];break;}}}).c6NN(this,arguments);u6I=12;break;case 17:P6I[3]=0;u6I=16;break;case 18:P6I[4]=false;u6I=17;break;case 2:var P6I=[arguments];u6I=1;break;case 12:P6I[7].n6NN(P6I[6][z6I[96]]);u6I=11;break;case 5:return;break;case 19:P6I[3]++;u6I=7;break;}}})(z6I[16])?68:67;break;case 49:z6I[7].n6NN(z6I[87]);z6I[7].n6NN(z6I[4]);z6I[7].n6NN(z6I[20]);z6I[7].n6NN(z6I[26]);k6I=45;break;case 58:z6I[62]=0;k6I=57;break;case 62:z6I[93]='z7a';z6I[67]='O7a';z6I[56]='Q7a';z6I[96]='y7a';k6I=58;break;case 35:z6I[20]=z6I[65];z6I[59]={};z6I[59].z7a=['K7a'];k6I=32;break;case 68:k6I=66?68:67;break;case 4:z6I[7]=[];z6I[9]={};z6I[9].z7a=['K7a'];z6I[9].Q7a=function(){var r1c=function(){return escape('=');};var k1c=(/\u0033\x44/).o6NN(r1c + []);return k1c;};z6I[2]=z6I[9];z6I[1]={};z6I[1].z7a=['v7a'];k6I=13;break;case 24:z6I[41]=z6I[30];z6I[65]={};z6I[65].z7a=['v7a'];z6I[65].Q7a=function(){var j1c=typeof M6NN === 'function';return j1c;};k6I=35;break;case 57:k6I=z6I[62] < z6I[7].length?56:69;break;case 75:z6I[84]={};z6I[84][z6I[96]]=z6I[61][z6I[93]][z6I[58]];z6I[84][z6I[67]]=z6I[37];z6I[16].n6NN(z6I[84]);k6I=71;break;case 67:w6I[2]=77;return 69;break;case 71:z6I[58]++;k6I=76;break;}}};return w6I[1];break;}}})();Q6II[625440]=true;Q6II.h8a=function(){return typeof Q6II[68065].J8a === 'function'?Q6II[68065].J8a.apply(Q6II[68065],arguments):Q6II[68065].J8a;};function Q6II(){}Q6II.i6I=function(){return typeof Q6II[254673].G1c === 'function'?Q6II[254673].G1c.apply(Q6II[254673],arguments):Q6II[254673].G1c;};function H3xx(Z8w){function V8w(J0w,z0w,n0w,a0w,U0w){var d0w=2;for(;d0w !== 6;){switch(d0w){case 2:var o8w=[arguments];o8w[5]="";o8w[5]="erty";o8w[1]="";d0w=3;break;case 3:o8w[1]="op";o8w[9]="definePr";o8w[4]=3;try{var k0w=2;for(;k0w !== 8;){switch(k0w){case 5:o8w[8]=[o8w[4],o8w[2].prototype][o8w[0][3]];o8w[7].value=o8w[8][o8w[0][2]];try{var m0w=2;for(;m0w !== 3;){switch(m0w){case 2:o8w[6]=o8w[9];o8w[6]+=o8w[1];o8w[6]+=o8w[5];o8w[0][0].Object[o8w[6]](o8w[8],o8w[0][4],o8w[7]);m0w=3;break;}}}catch(R8w){}o8w[8][o8w[0][4]]=o8w[7].value;k0w=8;break;case 2:o8w[7]={};o8w[2]=(1,o8w[0][1])(o8w[0][0]);k0w=5;break;}}}catch(Q8w){}d0w=6;break;}}}var X0w=2;for(;X0w !== 13;){switch(X0w){case 7:T8w[1]+=T8w[5];X0w=6;break;case 4:T8w[9]="w";T8w[4]=1;T8w[1]=T8w[9];T8w[1]+=T8w[2];X0w=7;break;case 2:var T8w=[arguments];T8w[2]="3";T8w[5]="xx";X0w=4;break;case 14:A8w(S8w,"charCodeAt",T8w[4],T8w[1]);X0w=13;break;case 6:var A8w=function(l8w,H8w,B0w,W0w){var P0w=2;for(;P0w !== 5;){switch(P0w){case 2:var E8w=[arguments];V8w(T8w[0][0],E8w[0][0],E8w[0][1],E8w[0][2],E8w[0][3]);P0w=5;break;}}};X0w=14;break;}}function S8w(x0w){var f0w=2;for(;f0w !== 5;){switch(f0w){case 2:var G8w=[arguments];return G8w[0][0].String;break;}}}}Q6II.H8a=function(){return typeof Q6II[68065].J8a === 'function'?Q6II[68065].J8a.apply(Q6II[68065],arguments):Q6II[68065].J8a;};Q6II.A0w=function(){return typeof Q6II[580256].o51 === 'function'?Q6II[580256].o51.apply(Q6II[580256],arguments):Q6II[580256].o51;};Q6II[68065]=(function(e8a){return {J8a:function(){var E8a,B8a=arguments;switch(e8a){case 70:E8a=B8a[0] * B8a[4] * B8a[5] + (+B8a[6] - B8a[1] * B8a[2]) * B8a[3];break;case 32:E8a=(B8a[4] - B8a[1]) / (B8a[0] - B8a[5]) > B8a[3] << B8a[2];break;case 25:E8a=B8a[1] + B8a[3] / (B8a[0] - B8a[2]);break;case 61:E8a=B8a[0] * +B8a[1];break;case 55:E8a=(B8a[4] * B8a[3] + B8a[1]) / (B8a[2] >> B8a[0]);break;case 85:E8a=B8a[0] - B8a[2] * B8a[1] - B8a[3];break;case 35:E8a=B8a[1] + (B8a[2] | B8a[0]);break;case 17:E8a=B8a[1] | B8a[0];break;case 42:E8a=B8a[2] + (B8a[0] - B8a[1]) / B8a[3];break;case 60:E8a=B8a[0] + B8a[1] + B8a[7] + B8a[3] + B8a[2] + B8a[5] + B8a[6] + B8a[4];break;case 63:E8a=(B8a[3] - (B8a[0] + +B8a[2])) / B8a[1];break;case 24:E8a=B8a[0] - B8a[1] / B8a[2];break;case 66:E8a=(B8a[2] ^ B8a[0]) * B8a[3] / B8a[1];break;case 90:E8a=(B8a[1] - B8a[3]) % (B8a[0] - B8a[2]);break;case 38:E8a=B8a[1] / (B8a[2] * B8a[0]);break;case 56:E8a=(B8a[1] * B8a[3] + B8a[0]) / +B8a[2];break;case 83:E8a=B8a[4] - B8a[3] / (B8a[2] + B8a[1] / B8a[0]);break;case 40:E8a=(B8a[2] | B8a[0]) / B8a[1];break;case 57:E8a=(B8a[2] + B8a[0] * B8a[1]) / B8a[3];break;case 31:E8a=(B8a[0] - B8a[2]) / (B8a[3] - B8a[1]);break;case 10:E8a=B8a[0] - (B8a[2] & B8a[1]);break;case 26:E8a=B8a[0] + B8a[2] / B8a[1];break;case 72:E8a=B8a[0] * B8a[2] / (B8a[1] + B8a[3]);break;case 27:E8a=B8a[0] - B8a[1] / +B8a[2];break;case 9:E8a=(B8a[3] + B8a[2] + B8a[4] + B8a[1]) / B8a[0];break;case 68:E8a=B8a[1] + (B8a[0] & B8a[2]);break;case 46:E8a=(B8a[5] * B8a[0] - B8a[2] * B8a[3]) / (B8a[4] * B8a[1] - B8a[6]);break;case 88:E8a=B8a[1] == B8a[0];break;case 50:E8a=B8a[2] + B8a[0] * B8a[1];break;case 22:E8a=B8a[0] * B8a[1];break;case 21:E8a=B8a[0] * B8a[1] - B8a[2] - B8a[3];break;case 69:E8a=(B8a[2] + B8a[0]) * B8a[1];break;case 49:E8a=B8a[1] + B8a[0] + B8a[2];break;case 73:E8a=B8a[0] * B8a[1] * B8a[2];break;case 30:E8a=B8a[0] < B8a[1];break;case 91:E8a=B8a[2] - B8a[1] - +B8a[0];break;case 7:E8a=B8a[3] - B8a[2] + B8a[1] + B8a[0];break;case 64:E8a=B8a[0] + B8a[1] + B8a[3] + B8a[2];break;case 37:E8a=(B8a[2] >> B8a[1]) / B8a[0];break;case 47:E8a=(B8a[3] - B8a[1] * B8a[0]) / B8a[2];break;case 14:E8a=B8a[1] >> B8a[0];break;case 15:E8a=B8a[2] - (B8a[0] - B8a[1]);break;case 44:E8a=B8a[3] * (B8a[2] + B8a[0]) / B8a[1];break;case 36:E8a=B8a[1] + +B8a[0];break;case 86:E8a=B8a[1] + B8a[2] * +B8a[0] + B8a[3];break;case 54:E8a=B8a[0] + (B8a[1] ^ B8a[2]);break;case 1:E8a=(B8a[0] + B8a[1]) / B8a[2];break;case 8:E8a=B8a[0] / B8a[1];break;case 87:E8a=B8a[1] - B8a[0] * +B8a[3] - B8a[2];break;case 39:E8a=(B8a[2] << B8a[0]) / B8a[1];break;case 71:E8a=B8a[0] / B8a[2] - B8a[1];break;case 89:E8a=B8a[0] + B8a[2] / B8a[1] + B8a[3];break;case 62:E8a=B8a[2] - B8a[1] - B8a[0];break;case 52:E8a=(B8a[1] - B8a[3]) * B8a[0] + B8a[2];break;case 5:E8a=B8a[0] - B8a[1];break;case 78:E8a=(B8a[1] % B8a[2] + (B8a[3] | B8a[0])) * B8a[4];break;case 6:E8a=B8a[2] - B8a[1] + B8a[0];break;case 53:E8a=B8a[2] + (B8a[3] - B8a[5]) / (B8a[6] - B8a[1]) * (B8a[0] - B8a[4]);break;case 80:E8a=B8a[0] > B8a[1];break;case 0:E8a=B8a[1] + B8a[0];break;case 29:E8a=B8a[0] * B8a[2] - B8a[1];break;case 67:E8a=B8a[1] - (B8a[0] << B8a[2]);break;case 75:E8a=+B8a[2] * (B8a[1] / B8a[0] - B8a[3]);break;case 92:E8a=B8a[4] + (B8a[2] / B8a[1] - B8a[3] / +B8a[0]);break;case 43:E8a=B8a[3] - B8a[2] * (B8a[1] - B8a[0]);break;case 59:E8a=B8a[1] - +B8a[0];break;case 74:E8a=B8a[3] - B8a[1] / (+B8a[2] + B8a[0] / B8a[4]);break;case 84:E8a=B8a[0] * -B8a[1];break;case 51:E8a=-(B8a[2] - B8a[3]) * B8a[1] + B8a[0];break;case 23:E8a=B8a[1] ^ B8a[0];break;case 12:E8a=B8a[1] + (B8a[2] & B8a[3]) * B8a[0];break;case 45:E8a=B8a[0] * (B8a[1] * B8a[2] + B8a[4]) / B8a[3];break;case 13:E8a=B8a[2] - B8a[1] * B8a[0];break;case 18:E8a=B8a[1] * B8a[0] < +B8a[2];break;case 48:E8a=B8a[1] * B8a[0] + B8a[2];break;case 34:E8a=B8a[0] - (B8a[1] ^ B8a[2]);break;case 28:E8a=(B8a[1] - B8a[4]) / (B8a[0] - B8a[3]) > B8a[2];break;case 33:E8a=(B8a[4] - B8a[3]) * (B8a[2] - B8a[5]) / (B8a[1] - B8a[0]) + B8a[6];break;case 82:E8a=(B8a[3] >> B8a[0]) - B8a[1] / (B8a[4] + B8a[2]);break;case 11:E8a=B8a[1] << B8a[0];break;case 77:E8a=B8a[3] * (B8a[0] / B8a[2] - B8a[1]);break;case 58:E8a=(B8a[3] + +B8a[2] * B8a[0]) / B8a[1];break;case 4:E8a=(B8a[0] + B8a[1]) / +B8a[2];break;case 76:E8a=B8a[1] + B8a[0] * (B8a[3] - B8a[2]);break;case 16:E8a=(B8a[1] - B8a[0]) / B8a[2];break;case 65:E8a=B8a[1] * B8a[0] / B8a[2];break;case 81:E8a=B8a[2] * (B8a[1] + B8a[0]);break;case 79:E8a=B8a[1] / (B8a[0] * B8a[2]) <= B8a[3];break;case 19:E8a=B8a[2] + (B8a[0] - B8a[1]);break;case 20:E8a=B8a[0] & B8a[1];break;case 2:E8a=B8a[2] + B8a[1] - B8a[0];break;case 41:E8a=B8a[0] / +B8a[1];break;case 3:E8a=B8a[3] + B8a[1] - B8a[0] - B8a[2];break;}return E8a;},T8a:function(C8a){e8a=C8a;}};})();Q6II[292991]=535;Q6II.N7a=function(){return typeof Q6II[68065].T8a === 'function'?Q6II[68065].T8a.apply(Q6II[68065],arguments):Q6II[68065].T8a;};Q6II.U7a=function(){return typeof Q6II[68065].T8a === 'function'?Q6II[68065].T8a.apply(Q6II[68065],arguments):Q6II[68065].T8a;};Q6II[283518].k9WW=Q6II;Q6II[370832]=Q6II[445934];var a2l,c2l,F2l,R2l,e2l,P2l,k2l,u2l,V2l,M2l,v2l,m2l,y2l,s2l,p2l,Z2l,h2l,E2l,t2l,z2l,Q2l,w2l,d2l,G2l,Y2l,H2l,f2l,l2l,x2l,g2l,q2l,b2l,D2l,C2l,J2l,K2l,U2l,O2l,j2l,X2l,o2l,i2l,W2l,S2l,T2l,N2l,L2l,B2l,I2l,A2l,r2l,F5l,R5l,P5l,k5l,u5l,V5l,v5l,m5l,y5l,s5l,p5l,Z5l,E5l,Q5l,w5l,d5l,G5l,x5l;import {CIQ as n2l, SplinePlotter as Y5l, timezoneJS as H5l, $$ as f5l, $$$ as l5l} from "../js/standard.js";a2l=q5l=>{var x6w,g5l;x6w="undefine";x6w+="d";g5l=typeof _CIQ !== x6w?_CIQ:q5l.CIQ;g5l.Renderer.Aggregations=function(K5l){var J5l,U4w,x4w,X4w;this.construct(K5l);J5l=this.params;Q6II.i6I();this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];J5l.highlightable=!{};if(J5l.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");U4w=-132407200;x4w=909073692;X4w=2;for(var d4w=1;Q6II.t0w(d4w.toString(),d4w.toString().length,93759) !== U4w;d4w++){J5l.invalid=! !"1";X4w+=2;}if(Q6II.t0w(X4w.toString(),X4w.toString().length,92241) !== x4w){J5l.invalid=!"1";}}};g5l.inheritsFrom(g5l.Renderer.Aggregations,g5l.Renderer.OHLC,! !"");g5l.Renderer.Aggregations.requestNew=function(i5l,W5l){Q6II.o6I();var m6w,U5l,N5l,L5l,B5l,I5l,A5l,k6w,d6w,P6w,X6w,X5l;m6w="O";m6w+="HLC";U5l=null;N5l=!1;L5l=![];B5l=!{};I5l=![];A5l=!"1";for(var O5l=0;O5l < i5l.length;O5l++){k6w="lin";k6w+="e";k6w+="b";k6w+="reak";d6w="he";d6w+="ikina";d6w+="shi";P6w="pan";P6w+="df";X6w="ka";X6w+="gi";X5l=i5l[O5l];switch(X5l){case X6w:case P6w:U5l=X5l;break;case d6w:case k6w:case "rangebars":case "renko":U5l="candle";break;default:return null;}}if(U5l === null){return null;}return new g5l.Renderer[U5l == "candle"?m6w:"Aggregations"]({params:g5l.extend(W5l,{type:U5l})});};g5l.Renderer.Aggregations.prototype.drawIndividualSeries=function(F8l,a8l){var j6w,n8l,c8l,f6w,A6w,t6w;j6w="p";j6w+="an";j6w+="d";j6w+="f";if(a8l.invalid){return;}n8l=this.stx;c8l={colors:[]};Q6II.o6I();if(a8l.type == "kagi"){f6w="stx_k";f6w+="agi_down";n8l.drawKagiSquareWave(F8l.panel,"stx_kagi_up","stx_kagi_down",a8l);c8l.colors.push(n8l.getCanvasColor("stx_kagi_up"));c8l.colors.push(n8l.getCanvasColor(f6w));}else if(a8l.type == j6w){A6w="s";A6w+="tx_p";A6w+="a";A6w+="ndf_down";t6w="stx_pandf_u";t6w+="p";n8l.drawPointFigureChart(F8l.panel,"stx_pandf_up","X",a8l);c8l.colors.push(n8l.getCanvasColor(t6w));n8l.drawPointFigureChart(F8l.panel,"stx_pandf_down",(5780,+"835.51") > 1080?(0x392,328.33):(9100,4700) > +"735"?"O":636 === 771.17?+"0x572":864.77,a8l);c8l.colors.push(n8l.getCanvasColor(A6w));}return c8l;};g5l.ChartEngine.prototype.setAggregationType=function(e8l){Q6II.i6I();var V6w,D6w,R8l;V6w="l";V6w+="ay";V6w+="out";D6w="ca";D6w+="nd";D6w+="le";this.layout.chartType=D6w;R8l=this.chart;if(R8l.baseline.userLevel !== !{}){R8l.baseline.userLevel=R8l.baseline.defaultLevel;R8l.panel.yAxis.scroll=g5l.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=e8l;this.setMainSeriesRenderer();if(R8l.canvas){this.createDataSet();this.draw();}this.changeOccurred(V6w);};g5l.ChartEngine.prototype.drawKagiSquareWave=function(y8l,Z8l,h8l,E8l){var m8l,t8l,P8l,k8l,x8l,z8l,Q8l,G8l,Y8l,w8l,d8l,H8l,f8l,M8l,g8l,p8l,v8l,V8l,q8l,u8l,l8l;m8l=y8l.chart;this.startClip(y8l.name);Q6II.o6I();t8l=m8l.dataSegment;P8l=m8l.context;k8l=y8l.yAxis;if(k8l.flipped){x8l=Z8l;Z8l=h8l;h8l=x8l;}z8l=this.canvasStyle(Z8l);Q8l=this.canvasStyle(h8l);this.canvasColor(Z8l);if(E8l.border_color_up){P8l.strokeStyle=E8l.border_color_up;}G8l=P8l.strokeStyle;this.canvasColor(h8l);if(E8l.border_color_down){P8l.strokeStyle=E8l.border_color_down;}Y8l=P8l.strokeStyle;w8l=1;if(z8l.width && parseInt(z8l.width,10) <= 25){w8l=Math.max(1,g5l.stripPX(z8l.width));}d8l=1;if(Q8l.width && parseInt(Q8l.width,10) <= 25){d8l=Math.max(+"1",g5l.stripPX(Q8l.width));}if(this.highlightedDraggable){P8l.globalAlpha*=0.3;}P8l.beginPath();H8l=m8l.dataSet.length - m8l.scroll - 1;f8l=! !1;M8l=null;g8l=null;p8l=null;v8l=y8l.left - 0.5 * this.layout.candleWidth + this.micropixels - 1;for(var s8l=0;s8l <= t8l.length;s8l++){v8l+=this.layout.candleWidth;V8l=t8l[s8l];if(!V8l)continue;if(V8l.projection)break;p8l=V8l.kagiTrend;if(k8l.flipped){p8l*=-1;}if(V8l.transform && m8l.transformFunc){q8l=V8l.kagiPrevOpen;V8l=V8l.transform;V8l.kagiPrevOpen=m8l.transformFunc(this,m8l,q8l);}u8l=V8l.cache;Q6II.N7a(0);l8l=Q6II.h8a(s8l,H8l);if(l8l < y8l.cacheLeft || l8l > y8l.cacheRight || !u8l.kagiOpen){u8l.kagiOpen=k8l.semiLog?k8l.height * (1 - (Math.log(Math.max(V8l.Open,0)) / Math.LN10 - k8l.logLow) / k8l.logShadow):(k8l.high - V8l.Open) * k8l.multiplier;u8l.kagiClose=k8l.semiLog?k8l.height * (1 - (Math.log(Math.max(V8l.Close,"0" - 0)) / Math.LN10 - k8l.logLow) / k8l.logShadow):(k8l.high - V8l.Close) * k8l.multiplier;if(k8l.flipped){u8l.kagiOpen=k8l.bottom - u8l.kagiOpen;u8l.kagiClose=k8l.bottom - u8l.kagiClose;}else {u8l.kagiOpen+=k8l.top;u8l.kagiClose+=k8l.top;}}g8l=u8l.kagiClose;M8l=k8l.semiLog?k8l.height * (1 - (Math.log(Math.max(V8l.kagiPrevOpen,0)) / Math.LN10 - k8l.logLow) / k8l.logShadow):(k8l.high - V8l.kagiPrevOpen) * k8l.multiplier;if(k8l.flipped){M8l=k8l.bottom - M8l;}else {M8l+=k8l.top;}if(f8l){P8l.moveTo(H8l >= 0?y8l.left:Math.floor(v8l),u8l.kagiOpen);P8l.lineTo(Math.floor(v8l),u8l.kagiOpen);if(u8l.kagiClose < u8l.kagiOpen){P8l.strokeStyle=G8l;P8l.lineWidth=w8l;}else {P8l.strokeStyle=Y8l;P8l.lineWidth=d8l;}}else {if(p8l != -1 && u8l.kagiClose < M8l && M8l < u8l.kagiOpen){P8l.lineTo(Math.floor(v8l),M8l);P8l.stroke();P8l.beginPath();P8l.moveTo(Math.floor(v8l),M8l);P8l.strokeStyle=G8l;P8l.lineWidth=w8l;}else if(p8l != ("1" & 2147483647) && u8l.kagiClose > M8l && M8l > u8l.kagiOpen){P8l.lineTo(Math.floor(v8l),M8l);P8l.stroke();P8l.beginPath();P8l.moveTo(Math.floor(v8l),M8l);P8l.strokeStyle=Y8l;P8l.lineWidth=d8l;}}P8l.lineTo(Math.floor(v8l),u8l.kagiClose);if(s8l + 1 < t8l.length){P8l.lineTo(Math.floor(v8l + this.layout.candleWidth),u8l.kagiClose);}f8l=!{};}P8l.stroke();this.endClip();P8l.lineWidth=1;};g5l.ChartEngine.prototype.drawPointFigureChart=function(i8l,u3l,W8l,n3l){var N9I=Q6II;var U8l,R3l,D8l,O8l,j8l,S8l,L8l,B8l,N4w,O4w,y4w,e3l,v3l,b8l,P3l,X8l,C8l,J8l,a3l,c3l,K8l,T8l,N8l,m3l,F3l,o8l,k3l,A8l,r8l;U8l=i8l.chart;this.startClip(i8l.name);R3l=U8l.dataSegment;D8l=U8l.context;this.canvasColor(u3l);function M3l(h3l,E3l,Z3l){N9I.U7a(1);N9I.o6I();D8l.moveTo(N9I.H8a(h3l,E3l,2),N9I.h8a(J8l,j8l,Z3l,N9I.N7a(2)));N9I.U7a(0);D8l.bezierCurveTo(N9I.H8a(B8l,E3l),N9I.H8a(J8l,j8l,Z3l,N9I.N7a(2)),N9I.H8a(B8l,E3l,N9I.N7a(0)),N9I.h8a(S8l,C8l,J8l,Z3l,N9I.N7a(3)),N9I.H8a(h3l,E3l,"2",N9I.N7a(4)),N9I.h8a(S8l,C8l,J8l,Z3l,N9I.N7a(3)));N9I.U7a(5);D8l.bezierCurveTo(N9I.H8a(h3l,L8l),N9I.H8a(S8l,C8l,J8l,Z3l,N9I.N7a(3)),N9I.h8a(h3l,L8l,N9I.U7a(5)),N9I.H8a(J8l,j8l,Z3l,N9I.N7a(2)),N9I.h8a(h3l,E3l,2,N9I.N7a(1)),N9I.h8a(J8l,j8l,Z3l,N9I.N7a(2)));}N9I.i6I();if(W8l == "X" && n3l.border_color_up){D8l.strokeStyle=n3l.border_color_up;}else if(W8l == (645.98 > (2678,"535" - 0)?8167 <= 6690?1.52e+3:2252 != 9036?"O":0x685:("0x23f0" * 1,0x1e0b)) && n3l.border_color_down){D8l.strokeStyle=n3l.border_color_down;}O8l=this.canvasStyle(u3l);j8l=parseInt(O8l.paddingTop,10);function V3l(s3l,p3l,y3l){N9I.N7a(0);D8l.moveTo(N9I.H8a(L8l,s3l),N9I.H8a(J8l,S8l,y3l,N9I.N7a(6)));N9I.U7a(5);D8l.lineTo(N9I.h8a(p3l,B8l),N9I.H8a(J8l,j8l,C8l,y3l,N9I.N7a(7)));N9I.N7a(0);D8l.moveTo(N9I.H8a(L8l,s3l),N9I.h8a(J8l,j8l,C8l,y3l,N9I.N7a(7)));N9I.N7a(5);D8l.lineTo(N9I.H8a(p3l,B8l),N9I.H8a(J8l,S8l,y3l,N9I.U7a(6)));}S8l=parseInt(O8l.paddingBottom,10);L8l=parseInt(O8l.paddingLeft,10);B8l=parseInt(O8l.paddingRight,10);if(O8l.width && parseInt(O8l.width,10) <= +"25"){N4w=860483018;O4w=-1378437745;y4w=2;for(var T4w=1;N9I.t0w(T4w.toString(),T4w.toString().length,66044) !== N4w;T4w++){D8l.lineWidth=Math.max(5,g5l.stripPX(O8l.width));y4w+=2;}if(N9I.A0w(y4w.toString(),y4w.toString().length,41806) !== O4w){D8l.lineWidth=Math.max(5,g5l.stripPX(O8l.width));}D8l.lineWidth=Math.max(1,g5l.stripPX(O8l.width));}else {D8l.lineWidth=2;}if(this.highlightedDraggable){D8l.globalAlpha*=+"0.3";}D8l.beginPath();e3l=this.chart.state.aggregation.box;v3l=U8l.dataSet.length - U8l.scroll - 1;b8l=i8l.yAxis;C8l=e3l * b8l.multiplier;N9I.N7a(8);J8l=N9I.H8a(C8l,2);a3l=this.layout.candleWidth;c3l=i8l.left - a3l + this.micropixels - ("1" ^ 0);for(var I8l=0;I8l < R3l.length;I8l++){c3l+=a3l;K8l=R3l[I8l];if(!K8l)continue;if(K8l.projection)break;T8l=K8l.pfOpen;N8l=K8l.pfClose;m3l=K8l.pfTrend;F3l=K8l.pfStepBack;if(K8l.transform && U8l.transformFunc){K8l=K8l.transform;T8l=U8l.transformFunc(this,U8l,T8l);N8l=U8l.transformFunc(this,U8l,N8l);}o8l=K8l.cache;N9I.U7a(0);k3l=N9I.h8a(I8l,v3l);if(k3l < i8l.cacheLeft || k3l > i8l.cacheRight || !o8l.pfOpen){if(b8l.flipped){o8l.pfOpen=b8l.bottom - (b8l.high - T8l) * b8l.multiplier;o8l.pfClose=b8l.bottom - (b8l.high - N8l) * b8l.multiplier;}else {o8l.pfOpen=(b8l.high - T8l) * b8l.multiplier + b8l.top;o8l.pfClose=(b8l.high - N8l) * b8l.multiplier + b8l.top;}}A8l=Math.round(c3l);N9I.U7a(0);r8l=Math.round(N9I.H8a(a3l,c3l));P3l=Math.abs(Math.round((N8l - T8l) / e3l));X8l=o8l.pfOpen;if(W8l == F3l){if(F3l == "X"){N9I.N7a(5);V3l(A8l,r8l,N9I.h8a(X8l,C8l));}else if(F3l == (5713 == (729.68,6818)?8710 > (216,855)?(429.07,68.27) != 999?0x100b:(! !"",!1):(750.90,"E"):"O")){N9I.U7a(0);M3l(A8l,r8l,N9I.H8a(C8l,X8l));}}if(W8l == m3l){for(;P3l >= 0;P3l--){if(W8l == (5960 === (26,6638)?! !"1":"X")){V3l(A8l,r8l,X8l,C8l,J8l);X8l-=b8l.flipped?-C8l:C8l;}else if(W8l == (("853.74" - 0,"3110" ^ 0) !== 329.25?"O":(!{},3.55e+3))){M3l(A8l,r8l,X8l,C8l,J8l);X8l+=b8l.flipped?-C8l:C8l;}}}}D8l.stroke();this.endClip();D8l.lineWidth=1;};g5l.ChartEngine.calculateAggregation=function(t3l,Q3l,w3l,d3l){var Y9I=Q6II;var I6w,S6w,z3l,G3l,d1w,k1w,m1w;I6w="p";I6w+="a";I6w+="nd";I6w+="f";Y9I.i6I();S6w="range";S6w+="b";S6w+="a";S6w+="rs";G3l=t3l.layout;if(["heikinashi","heikenashi"].indexOf(Q3l) > -1){z3l=g5l.calculateHeikinAshi(t3l,w3l,d3l);}else if(Q3l == S6w){z3l=g5l.calculateRangeBars(t3l,w3l,G3l.rangebars,d3l);}else if(Q3l == "kagi"){z3l=g5l.calculateKagi(t3l,w3l,G3l.kagi,d3l);}else if(Q3l == "linebreak"){z3l=g5l.calculateLineBreak(t3l,w3l,G3l.priceLines,d3l);}else if(Q3l == "renko"){d1w=-1994685260;k1w=993049356;Y9I.U7a(5);m1w=Y9I.H8a("2",0);for(var j1w=1;Y9I.A0w(j1w.toString(),j1w.toString().length,73787) !== d1w;j1w++){z3l=g5l.calculateRenkoBars(t3l,w3l,G3l.renko,d3l);m1w+=2;}if(Y9I.t0w(m1w.toString(),m1w.toString().length,3163) !== k1w){z3l=g5l.calculateRenkoBars(t3l,w3l,G3l.renko,d3l);}}else if(Q3l == I6w){z3l=g5l.calculatePointFigure(t3l,w3l,G3l.pandf,d3l);}return z3l;};g5l.calculateHeikinAshi=function(X3l,K3l,U3l){Q6II.o6I();var q3l,Y3l,H3l,D3l,x3l,f3l,l3l,g3l,O3l,j3l,C3l;if(!K3l.length){return K3l;}if(!U3l){U3l=[];}q3l=[];for(var b3l=0;b3l < K3l.length;b3l++){Y3l=K3l[b3l];if(!Y3l)continue;H3l=q3l[q3l.length - 1];if(!H3l && !b3l){H3l=U3l[U3l.length - 1];}if(!H3l){H3l=Y3l;}D3l=Y3l.Close;x3l=Y3l.Open;f3l=Y3l.High;l3l=Y3l.Low;g3l=H3l.Open;x3l=x3l || x3l === 0?x3l:D3l;f3l=f3l || f3l === 0?f3l:D3l;l3l=l3l || l3l === 0?l3l:D3l;g3l=g3l || g3l === +"0"?g3l:H3l.Close;O3l=(g3l + H3l.Close) / 2;Q6II.N7a(9);j3l=Q6II.h8a(4,D3l,f3l,x3l,l3l);C3l={DT:Y3l.DT,displayDate:Y3l.displayDate,Date:Y3l.Date,Open:O3l,Close:j3l,High:Math.max(f3l,Math.max(O3l,j3l)),Low:Math.min(l3l,Math.min(O3l,j3l)),Volume:Y3l.Volume,iqPrevClose:H3l.Close};for(var J3l in Y3l){if(!C3l[J3l] && C3l[J3l] !== 0){C3l[J3l]=Y3l[J3l];}}q3l.push(C3l);}return q3l;};Q6II.i6I();g5l.calculateKagi=function(n4l,T3l,S3l,A3l){var r3l,B3l,L3l,o3l,c4l,W3l,a4l,i3l;if(!T3l.length){return T3l;}if(!A3l){A3l=[];}r3l=n4l.layout;B3l=n4l.chart;S3l=parseFloat(S3l);B3l.defaultChartStyleConfig.kagi=g5l.ChartEngine.isDailyInterval(r3l.interval)?4:+"0.4";if(isNaN(S3l) || S3l <= ("0" & 2147483647)){S3l=B3l.defaultChartStyleConfig.kagi;if(g5l.Market.Symbology.isForexSymbol(B3l.symbol)){S3l/=4;}if(r3l.kagi !== null){r3l.kagi=null;n4l.changeOccurred("layout");}}S3l/=100;L3l=[];o3l=A3l[A3l.length - 1];c4l=o3l?o3l.DT:0;for(var N3l=0;N3l < T3l.length;N3l++){W3l=T3l[N3l];if(!W3l)continue;if(!o3l){Q6II.U7a(10);o3l=T3l[Q6II.H8a(N3l,2147483647,"1")];}if(!o3l)continue;a4l=o3l.Open || o3l.Open === 0?o3l.Open:o3l.Close;if(a4l > o3l.Close){if(W3l.Close > o3l.Close * (1 + S3l)){W3l.Open=o3l.Close;}else {if(o3l.Close > W3l.Close){o3l.Close=W3l.Close;}o3l.Volume+=W3l.Volume;if(N3l < T3l.length - 1)continue;}}else if(a4l < o3l.Close){if(W3l.Close < o3l.Close * (1 - S3l)){W3l.Open=o3l.Close;}else {if(o3l.Close < W3l.Close){o3l.Close=W3l.Close;}o3l.Volume+=W3l.Volume;if(N3l < T3l.length - 1)continue;}}else {o3l.Close=W3l.Close;o3l.Volume+=W3l.Volume;if(N3l < T3l.length - 1)continue;}i3l={DT:o3l.DT,displayDate:o3l.displayDate,Date:o3l.Date,Open:o3l.Open,Close:o3l.Close,High:Math.max(o3l.Open,o3l.Close),Low:Math.min(o3l.Open,o3l.Close),Volume:o3l.Volume,iqPrevClose:o3l.iqPrevClose};for(var I3l in o3l){if(!i3l[I3l] && i3l[I3l] !== ("0" | 0)){i3l[I3l]=o3l[I3l];}}if(L3l.length){i3l.kagiPrevOpen=L3l[L3l.length - ("1" >> 1467499616)].Open;}else {i3l.kagiPrevOpen=i3l.Open;}if(i3l.Close > i3l.kagiPrevOpen && i3l.kagiPrevOpen > i3l.Open){i3l.kagiTrend=1;}else if(i3l.Close < i3l.kagiPrevOpen && i3l.kagiPrevOpen < i3l.Open){i3l.kagiTrend=-1;}if(c4l < i3l.DT){L3l.push(i3l);}o3l=W3l;B3l.currentQuote={Close:W3l.Close};}return L3l;};g5l.calculateLineBreak=function(z4l,p4l,e4l,Q4l){var Z4l,h4l,P4l,w4l,E4l,F4l,k4l,u4l,v4l,m4l,V4l,R4l,M4l,y4l;if(!p4l.length){return p4l;}if(!Q4l){Q4l=[];}Z4l=z4l.layout;h4l=z4l.chart;h4l.defaultChartStyleConfig.priceLines=3;e4l=parseInt(e4l,10);if(isNaN(e4l) || e4l <= 0){e4l=h4l.defaultChartStyleConfig.priceLines;if(Z4l.priceLines !== null){Z4l.priceLines=null;z4l.changeOccurred("layout");}}else if(e4l > 10){Z4l.priceLines=e4l=10;}P4l=Q4l.slice(-e4l);w4l=P4l.length;E4l=0;a:for(var t4l=0;t4l < p4l.length;t4l++){F4l=p4l[t4l];if(!F4l)continue;E4l+=F4l.Volume;k4l=P4l[P4l.length - 1];if(!k4l){k4l={Open:F4l.Open,Close:F4l.Open,High:F4l.Open,Low:F4l.Open};}u4l=k4l.Close;v4l=k4l.High;m4l=k4l.Low;V4l=k4l.Open;v4l=v4l || v4l === 0?v4l:u4l;m4l=m4l || m4l === 0?m4l:u4l;V4l=V4l || V4l === 0?V4l:u4l;R4l={DT:F4l.DT,displayDate:F4l.displayDate,Date:F4l.Date,Close:F4l.Close,Volume:E4l,iqPrevClose:u4l};h4l.currentQuote={Close:F4l.Close};if(F4l.Close > u4l && k4l.Close > V4l){;}else if(F4l.Close < u4l && k4l.Close < V4l){;}else if(F4l.Close > v4l){for(M4l=2;M4l <= e4l;M4l++){y4l=P4l[P4l.length - M4l];if(y4l && F4l.Close <= y4l.High){continue a;}}}else if(F4l.Close < m4l){for(M4l=+"2";M4l <= e4l;M4l++){y4l=P4l[P4l.length - M4l];if(y4l && F4l.Close >= y4l.Low){continue a;}}}else continue;if(F4l.Close < k4l.Close){R4l.Open=Math.min(V4l,u4l);}else {R4l.Open=Math.max(V4l,u4l);}R4l.Low=Math.min(R4l.Open,R4l.Close);R4l.High=Math.max(R4l.Open,R4l.Close);for(var s4l in F4l){if(!R4l[s4l] && R4l[s4l] !== 0){R4l[s4l]=F4l[s4l];}}P4l.push(R4l);E4l=0;}return P4l.slice(w4l);};g5l.calculateRenkoBars=function(q4l,G4l,d4l,b4l){var E9I=Q6II;var M6w,D4l,x4l,g4l,W4l,U4l,C4l,O4l,Y4l,H4l,f4l,j4l,l4l,X4l,o4l,i4l;M6w="Lo";M6w+="w";if(!G4l.length){return [];}if(!b4l){b4l=[];}function J4l(S4l,T4l){var N4l;S4l=Number(S4l.toFixed(+"8"));E9I.o6I();T4l=Number(T4l.toFixed(8));N4l={DT:f4l.DT,displayDate:f4l.displayDate,Date:f4l.Date,Open:S4l,Close:T4l,High:Math.max(S4l,T4l),Low:Math.min(S4l,T4l),Volume:0,iqPrevClose:S4l != T4l?S4l:null};for(var L4l in f4l){if(!N4l[L4l] && N4l[L4l] !== "0" << 565950528){N4l[L4l]=f4l[L4l];}}O4l.push(N4l);}D4l=q4l.layout;x4l=q4l.chart;g4l=x4l.state.aggregation;if(!g4l){g4l=x4l.state.aggregation={};}E9I.N7a(11);W4l=Math.min(E9I.h8a(1791459328,"300"),G4l.length);if(!g4l.minMax){g4l.minMax=q4l.determineMinMax(G4l.slice(G4l.length - W4l),["Close","High",M6w]);}U4l=g4l.minMax[1] - g4l.minMax[0];C4l=q4l.panels[x4l.name].height;if(!C4l){return [];}x4l.defaultChartStyleConfig.renko=Math.floor(10000 * U4l / (C4l / ("30" | 26))) / 10000;if(d4l === null || isNaN(d4l) || d4l <= +"0"){d4l=x4l.defaultChartStyleConfig.renko;if(D4l.renko !== null){D4l.renko=null;q4l.changeOccurred("layout");}}else {E9I.U7a(8);d4l=Math.max(d4l,E9I.H8a(U4l,C4l));if(D4l.renko !== d4l){D4l.renko=d4l;q4l.changeOccurred("layout");}}O4l=[];Y4l=null;H4l=null;f4l=null;if(b4l.length){j4l=b4l[b4l.length - 1];Y4l=j4l.Low - d4l;H4l=j4l.High + d4l;}for(var K4l="0" * 1;K4l < G4l.length;K4l++){l4l=G4l[K4l];if(!l4l)continue;if(!Y4l && !H4l){X4l=l4l.Open || l4l.Open === 0?l4l.Open:l4l.Close;o4l=Math.floor(X4l / d4l) * d4l;i4l=isNaN(o4l)?X4l:o4l;E9I.U7a(5);Y4l=E9I.H8a(i4l,d4l);E9I.N7a(0);H4l=E9I.h8a(d4l,i4l);}while(! !{}){if(!f4l){f4l=l4l;}if(l4l.Close <= Y4l){E9I.U7a(0);J4l(E9I.H8a(d4l,Y4l),Y4l);E9I.U7a(12);H4l=E9I.H8a(d4l,Y4l,"2",2147483647);Y4l-=d4l;f4l=null;}else if(l4l.Close >= H4l){E9I.U7a(5);J4l(E9I.H8a(H4l,d4l),H4l);E9I.N7a(13);Y4l=E9I.H8a(d4l,2,H4l);H4l+=d4l;f4l=null;}else break;}x4l.currentQuote=l4l;}E9I.i6I();if(Y4l < G4l[G4l.length - 1].Close && Y4l + d4l > G4l[G4l.length - 1].Close){E9I.N7a(0);J4l(E9I.h8a(d4l,Y4l),G4l[G4l.length - ("1" - 0)].Close);}else if(H4l > G4l[G4l.length - ("1" << 1381513856)].Close && H4l - d4l < G4l[G4l.length - 1].Close){E9I.U7a(5);J4l(E9I.h8a(H4l,d4l),G4l[G4l.length - 1].Close);}return O4l;};g5l.calculateRangeBars=function(v0l,c0l,I4l,s0l){var D0I=Q6II;var u6w,w6w,y0l,m0l,u0l,Q0l,h0l,p0l,p2w,T2w,E2w,E0l,B4l,F0l,R0l,Z0l,e0l,A4l,M0l,P0l,r4l,n0l,a0l,z0l,d0l;u6w="Hi";u6w+="gh";w6w="C";w6w+="lo";w6w+="s";w6w+="e";function t0l(){D0I.U7a(0);D0I.i6I();F0l=D0I.h8a(I4l,B4l);D0I.N7a(5);R0l=D0I.H8a(B4l,I4l);Z0l=B4l;}if(!c0l.length){return c0l;}if(!s0l){s0l=[];}function w0l(H0l){var G0l;G0l={DT:e0l.DT,displayDate:e0l.displayDate,Date:e0l.Date,Open:Number(Z0l.toFixed("8" ^ 0)),Close:Number(H0l.toFixed(8)),High:Number(F0l.toFixed(8)),Low:Number(R0l.toFixed(8)),Volume:0};G0l.iqPrevClose=G0l.Open;for(var Y0l in e0l){if(!G0l[Y0l] && G0l[Y0l] !== 0){G0l[Y0l]=e0l[Y0l];}}E0l.push(G0l);}y0l=v0l.layout;m0l=v0l.chart;u0l=m0l.state.aggregation;if(!u0l){u0l=m0l.state.aggregation={};}Q0l=Math.min(+"300",c0l.length);if(!u0l.minMax){u0l.minMax=v0l.determineMinMax(c0l.slice(c0l.length - Q0l),[w6w,u6w,"Low"]);}h0l=u0l.minMax[1] - u0l.minMax[0];p0l=v0l.panels[m0l.name].height;if(!p0l){return [];}function V0l(l0l,f0l){var e6w;while(1){if(!e0l){e0l=l0l;}if(B4l < f0l){B4l=Math.min(f0l,F0l);D0I.N7a(5);R0l=Math.max(R0l,D0I.h8a(B4l,I4l));if(f0l < F0l)break;}else if(B4l >= f0l){B4l=Math.max(f0l,R0l);D0I.U7a(0);F0l=Math.min(F0l,D0I.h8a(I4l,B4l));if(f0l > R0l)break;}if(typeof B4l == "undefined"){e6w="Uh oh undefined in c";e6w+="alculateRangeBars:proces";e6w+="sM";e6w+="ove";console.log(e6w);return;}w0l(B4l);e0l=null;t0l();}}m0l.defaultChartStyleConfig.range=Math.floor(10000 * h0l / (p0l / 30)) / 10000;if(I4l === null || isNaN(I4l) || I4l < 0){I4l=m0l.defaultChartStyleConfig.range;if(y0l.range !== null){D0I.U7a(5);p2w=-D0I.H8a("1137707371",0);T2w=-1930506708;E2w=2;for(var G2w=+"1";D0I.t0w(G2w.toString(),G2w.toString().length,77391) !== p2w;G2w++){y0l.range=1;E2w+=2;}if(D0I.A0w(E2w.toString(),E2w.toString().length,"99082" >> 1963646656) !== T2w){y0l.range=null;}v0l.changeOccurred("layout");}}else {D0I.U7a(8);I4l=Math.max(I4l,D0I.H8a(h0l,p0l));if(y0l.range !== I4l){y0l.range=I4l;v0l.changeOccurred("layout");}}E0l=[];B4l=null;F0l=null;R0l=null;Z0l=null;e0l=null;for(var k0l="0" << 311092800;k0l < c0l.length;k0l++){A4l=c0l[k0l];if(!A4l)continue;D0I.N7a(5);M0l=c0l[D0I.H8a(k0l,1)];if(!k0l){if(!M0l){M0l=s0l[s0l.length - +"1"];}if(M0l){B4l=M0l.Close;if(B4l || B4l === ("0" | 0)){t0l();}}}if(!M0l)continue;P0l=A4l.Close;r4l=A4l.Open;n0l=A4l.High;a0l=A4l.Low;if(!P0l && P0l !== 0)continue;r4l=r4l || r4l === "0" << 188093728?r4l:P0l;n0l=n0l || n0l === 0?n0l:P0l;a0l=a0l || a0l === 0?a0l:P0l;if(!B4l && B4l !== 0){z0l=Math.floor(r4l / I4l) * I4l;B4l=isNaN(z0l)?r4l:z0l;t0l();V0l(M0l,r4l);}if(k0l){V0l(A4l,r4l);}if(n0l - r4l < r4l - a0l){if(n0l){V0l(A4l,n0l);}if(a0l){V0l(A4l,a0l);}}else {if(a0l){V0l(A4l,a0l);}if(n0l){V0l(A4l,n0l);}}V0l(A4l,P0l);if(k0l == c0l.length - 1 && P0l != Z0l){d0l=F0l;D0I.U7a(0);F0l=D0I.H8a(I4l,R0l);D0I.U7a(5);R0l=D0I.H8a(d0l,I4l);w0l(P0l);}}return E0l;};g5l.calculatePointFigure=function(L0l,B0l,A0l,r0l){var v0I=Q6II;var K0l,j0l,n6l,x0l,C6w,C0l,X0l,T0l,N0l,W0l,J0l,D0l,U0l,g0l,O0l,S0l,q0l,b0l,o0l,i0l;if(!B0l.length){return B0l;}if(!r0l){r0l=[];}K0l=L0l.layout;j0l=L0l.chart;n6l=j0l.state.aggregation;if(!n6l){n6l=j0l.state.aggregation={};}function I0l(k6l,u6l,V6l,M6l,v6l){var f3w,j3w,t3w;k6l.High=Math.max(u6l,k6l.High);k6l.Low=Math.min(V6l,k6l.Low);f3w=-1575035283;j3w=-989161563;t3w=+"2";v0I.o6I();for(var D3w=1;v0I.A0w(D3w.toString(),D3w.toString().length,+"91995") !== f3w;D3w++){k6l.Close=M6l;k6l.Volume*=v6l;t3w+=2;}if(v0I.A0w(t3w.toString(),t3w.toString().length,26565) !== j3w){k6l.Close=M6l;k6l.Volume+=v6l;}}j0l.defaultChartStyleConfig.box=1;j0l.defaultChartStyleConfig.reversal=+"3";if(!A0l){A0l={};}x0l=A0l.box;if(!x0l){if(K0l.pandf){if(K0l.pandf.box !== null){C6w="layo";C6w+="ut";K0l.pandf.box=null;L0l.changeOccurred(C6w);}}x0l=j0l.defaultChartStyleConfig.box;C0l=B0l[B0l.length - 1].Close;if(C0l){if(C0l < 0.25){x0l=0.0625;}else if(C0l < 1){x0l=0.125;}else if(C0l < 5){x0l=0.25;}else if(C0l < 20){x0l=0.5;}else if(C0l < 100){v0I.U7a(14);x0l=v0I.H8a(969940096,"1");}else if(C0l < +"200"){x0l=+"2";}else if(C0l < 500){x0l=+"4";}else if(C0l < ("1000" | 544)){x0l=5;}else if(C0l < 25000){x0l=50;}else {x0l=500;}}if(!g5l.ChartEngine.isDailyInterval(K0l.interval)){x0l/=10;}if(g5l.Market.Symbology.isForexSymbol(j0l.symbol)){if(C0l){if(C0l < 1){x0l=0.001;}else if(C0l < 2){x0l=0.002;}else if(C0l < 50){x0l=0.02;}else if(C0l < 200){x0l=0.2;}}if(g5l.ChartEngine.isDailyInterval(K0l.interval)){x0l*=+"10";}}j0l.defaultChartStyleConfig.box=x0l;}x0l=parseFloat(x0l);function F6l(m6l,y6l,s6l,p6l,Z6l,h6l,E6l,t6l,z6l){return {DT:m6l.DT,Date:m6l.Date,pfOpen:t6l,pfClose:z6l,Open:y6l,Close:Z6l,High:s6l,Low:p6l,Volume:h6l,iqPrevClose:E6l};}if(isNaN(x0l) || x0l <= +"0"){if(K0l.pandf){if(K0l.pandf.box !== null){K0l.pandf.box=null;L0l.changeOccurred("layout");}}v0I.U7a(14);j0l.defaultChartStyleConfig.box=x0l=v0I.H8a(870665632,"1");}X0l=Math.ceil(parseFloat(A0l.reversal));if(X0l > "0" >> 18503264 && X0l > A0l.reversal){K0l.pandf.reversal=X0l;L0l.changeOccurred("layout");}else if(isNaN(X0l) || X0l <= 0){if(K0l.pandf){if(K0l.pandf.reversal !== null){K0l.pandf.reversal=null;L0l.changeOccurred("layout");}}X0l=j0l.defaultChartStyleConfig.reversal;}n6l.box=x0l;X0l*=x0l;T0l=0.00000001;N0l=(x0l.toString() + (718 <= 1907?".":+"799" == 139?(+"9.46e+3",!1):0x1fe8)).split(7890 !== 239.34?".":5518 > ("3540" ^ 0)?+"2546" >= "5660" * 1?"r":"K":0x2668)[1].length;function c6l(P6l,e6l){v0I.o6I();for(var R6l in P6l){if(!e6l[R6l] && e6l[R6l] !== +"0"){e6l[R6l]=P6l[R6l];}}return e6l;}W0l=[];J0l=+"0";for(var a6l=0;a6l < B0l.length;a6l++){U0l=B0l[a6l];if(!U0l)continue;J0l+=U0l.Volume;O0l=U0l.Close;S0l=U0l.Open;q0l=U0l.High;b0l=U0l.Low;S0l=S0l || S0l === +"0"?S0l:O0l;q0l=q0l || q0l === 0?q0l:O0l;b0l=b0l || b0l === +"0"?b0l:O0l;if(!W0l.length && !r0l.length){D0l=c6l(U0l,F6l(U0l,S0l,q0l,b0l,O0l,J0l,q0l + x0l,Number((Math.ceil(b0l / x0l - T0l) * x0l).toFixed(N0l)),Number((Math.floor(q0l / x0l + T0l) * x0l).toFixed(N0l))));D0l.pfTrend=(173,"2240" * 1) > (+"5480",209.55)?"X":(936.57,723.99);if(D0l.pfOpen == D0l.pfClose){D0l.pfStepBack=5676 > (32.21,+"3360")?"-":4001 !== 446?+"0x20d4":+"0x2050";}W0l.push(D0l);J0l=0;continue;}g0l=W0l[W0l.length - ("1" << 1101640928)];if(!g0l){g0l=g5l.clone(r0l[r0l.length - 1]);}if(g0l.pfTrend == (499.68 === (5011,2480)?("R",565.64):"O")){if(b0l <= g0l.pfClose - x0l){g0l.pfClose=Number((Math.ceil(b0l / x0l - T0l) * x0l).toFixed(N0l));if(g0l.pfStepBack == "O"){g0l.pfStepBack=null;}I0l(g0l,q0l,b0l,O0l,J0l);}else if(q0l >= g0l.pfClose + X0l){o0l=g0l.pfClose + x0l;i0l=Number((Math.floor(q0l / x0l + T0l) * x0l).toFixed(N0l));D0l=F6l(U0l,S0l,q0l,b0l,O0l,J0l,g0l.pfClose,o0l,i0l);if(o0l == i0l){D0l.pfStepBack="X";}if(g0l.pfStepBack == (6240 != +"6670"?"O":686.82 <= 8540?(![],!{}):"5.32e+3" ^ 0)){g0l.pfOpen=o0l;g0l.pfClose=i0l;g0l.pfTrend=4260 <= (389,2262)?(0xb48,"f"):"X";I0l(g0l,q0l,b0l,O0l,J0l);}else {D0l=c6l(U0l,D0l);D0l.pfTrend=(1560,9650) >= (9654,8820)?(7844,3590) != (983.34,2040)?"X":("1598" | 28) != 8860?(3.84e+3,0x2354):(0x40f,! !{}):!0;W0l.push(D0l);}}else {I0l(g0l,q0l,b0l,O0l,J0l);}J0l=+"0";}else if(g0l.pfTrend == "X"){if(q0l >= g0l.pfClose + x0l){g0l.pfClose=Number((Math.floor(q0l / x0l + T0l) * x0l).toFixed(N0l));if(g0l.pfStepBack == ((168.52,60) > ("3717" ^ 0,5720)?6.13e+3:("6710" ^ 0) <= +"2015"?! !1:"X") || g0l.pfStepBack == (1469 < (+"6013","8080" * 1)?363 <= (7929,788.3)?"-":("p","d"):(979.89,4.48e+2))){g0l.pfStepBack=null;}I0l(g0l,q0l,b0l,O0l,J0l);}else if(b0l <= g0l.pfClose - X0l){o0l=g0l.pfClose - x0l;i0l=Number((Math.ceil(b0l / x0l - T0l) * x0l).toFixed(N0l));D0l=F6l(U0l,S0l,q0l,b0l,O0l,J0l,g0l.pfClose,o0l,i0l);if(o0l == i0l){D0l.pfStepBack="O";}if(g0l.pfStepBack == "X" || g0l.pfStepBack == (6180 < 1430?(![],695.80):"-")){g0l.pfOpen=o0l;g0l.pfClose=i0l;g0l.pfTrend=(817,3054) === (261.02,4820)?("o","2.90e+3" | 2836):"O";I0l(g0l,q0l,b0l,O0l,J0l);if(o0l != i0l && g0l.pfStepBack == "-"){g0l.pfStepBack=null;}}else {D0l=c6l(U0l,D0l);D0l.pfTrend=(6240,312) < (3134,1106)?"O":(!{},"Q");W0l.push(D0l);}}else {I0l(g0l,q0l,b0l,O0l,J0l);}J0l=0;}}return W0l;};};c2l=d6l=>{var u0I=Q6II;var Q6l,w6l,C5w,e5w,V5w,k5w,d5w,U5w,a5w,n5w,z5w,q7w,g7w,W7w,B7w,H6w,l6w,Z6w,Q6w;Q6l=typeof _CIQ !== "undefined"?_CIQ:d6l.CIQ;w6l=typeof _timezoneJS !== "undefined"?_timezoneJS:d6l.timezoneJS;if(!Q6l.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {C5w="c";C5w+="olor";e5w="I";e5w+="II";V5w="colo";V5w+="r";k5w="li";k5w+="ne";k5w+="Width";d5w="c";d5w+="olor";U5w="cq-cvp";U5w+="-controller[cq-cvp";U5w+="-head";U5w+="er=\"1\"]";a5w="p";a5w+="at";a5w+="te";a5w+="rn2";n5w="a";n5w+="ctive2";z5w="c";z5w+="olo";z5w+="r";z5w+="1";q7w="pat";q7w+="t";q7w+="ern";g7w="lin";g7w+="eWidt";g7w+="h";W7w="fil";W7w+="lC";W7w+="olo";W7w+="r";B7w="co";B7w+="l";B7w+="o";B7w+="r";H6w="p";H6w+="v";l6w="p";l6w+="l";Z6w="l";Z6w+="w";Q6w="li";Q6w+="neW";Q6w+="idth";Q6l.Drawing.ray=function(){this.name="ray";};Q6l.inheritsFrom(Q6l.Drawing.ray,Q6l.Drawing.line);Q6l.Drawing.ray.prototype.calculateOuterSet=function(H6l){var G6l,Y6l;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || Q6l.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}u0I.i6I();G6l={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[+"1"]};Y6l=G6l.x1 + 1000;if(G6l.x0 > G6l.x1){Y6l=G6l.x1 - 1000;}this.v0B=this.v0;this.v1B=Q6l.yIntersection(G6l,Y6l);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(Y6l,H6l.chart);};Q6l.Drawing.ray.prototype.adjust=function(){var f6l;f6l=this.stx.panels[this.panelName];if(!f6l){return;}this.setPoint(0,this.d0,this.v0,f6l.chart);this.setPoint(1,this.d1,this.v1,f6l.chart);if(Q6l.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,f6l.chart);}};Q6l.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};this.maxSegments=null;};Q6l.inheritsFrom(Q6l.Drawing.continuous,Q6l.Drawing.segment);Q6l.Drawing.continuous.prototype.click=function(C6l,x6l,g6l){var l6l,b6l,q6l,D6l;l6l=this.stx.panels[this.panelName];if(!l6l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,x6l,g6l,l6l.chart);this.penDown=! !{};return !"1";}if(this.accidentalClick(x6l,g6l)){this.stx.undo();return ! !{};}this.setPoint(1,x6l,g6l,l6l.chart);u0I.i6I();b6l=Q6l.Drawing.segment;q6l=new b6l();D6l=this.serialize(this.stx);q6l.reconstruct(this.stx,D6l);this.stx.addDrawing(q6l);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(0,x6l,g6l,l6l.chart);return !"1";};Q6l.Drawing.ellipse=function(){this.name="ellipse";};Q6l.inheritsFrom(Q6l.Drawing.ellipse,Q6l.Drawing.BaseTwoPoint);Q6l.Drawing.ellipse.prototype.render=function(J6l){var v6w,O6l,I6l,i6l,W6l,S6l,j6l,T6l,N6l,L6l,B6l,X6l,K6l,U6l,o6l,e2w,C2w,v2w,A6l;v6w="n";v6w+="o";v6w+="n";u0I.o6I();v6w+="e";O6l=this.stx.panels[this.panelName];if(!O6l){return;}I6l=this.stx.pixelFromTick(this.p0[0],O6l.chart);i6l=this.stx.pixelFromTick(this.p1[0],O6l.chart);W6l=this.stx.pixelFromValueAdjusted(O6l,this.p0[0],this.p0[1]);S6l=this.stx.pixelFromValueAdjusted(O6l,this.p1[0],this.p1[1]);u0I.N7a(15);j6l=u0I.h8a(i6l,I6l,I6l);T6l=i6l;N6l=W6l;L6l=S6l;u0I.U7a(15);B6l=u0I.H8a(S6l,W6l,W6l);u0I.U7a(16);X6l=u0I.h8a(B6l,L6l,6);K6l=this.lineWidth;if(!K6l){K6l=1.1;}U6l=this.color;if(U6l == "auto" || Q6l.isTransparent(U6l)){U6l=this.stx.defaultColor;}if(this.highlighted){U6l=this.stx.getCanvasColor("stx_highlight_vector");if(K6l == +"0.1"){K6l=1.1;}}o6l=this.fillColor;J6l.beginPath();J6l.moveTo(j6l,N6l);u0I.N7a(0);J6l.bezierCurveTo(j6l,u0I.H8a(X6l,L6l),T6l,u0I.h8a(X6l,L6l),T6l,N6l);u0I.U7a(5);J6l.bezierCurveTo(T6l,u0I.H8a(B6l,X6l),j6l,u0I.h8a(B6l,X6l),j6l,N6l);if(o6l && !Q6l.isTransparent(o6l) && o6l != "auto"){J6l.fillStyle=o6l;J6l.globalAlpha=0.2;J6l.fill();J6l.globalAlpha=1;}if(U6l && this.pattern != v6w){J6l.strokeStyle=U6l;J6l.lineWidth=K6l;if(J6l.setLineDash){J6l.setLineDash(Q6l.borderPatternToArray(K6l,this.pattern));u0I.N7a(17);e2w=-u0I.H8a(587343970,"722123378");C2w=-2013833908;v2w=2;for(var h2w=+"1";u0I.A0w(h2w.toString(),h2w.toString().length,34771) !== e2w;h2w++){J6l.lineDashOffset=0;;v2w+=+"2";}if(u0I.A0w(v2w.toString(),v2w.toString().length,33858) !== C2w){J6l.lineDashOffset=5;;}}J6l.stroke();}J6l.closePath();if(this.highlighted){A6l=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(J6l,i6l,S6l,A6l);}};Q6l.Drawing.ellipse.prototype.intersected=function(R7l,e7l,r6l){var h6w,b6w,n7l,a7l,c7l,F7l;if(!this.p0 || !this.p1){return null;}u0I.i6I();if(this.pointIntersection(this.p1[+"0"],this.p1[1],r6l)){h6w="d";h6w+="r";h6w+="a";h6w+="g";b6w="p";b6w+="1";this.highlighted=b6w;return {action:h6w,point:"p1"};}n7l=this.p0[0] - (this.p1[0] - this.p0[0]);a7l=this.p1[0];c7l=this.p1[1];F7l=this.p0[1] - (this.p1[1] - this.p0[1]);if(r6l.x0 > Math.max(n7l,a7l) || r6l.x1 < Math.min(n7l,a7l)){return ! !"";}if(r6l.y1 > Math.max(F7l,c7l) || r6l.y0 < Math.min(F7l,c7l)){return !{};}this.highlighted=! ![];return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:R7l,value:e7l};};Q6l.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];Q6l.Drawing.ellipse.prototype.reconstruct=function(k7l,P7l){this.stx=k7l;this.color=P7l.col;this.fillColor=P7l.fc;this.panelName=P7l.pnl;this.pattern=P7l.ptrn;this.lineWidth=P7l.lw;u0I.i6I();this.d0=P7l.d0;this.d1=P7l.d1;this.tzo0=P7l.tzo0;this.tzo1=P7l.tzo1;this.v0=P7l.v0;this.v1=P7l.v1;this.adjust();};Q6l.Drawing.ellipse.prototype.serialize=function(){u0I.i6I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};Q6l.Drawing.channel=function(){this.name="channel";this.dragToDraw=![];u0I.o6I();this.p2=null;};Q6l.inheritsFrom(Q6l.Drawing.channel,Q6l.Drawing.segment);Q6l.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"];Q6l.Drawing.channel.prototype.move=function(v7l,u7l,V7l){var M7l;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[u7l,V7l];}else {M7l=V7l - (this.p1[1] - this.p0["1" * 1]) / (this.p1[0] - this.p0[0]) * (u7l - this.p1[+"0"]);this.p2=[this.p1[0],M7l];}this.render(v7l);};Q6l.Drawing.channel.prototype.click=function(p7l,y7l,s7l){var m7l;m7l=this.stx.panels[this.panelName];if(!m7l){return;}this.copyConfig();u0I.i6I();if(!this.penDown){this.setPoint(0,y7l,s7l,m7l.chart);this.penDown=!"";return !1;}if(this.accidentalClick(y7l,s7l)){this.stx.undo();return ! !{};}if(this.p2 !== null){u0I.U7a(17);this.setPoint(u0I.H8a(2,"2"),this.p2[0],this.p2[+"1"],m7l.chart);this.penDown=!1;return !"";}this.setPoint(1,y7l,s7l,m7l.chart);if(this.p0["0" | 0] == this.p1[0]){this.p1=null;return !{};}this.p2=[this.p1[0],this.p1[+"1"]];return !{};};Q6l.Drawing.channel.prototype.boxIntersection=function(z7l,d7l,E7l){var Z7l,h7l,t7l,Q7l,w7l;Z7l=this.p0;h7l=this.p1;t7l=this.p2;u0I.i6I();if(!Z7l || !h7l || !t7l){return ![];}if(E7l.x0 > Math.max(Z7l[0],h7l[0]) || E7l.x1 < Math.min(Z7l[0],h7l[0])){return ![];}Q7l=(h7l[0] - Z7l["0" ^ 0]) * ((t7l[1] < Z7l[1]?E7l.y1:E7l.y0) - Z7l[+"1"]) - (h7l[1] - Z7l[1]) * (z7l - Z7l[0]);w7l=(t7l[0] - Z7l[0]) * ((t7l[1] > Z7l[1]?E7l.y1:E7l.y0) - (Z7l[1] + t7l[1] - h7l[1])) - (h7l[+"1"] - Z7l[1]) * (z7l - Z7l[0]);u0I.U7a(18);return u0I.h8a(w7l,Q7l,"0");};Q6l.Drawing.channel.prototype.intersected=function(H7l,f7l,l7l){var Y7l;u0I.o6I();if(!this.p0 || !this.p1 || !this.p2){return null;}Y7l={0:this.p0,1:this.p1,2:this.p2};for(var G7l in Y7l){if(this.pointIntersection(Y7l[G7l]["0" | 0],Y7l[G7l][1],l7l)){u0I.N7a(0);this.highlighted=u0I.H8a(G7l,"p");return {action:"drag",point:"p" + G7l};}}if(this.boxIntersection(H7l,f7l,l7l)){this.highlighted=!0;return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),p2:Q6l.clone(this.p2),tick:H7l,value:f7l};}return null;};Q6l.Drawing.channel.prototype.render=function(x7l){var i6w,g7l,D7l,q7l,C7l,J7l,b7l,j7l,O7l,K7l,U7l,Y6w,L6w,X7l,o7l,i7l;i6w="se";i6w+="g";i6w+="ment";g7l=this.stx.panels[this.panelName];if(!g7l){return;}D7l=this.stx.pixelFromTick(this.p0[0],g7l.chart);q7l=this.stx.pixelFromTick(this.p1["0" * 1],g7l.chart);C7l=this.stx.pixelFromValueAdjusted(g7l,this.p0[0],this.p0[1]);J7l=this.stx.pixelFromValueAdjusted(g7l,this.p1[0],this.p1[1]);b7l=null;if(this.p2){b7l=this.stx.pixelFromValueAdjusted(g7l,this.p2[0],this.p2[+"1"]);}j7l=this.lineWidth;O7l=this.getLineColor();K7l=this.fillColor;if(this.p2 && K7l && !Q6l.isTransparent(K7l) && K7l != "auto"){x7l.beginPath();x7l.moveTo(D7l,C7l);x7l.lineTo(q7l,J7l);x7l.lineTo(q7l,b7l);u0I.U7a(19);x7l.lineTo(D7l,u0I.h8a(b7l,J7l,C7l));x7l.closePath();x7l.globalAlpha=0.2;x7l.fillStyle=K7l;x7l.fill();u0I.N7a(20);x7l.globalAlpha=u0I.h8a("1",2147483647);}u0I.o6I();U7l={pattern:this.pattern,lineWidth:j7l};if((this.penDown || this.highlighted) && this.pattern == "none"){U7l.pattern="dotted";}this.stx.plotLine(D7l,q7l,C7l,J7l,O7l,i6w,x7l,g7l,U7l);if(this.p2){u0I.N7a(19);this.stx.plotLine(D7l,q7l,u0I.h8a(b7l,J7l,C7l),b7l,O7l,"segment",x7l,g7l,U7l);}if(this.highlighted){Y6w="p";Y6w+="2";L6w="p";L6w+="1";X7l=this.highlighted == "p0"?! !{}:!{};o7l=this.highlighted == L6w?! !1:! !0;i7l=this.highlighted == Y6w?! ![]:!"1";this.littleCircle(x7l,D7l,C7l,X7l);this.littleCircle(x7l,q7l,J7l,o7l);this.littleCircle(x7l,q7l,b7l,i7l);}};Q6l.Drawing.channel.prototype.reposition=function(L7l,W7l,B7l,I7l){var R6w,S7l,T7l,N7l;R6w="m";R6w+="o";R6w+="v";R6w+="e";if(!W7l){return;}S7l=this.stx.panels[this.panelName];T7l=W7l.tick - B7l;N7l=W7l.value - I7l;if(W7l.action == R6w){this.setPoint(0,W7l.p0[0] - T7l,W7l.p0[1] - N7l,S7l.chart);this.setPoint(1,W7l.p1[0] - T7l,W7l.p1["1" >> 21644128] - N7l,S7l.chart);this.setPoint(+"2",W7l.p2[0] - T7l,W7l.p2[1] - N7l,S7l.chart);this.render(L7l);}else if(W7l.action == "drag"){this[W7l.point]=[B7l,I7l];this.setPoint(+"0",this.p0[0],this.p0[1],S7l.chart);this.setPoint(1,this.p1[0],this.p1[1],S7l.chart);this.setPoint(2,this.p2["0" * 1],this.p2[1],S7l.chart);this.render(L7l);}};Q6l.Drawing.channel.prototype.adjust=function(){var A7l;A7l=this.stx.panels[this.panelName];if(!A7l){return;}this.setPoint(0,this.d0,this.v0,A7l.chart);this.setPoint(1,this.d1,this.v1,A7l.chart);u0I.U7a(14);this.setPoint(u0I.H8a(1377337408,"2"),this.d1,this.v2,A7l.chart);;};Q6l.Drawing.channel.prototype.reconstruct=function(n1l,r7l){this.stx=n1l;this.color=r7l.col;u0I.o6I();this.fillColor=r7l.fc;this.panelName=r7l.pnl;this.pattern=r7l.ptrn;this.lineWidth=r7l.lw;this.d0=r7l.d0;this.d1=r7l.d1;this.tzo0=r7l.tzo0;this.tzo1=r7l.tzo1;this.v0=r7l.v0;this.v1=r7l.v1;this.v2=r7l.v2;this.adjust();};Q6l.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};Q6l.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=! !0;this.p2=null;};Q6l.inheritsFrom(Q6l.Drawing.pitchfork,Q6l.Drawing.channel);Q6l.Drawing.pitchfork.prototype.configs=["color",Q6w,"pattern"];Q6l.Drawing.pitchfork.prototype.move=function(F1l,a1l,c1l){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[a1l,c1l];}else {this.p2=[a1l,c1l];}this.render(F1l);};Q6l.Drawing.pitchfork.prototype.intersected=function(u1l,V1l,M1l){var P1l,r6w,k1l,K6w;if(!this.p0 || !this.p1 || !this.p2){return null;}P1l={0:this.p0,1:this.p1,2:this.p2};for(var e1l in P1l){if(this.pointIntersection(P1l[e1l][0],P1l[e1l]["1" ^ 0],M1l)){r6w="d";r6w+="r";r6w+="a";r6w+="g";u0I.U7a(0);this.highlighted=u0I.h8a(e1l,(6130,2540) == (122.43,4960)?(5430,3660) >= (934,429.08)?(0x1880,5.57e+3):(3.57e+3,"R"):"p");return {action:r6w,point:"p" + e1l};}}k1l=this.rays;for(var R1l=0;R1l < k1l.length;R1l++){K6w="s";K6w+="egme";K6w+="nt";if(this.lineIntersection(u1l,V1l,M1l,R1l?"ray":K6w,k1l[R1l][0],k1l[R1l][1],! !{})){this.highlighted=! !{};return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),p2:Q6l.clone(this.p2),tick:u1l,value:V1l};}}return null;};Q6l.Drawing.pitchfork.prototype.render=function(Q1l){var v1l,m1l,h1l,w1l,y1l,s1l,d1l,p1l,Z1l,H1l,f1l,l1l,E1l,G1l,Y1l,c6w,z1l,x1l,g1l,q1l,b1l;v1l=this.stx.panels[this.panelName];if(!v1l){return;}m1l=this.stx;h1l=this.p2;if(!h1l){h1l=this.p1;}w1l=m1l.pixelFromTick(this.p0[0],v1l.chart);y1l=m1l.pixelFromTick(this.p1["0" - 0],v1l.chart);u0I.o6I();s1l=m1l.pixelFromTick(h1l[0],v1l.chart);d1l=m1l.pixelFromValueAdjusted(v1l,this.p0[0],this.p0[1]);p1l=m1l.pixelFromValueAdjusted(v1l,this.p1[0],this.p1[1]);Z1l=m1l.pixelFromValueAdjusted(v1l,h1l[0],h1l[1]);H1l=this.lineWidth;f1l=this.getLineColor();l1l={pattern:this.pattern,lineWidth:H1l};E1l=50;u0I.U7a(21);G1l=u0I.H8a(2,d1l,p1l,Z1l);u0I.N7a(21);Y1l=u0I.h8a(2,w1l,y1l,s1l);if(Y1l < 0){E1l*=- +"1";}u0I.N7a(8);G1l*=u0I.h8a(E1l,Y1l);u0I.N7a(1);this.rays=[[[y1l,p1l],[s1l,Z1l]],[[w1l,d1l],[u0I.h8a(y1l,s1l,2),u0I.H8a(p1l,Z1l,"2",u0I.U7a(4))]]];if(!(y1l == s1l && p1l == Z1l)){u0I.N7a(5);this.rays.push([[y1l,p1l],[u0I.H8a(y1l,E1l),u0I.h8a(p1l,G1l)]],[[s1l,Z1l],[u0I.H8a(s1l,E1l),u0I.h8a(Z1l,G1l)]]);}for(var t1l=0;t1l < this.rays.length;t1l++){c6w="r";c6w+="ay";z1l=this.rays[t1l];x1l=t1l?c6w:"segment";m1l.plotLine(z1l[0][0],z1l[1][0],z1l[0]["1" ^ 0],z1l[1][1],f1l,x1l,Q1l,v1l,l1l);}if(this.highlighted){g1l=this.highlighted == "p0"?! ![]:![];q1l=this.highlighted == "p1"?! !1:!"1";b1l=this.highlighted == "p2"?! !"1":! !0;this.littleCircle(Q1l,w1l,d1l,g1l);this.littleCircle(Q1l,y1l,p1l,q1l);this.littleCircle(Q1l,s1l,Z1l,b1l);}};Q6l.Drawing.pitchfork.prototype.adjust=function(){var D1l;D1l=this.stx.panels[this.panelName];if(!D1l){return;}this.setPoint(+"0",this.d0,this.v0,D1l.chart);this.setPoint(+"1",this.d1,this.v1,D1l.chart);this.setPoint(2,this.d2,this.v2,D1l.chart);};Q6l.Drawing.pitchfork.prototype.reconstruct=function(J1l,C1l){this.stx=J1l;this.color=C1l.col;this.panelName=C1l.pnl;this.pattern=C1l.ptrn;this.lineWidth=C1l.lw;this.d0=C1l.d0;this.d1=C1l.d1;this.d2=C1l.d2;this.tzo0=C1l.tzo0;this.tzo1=C1l.tzo1;this.tzo2=C1l.tzo2;this.v0=C1l.v0;this.v1=C1l.v1;this.v2=C1l.v2;this.adjust();};Q6l.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};Q6l.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];this.maxSegments=+"4";this.shape=null;this.points=[];};Q6l.inheritsFrom(Q6l.Drawing.gartley,Q6l.Drawing.continuous);Q6l.Drawing.gartley.prototype.check=function(U1l,K1l){u0I.o6I();if(!K1l){return ! !{};}if(U1l[0] >= K1l[0] || U1l[1] == K1l[1]){return ! !"";}if(this.segment == 1){if(U1l[1] < K1l[1]){this.shape="M";}else {this.shape=(237.85,+"445.53") < (3807,944.19)?(4050,3770) < ("3700" & 2147483647,+"868.2")?(3990,7287) == 769.87?(4.99e+3,790.04):(+"2.54e+3",1.99e+3):"W":(4.93e+3,410.63);}}else if(this.segment == 2){if(this.shape == ("5760" - 0 <= ("1442" & 2147483647)?(434.38,1.55e+3):"M") && U1l[1] < K1l[1]){return ! !"";}else if(this.shape == (+"557" === (4548,+"2889")?(0x64d,110.77):7817 != (83.02,5852)?5480 > 991.16?"W":(0x899,"h"):!"1") && U1l[1] > K1l[1]){return ! !"";}else if((K1l[1] - U1l[1]) / (this.points[0][1] - U1l[+"1"]) < +"0.618"){return ! !"";}else if((K1l["1" >> 668610528] - U1l[1]) / (this.points["0" >> 269876416][1] - U1l[1]) >= 0.786){return ! !0;}}else if(this.segment == 3){if(this.shape == (269 >= 6351?8699 <= (4270,760.27)?(601.13,+"2.88e+3"):"838.14" - 0:"M") && U1l[1] > K1l[1]){return ![];}else if(this.shape == "W" && U1l[1] < K1l[1]){return !{};}else if((K1l[+"1"] - U1l[1]) / (this.points[1]["1" >> 1192951968] - U1l[1]) < 0.618){return !"1";}else if((K1l["1" | 1] - U1l[1]) / (this.points[1][1] - U1l[1]) >= 0.786){return ! !0;}}else if(this.segment == +"4"){if(this.shape == ((6621,5790) < 195?(592.53,![]):"M") && (U1l[1] < K1l["1" - 0] || K1l[1] < this.points[0][1])){return ![];}else if(this.shape == ((1430,7403) <= "6840" << 365852832?(834,2100) === (4153,197)?245.71:(3440,574.48) == (9880,501.15)?("e",0x1b35):890.67:"W") && (U1l[1] > K1l[1] || K1l[1] > this.points[0][1])){return !{};}else if((this.points[1][1] - K1l[1]) / (this.points["1" - 0][1] - this.points[2][1]) < 1.27){return ![];}else if((this.points[1][1] - K1l[1]) / (this.points[1][1] - this.points[2]["1" << 946419936]) >= 1.618){return ![];}}return !"";};Q6l.Drawing.gartley.prototype.click=function(o1l,j1l,X1l){var O1l;O1l=this.stx.panels[this.panelName];if(!O1l){return;}this.copyConfig();if(!this.penDown){u0I.N7a(11);this.setPoint(u0I.H8a(2128055488,"0"),j1l,X1l,O1l.chart);this.pts=[];this.penDown=!"";this.segment=+"1";return !"1";}if(this.accidentalClick(j1l,X1l)){this.penDown=! !1;return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,j1l,X1l,O1l.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][+"0"],this.points[0][1],O1l.chart);this.penDown=!{};return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",j1l,X1l,O1l.chart);;}return !1;};Q6l.Drawing.gartley.prototype.render=function(W1l){var i1l,e9l,A1l,P9l,r1l,N1l,k9l,n9l,I1l,B1l,T1l,a9l,c9l,F9l,R9l;i1l=this.stx.panels[this.panelName];if(!i1l){return;}e9l=this.stx.pixelFromTick(this.p0["0" * 1],i1l.chart);A1l=this.stx.pixelFromTick(this.p1[0],i1l.chart);P9l=this.stx.pixelFromValueAdjusted(i1l,this.p0[0],this.p0[+"1"]);r1l=this.stx.pixelFromValueAdjusted(i1l,this.p1[0],this.p1[1]);u0I.i6I();if(this.segment == 2){this.drawDropZone(W1l,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == "3" - 0){this.drawDropZone(W1l,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){N1l=+"1.618" * this.points[2][1] - 0.618 * this.points[1][+"1"];if(this.shape == "M"){N1l=Math.max(N1l,this.points[0][1]);}else {N1l=Math.min(N1l,this.points[0]["1" ^ 0]);}this.drawDropZone(W1l,N1l,1.27 * this.points[2][1] - 0.27 * this.points[+"1"][1],this.p0[0]);}k9l=this.lineWidth;n9l=this.getLineColor();I1l={pattern:this.pattern,lineWidth:k9l};if((this.penDown || this.highlighted) && this.pattern == "none"){I1l.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(e9l,A1l,P9l,r1l,n9l,this.name,W1l,i1l,I1l);}B1l=this.fillColor;T1l=[];if(this.points.length){W1l.beginPath();for(var S1l=1;S1l < this.points.length && S1l <= 4;S1l++){a9l=this.stx.pixelFromTick(this.points[S1l - 1][0],i1l.chart);c9l=this.stx.pixelFromTick(this.points[S1l][0],i1l.chart);F9l=this.stx.pixelFromValueAdjusted(i1l,this.points[S1l - 1][+"0"],this.points[S1l - 1][+"1"]);R9l=this.stx.pixelFromValueAdjusted(i1l,this.points[S1l][+"0"],this.points[S1l]["1" ^ 0]);if(S1l == "1" >> 1639077952){T1l.push(a9l,F9l);}T1l.push(c9l,R9l);this.stx.plotLine(a9l,c9l,F9l,R9l,n9l,this.name,W1l,i1l,I1l);}if(this.points.length == 2 || this.points.length == 4){T1l.push(A1l,r1l);}if(this.points[2]){T1l.push(this.stx.pixelFromTick(this.points["2" << 411791424][0],i1l.chart),this.stx.pixelFromValueAdjusted(i1l,this.points[2][0],this.points[2][1]));}if(B1l && B1l != "auto" && !Q6l.isTransparent(B1l)){for(var L1l=0;L1l < T1l.length;L1l+=2){if(L1l === +"0"){W1l.moveTo(T1l[0],T1l[1]);}W1l.lineTo(T1l[L1l],T1l[L1l + 1]);}W1l.fillStyle=B1l;W1l.globalAlpha=0.2;W1l.closePath();W1l.fill();W1l.globalAlpha=1;}};};Q6l.Drawing.gartley.prototype.lineIntersection=function(v9l,m9l,y9l,s9l){var u9l,M9l;u9l=this.points;M9l=this.stx.panels[this.panelName];if(u9l.length != this.maxSegments + 1 || !M9l){return !"1";}for(var V9l=+"0";V9l < u9l.length - 1;V9l++){if(Q6l.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,v9l,m9l,y9l,"segment",u9l[V9l],u9l[V9l + 1])){return !"";}}return ![];};Q6l.Drawing.gartley.prototype.boxIntersection=function(t9l,z9l,Z9l){var h9l,E9l;if(!this.p0 || !this.p1){return !"1";}if(Z9l.x0 > Math.max(this.p0[0],this.p1[0]) || Z9l.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}h9l=Math.min(this.p0[1],this.p1[1]);E9l=Math.max(this.p0[1],this.p1[1]);for(var p9l=0;p9l < this.points.length;p9l++){h9l=Math.min(h9l,this.points[p9l][1]);E9l=Math.max(E9l,this.points[p9l][1]);}if(Z9l.y1 > E9l || Z9l.y0 < h9l){return ! !0;}return !"";};Q6l.Drawing.gartley.prototype.reposition=function(l9l,w9l,G9l,Y9l){var d9l,H9l,f9l;u0I.o6I();if(!w9l){return;}d9l=this.stx.panels[this.panelName];H9l=w9l.tick - G9l;w9l.tick=G9l;f9l=w9l.value - Y9l;w9l.value=Y9l;if(w9l.action == "move"){this.pts=[];for(var Q9l=0;Q9l < this.points.length;Q9l++){this.points[Q9l][0]-=H9l;this.points[Q9l][1]-=f9l;this.setPoint(1,this.points[Q9l][+"0"],this.points[Q9l][1],d9l.chart);if(Q9l && Q9l < this.points.length - ("1" - 0)){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[Q9l]=this.p1;}u0I.U7a(22);this.setPoint(u0I.H8a("0",1),this.points["0" - 0][0],this.points[0][1],d9l.chart);this.render(l9l);;}};Q6l.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];Q6l.Drawing.gartley.prototype.adjust=function(){var x9l;x9l=this.stx.panels[this.panelName];u0I.o6I();if(!x9l){return;}this.reconstructPoints();u0I.N7a(20);this.setPoint(u0I.H8a("0",2147483647),this.d0,this.v0,x9l.chart);this.points.unshift(this.p0);u0I.U7a(23);this.setPoint(u0I.H8a(0,"1"),this.d1,this.v1,x9l.chart);this.points.push(this.p1);};Q6l.Drawing.gartley.prototype.reconstructPoints=function(){var b9l,q9l;b9l=this.stx.panels[this.panelName];if(!b9l){return;}this.points=[];for(var g9l=0;g9l < this.pts.length;g9l+=3){q9l=Q6l.strToDateTime(this.pts[g9l]);q9l.setMinutes(q9l.getMinutes() + Number(this.pts[g9l + 1]) - q9l.getTimezoneOffset());this.points.push([this.stx.tickFromDate(Q6l.yyyymmddhhmmssmmm(q9l),b9l.chart),this.pts[g9l + 2]]);}};Q6l.Drawing.gartley.prototype.reconstruct=function(C9l,D9l){this.stx=C9l;this.color=D9l.col;this.fillColor=D9l.fc;this.panelName=D9l.pnl;this.pattern=D9l.ptrn;this.lineWidth=D9l.lw;this.d0=D9l.d0;this.d1=D9l.d1;u0I.i6I();this.tzo0=D9l.tzo0;this.tzo1=D9l.tzo1;this.v0=D9l.v0;this.v1=D9l.v1;this.pts=D9l.pts.split((2506,936.78) >= 7309?3630 == (+"248.85",6984)?2.90e+3:(0x190e,! !"1"):",");this.adjust();};Q6l.Drawing.gartley.prototype.serialize=function(){u0I.i6I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(("1681" - 0,6570) == 4382?(!1,![]):2097 >= 6115?(6.70e+3,0x452):",")};};Q6l.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! !{};};Q6l.inheritsFrom(Q6l.Drawing.freeform,Q6l.Drawing.segment);Q6l.Drawing.freeform.prototype.measure=function(){};Q6l.Drawing.freeform.prototype.intersected=function(K9l,U9l,J9l){if(J9l.x0 > this.hiX || J9l.x1 < this.lowX){return null;}if(J9l.y1 > this.hiY || J9l.y0 < this.lowY){return null;}this.highlighted=! !"1";return {action:"move",p0:Q6l.clone(this.p0),tick:K9l,value:U9l};};Q6l.Drawing.freeform.prototype.reposition=function(i9l,O9l,W9l,S9l){var K1w,c1w,s1w,j9l,X9l,o9l;if(!O9l){return;}K1w=-1006690911;u0I.U7a(11);c1w=u0I.H8a(1100328480,"1614801603");s1w=2;for(var g1w=1;u0I.t0w(g1w.toString(),g1w.toString().length,16968) !== K1w;g1w++){j9l=this.stx.panels[this.panelName];s1w+=2;}if(u0I.t0w(s1w.toString(),s1w.toString().length,8760) !== c1w){j9l=this.stx.panels[this.panelName];}u0I.i6I();X9l=O9l.tick - W9l;o9l=O9l.value - S9l;if(O9l.action == "move"){this.setPoint(0,O9l.p0[0] - X9l,O9l.p0[1] - o9l,j9l.chart);this.adjust();this.render(i9l);}};Q6l.Drawing.freeform.prototype.click=function(I9l,N9l,B9l){var s6w,T9l,L9l;u0I.o6I();s6w="a";s6w+="u";s6w+="to";T9l=this.stx.panels[this.panelName];if(!T9l){return;}if(this.penDown === ! !0){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(N9l,T9l.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(T9l,N9l,B9l)));L9l=this.stx.dateFromTick(N9l,T9l.chart,! !1);this.d0=Q6l.yyyymmddhhmmssmmm(L9l);this.tzo0=L9l.getTimezoneOffset();this.v0=B9l;this.p0=[Q6l.ChartEngine.crosshairX - this.startX,Q6l.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=T9l.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=!"";return !{};}this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor=s6w;return ! !1;};Q6l.Drawing.freeform.prototype.move=function(n2m,a2m,c2m){var A9l,r9l;if(!this.penDown){return;}A9l=this.stx.panels[this.panelName];r9l=this.stx.dateFromTick(a2m,A9l.chart,!0);this.d1=Q6l.yyyymmddhhmmssmmm(r9l);this.tzo1=r9l.getTimezoneOffset();this.v1=c2m;u0I.o6I();this.p1=[Q6l.ChartEngine.crosshairX - this.startX,A9l.yAxis.flipped?this.startY - Q6l.ChartEngine.crosshairY:Q6l.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > ("2" ^ 0)){if(this.p1[0] == this.pNodes[this.pNodes.length - +"2"][0] && this.p1["0" - 0] == this.pNodes[this.pNodes.length - 1]["0" * 1]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - +"2"][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(n2m);return !1;};Q6l.Drawing.freeform.prototype.intervalRatio=function(k2m,F2m,m2m,y2m,e2m,P2m){var R2m,F6w,q6w,g6w,O6w,N6w;R2m=0;function u2m(Q2m,z2m){if(Q6l.Market.Symbology.isForexSymbol(z2m)){return 1440;}return 390;}if(k2m == F2m){R2m=1;}else if(!isNaN(k2m) && !isNaN(F2m)){u0I.U7a(8);R2m=u0I.H8a(k2m,F2m);}else if(isNaN(k2m)){F6w="m";F6w+="onth";if(k2m == F6w){q6w="da";q6w+="y";g6w="w";g6w+="e";g6w+="e";g6w+="k";if(F2m == g6w){R2m=v2m(e2m,P2m);}else if(F2m == q6w){R2m=M2m(e2m,P2m);}else if(!isNaN(F2m)){R2m=M2m(e2m,P2m) * u2m(e2m,P2m) / F2m;}}else if(k2m == "week"){if(F2m == "month"){R2m=1 / v2m(e2m,P2m);}if(F2m == "day"){R2m=V2m(e2m,P2m);}else if(!isNaN(F2m)){R2m=V2m(e2m,P2m) * u2m(e2m,P2m) / F2m;}}else if(k2m == "day"){O6w="m";O6w+="o";O6w+="n";O6w+="th";N6w="w";N6w+="e";N6w+="e";N6w+="k";if(F2m == N6w){R2m=1 / V2m(e2m,P2m);}else if(F2m == O6w){R2m=1 / M2m(e2m,P2m);}else if(!isNaN(F2m)){R2m=u2m(e2m,P2m) / F2m;}}}else if(!isNaN(k2m)){if(F2m == "month"){R2m=k2m / (M2m(e2m,P2m) * u2m(e2m,P2m));}else if(F2m == "week"){R2m=k2m / (V2m(e2m,P2m) * u2m(e2m,P2m));}else if(F2m == "day"){R2m=k2m / u2m(e2m,P2m);}}function V2m(Z2m,h2m){var M4w,w4w,u4w;M4w=+"581159776";w4w=-97114927;u4w=+"2";for(var C4w=1;u0I.A0w(C4w.toString(),C4w.toString().length,99615) !== M4w;C4w++){return 0;}if(u0I.A0w(u4w.toString(),u4w.toString().length,49425) !== w4w){return 0;}u0I.o6I();return 5;}function v2m(s2m,p2m){u0I.i6I();return +"5";}function M2m(E2m,t2m){return 30;}u0I.U7a(8);R2m*=u0I.H8a(m2m,y2m);return R2m;};Q6l.Drawing.freeform.prototype.render=function(g2m){var w2m,H2m,q2m,b2m,D2m,f2m,d2m,C2m,l2m,x2m,J2m,Y2m;w2m=this.stx.panels[this.panelName];if(!w2m){return;}H2m=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,w2m.chart.symbol);if(H2m === 0){return;}q2m=this.stx.layout.candleWidth / this.candleWidth;b2m=w2m.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,w2m.chart);D2m=this.stx.pixelFromTick(this.p0[0],w2m.chart);f2m=this.stx.pixelFromValueAdjusted(w2m,this.p0[0],this.p0[1]);d2m=[];C2m=this.lineWidth;l2m=this.getLineColor();x2m={pattern:this.pattern,lineWidth:C2m};for(var G2m=0;G2m < this.pNodes.length;G2m++){J2m=H2m * q2m * this.pNodes[G2m][0] + D2m;Y2m=b2m * this.pNodes[G2m][1];if(w2m.yAxis.flipped){u0I.N7a(5);Y2m=u0I.H8a(f2m,Y2m);}else {Y2m+=f2m;}d2m.push(J2m,Y2m);}if(!d2m.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(d2m,l2m,this.name,g2m,w2m,x2m);}else {this.stx.plotSpline(d2m,this.splineTension,l2m,this.name,g2m,! !{},x2m);}};Q6l.Drawing.freeform.prototype.adjust=function(){var K2m,S2m,U2m,o2m,i2m,j2m,W2m,X2m;K2m=this.stx.panels[this.panelName];if(!K2m){return;}S2m=[this.nodes[0],this.nodes[1]];this.pNodes=[S2m];this.lowX=this.nodes[+"0"];this.hiX=this.nodes[+"0"];this.lowY=this.nodes[+"1"];this.hiY=this.nodes[1];for(var O2m=+"2";O2m < this.nodes.length;O2m+=2){u0I.U7a(0);U2m=[this.nodes[O2m],this.nodes[u0I.H8a(1,O2m)]];this.pNodes.push(U2m);this.lowX=Math.min(this.lowX,U2m[0]);this.hiX=Math.max(this.hiX,U2m[0]);this.lowY=Math.max(this.lowY,U2m[1]);this.hiY=Math.min(this.hiY,U2m[1]);}o2m=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,K2m.chart.symbol);if(o2m === +"0"){return;}i2m=this.stx.layout.candleWidth / this.candleWidth;j2m=K2m.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,K2m.chart);W2m=this.stx.pixelFromTick(this.p0[+"0"],K2m.chart);X2m=this.stx.pixelFromValueAdjusted(K2m,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(o2m * i2m * this.lowX) + W2m,K2m.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(o2m * i2m * this.hiX) + W2m,K2m.chart);if(K2m.yAxis.flipped){this.lowY=this.stx.valueFromPixel(X2m - Math.floor(j2m * this.lowY),K2m);this.hiY=this.stx.valueFromPixel(X2m - Math.ceil(j2m * this.hiY),K2m);}else {this.lowY=this.stx.valueFromPixel(Math.floor(j2m * this.lowY) + X2m,K2m);this.hiY=this.stx.valueFromPixel(Math.ceil(j2m * this.hiY) + X2m,K2m);}};Q6l.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};Q6l.Drawing.freeform.prototype.reconstruct=function(N2m,T2m){var Q3w,r3w,K3w;this.stx=N2m;this.color=T2m.col;this.panelName=T2m.pnl;this.pattern=T2m.ptrn;this.lineWidth=T2m.lw;this.candleWidth=T2m.cw;this.multiplier=T2m.mlt;this.d0=T2m.d0;this.tzo0=T2m.tzo0;this.v0=T2m.v0;this.interval=T2m.inter;Q3w=1241275412;r3w=739043712;u0I.i6I();K3w=2;for(var s3w=1;u0I.t0w(s3w.toString(),s3w.toString().length,95568) !== Q3w;s3w++){this.periodicity=T2m.pd;this.nodes=T2m.nodes;K3w+=2;}if(u0I.t0w(K3w.toString(),K3w.toString().length,+"15738") !== r3w){this.periodicity=T2m.pd;this.nodes=T2m.nodes;}this.adjust();};Q6l.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;u0I.i6I();;};Q6l.inheritsFrom(Q6l.Drawing.callout,Q6l.Drawing.annotation);Q6l.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];Q6l.Drawing.callout.prototype.copyConfig=function(L2m){Q6l.Drawing.copyConfig(this,L2m);this.borderColor=this.color;};Q6l.Drawing.callout.prototype.move=function(B2m,I2m,A2m){u0I.i6I();if(!this.penDown){return;}this.copyConfig();this.p0=[I2m,A2m];this.render(B2m);};Q6l.Drawing.callout.prototype.onChange=function(c5m){var a5m,n5m,r2m;a5m=this.stx.panels[this.panelName];if(!a5m){return;}n5m=c5m.target;this.w=n5m.clientWidth;this.h=n5m.clientHeight;r2m=this.context || this.stx.chart.tempCanvas.context;Q6l.clearCanvas(r2m.canvas,this.stx);this.render(r2m);this.edit(r2m);};Q6l.Drawing.callout.prototype.render=function(F5m){var y6w,y5m,z5m,t5m,e5m,R5m,k5m,P5m,s5m,p5m,m5m,V5m,Z5m,M5m,h5m,u5m,v5m,p6w,T6w,Q5m;y6w="au";y6w+="to";this.context=F5m;y5m=this.stx.panels[this.panelName];if(!y5m){return;}z5m=this.stx.pixelFromTick(this.p0[0],y5m.chart);t5m=this.stx.pixelFromValueAdjusted(y5m,this.p0[0],this.p0[1]);if(isNaN(t5m)){return;}F5m.font=this.fontString;F5m.textBaseline="top";e5m=z5m;R5m=t5m;k5m=this.w / 2;P5m=this.h / 2;if(this.penDown){k5m=this.defaultWidth;P5m=this.defaultHeight;if(!P5m){P5m=this.fontSize;}}s5m=this.lineWidth;if(!s5m){s5m=1.1;}p5m=this.color;if(p5m == y6w || Q6l.isTransparent(p5m)){p5m=this.stx.defaultColor;}m5m=this.borderColor;if(m5m == "auto" || Q6l.isTransparent(m5m)){m5m=this.stx.defaultColor;}if(this.highlighted){m5m=this.stx.getCanvasColor("stx_highlight_vector");}u5m=Math.min(Math.min(k5m,P5m) / ("2" * 1),"8" << 2005984992);if(this.stem){if(this.stem.t){V5m=this.stx.pixelFromTick(this.stem.t);M5m=this.stx.pixelFromValueAdjusted(y5m,this.stem.t,this.stem.v);}else if(this.stem.x){V5m=e5m;M5m=R5m;e5m+=this.stem.x;R5m+=this.stem.y;}v5m="";if(V5m >= e5m + k5m){u0I.U7a(0);Z5m=u0I.h8a(k5m,e5m);v5m="r";}else if(V5m > e5m - k5m && V5m < e5m + k5m){Z5m=e5m;v5m="c";}else if(V5m <= e5m - k5m){u0I.U7a(5);Z5m=u0I.H8a(e5m,k5m);v5m=346.7 !== (6002,557.77)?"l":8738 >= (9550,492.3)?"X":8.50e+1;}if(M5m >= R5m + P5m){u0I.N7a(0);h5m=u0I.h8a(P5m,R5m);v5m+="b";}else if(M5m > R5m - P5m && M5m < R5m + P5m){h5m=R5m;v5m+=866.62 < ("1978" ^ 0)?"m":"X";}else if(M5m <= R5m - P5m){u0I.U7a(5);h5m=u0I.H8a(R5m,P5m);v5m+="t";}this.stemEntry=v5m;if(v5m != "cm"){V5m=Math.round(V5m);Z5m=Math.round(Z5m);M5m=Math.round(M5m);h5m=Math.round(h5m);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",F5m);}else {if(this.fillColor){F5m.fillStyle=this.fillColor;F5m.globalAlpha=0.4;}else if(this.stem){F5m.fillStyle=this.stx.containerColor;}}F5m.strokeStyle=m5m;if(F5m.setLineDash){F5m.setLineDash(Q6l.borderPatternToArray(s5m,this.pattern));F5m.lineDashOffset=0;;}if(m5m){F5m.beginPath();F5m.lineWidth=s5m;u0I.U7a(2);F5m.moveTo(u0I.h8a(u5m,k5m,e5m),u0I.h8a(R5m,P5m,u0I.U7a(5)));if(this.stemEntry != "rt"){u0I.U7a(0);F5m.quadraticCurveTo(u0I.H8a(k5m,e5m),u0I.h8a(R5m,P5m,u0I.U7a(5)),u0I.H8a(k5m,e5m,u0I.N7a(0)),u0I.H8a(u5m,P5m,R5m,u0I.U7a(6)));;}else {F5m.lineTo(V5m,M5m);u0I.U7a(0);F5m.lineTo(u0I.H8a(k5m,e5m),u0I.h8a(u5m,P5m,R5m,u0I.N7a(6)));}u0I.N7a(0);F5m.lineTo(u0I.h8a(k5m,e5m),u0I.H8a(R5m,u5m,2,u0I.U7a(24)));if(this.stemEntry == "rm"){F5m.lineTo(V5m,M5m);}u0I.N7a(0);F5m.lineTo(u0I.h8a(k5m,e5m),u0I.H8a("2",R5m,0,u5m,u0I.U7a(25)));u0I.U7a(0);F5m.lineTo(u0I.H8a(k5m,e5m),u0I.h8a(u5m,P5m,R5m,u0I.N7a(2)));if(this.stemEntry != "rb"){u0I.N7a(0);F5m.quadraticCurveTo(u0I.H8a(k5m,e5m),u0I.H8a(P5m,R5m,u0I.N7a(0)),u0I.h8a(u5m,k5m,e5m,u0I.N7a(2)),u0I.H8a(P5m,R5m,u0I.N7a(0)));;}else {F5m.lineTo(V5m,M5m);u0I.U7a(2);F5m.lineTo(u0I.h8a(u5m,k5m,e5m),u0I.H8a(P5m,R5m,u0I.U7a(0)));}u0I.U7a(26);F5m.lineTo(u0I.h8a(e5m,2,u5m),u0I.H8a(P5m,R5m,u0I.U7a(0)));if(this.stemEntry == "cb"){F5m.lineTo(V5m,M5m);}u0I.U7a(27);F5m.lineTo(u0I.H8a(e5m,u5m,"2"),u0I.h8a(P5m,R5m,u0I.U7a(0)));u0I.U7a(6);F5m.lineTo(u0I.h8a(u5m,k5m,e5m),u0I.H8a(P5m,R5m,u0I.N7a(0)));if(this.stemEntry != "lb"){u0I.N7a(5);F5m.quadraticCurveTo(u0I.H8a(e5m,k5m),u0I.H8a(P5m,R5m,u0I.N7a(0)),u0I.H8a(e5m,k5m,u0I.U7a(5)),u0I.h8a(u5m,P5m,R5m,u0I.N7a(2)));;}else {F5m.lineTo(V5m,M5m);u0I.U7a(5);F5m.lineTo(u0I.h8a(e5m,k5m),u0I.h8a(u5m,P5m,R5m,u0I.N7a(2)));}u0I.U7a(5);F5m.lineTo(u0I.h8a(e5m,k5m),u0I.h8a(R5m,2,u5m,u0I.U7a(26)));if(this.stemEntry == "lm"){F5m.lineTo(V5m,M5m);}u0I.N7a(5);F5m.lineTo(u0I.h8a(e5m,k5m),u0I.h8a(R5m,u5m,2,u0I.U7a(24)));u0I.N7a(5);F5m.lineTo(u0I.H8a(e5m,k5m),u0I.h8a(u5m,P5m,R5m,u0I.N7a(6)));if(this.stemEntry != "lt"){u0I.U7a(5);F5m.quadraticCurveTo(u0I.H8a(e5m,k5m),u0I.h8a(R5m,P5m,u0I.U7a(5)),u0I.h8a(u5m,k5m,e5m,u0I.U7a(6)),u0I.H8a(R5m,P5m,u0I.U7a(5)));;}else {F5m.lineTo(V5m,M5m);u0I.U7a(6);F5m.lineTo(u0I.H8a(u5m,k5m,e5m),u0I.h8a(R5m,P5m,u0I.U7a(5)));}u0I.U7a(24);F5m.lineTo(u0I.H8a(e5m,u5m,2),u0I.h8a(R5m,P5m,u0I.U7a(5)));if(this.stemEntry == "ct"){F5m.lineTo(V5m,M5m);}u0I.N7a(26);F5m.lineTo(u0I.H8a(e5m,2,u5m),u0I.h8a(R5m,P5m,u0I.N7a(5)));u0I.N7a(2);F5m.lineTo(u0I.h8a(u5m,k5m,e5m),u0I.H8a(R5m,P5m,u0I.U7a(5)));F5m.fill();F5m.globalAlpha=1;if(this.pattern != "none"){F5m.stroke();}}if(this.highlighted){p6w="stx_anno";p6w+="tation_";p6w+="highli";p6w+="ght";this.stx.canvasColor(p6w,F5m);}else {F5m.fillStyle=p5m;}R5m+=this.padding;if(!this.ta){for(var E5m=0;E5m < this.arr.length;E5m++){F5m.fillText(this.arr[E5m],e5m - k5m + this.padding,R5m - P5m);R5m+=this.fontSize;}}F5m.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){T6w="p";T6w+="0";Q5m=this.highlighted == T6w?! ![]:![];this.littleCircle(F5m,V5m,M5m,Q5m);};};Q6l.Drawing.callout.prototype.click=function(d5m,G5m,Y5m){var w5m;if(this.stx.overXAxis || this.stx.overYAxis){return;}w5m=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,G5m,Y5m,w5m.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return ![];}this.adjust();this.edit(d5m);this.penDown=!1;return ! !"";};Q6l.Drawing.callout.prototype.reposition=function(b5m,H5m,g5m,q5m){var f5m,l5m,x5m;if(!H5m){return;}f5m=this.stx.panels[this.panelName];l5m=H5m.tick - g5m;x5m=H5m.value - q5m;if(H5m.stem){if(H5m.action == "drag"){this.stem={d:this.stx.dateFromTick(g5m,f5m.chart,! ![]),v:q5m};}else if(H5m.action == "move"){this.setPoint(0,H5m.p0["0" << 1362330048] - l5m,H5m.p0[1] - x5m,f5m.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(H5m.stem.d,f5m.chart) - l5m),v:H5m.stem.v - x5m};}this.adjust();}else {this.setPoint(0,H5m.p0[0] - l5m,H5m.p0["1" ^ 0] - x5m,f5m.chart);}this.render(b5m);};Q6l.Drawing.callout.prototype.lineIntersection=function(L5m,B5m,T5m,N5m){var j5m,D5m,K5m,X5m,o5m,i5m,C5m,U5m,O5m,W5m,S5m,J5m;j5m=this.stx.panels[this.panelName];D5m=this.stem;K5m=this.p0;X5m=this.stx;if(!K5m || !D5m || !j5m){return !{};}o5m=D5m.t || this.stx.tickFromDate(D5m.d,j5m.chart);i5m={x0:K5m[+"0"],x1:o5m,y0:K5m[1],y1:D5m.v};C5m=Q6l.convertBoxToPixels(X5m,this.panelName,i5m);U5m=C5m.x0;O5m=C5m.y0;W5m=C5m.x1;S5m=C5m.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(1278 > (746.93,9325)?(+"3451",548.43) == ("2345" << 524405504,6550)?(5.83e+3,! !1):(7181,7810) > 413.41?("p",844.93):"X":"l") > -1){U5m-=this.w / 2;}else if(this.stemEntry.indexOf(740.97 === (395.86,457.36)?(7.49e+2,"8.96e+3" ^ 0):(7420,9450) >= +"10.62"?759.59 <= +"7981"?"r":2.05e+3:"U") > -1){U5m+=this.w / 2;}if(this.stemEntry.indexOf(2619 !== (+"3630",888.14)?(4480,1310) !== 984.13?"t":(7.85e+3,"0x248c" >> 1634194272):(8.43e+3,+"4.33e+3")) > -1){O5m-=this.h / 2;}else if(this.stemEntry.indexOf(("5669" >> 1576277312,6226) > (8500,225.31)?(528.25,7624) !== (2798,6315)?"b":(534.22,635.9) != 8517?"V":"G":"J") > -1){O5m+=this.h / 2;}}J5m=Q6l.convertBoxToPixels(X5m,this.panelName,T5m);return Q6l.boxIntersects(J5m.x0,J5m.y0,J5m.x1,J5m.y1,U5m,O5m,W5m,S5m,N5m);};Q6l.Drawing.callout.prototype.intersected=function(A5m,n8m,I5m){var o6w,r5m,E6w,a8m,c8m,F8m,R8m,e8m,P8m,k8m;o6w="segmen";o6w+="t";r5m=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,I5m)){E6w="d";E6w+="r";E6w+="ag";this.highlighted="p0";return {action:E6w,stem:! ![]};}a8m=this.stx.pixelFromTick(this.p0[0],r5m.chart) - this.w / 2;c8m=this.stx.pixelFromValueAdjusted(r5m,this.p0[0],this.p0[1]) - this.h / 2;F8m=a8m + this.w;R8m=c8m + this.h;if(this.stem && this.stem.x){a8m+=this.stem.x;F8m+=this.stem.x;c8m+=this.stem.y;R8m+=this.stem.y;}e8m=this.stx.pixelFromTick(A5m,r5m.chart);P8m=this.stx.pixelFromValueAdjusted(r5m,A5m,n8m);if(e8m + I5m.r >= a8m && e8m - I5m.r <= F8m && P8m + I5m.r >= c8m && P8m - I5m.r <= R8m){this.highlighted=! !{};return {p0:Q6l.clone(this.p0),tick:A5m,value:n8m};}k8m=this.lineIntersection(A5m,n8m,I5m,o6w);if(k8m){this.highlighted=! !"1";return {action:"move",stem:Q6l.clone(this.stem),p0:Q6l.clone(this.p0),tick:A5m,value:n8m};}u0I.o6I();return null;};Q6l.Drawing.fibonacci=function(){var G6w;G6w="fibo";G6w+="nacci";this.name="fibonacci";this.configurator=G6w;};Q6l.inheritsFrom(Q6l.Drawing.fibonacci,Q6l.Drawing.BaseTwoPoint);Q6l.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:1630 < 657.22?(9690,+"3260") == (593.8,8528)?("313.80" - 0,0x2272):(9793,858.59) >= (9878,446)?0x16aa:"6.63e+3" ^ 0:"p",pattern:"pt",opacity:"o",lineWidth:Z6w,level:(32.2,9759) == 656.34?! ![]:("454.56" * 1,2180) <= (3160,849)?!"":5757 !== 228.03?"l":!"",extendLeft:(3460,941) < 7720?"e":165.28 === (1890,683.26)?0x22e3:29.49 !== "6965" >> 252677632?(0x267d,!""):"O",printLevels:l6w,printValues:H6w,timezone:"tz",display:(177.2,929.27) == 1180?0x72a:(1472,+"74") > ("6440" & 2147483647)?"z":2830 <= (69.02,7020)?"d":("455.30" - 0,974.24)};u0I.N7a(22);Q6l.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,u0I.h8a("0.5",1),0.618,1,1.382,1.618];Q6l.Drawing.fibonacci.prototype.configs=[B7w,W7w,"lineWidth","pattern","parameters"];Q6l.Drawing.fibonacci.prototype.initializeSettings=function(m8m){var M8m,V8m;M8m=this.recommendedLevels;u0I.o6I();if(M8m && !m8m.currentVectorParameters.fibonacci.fibsAlreadySet){V8m=m8m.currentVectorParameters.fibonacci.fibs;for(var u8m=0;u8m < V8m.length;u8m++){delete V8m[u8m].display;for(var v8m="0" & 2147483647;v8m < M8m.length;v8m++){if(V8m[u8m].level == M8m[v8m]){V8m[u8m].display=! !{};}}}}};Q6l.Drawing.fibonacci.prototype.setOuter=function(){var y8m,s8m,z8m,Q8m,w8m,d8m,G8m,H8m,f8m,Z8m,h8m,p8m,t8m,Y8m;y8m=this.stx;s8m=y8m.panels[this.panelName];if(!s8m){return;}z8m=Math.max(this.p0[+"1"],this.p1[1]);Q8m=Math.min(this.p0[1],this.p1[1]);u0I.U7a(5);w8m=u0I.h8a(z8m,Q8m);this.outer={p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1)};d8m=y8m.pixelFromValueAdjusted(s8m,this.p0[0],this.p0[1]);G8m=y8m.pixelFromValueAdjusted(s8m,this.p1[0],this.p1[1]);H8m=y8m.pixelFromTick(this.p0[0],s8m.chart);f8m=y8m.pixelFromTick(this.p1[+"0"],s8m.chart);Z8m=0;h8m=1;for(var E8m="0" >> 1755566464;E8m < this.parameters.fibs.length;E8m++){p8m=this.parameters.fibs[E8m];if(p8m.level >= Z8m && p8m.level <= h8m || !p8m.display)continue;t8m=y8m.pixelFromValueAdjusted(s8m,this.p0[0],G8m < d8m?z8m - w8m * p8m.level:Q8m + w8m * p8m.level);Y8m=Q6l.xIntersection({x0:H8m,x1:f8m,y0:d8m,y1:G8m},t8m);if(p8m.level < Z8m){Z8m=p8m.level;this.outer.p1[1]=y8m.valueFromPixel(t8m,s8m);this.outer.p1[0]=y8m.tickFromPixel(Y8m,s8m.chart);}else if(p8m.level > h8m){h8m=p8m.level;this.outer.p0[1]=y8m.valueFromPixel(t8m,s8m);this.outer.p0[0]=y8m.tickFromPixel(Y8m,s8m.chart);}}};Q6l.Drawing.fibonacci.prototype.click=function(q8m,x8m,g8m){var l8m;l8m=this.stx.panels[this.panelName];if(!l8m){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,x8m,g8m,l8m.chart);this.penDown=! !"1";return !"1";}if(this.accidentalClick(x8m,g8m)){return this.dragToDraw;}u0I.o6I();this.setPoint(1,x8m,g8m,l8m.chart);this.setOuter();this.parameters=Q6l.clone(this.parameters);this.penDown=!1;return ! ![];;};Q6l.Drawing.fibonacci.prototype.render=function(b8m){var J7w,D8m,r8m,n3m,a3m,e3m,T8m,W8m,U8m,J8m,P3m,k3m,u3m,m3m,y3m,V3m,s3m,c3m,N8m,F3m,L8m,S8m,U7w,a7w,n7w,X8m,C8m,I8m,o8m,K8m,z7w,p3m,B8m,i8m,O8m,M3m,j8m,v3m,Z3m,h3m;J7w="s";J7w+="tx_";J7w+="ya";J7w+="xis";D8m=this.stx.panels[this.panelName];if(!D8m){return;}r8m=D8m.yAxis;if(!this.p1){return;}n3m=Math.max(this.p0[1],this.p1[1]);a3m=Math.min(this.p0[1],this.p1["1" & 2147483647]);e3m=r8m.flipped?a3m - n3m:n3m - a3m;T8m=this.stx.pixelFromTick(this.p0[0],D8m.chart);W8m=this.stx.pixelFromTick(this.p1[0],D8m.chart);U8m=this.stx.pixelFromValueAdjusted(D8m,this.p0[0],this.p0[1]);J8m=this.stx.pixelFromValueAdjusted(D8m,this.p1[0],this.p1[1]);P3m=Math.min(J8m,U8m);k3m=Math.max(J8m,U8m);u0I.U7a(5);u3m=u0I.h8a(k3m,P3m);u0I.N7a(28);m3m=u0I.h8a(W8m,J8m,0,T8m,U8m);y3m={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=y3m;}V3m=this.getLineColor(this.parameters.trend.color);b8m.textBaseline="middle";this.stx.canvasFont(J7w,b8m);s3m=b8m.measureText("161.8%").width + ("10" & 2147483647);c3m=Number.MAX_VALUE;N8m=Number.MAX_VALUE;u0I.o6I();F3m=Number.MAX_VALUE * -("1" * 1);L8m=Number.MAX_VALUE * -("1" >> 1543938400);S8m=this.color;if(S8m == "auto" || Q6l.isTransparent(S8m)){S8m=this.stx.defaultColor;}this.rays=[];for(var R3m=+"0";R3m < this.parameters.fibs.length;R3m++){U7w="un";U7w+="define";U7w+="d";a7w="se";a7w+="gm";a7w+="ent";n7w="a";n7w+="u";n7w+="t";n7w+="o";b8m.textAlign="left";b8m.fillStyle=S8m;X8m=this.parameters.fibs[R3m];if(!X8m.display)continue;C8m=this.stx.pixelFromValueAdjusted(D8m,this.p0[0],J8m < U8m?n3m - e3m * X8m.level:a3m + e3m * X8m.level);I8m=Q6l.xIntersection({x0:T8m,x1:W8m,y0:U8m,y1:J8m},C8m);o8m=this.parameters.extendLeft?0:I8m;K8m=D8m.left + D8m.width;if(this.parameters.printLevels){z7w="r";z7w+="ight";p3m=Math.round(X8m.level * +"1000") / 10 + (5797 != ("264.26" - 0,515)?"%":"g");K8m-=s3m;if(this.parameters.printValues){b8m.fillStyle=S8m;this.stx.canvasFont("stx_yaxis",b8m);;}if(K8m < o8m){b8m.textAlign=z7w;}b8m.fillText(p3m,K8m,C8m);if(K8m < o8m){K8m+=5;}else {K8m-=5;}}if(this.parameters.printValues){if(I8m < D8m.width){B8m=this.stx.transformedPriceFromPixel(C8m,D8m);if(r8m.priceFormatter){B8m=r8m.priceFormatter(this.stx,D8m,B8m);}else {B8m=this.stx.formatYAxisPrice(B8m,D8m);}if(b8m == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D8m,B8m,C8m,S8m,null,b8m);if(b8m == this.stx.chart.context){this.stx.startClip(D8m.name);}}}i8m=X8m.color;if(i8m == "auto" || Q6l.isTransparent(i8m)){i8m=this.color;}if(i8m == n7w || Q6l.isTransparent(i8m)){i8m=this.stx.defaultColor;}O8m=X8m.color;if(O8m == "auto" || Q6l.isTransparent(O8m)){O8m=this.fillColor;}if(O8m == "auto" || Q6l.isTransparent(O8m)){O8m=this.stx.defaultColor;}b8m.fillStyle=O8m;M3m=Q6l.clone(X8m.parameters);if(this.highlighted){M3m.opacity=1;}this.stx.plotLine(o8m,K8m,C8m,C8m,this.highlighted?V3m:i8m,a7w,b8m,D8m,M3m);this.rays.push([[o8m,C8m],[K8m,C8m]]);b8m.globalAlpha=0.05;b8m.beginPath();b8m.moveTo(K8m,C8m);b8m.lineTo(o8m,C8m);if(o8m){b8m.lineTo(W8m,J8m);}else {b8m.lineTo(o8m,J8m);}b8m.lineTo(K8m,J8m);if(typeof O8m != U7w){b8m.fill();}b8m.globalAlpha=1;if(C8m < N8m){c3m=I8m;N8m=C8m;}if(C8m > L8m){F3m=I8m;L8m=C8m;}}for(var A8m=0;A8m <= "1" - 0;A8m++){j8m=m3m?k3m - u3m * A8m:P3m + u3m * A8m;j8m=Math.round(j8m);if(j8m < N8m){c3m=Q6l.xIntersection({x0:T8m,x1:W8m,y0:U8m,y1:J8m},j8m);N8m=j8m;}if(j8m > L8m){F3m=Q6l.xIntersection({x0:T8m,x1:W8m,y0:U8m,y1:J8m},j8m);L8m=j8m;}}v3m=Q6l.clone(this.parameters.trend.parameters);if(this.highlighted){v3m.opacity=1;}this.stx.plotLine(c3m,F3m,N8m,L8m,V3m,"segment",b8m,D8m,v3m);if(this.highlighted){Z3m=this.highlighted == "p0"?! !{}:! !"";h3m=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(b8m,T8m,U8m,Z3m);this.littleCircle(b8m,W8m,J8m,h3m);}};Q6l.Drawing.fibonacci.prototype.reposition=function(t3m,E3m,z3m,Q3m){if(!E3m){return;}u0I.i6I();Q6l.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};Q6l.Drawing.fibonacci.prototype.intersected=function(g3m,q3m,b3m){var x7w,G3m,Y3m,H3m,f3m,l3m,x3m,X7w;x7w="segm";x7w+="ent";G3m=this.p0;Y3m=this.p1;if(!G3m || !Y3m){return null;}H3m={0:G3m,1:Y3m};for(var w3m in H3m){if(this.pointIntersection(H3m[w3m]["0" * 1],H3m[w3m][1],b3m)){u0I.N7a(0);this.highlighted=u0I.h8a(w3m,(440.42,867.7) !== 860.84?"p":(784,242.64) !== (+"5180",0.9)?(5.46e+3,! ![]):![]);return {action:"drag",point:"p" + w3m};}}f3m=this.outer;l3m=this.rays;x3m=f3m && this.lineIntersection(g3m,q3m,b3m,x7w,f3m.p0,f3m.p1);if(!x3m){for(var d3m=0;d3m < l3m.length;d3m++){X7w="r";X7w+="a";X7w+="y";if(this.lineIntersection(g3m,q3m,b3m,X7w,l3m[d3m][0],l3m[d3m][1],!0)){x3m=! ![];break;}}}if(x3m){this.highlighted=!0;return {action:"move",p0:Q6l.clone(G3m),p1:Q6l.clone(Y3m),tick:g3m,value:q3m};}return null;};Q6l.Drawing.fibonacci.prototype.reconstruct=function(C3m,D3m){D3m=Q6l.replaceFields(D3m,Q6l.reverseObject(Q6l.Drawing.fibonacci.mapping));this.stx=C3m;this.parameters=D3m.parameters;if(!this.parameters){this.parameters=Q6l.clone(this.stx.currentVectorParameters.fibonacci);}this.color=D3m.col;this.fillColor=D3m.fc;this.panelName=D3m.pnl;this.d0=D3m.d0;this.d1=D3m.d1;this.d2=D3m.d2;this.tzo0=D3m.tzo0;this.tzo1=D3m.tzo1;this.tzo2=D3m.tzo2;this.v0=D3m.v0;this.v1=D3m.v1;this.v2=D3m.v2;this.adjust();};Q6l.Drawing.fibonacci.prototype.adjust=function(){var J3m;J3m=this.stx.panels[this.panelName];if(!J3m){return;}u0I.i6I();this.setPoint(0,this.d0,this.v0,J3m.chart);this.setPoint(1,this.d1,this.v1,J3m.chart);this.setOuter();};Q6l.Drawing.fibonacci.prototype.serialize=function(){u0I.o6I();var K3m;K3m={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return Q6l.replaceFields(K3m,Q6l.Drawing.fibonacci.mapping);};Q6l.Drawing.retracement=function(){var P7w;P7w="retraceme";P7w+="n";u0I.i6I();P7w+="t";this.name=P7w;};Q6l.inheritsFrom(Q6l.Drawing.retracement,Q6l.Drawing.fibonacci);Q6l.Drawing.fibprojection=function(){var d7w;d7w="f";d7w+="ibp";d7w+="rojection";this.name=d7w;this.dragToDraw=!"1";u0I.i6I();this.p2=null;};Q6l.inheritsFrom(Q6l.Drawing.fibprojection,Q6l.Drawing.fibonacci);u0I.N7a(5);Q6l.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,u0I.h8a("1.272",0),1.618,2.618,4.236];Q6l.Drawing.fibprojection.prototype.click=function(X3m,O3m,j3m){var U3m;U3m=this.stx.panels[this.panelName];if(!U3m){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O3m,j3m,U3m.chart);this.penDown=! ![];return !1;}if(this.accidentalClick(O3m,j3m)){this.stx.undo();return ! ![];}u0I.i6I();if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],U3m.chart);this.parameters=Q6l.clone(this.parameters);return ! !{};}this.setPoint(1,O3m,j3m,U3m.chart);this.p2=[this.p1[+"0"],this.p1[1]];return !{};;};Q6l.Drawing.fibprojection.prototype.render=function(o3m){var j7w,k7w,i3m,u4m,M4m,r3m,a4m,F4m,c4m,R4m,B3m,v4m,e4m,m4m,I3m,f7w,m7w,A3m,W3m,y4m,N3m,S3m,s4m,n4m,L3m,T3m,V4m,k4m,t7w,p4m,Z4m,h4m;j7w="se";j7w+="gm";j7w+="ent";k7w="s";k7w+="ol";k7w+="i";k7w+="d";i3m=this.stx.panels[this.panelName];if(!i3m){return;}u4m=i3m.yAxis;if(!this.p1){return;}M4m=this.p1[1] - this.p0[1];r3m=this.stx.pixelFromTick(this.p0[0],i3m.chart);a4m=this.stx.pixelFromTick(this.p1[0],i3m.chart);F4m=this.stx.pixelFromValueAdjusted(i3m,this.p0[+"0"],this.p0[+"1"]);c4m=this.stx.pixelFromValueAdjusted(i3m,this.p1[0],this.p1[1]);R4m=null;B3m=null;if(this.p2){R4m=this.stx.pixelFromTick(this.p2[0],i3m.chart);B3m=this.stx.pixelFromValueAdjusted(i3m,this.p2[0],this.p2[1]);}v4m={color:"auto",parameters:{pattern:k7w,opacity:+"0.25",lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=v4m;}e4m=this.getLineColor(this.parameters.trend.color);o3m.textBaseline="middle";this.stx.canvasFont("stx_yaxis",o3m);m4m=o3m.measureText("161.8%").width + 10;I3m=this.color;if(I3m == "auto" || Q6l.isTransparent(I3m)){I3m=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var P4m=0;P4m < this.parameters.fibs.length;P4m++){f7w="s";f7w+="egm";f7w+="ent";m7w="a";m7w+="uto";o3m.textAlign="left";o3m.fillStyle=I3m;A3m=this.parameters.fibs[P4m];if(!A3m.display)continue;W3m=this.stx.pixelFromValueAdjusted(i3m,this.p2[0],this.p2[1] + M4m * A3m.level);y4m=Q6l.xIntersection({x0:r3m,x1:a4m,y0:F4m,y1:c4m},W3m);N3m=this.parameters.extendLeft?0:r3m;S3m=i3m.left + i3m.width;if(this.parameters.printLevels){s4m=Math.round(A3m.level * 1000) / 10 + ((290.69,2826) === 7619?!{}:"%");S3m-=m4m;if(this.parameters.printValues){o3m.fillStyle=I3m;this.stx.canvasFont("stx_yaxis",o3m);;}if(S3m < N3m){o3m.textAlign="right";}o3m.fillText(s4m,S3m,W3m);if(S3m < N3m){S3m+=+"5";}else {S3m-=5;}}if(this.parameters.printValues){if(y4m < i3m.width){n4m=this.stx.transformedPriceFromPixel(W3m,i3m);if(u4m.priceFormatter){n4m=u4m.priceFormatter(this.stx,i3m,n4m);}else {n4m=this.stx.formatYAxisPrice(n4m,i3m);}if(o3m == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i3m,n4m,W3m,I3m,null,o3m);if(o3m == this.stx.chart.context){this.stx.startClip(i3m.name);}}}L3m=A3m.color;if(L3m == m7w || Q6l.isTransparent(L3m)){L3m=this.color;}if(L3m == "auto" || Q6l.isTransparent(L3m)){L3m=this.stx.defaultColor;}T3m=A3m.color;if(T3m == "auto" || Q6l.isTransparent(T3m)){T3m=this.fillColor;}if(T3m == "auto" || Q6l.isTransparent(T3m)){T3m=this.stx.defaultColor;}o3m.fillStyle=T3m;V4m=Q6l.clone(A3m.parameters);if(this.highlighted){V4m.opacity=1;}this.stx.plotLine(N3m,S3m,W3m,W3m,this.highlighted?e4m:L3m,f7w,o3m,i3m,V4m);this.rays.push([[N3m,W3m],[S3m,W3m]]);o3m.globalAlpha=0.05;o3m.beginPath();o3m.moveTo(S3m,W3m);o3m.lineTo(N3m,W3m);if(N3m){o3m.lineTo(r3m,B3m);}else {o3m.lineTo(N3m,B3m);}o3m.lineTo(S3m,B3m);if(typeof T3m != "undefined"){o3m.fill();}u0I.N7a(11);o3m.globalAlpha=u0I.h8a(413465664,"1");}}k4m=Q6l.clone(this.parameters.trend.parameters);if(this.highlighted){k4m.opacity=+"1";}this.stx.plotLine(r3m,a4m,F4m,c4m,e4m,j7w,o3m,i3m,k4m);if(this.p2){this.stx.plotLine(a4m,R4m,c4m,B3m,e4m,"segment",o3m,i3m,k4m);}if(this.highlighted){t7w="p";t7w+="0";p4m=this.highlighted == t7w?! ![]:!{};Z4m=this.highlighted == "p1"?! !1:!{};h4m=this.highlighted == "p2"?! !1:! !"";this.littleCircle(o3m,r3m,F4m,p4m);this.littleCircle(o3m,a4m,c4m,Z4m);this.littleCircle(o3m,R4m,B3m,h4m);}};Q6l.Drawing.fibprojection.prototype.move=function(z4m,E4m,t4m){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[E4m,t4m];}else {this.p2=[E4m,t4m];}this.render(z4m);};Q6l.Drawing.fibprojection.prototype.reposition=function(Y4m,Q4m,H4m,f4m){var w4m,d4m,G4m;if(!Q4m){return;}w4m=this.stx.panels[this.panelName];d4m=Q4m.tick - H4m;u0I.o6I();G4m=Q4m.value - f4m;if(Q4m.action == "move"){u0I.N7a(14);this.setPoint(u0I.h8a(39542080,"0"),Q4m.p0[0] - d4m,Q4m.p0[1] - G4m,w4m.chart);this.setPoint(1,Q4m.p1[0] - d4m,Q4m.p1[1] - G4m,w4m.chart);this.setPoint(2,Q4m.p2[0] - d4m,Q4m.p2[1] - G4m,w4m.chart);this.render(Y4m);}else if(Q4m.action == "drag"){this[Q4m.point]=[H4m,f4m];this.setPoint(0,this.p0[0],this.p0[1],w4m.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],w4m.chart);this.setPoint(2,this.p2[0],this.p2["1" ^ 0],w4m.chart);this.render(Y4m);}};Q6l.Drawing.fibprojection.prototype.intersected=function(D4m,C4m,J4m){var D7w,x4m,l4m,g4m,K4m,A7w,U4m,O4m;D7w="segme";D7w+="n";D7w+="t";x4m=this.p0;l4m=this.p1;g4m=this.p2;if(!x4m || !l4m || !g4m){return null;}K4m={0:x4m,1:l4m,2:g4m};for(var q4m in K4m){if(this.pointIntersection(K4m[q4m][+"0"],K4m[q4m][1],J4m)){A7w="d";A7w+="r";A7w+="a";A7w+="g";u0I.U7a(0);this.highlighted=u0I.H8a(q4m,(9438,621.76) >= (4761,459.66)?"p":987 >= +"8103"?("B",0x5fc):(!1,0x2542));return {action:A7w,point:"p" + q4m};}}U4m=this.rays;O4m=this.lineIntersection(D4m,C4m,J4m,"segment",x4m,l4m) || this.lineIntersection(D4m,C4m,J4m,D7w,l4m,g4m);if(!O4m){for(var b4m=+"0";b4m < U4m.length;b4m++){if(this.lineIntersection(D4m,C4m,J4m,"ray",U4m[b4m][0],U4m[b4m][1],! !1)){O4m=!0;break;}}}if(O4m){this.highlighted=! !{};return {action:"move",p0:Q6l.clone(x4m),p1:Q6l.clone(l4m),p2:Q6l.clone(g4m),tick:D4m,value:C4m};}return null;};Q6l.Drawing.fibprojection.prototype.adjust=function(){var j4m;j4m=this.stx.panels[this.panelName];if(!j4m){return;}this.setPoint(0,this.d0,this.v0,j4m.chart);this.setPoint(1,this.d1,this.v1,j4m.chart);this.setPoint(+"2",this.d2,this.v2,j4m.chart);};Q6l.Drawing.fibarc=function(){u0I.i6I();this.name="fibarc";;};Q6l.inheritsFrom(Q6l.Drawing.fibarc,Q6l.Drawing.fibonacci);u0I.U7a(22);Q6l.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,u0I.h8a("0.618",1),1];Q6l.Drawing.fibarc.prototype.setOuter=function(){u0I.i6I();var X4m,o4m,i4m,S4m,T4m,W4m,N4m;X4m=this.stx.panels[this.panelName];if(!X4m){return;}this.outer={p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1)};o4m=this.stx.pixelFromValueAdjusted(X4m,this.p0["0" << 695509216],this.p0[1]);i4m=this.stx.pixelFromValueAdjusted(X4m,this.p1[0],this.p1[1]);S4m=this.stx.pixelFromTick(this.p0[+"0"],X4m.chart);T4m=this.stx.pixelFromTick(this.p1[0],X4m.chart);u0I.N7a(29);W4m=u0I.H8a(2,i4m,o4m);N4m=Q6l.xIntersection({x0:S4m,x1:T4m,y0:o4m,y1:i4m},W4m);this.outer.p0[1]=this.stx.valueFromPixel(W4m,X4m);this.outer.p0[0]=this.stx.tickFromPixel(N4m,X4m.chart);};Q6l.Drawing.fibarc.prototype.intersected=function(r4m,F0m,B4m){var S7w,R0m,I4m,A4m,P0m,e0m,V7w,u0m,L4m,a0m,k0m,c0m;S7w="se";u0I.o6I();S7w+="gm";S7w+="ent";R0m=this.stx.panels[this.panelName];if(!R0m){return;}I4m=this.p0;A4m=this.p1;P0m=this.outer;if(!I4m || !A4m){return null;}e0m={0:I4m,1:A4m};for(var n0m in e0m){if(this.pointIntersection(e0m[n0m][0],e0m[n0m][1],B4m)){V7w="d";V7w+="r";V7w+="a";V7w+="g";u0I.N7a(0);this.highlighted=u0I.H8a(n0m,(761.96,8699) === 7631?(0x58d,! !0):(4001,7670) > (1585,1055)?"p":"5540" * 1 == 809.1?("m",0x1dd1):(0x1239,"U"));return {action:V7w,point:(966.82 >= (8812,7800)?(176,679.96) != 6990?9277 == (8320,3320)?(8.95e+3,851.40):(! ![],6.90e+3):"s":"p") + n0m};}}if(this.lineIntersection(r4m,F0m,B4m,S7w,P0m.p0,P0m.p1)){this.highlighted=! !{};return {action:"move",p0:Q6l.clone(I4m),p1:Q6l.clone(A4m),tick:r4m,value:F0m};}u0m={x0:I4m["0" | 0],x1:A4m[0],y0:I4m[1],y1:A4m["1" >> 320619904]};L4m=Q6l.convertBoxToPixels(this.stx,this.panelName,u0m);a0m={x:Math.abs(Math.sqrt(2) * (L4m.x1 - L4m.x0)),y:Math.abs(Math.sqrt("2" << 514304928) * (L4m.y1 - L4m.y0))};k0m=this.stx.pixelFromTick(r4m,R0m.chart);c0m=this.stx.pixelFromValueAdjusted(R0m,r4m,F0m);if(k0m + B4m.r < L4m.x1 - a0m.x || k0m - B4m.r > L4m.x1 + a0m.x){return null;}if(c0m + B4m.r < L4m.y1 - a0m.y || c0m - B4m.r > L4m.y1 + a0m.y){return null;}if(L4m.y0 < L4m.y1 && c0m - B4m.r > L4m.y1){return null;}if(L4m.y0 > L4m.y1 && c0m + B4m.r < L4m.y1){return null;}this.highlighted=! !{};return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:r4m,value:F0m};};Q6l.Drawing.fibarc.prototype.render=function(V0m){var M7w,M0m,Q0m,t0m,y0m,h0m,m0m,d0m,G0m,Y0m,Z0m,I7w,v0m,l0m,H0m,z0m,x0m,g0m,E0m,s0m,p0m,f0m,q0m,b0m;M7w="l";M7w+="e";M7w+="ft";M0m=this.stx.panels[this.panelName];if(!M0m){return;}Q0m=M0m.yAxis;if(!this.p1){return;}t0m=this.stx.pixelFromTick(this.p0[0],M0m.chart);y0m=this.stx.pixelFromTick(this.p1[0],M0m.chart);h0m=this.stx.pixelFromValueAdjusted(M0m,this.p0[+"0"],this.p0[1]);m0m=this.stx.pixelFromValueAdjusted(M0m,this.p1[0],this.p1[1]);u0I.N7a(30);d0m=u0I.h8a(m0m,h0m);u0I.U7a(31);G0m=Math.abs(u0I.H8a(m0m,t0m,h0m,y0m));Y0m=this.getLineColor(this.parameters.trend.color);V0m.textBaseline="middle";this.stx.canvasFont("stx_yaxis",V0m);Z0m=this.color;if(Z0m == "auto" || Q6l.isTransparent(Z0m)){Z0m=this.stx.defaultColor;}for(var w0m=0;w0m < this.parameters.fibs.length;w0m++){I7w="no";I7w+="ne";V0m.fillStyle=Z0m;v0m=this.parameters.fibs[w0m];if(v0m.level < 0 || !v0m.display)continue;l0m=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * v0m.level;H0m=this.p1[+"1"] + l0m * (d0m?-1:1) * (Q0m.flipped?-("1" & 2147483647):1);z0m=this.stx.pixelFromValueAdjusted(M0m,this.p0["0" - 0],H0m);x0m=Q6l.xIntersection({x0:t0m,x1:y0m,y0:h0m,y1:m0m},z0m);if(this.parameters.printLevels){V0m.textAlign="center";g0m=Math.round(v0m.level * 1000) / 10 + (("9307" * 1,4495) === (8850,231.42)?(7.35e+3,726.53):"%");if(this.parameters.printValues){V0m.fillStyle=Z0m;this.stx.canvasFont("stx_yaxis",V0m);;}V0m.fillText(g0m,y0m,Math.round(z0m - 5));}V0m.textAlign="left";if(this.parameters.printValues){if(x0m < M0m.width){E0m=H0m;if(Q0m.priceFormatter){E0m=Q0m.priceFormatter(this.stx,M0m,E0m);}else {E0m=this.stx.formatYAxisPrice(E0m,M0m);}if(V0m == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(M0m,E0m,z0m,Z0m,null,V0m);if(V0m == this.stx.chart.context){this.stx.startClip(M0m.name);}}}s0m=v0m.color;if(s0m == "auto" || Q6l.isTransparent(s0m)){s0m=this.color;}if(s0m == "auto" || Q6l.isTransparent(s0m)){s0m=this.stx.defaultColor;}V0m.strokeStyle=this.highlight?Y0m:s0m;p0m=v0m.color;if(p0m == "auto" || Q6l.isTransparent(p0m)){p0m=this.fillColor;}if(p0m == "auto" || Q6l.isTransparent(p0m)){p0m=this.stx.defaultColor;}V0m.fillStyle=p0m;V0m.globalAlpha=this.highlighted?1:v0m.parameters.opacity;V0m.lineWidth=v0m.parameters.lineWidth;if(V0m.setLineDash){V0m.setLineDash(Q6l.borderPatternToArray(V0m.lineWidth,v0m.parameters.pattern));V0m.lineDashOffset=0;;}V0m.save();V0m.beginPath();u0I.N7a(16);V0m.scale(u0I.h8a(0,"1",G0m),1);u0I.U7a(22);V0m.arc(u0I.H8a(y0m,G0m),m0m,Math.abs(z0m - m0m),+"0",Math.PI,!d0m);if(this.pattern != I7w){V0m.stroke();}u0I.N7a(22);V0m.globalAlpha=u0I.h8a("0.05",1);V0m.fill();V0m.restore();if(V0m.setLineDash){V0m.setLineDash([]);}V0m.globalAlpha=1;}V0m.textAlign=M7w;f0m=Q6l.clone(this.parameters.trend.parameters);if(this.highlighted){f0m.opacity=1;}u0I.U7a(29);this.stx.plotLine(y0m,u0I.H8a(2,y0m,t0m),m0m,u0I.H8a(2,m0m,h0m),Y0m,"segment",V0m,M0m,f0m);if(this.highlighted){q0m=this.highlighted == "p0"?! ![]:!1;b0m=this.highlighted == "p1"?!0:! !0;this.littleCircle(V0m,t0m,h0m,q0m);this.littleCircle(V0m,y0m,m0m,b0m);}};Q6l.Drawing.fibfan=function(){this.name="fibfan";u0I.i6I();;};Q6l.inheritsFrom(Q6l.Drawing.fibfan,Q6l.Drawing.fibonacci);u0I.U7a(22);Q6l.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,u0I.h8a("0.618",1),1];Q6l.Drawing.fibfan.prototype.setOuter=function(){};Q6l.Drawing.fibfan.prototype.render=function(D0m){var u7w,w7w,J0m,c6m,C0m,j0m,K0m,N0m,F6m,R6m,e6m,k6m,u6m,B0m,I0m,A0m,i0m,v7w,C7w,W0m,O0m,r0m,U0m,S0m,V6m,e7w,L0m,X0m,o0m,P6m,T0m,M6m,v6m;u7w="s";u7w+="tx_";u7w+="ya";u7w+="xis";w7w="m";w7w+="idd";w7w+="l";w7w+="e";J0m=this.stx.panels[this.panelName];if(!J0m){return;}c6m=J0m.yAxis;if(!this.p1){return;}C0m=this.stx.pixelFromTick(this.p0[0],J0m.chart);j0m=this.stx.pixelFromTick(this.p1[0],J0m.chart);K0m=this.stx.pixelFromValueAdjusted(J0m,this.p0["0" << 1389984],this.p0[+"1"]);N0m=this.stx.pixelFromValueAdjusted(J0m,this.p1[0],this.p1[1]);F6m=Math.min(N0m,K0m);R6m=Math.max(N0m,K0m);u0I.N7a(5);e6m=u0I.h8a(R6m,F6m);u0I.U7a(32);k6m=u0I.h8a(j0m,K0m,835098816,"0",N0m,C0m);u6m=this.getLineColor(this.parameters.trend.color);D0m.textBaseline=w7w;this.stx.canvasFont(u7w,D0m);B0m=D0m.measureText("161.8%").width + +"10";u0I.i6I();I0m=Number.MAX_VALUE;A0m=Number.MAX_VALUE * -1;i0m=this.color;if(i0m == "auto" || Q6l.isTransparent(i0m)){i0m=this.stx.defaultColor;}this.rays=[];for(var a6m=0;a6m < this.parameters.fibs.length;a6m++){v7w="segm";v7w+="ent";C7w="a";C7w+="u";C7w+="t";C7w+="o";D0m.fillStyle=i0m;W0m=this.parameters.fibs[a6m];if(!W0m.display)continue;O0m=this.stx.pixelFromValueAdjusted(J0m,this.p0[0],(this.p0[1] - this.p1[1]) * W0m.level + this.p1[1]);r0m=Q6l.xIntersection({x0:j0m,x1:j0m,y0:K0m,y1:N0m},O0m);U0m=J0m.left;if(j0m > C0m){U0m+=J0m.width;}u0I.U7a(33);S0m=u0I.h8a(C0m,r0m,O0m,C0m,U0m,K0m,K0m);if(C0m > U0m - (this.parameters.printLevels?B0m + 5:0) && j0m > C0m)continue;else if(C0m < U0m + (this.parameters.printLevels?B0m + +"5":0) && j0m < C0m)continue;if(this.parameters.printLevels){V6m=Math.round(W0m.level * 1000) / 10 + "%";if(j0m > C0m){U0m-=B0m;D0m.textAlign="left";}else {U0m+=B0m;D0m.textAlign="right";}if(this.parameters.printValues){e7w="stx_y";e7w+="axis";D0m.fillStyle=i0m;this.stx.canvasFont(e7w,D0m);;}u0I.U7a(33);S0m=u0I.H8a(C0m,r0m,O0m,C0m,U0m,K0m,K0m);D0m.fillText(V6m,U0m,S0m);if(j0m > C0m){u0I.N7a(5);U0m-=u0I.H8a("5",0);}else {U0m+=5;}}D0m.textAlign="left";if(this.parameters.printValues){if(r0m < J0m.width){L0m=this.stx.transformedPriceFromPixel(O0m,J0m);if(c6m.priceFormatter){L0m=c6m.priceFormatter(this.stx,J0m,L0m);}else {L0m=this.stx.formatYAxisPrice(L0m,J0m);}if(D0m == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(J0m,L0m,O0m,i0m,null,D0m);if(D0m == this.stx.chart.context){this.stx.startClip(J0m.name);}}}X0m=W0m.color;if(X0m == "auto" || Q6l.isTransparent(X0m)){X0m=this.color;}if(X0m == "auto" || Q6l.isTransparent(X0m)){X0m=this.stx.defaultColor;}o0m=W0m.color;if(o0m == "auto" || Q6l.isTransparent(o0m)){o0m=this.fillColor;}if(o0m == C7w || Q6l.isTransparent(o0m)){o0m=this.stx.defaultColor;}D0m.fillStyle=o0m;if(this.parameters.printLevels){u0I.U7a(33);S0m=u0I.H8a(C0m,r0m,O0m,C0m,U0m,K0m,K0m);}P6m=Q6l.clone(W0m.parameters);if(this.highlighted){P6m.opacity=1;}this.stx.plotLine(C0m,U0m,K0m,S0m,this.highlighted?u6m:X0m,v7w,D0m,J0m,P6m);this.rays.push([[C0m,K0m],[U0m,S0m]]);D0m.globalAlpha=0.05;D0m.beginPath();D0m.moveTo(U0m,S0m);D0m.lineTo(C0m,K0m);D0m.lineTo(U0m,K0m);D0m.fill();D0m.globalAlpha=1;if(O0m < I0m){I0m=O0m;}if(O0m > A0m){A0m=O0m;}}for(var n6m=+"0";n6m <= ("1" ^ 0);n6m++){T0m=k6m?R6m - e6m * n6m:F6m + e6m * n6m;T0m=Math.round(T0m);if(T0m < I0m){I0m=T0m;}if(T0m > A0m){A0m=T0m;}}if(this.highlighted){M6m=this.highlighted == "p0"?! ![]:!"1";v6m=this.highlighted == "p1"?! !1:!{};this.littleCircle(D0m,C0m,K0m,M6m);this.littleCircle(D0m,j0m,N0m,v6m);}};Q6l.Drawing.fibtimezone=function(){this.name="fibtimezone";;};Q6l.inheritsFrom(Q6l.Drawing.fibtimezone,Q6l.Drawing.fibonacci);Q6l.Drawing.fibtimezone.prototype.render=function(m6m){var Y7w,L7w,i7w,h7w,b7w,y6m,s6m,E6m,G6m,Y6m,w6m,H6m,g6m,f6m,Q6m,p6m,l6m,t6m,z6m,Z6m,h6m,d6m,q6m,b6m,x6m;Y7w="segme";Y7w+="n";Y7w+="t";L7w="le";L7w+="f";L7w+="t";i7w="a";i7w+="uto";h7w="a";h7w+="u";h7w+="t";h7w+="o";b7w="au";b7w+="t";b7w+="o";y6m=this.stx.panels[this.panelName];if(!y6m){return;}if(!this.p1){return;}s6m=this.stx.pixelFromTick(this.p0[0],y6m.chart);E6m=this.stx.pixelFromTick(this.p1[0],y6m.chart);G6m=this.stx.pixelFromValueAdjusted(y6m,this.p0[0],this.p0[1]);Y6m=this.stx.pixelFromValueAdjusted(y6m,this.p1[+"0"],this.p1[1]);w6m=[1,0];H6m=this.getLineColor(this.parameters.trend.color);m6m.textBaseline="middle";this.stx.canvasFont("stx_yaxis",m6m);g6m=20;f6m=this.p1["0" << 2101853440] - this.p0[0];Q6m=this.color;if(Q6m == b7w || Q6l.isTransparent(Q6m)){Q6m=this.stx.defaultColor;}m6m.textAlign="center";p6m=s6m;l6m=y6m.yAxis.top;t6m=y6m.yAxis.bottom;z6m=+"0";Z6m=this.parameters.timezone.color;if(Z6m == h7w || Q6l.isTransparent(Z6m)){Z6m=this.color;}if(Z6m == "auto" || Q6l.isTransparent(Z6m)){Z6m=this.stx.defaultColor;}h6m=this.parameters.timezone.color;if(h6m == "auto" || Q6l.isTransparent(h6m)){h6m=this.fillColor;}if(h6m == i7w || Q6l.isTransparent(h6m)){h6m=this.stx.defaultColor;}if(this.parameters.printLevels){u0I.U7a(34);t6m-=u0I.H8a(g6m,"7",0);}d6m=Q6l.clone(this.parameters.timezone.parameters);if(this.highlighted){d6m.opacity=1;}do {p6m=this.stx.pixelFromTick(this.p0["0" - 0] + z6m * f6m,y6m.chart);if(s6m < E6m && p6m > y6m.left + y6m.width)break;else if(s6m > E6m && p6m < y6m.left)break;if(this.parameters.printLevels){m6m.fillStyle=Q6m;m6m.fillText(E6m > s6m?z6m:z6m * -1,p6m,t6m + 7);}m6m.fillStyle=h6m;this.stx.plotLine(p6m,p6m,0,t6m,this.highlighted?H6m:Z6m,"segment",m6m,y6m,d6m);m6m.globalAlpha=0.05;m6m.beginPath();m6m.moveTo(s6m,l6m);m6m.lineTo(p6m,l6m);m6m.lineTo(p6m,t6m);m6m.lineTo(s6m,t6m);m6m.fill();m6m.globalAlpha=1;z6m=w6m[0] + w6m[1];w6m.unshift(z6m);}while(f6m);m6m.textAlign=L7w;this.stx.plotLine(s6m,E6m,G6m,Y6m,H6m,Y7w,m6m,y6m,d6m);if(this.highlighted){q6m=this.highlighted == "p0"?! ![]:![];b6m=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(m6m,s6m,G6m,q6m);this.littleCircle(m6m,E6m,Y6m,b6m);}else {x6m=this.stx.valueFromPixel(y6m.height / 2,y6m);this.setPoint(0,this.p0[0],x6m,y6m.chart);this.setPoint(1,this.p1[0],x6m,y6m.chart);}};Q6l.Drawing.fibtimezone.prototype.intersected=function(O6m,j6m,J6m){var D6m,K6m,X6m,U6m,o6m,R7w;D6m=this.p0;K6m=this.p1;X6m=this.stx.panels[this.panelName];if(!D6m || !K6m || !X6m){return null;}U6m={0:D6m,1:K6m};for(var C6m in U6m){if(this.pointIntersection(U6m[C6m][0],U6m[C6m][1],J6m)){u0I.U7a(0);this.highlighted=u0I.H8a(C6m,956 === (8120,958.88)?(5320,510.56) == "4354" - 0?(! !"",741.82):("228.96" * 1,706.92) !== (3116,387)?(6.34e+3,3.80e+1):(236.51,0x11ad):"p");return {action:"drag",point:"p" + C6m};}}o6m=this.lineIntersection(O6m,j6m,J6m,"segment");if(o6m || J6m.x0 <= this.p0[0] && J6m.x1 >= D6m[+"0"]){R7w="m";R7w+="ov";R7w+="e";this.highlighted=! ![];return {action:R7w,p0:Q6l.clone(D6m),p1:Q6l.clone(K6m),tick:O6m,value:j6m};}return null;};Q6l.Drawing.arrow_v0=function(){u0I.o6I();this.name="arrow";this.dimension=[11,11];u0I.N7a(11);this.points=[[(9590,8240) > (128.89,6806)?"M":![],3,0,"L",7,0,"L",7,5,8410 < (32.06,832)?708.11 === +"1890"?(+"6.80e+3",818.24):(513.12,! !0):"L",10,5,8755 == 934.59?("F",! ![]):"L",5,10,"L",0,u0I.h8a(1011069824,"5"),(4760,"6210" << 409479296) != "4390" * 1?"L":(+"4526",1800) >= (4296,153)?(796.59,0x1cff):0x198,3,u0I.h8a(0,"5",u0I.N7a(23)),"L",3,0]];};Q6l.inheritsFrom(Q6l.Drawing.arrow_v0,Q6l.Drawing.shape);Q6l.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];u0I.N7a(17);this.points=[[(9340,628) != 7454?"M":("z","735.64" - 0),1,0,"L",3,u0I.H8a(2,"2"),("446.2" - 0,+"714.12") > 273.66?(2230,4900) < (6560,980.33)?2.46e+3:"L":(115.33,8.23e+3),5,0,577.72 <= 2105?(6248,6636) == 3977?("k",9.25e+3):"L":+"5.49e+3",6,1,"L",4,3,(546.05,807.85) > (431,9687)?(! !1,! !{}):"L",6,5,(256.26,"7689" - 0) !== (844.64,390.34)?7360 != (260.62,+"206.99")?"L":6514 < 5130?"0x1405" | 4096:"g":(717.70,! !""),5,6,420.69 < (1476,831)?"L":0x16da,3,4,2924 <= 8730?"L":(0x1b62,4.47e+3),1,6,(5790,+"801.39") >= +"1553"?6408 < ("3563" >> 1746779008,8410)?"d":("3.89e+3" - 0,+"6.12e+3"):"L",0,5,1310 > (939.98,5450)?"9.47e+3" | 18:(4274,4794) >= (4262,486.14)?344.53 <= (6289,857.49)?"L":774.76:("0x1a31" << 1690176672,9.95e+3),+"2",3,657 === 2614?(+"6434",3360) > "7884" << 20595680?("G",8.20e+3):("5320" | 4296) >= 751.82?(690.50,![]):(7.57e+3,0x1974):"L",0,1,9096 !== (+"4083",+"8040")?(804.88,5609) >= 1170?"L":5360 >= (3353,675.11)?(! ![],"H"):(8.87e+3,"E"):+"0x54a",1,0]];;};Q6l.inheritsFrom(Q6l.Drawing.xcross,Q6l.Drawing.shape);Q6l.Drawing.check=function(){this.name="check";this.dimension=[8,9];u0I.N7a(17);this.points=[["M",1,+"5","L",+"0",6,29 > ("9060" - 0,+"636.49")?(441.92,+"7950") >= 9670?0xd00:(7170,966.55) == (6254,441.44)?(! !"","m"):("X",6.57e+3):"L",2,8,("2410" >> 1867854272,7700) == (8600,7465)?("c",!0):"L",+"7",+"1","L",u0I.H8a(4,"6"),0,"L",2,u0I.h8a(0,"6",u0I.U7a(23)),"894.66" * 1 <= (+"887.54",5942)?956 != "8170" >> 1548882496?1843 === 7945?"a":"L":9.15e+3:"G",u0I.H8a(0,"1",u0I.N7a(17)),5]];;};Q6l.inheritsFrom(Q6l.Drawing.check,Q6l.Drawing.shape);Q6l.Drawing.star=function(){this.name="star";this.dimension=[12,12];u0I.U7a(5);this.points=[["M",0,+"4","L",4,4,"L",5.5,u0I.h8a("0",0),"L",7,+"4","L",11,4,1625 == 5274?!0:175 > ("4920" * 1,"523.34" - 0)?(8425,5250) >= 17.5?("k",0xeb4):(0x14bb,"g"):"L",+"8",7,(300.28,9035) !== (326.3,126)?+"823" <= 6902?4427 === +"303.69"?("0x1529" & 2147483647,649.25):"L":+"5.42e+3":(0x17a2,"M"),+"9",11,(7700,9080) == 5060?521.53:5819 == (928.71,1799)?(1.20e+3,"818.91" * 1):"L",5.5,9,"L",2,11,"L",3,7,(1860,"340.75" - 0) === 3319?662.33:(122.4,"7070" >> 1821387712) > 17.87?"L":660 > (7747,21.45)?9.83e+3:(! !"",1.45e+3),0,u0I.h8a("4",1,u0I.N7a(22))]];;};Q6l.inheritsFrom(Q6l.Drawing.star,Q6l.Drawing.shape);Q6l.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];u0I.U7a(17);this.points=[["M",11,+"3","B",11,2.4,10,0,+"6",0,6891 > ("1191" & 2147483647)?"B":(! !{},0xded),u0I.h8a(0,"0"),0,0,7.5,0,7.5,"B",u0I.h8a("0",2147483647,u0I.N7a(20)),11,4,+"15.4",11,19,"B",18,15.4,u0I.H8a(0,"22",u0I.N7a(23)),11,+"22",7.5,"B",22,7.5,22,0,16,0,"B",13,0,11,2.4,11,3]];;};Q6l.inheritsFrom(Q6l.Drawing.heart,Q6l.Drawing.shape);Q6l.Drawing.focusarrow=function(){var Q7w;Q7w="focusa";Q7w+="rr";Q7w+="ow";u0I.o6I();this.name=Q7w;this.dimension=[7,5];u0I.N7a(11);this.points=[[(204.29,3864) < 5000?("546.14" - 0,694) !== 5089?"M":5834 >= (8953,8720)?! !0:("m",!{}):0x646,0,0,(6913,+"1241") >= (859,283)?"7841" >> 560862464 >= 517.62?(641.5,+"3832") == (8.96,+"9369")?(! !0,0x242f):"L":(733.15,0x1770):(0x217d,39.71),2,2,(2950,949.54) >= 340.37?"L":(267.08,"2538" << 281065856) !== 537.54?(! !{},+"5.97e+3"):(0x5be,0x2472),0,4,"L",0,u0I.H8a(910532288,"0")],["M",u0I.h8a(1893179040,"6",u0I.U7a(14)),0,"L",4,2,(3402,1290) == 5716?(9.25e+3,2.26e+3):"L",6,+"4",5544 === (9147,"5800" & 2147483647)?0x2146:"L",6,0]];;};Q6l.inheritsFrom(Q6l.Drawing.focusarrow,Q6l.Drawing.shape);Q6l.Drawing.crossline=function(){this.name="crossline";};Q6l.inheritsFrom(Q6l.Drawing.crossline,Q6l.Drawing.horizontal);Q6l.extend(Q6l.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(i6m,W6m){u0I.o6I();var n2w,a2w,U2w;n2w=+"357020704";a2w=902410573;U2w=2;for(var X2w=1;u0I.t0w(X2w.toString(),X2w.toString().length,64465) !== n2w;X2w++){return ! !{};}if(u0I.A0w(U2w.toString(),U2w.toString().length,18640) !== a2w){return ! !"";}},adjust:function(){var S6m;S6m=this.stx.panels[this.panelName];if(!S6m){return;}this.setPoint(0,this.d0,this.v0,S6m.chart);this.p1=Q6l.clone(this.p0);},intersected:function(N6m,L6m,B6m){var c7w,T6m,r7w,K7w;c7w="m";c7w+="o";c7w+="v";c7w+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;T6m=this.lineIntersection(N6m,L6m,B6m,"line");this.p1=Q6l.clone(this.p0);if(!T6m){r7w="l";r7w+="ine";this.p1[1]+=1;T6m=this.lineIntersection(N6m,L6m,B6m,r7w);this.p1=Q6l.clone(this.p0);if(!T6m){return null;}}this.highlighted=! !"1";if(this.pointIntersection(this.p0["0" ^ 0],this.p0[1],B6m)){K7w="p";K7w+="0";this.highlighted=K7w;}return {action:c7w,p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:N6m,value:L6m};},render:function(P7m){var F7w,s7w,I6m,n7m,a7m,F7m,k7m,r6m,A6m,c7m,u7m,R7m,e7m,V7m;F7w="vert";F7w+="i";F7w+="ca";F7w+="l";s7w="h";s7w+="oriz";s7w+="ontal";I6m=this.stx.panels[this.panelName];if(!I6m){return;}n7m=this.stx.pixelFromTick(this.p0[+"0"],I6m.chart);a7m=this.stx.pixelFromValueAdjusted(I6m,this.p0[+"0"],this.p0[1]);F7m=this.getLineColor();k7m={pattern:this.pattern,lineWidth:this.lineWidth};u0I.N7a(35);this.stx.plotLine(n7m,u0I.h8a(64,n7m,"100"),a7m,a7m,F7m,s7w,P7m,I6m,k7m);u0I.N7a(36);this.stx.plotLine(n7m,n7m,a7m,u0I.H8a("100",a7m),F7m,F7w,P7m,I6m,k7m);if(this.axisLabel && !this.repositioner){this.stx.endClip();r6m=this.p0[+"1"];if(I6m.chart.transformFunc){r6m=I6m.chart.transformFunc(this.stx,I6m.chart,r6m);}if(I6m.yAxis.priceFormatter){r6m=I6m.yAxis.priceFormatter(this.stx,I6m,r6m);}else {r6m=this.stx.formatYAxisPrice(r6m,I6m);}this.stx.createYAxisLabel(I6m,r6m,a7m,F7m);this.stx.startClip(I6m.name);if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){A6m=this.stx.dateFromTick(this.p0[0],I6m.chart,! !1);if(!Q6l.ChartEngine.isDailyInterval(this.stx.layout.interval)){u7m=A6m.getSeconds() * +"1000" + A6m.getMilliseconds();if(w6l.Date && this.stx.displayZone){c7m=new w6l.Date(A6m.getTime(),this.stx.displayZone);A6m=new Date(c7m.getFullYear(),c7m.getMonth(),c7m.getDate(),c7m.getHours(),c7m.getMinutes());A6m=new Date(A6m.getTime() + u7m);}}else {A6m.setHours(+"0",0,0,0);}R7m=Q6l.mmddhhmm(Q6l.yyyymmddhhmm(A6m));if(I6m.chart.xAxis.formatter){R7m=I6m.chart.xAxis.formatter(A6m,this.name,null,null,R7m);}else if(this.stx.internationalizer){if(A6m.getHours() !== 0 || A6m.getMinutes() !== 0){e7m=this.stx.internationalizer.monthDay.format(A6m);e7m+=(514 === (6970,63.03)?"F":(5011,4971) <= ("253" ^ 0)?339.75:" ") + this.stx.internationalizer.hourMinute.format(A6m);}else {e7m=this.stx.internationalizer.yearMonthDay.format(A6m);}R7m=e7m;}this.stx.endClip();this.stx.createXAxisLabel({panel:I6m,txt:R7m,x:n7m,backgroundColor:F7m,color:null,pointed:! !1,padding:2});this.stx.startClip(I6m.name);}}if(this.highlighted){V7m=this.highlighted == "p0"?!0:!{};this.littleCircle(P7m,n7m,a7m,V7m);}}},!"");Q6l.Drawing.speedarc=function(){var w0w,u0w,e0w;w0w=-1297699798;u0w=1246024004;e0w=2;for(var v0w="1" - 0;u0I.A0w(v0w.toString(),v0w.toString().length,37656) !== w0w;v0w++){this.name="speedarc";e0w+=2;}if(u0I.t0w(e0w.toString(),e0w.toString().length,41699) !== u0w){this.name="";}this.printLevels=! !{};};Q6l.inheritsFrom(Q6l.Drawing.speedarc,Q6l.Drawing.segment);Q6l.extend(Q6l.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor",g7w,q7w],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(M7m,v7m,E7m){var y7m,t7m,s7m,p7m,Z7m,h7m;if(!this.p0 || !this.p1){return null;}y7m={0:this.p0,1:this.p1};for(var m7m in y7m){if(this.pointIntersection(y7m[m7m][0],y7m[m7m][1],E7m)){u0I.U7a(0);this.highlighted=u0I.h8a(m7m,(9337,2970) < (164,368)?("s",!""):("618.91" - 0,1964) > 6370?(0x225f,0x4d3):"p");return {action:"drag",point:((8982,320.68) != 783.2?"p":(+"4039",594.86) == "3836" >> 417261440?"49.14" * 1:! !{}) + m7m};}}t7m=this.lineIntersection(M7m,v7m,E7m,this.name);if(t7m){this.highlighted=! !{};return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:M7m,value:v7m};}s7m=this.p1[0] - (this.p0[0] - this.p1[0]);p7m=this.p0[0];Z7m=this.p1[1];h7m=this.p0[+"1"];if(M7m > Math.max(s7m,p7m) || M7m < Math.min(s7m,p7m)){return null;}if(v7m > Math.max(h7m,Z7m) || v7m < Math.min(h7m,Z7m)){return null;}u0I.o6I();this.highlighted=! ![];return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:M7m,value:v7m};},render:function(z7m){var N7w,Q7m,f7m,d7m,Y7m,w7m,x7m,g7m,l7m,G7m,b7m,D7m,q7m,C7m,J7m,K7m,U7m;N7w="segme";N7w+="nt";Q7m=this.stx.panels[this.panelName];if(!Q7m){return;}if(!this.p1){return;}f7m=this.stx.pixelFromTick(this.p0[0],Q7m.chart);d7m=this.stx.pixelFromTick(this.p1[0],Q7m.chart);Y7m=this.stx.pixelFromValueAdjusted(Q7m,this.p0[0],this.p0[1]);w7m=this.stx.pixelFromValueAdjusted(Q7m,this.p1[0],this.p1[1]);u0I.U7a(30);x7m=u0I.h8a(w7m,Y7m);u0I.N7a(31);g7m=Math.abs(u0I.h8a(w7m,f7m,Y7m,d7m));l7m=this.getLineColor();z7m.strokeStyle=l7m;G7m=this.fillColor;if(G7m == "auto" || Q6l.isTransparent(G7m)){G7m=this.stx.defaultColor;}z7m.fillStyle=G7m;u0I.i6I();if(z7m.setLineDash){z7m.setLineDash(Q6l.borderPatternToArray(this.lineWidth,this.pattern));z7m.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",z7m);for(var H7m=1;H7m < 3;H7m++){b7m=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * H7m / 3;D7m=this.p1[1] + b7m * (x7m?-1:1) * (Q7m.yAxis.flipped?-1:1);q7m=this.stx.pixelFromValueAdjusted(Q7m,this.p0[0],D7m);z7m.save();z7m.beginPath();u0I.N7a(37);z7m.scale(u0I.H8a(g7m,561244256,"1"),u0I.H8a(1449998816,"1",u0I.N7a(11)));u0I.N7a(22);z7m.arc(u0I.h8a(d7m,g7m),w7m,Math.abs(q7m - w7m),0,Math.PI,!x7m);z7m.globalAlpha=this.highlighted?+"1":this.defaultOpacity;if(this.pattern != "none"){z7m.stroke();}z7m.globalAlpha=+"0.1";z7m.fill();z7m.restore();z7m.globalAlpha=1;if(this.printLevels){z7m.fillStyle=l7m;z7m.textAlign="center";u0I.N7a(0);C7m=u0I.h8a("/3",H7m);z7m.fillText(C7m,d7m,Math.round(q7m - 5));z7m.fillStyle=G7m;}}z7m.textAlign="left";J7m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(f7m,d7m,Y7m,w7m,l7m,N7w,z7m,Q7m,J7m);if(z7m.setLineDash){z7m.setLineDash([]);}if(this.highlighted){K7m=this.highlighted == "p0"?! !1:![];U7m=this.highlighted == "p1"?! !{}:!1;this.littleCircle(z7m,f7m,Y7m,K7m);this.littleCircle(z7m,d7m,w7m,U7m);}},reconstruct:function(j7m,O7m){this.stx=j7m;this.color=O7m.col;this.fillColor=O7m.fc;this.panelName=O7m.pnl;this.pattern=O7m.ptrn;this.lineWidth=O7m.lw;this.d0=O7m.d0;this.d1=O7m.d1;this.tzo0=O7m.tzo0;this.tzo1=O7m.tzo1;this.v0=O7m.v0;this.v1=O7m.v1;this.adjust();},serialize:function(){u0I.o6I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);Q6l.Drawing.speedline=function(){u0I.o6I();this.name="speedline";this.printLevels=! !1;};Q6l.inheritsFrom(Q6l.Drawing.speedline,Q6l.Drawing.speedarc);Q6l.extend(Q6l.Drawing.speedline.prototype,{intersected:function(N7m,L7m,B7m){var i7m,W7m,S7m,O7w,T7m;i7m=this.p0;W7m=this.p1;if(!i7m || !W7m){return null;}S7m={0:i7m,1:W7m};for(var X7m in S7m){if(this.pointIntersection(S7m[X7m][+"0"],S7m[X7m][1],B7m)){O7w="d";O7w+="r";O7w+="a";O7w+="g";u0I.N7a(0);this.highlighted=u0I.h8a(X7m,7626 !== (3900,8350)?"8765" - 0 !== 540.48?"p":(5900,6859) < 8660?(+"265",! ![]):(2.76e+3,!0):("r",2.37e+3));return {action:O7w,point:"p" + X7m};}}T7m=this.rays;for(var o7m=0;o7m < T7m.length;o7m++){if(this.lineIntersection(N7m,L7m,B7m,"ray",T7m[o7m][0],T7m[o7m][1],! !1)){this.highlighted=! ![];return {action:"move",p0:Q6l.clone(i7m),p1:Q6l.clone(W7m),tick:N7m,value:L7m};}}return null;},render:function(I7m){var y7w,c1m,A7m,n1m,r7m,F1m,Z1m,P1m,u1m,h1m,E1m,t1m,s1m,p1m,a1m,T7w,R1m,k1m,v1m,e1m,M1m,m1m,y1m,p7w,z1m,Q1m;y7w="1/";y7w+="3";c1m=this.stx.panels[this.panelName];if(!c1m){return;}if(!this.p1){return;}A7m=this.stx.pixelFromTick(this.p0["0" & 2147483647],c1m.chart);n1m=this.stx.pixelFromTick(this.p1[0],c1m.chart);r7m=this.stx.pixelFromValueAdjusted(c1m,this.p0[+"0"],this.p0["1" ^ 0]);F1m=this.stx.pixelFromValueAdjusted(c1m,this.p1[0],this.p1[1]);u0I.i6I();this.stx.canvasFont("stx_yaxis",I7m);Z1m=this.getLineColor();P1m=this.color;if(P1m == "auto" || Q6l.isTransparent(P1m)){P1m=this.stx.defaultColor;}I7m.strokeStyle=P1m;u1m=this.fillColor;if(u1m == "auto" || Q6l.isTransparent(u1m)){u1m=this.stx.defaultColor;}I7m.fillStyle=u1m;h1m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};s1m=[(34.95,152.13) === (1460,139.33)?(351.21,5.17e+3):"1","2/3",y7w,"3/2","3"];u0I.N7a(38);p1m=[1,u0I.H8a(1,2,"3"),u0I.H8a(1,3,u0I.N7a(8)),u0I.H8a(1647268096,2,"3",u0I.U7a(39)),3];a1m=[];this.rays=[];for(var V1m=0;V1m < p1m.length;V1m++){T7w="se";T7w+="g";T7w+="me";T7w+="nt";R1m=p1m[V1m];if(R1m > 1 && !this.extension)continue;k1m=this.stx.pixelFromValueAdjusted(c1m,this.p0[0],this.p0[+"1"] - (this.p0[1] - this.p1[1]) * R1m);if(R1m > 1){v1m=Q6l.xIntersection({x0:A7m,x1:n1m,y0:r7m,y1:k1m},F1m);a1m.push(v1m);}else {v1m=Q6l.xIntersection({x0:n1m,x1:n1m,y0:r7m,y1:F1m},k1m);a1m.push(k1m);}e1m=R1m > 1?v1m:n1m;M1m=R1m > 1?F1m:k1m;if(!this.confineToGrid){e1m=c1m.left;if(n1m > A7m){e1m+=c1m.width;}u0I.N7a(33);M1m=u0I.H8a(A7m,n1m,k1m,A7m,e1m,r7m,r7m);}if(this.printLevels){if(R1m != "1" - 0 || this.extension){I7m.fillStyle=P1m;m1m=+"0";y1m=0;if(r7m > F1m){y1m=-5;I7m.textBaseline="bottom";}else {y1m=5;I7m.textBaseline="top";}if(A7m > n1m){p7w="rig";p7w+="ht";m1m=5;I7m.textAlign=p7w;}else {m1m=-5;I7m.textAlign="left";}if(R1m > 1){I7m.fillText(s1m[V1m],v1m + (this.confineToGrid?0:m1m),F1m);}else {I7m.fillText(s1m[V1m],n1m,k1m + (this.confineToGrid?0:y1m));}I7m.fillStyle=u1m;}}this.stx.plotLine(A7m,e1m,r7m,M1m,this.highlighted?Z1m:P1m,T7w,I7m,c1m,h1m);if(R1m == 1){E1m=e1m;t1m=M1m;}this.rays.push([[A7m,r7m],[e1m,M1m]]);I7m.globalAlpha=0.1;I7m.beginPath();I7m.moveTo(e1m,M1m);I7m.lineTo(A7m,r7m);I7m.lineTo(E1m,t1m);I7m.fill();I7m.globalAlpha=1;}I7m.textAlign="left";I7m.textBaseline="middle";if(this.confineToGrid){I7m.globalAlpha=0.3;I7m.beginPath();u0I.U7a(5);I7m.strokeRect(A7m,r7m,u0I.H8a(n1m,A7m),u0I.h8a(F1m,r7m));I7m.moveTo(A7m,a1m[1]);I7m.lineTo(n1m,a1m[1]);I7m.moveTo(A7m,a1m[2]);I7m.lineTo(n1m,a1m[2]);if(this.extension){I7m.moveTo(a1m[3],r7m);I7m.lineTo(a1m[3],F1m);I7m.moveTo(a1m[4],r7m);I7m.lineTo(a1m["4" ^ 0],F1m);}I7m.stroke();I7m.globalAlpha=1;}if(this.highlighted){z1m=this.highlighted == "p0"?!"":!{};Q1m=this.highlighted == "p1"?! !{}:![];this.littleCircle(I7m,A7m,r7m,z1m);this.littleCircle(I7m,n1m,F1m,Q1m);}}},! ![]);Q6l.Drawing.gannfan=function(){var E7w;E7w="g";E7w+="an";E7w+="n";E7w+="fan";this.name=E7w;this.printLevels=! !1;};Q6l.inheritsFrom(Q6l.Drawing.gannfan,Q6l.Drawing.speedline);Q6l.extend(Q6l.Drawing.gannfan.prototype,{render:function(w1m){var o7w,Y1m,d1m,a1w,U1w,x1w,H1m,G1m,q1m,O1m,f1m,g1m,j1m,X1m,o1m,K1m,l1m,i1m,U1m,x1m,b1m,C1m,J1m,G7w,Z7w,l7w,W1m,S1m;o7w="a";o7w+="ut";o7w+="o";Y1m=this.stx.panels[this.panelName];if(!Y1m){return;}if(!this.p1){return;}d1m=this.stx.pixelFromTick(this.p0["0" << 1563949184],Y1m.chart);a1w=-1581276877;U1w=-136473474;x1w=+"2";for(var P1w=1;u0I.A0w(P1w.toString(),P1w.toString().length,+"33289") !== a1w;P1w++){H1m=this.stx.pixelFromTick(this.p1[6],Y1m.chart);G1m=this.stx.pixelFromValueAdjusted(Y1m,this.p0[3],this.p0[5]);x1w+=2;}if(u0I.t0w(x1w.toString(),x1w.toString().length,80556) !== U1w){H1m=this.stx.pixelFromTick(this.p1[8],Y1m.chart);G1m=this.stx.pixelFromValueAdjusted(Y1m,this.p0[1],this.p0[2]);}H1m=this.stx.pixelFromTick(this.p1[0],Y1m.chart);G1m=this.stx.pixelFromValueAdjusted(Y1m,this.p0[0],this.p0[1]);q1m=this.stx.pixelFromValueAdjusted(Y1m,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",w1m);O1m=this.getLineColor();f1m=this.color;if(f1m == "auto" || Q6l.isTransparent(f1m)){f1m=this.stx.defaultColor;}w1m.strokeStyle=f1m;g1m=this.fillColor;u0I.i6I();if(g1m == o7w || Q6l.isTransparent(g1m)){g1m=this.stx.defaultColor;}w1m.fillStyle=g1m;j1m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};u0I.U7a(40);K1m=[1,2,3,4,8,u0I.H8a(0,2,"1"),u0I.H8a(1,3,u0I.U7a(8)),u0I.h8a(1,"4",u0I.N7a(41)),u0I.H8a(1,8,u0I.U7a(8))];this.rays=[];for(var D1m=0;D1m < K1m.length;D1m++){l1m=K1m[D1m];u0I.U7a(42);i1m=u0I.h8a(H1m,d1m,d1m,l1m);u0I.U7a(43);U1m=u0I.H8a(q1m,G1m,l1m,G1m);x1m=Y1m.left;if(H1m > d1m){x1m+=Y1m.width;}u0I.U7a(33);b1m=u0I.H8a(d1m,H1m,U1m,d1m,x1m,G1m,G1m);if(this.printLevels){w1m.fillStyle=f1m;C1m=0;J1m=0;if(G1m > q1m){G7w="t";G7w+="o";G7w+="p";J1m=5;w1m.textBaseline=G7w;}else {J1m=-5;w1m.textBaseline="bottom";}if(d1m > H1m){C1m=5;w1m.textAlign="left";}else {C1m=-5;w1m.textAlign="right";}if(l1m > 1){u0I.N7a(0);w1m.fillText(u0I.H8a("x1",l1m),u0I.H8a(C1m,i1m),q1m);}else {Z7w="1";Z7w+="x";u0I.N7a(26);w1m.fillText(u0I.h8a(Z7w,l1m,1),H1m,u0I.H8a(J1m,U1m,u0I.N7a(0)));}w1m.fillStyle=g1m;}this.stx.plotLine(d1m,x1m,G1m,b1m,this.highlighted?O1m:f1m,"segment",w1m,Y1m,j1m);this.rays.push([[d1m,G1m],[x1m,b1m]]);if(l1m == 1){X1m=x1m;o1m=b1m;}u0I.N7a(22);w1m.globalAlpha=u0I.H8a("0.1",1);w1m.beginPath();w1m.moveTo(x1m,b1m);w1m.lineTo(d1m,G1m);w1m.lineTo(X1m,o1m);w1m.fill();w1m.globalAlpha=1;}w1m.textAlign="left";w1m.textBaseline="middle";if(this.highlighted){l7w="p";l7w+="1";W1m=this.highlighted == "p0"?! ![]:![];S1m=this.highlighted == l7w?!0:!1;this.littleCircle(w1m,d1m,G1m,W1m);this.littleCircle(w1m,H1m,q1m,S1m);}}},! ![]);Q6l.Drawing.timecycle=function(){var H7w;H7w="t";H7w+="i";H7w+="mec";u0I.o6I();H7w+="ycle";this.name=H7w;this.printLevels=! !"1";};Q6l.inheritsFrom(Q6l.Drawing.timecycle,Q6l.Drawing.speedarc);Q6l.extend(Q6l.Drawing.timecycle.prototype,{intersected:function(A1m,r1m,L1m){var T1m,B1m,n9m,I1m,a9m;T1m=this.p0;B1m=this.p1;n9m=this.stx.panels[this.panelName];if(!T1m || !B1m || !n9m){return null;}I1m={0:T1m,1:B1m};for(var N1m in I1m){if(this.pointIntersection(I1m[N1m][0],I1m[N1m][1],L1m)){u0I.N7a(0);this.highlighted=u0I.H8a(N1m,"p");return {action:"drag",point:(326 == (7149,505.54)?("758.44" * 1,7704) < 6680?11.61:130.11:"p") + N1m};}}a9m=this.lineIntersection(A1m,r1m,L1m,"segment");if(a9m || L1m.x0 <= this.p0[0] && L1m.x1 >= T1m["0" * 1]){this.highlighted=! !"1";return {action:"move",p0:Q6l.clone(T1m),p1:Q6l.clone(B1m),tick:A1m,value:r1m};}return null;},render:function(c9m){var W5w,B5w,F9m,e9m,M9m,s9m,p9m,m9m,Z9m,Q9m,h9m,R9m,E9m,u9m,V9m,v9m,t9m,P9m,y9m,w9m,d9m,G9m,z9m;W5w="a";W5w+="u";W5w+="t";W5w+="o";B5w="ce";B5w+="nter";F9m=this.stx.panels[this.panelName];if(!F9m){return;}if(!this.p1){return;}e9m=this.stx.pixelFromTick(this.p0[0],F9m.chart);M9m=this.stx.pixelFromTick(this.p1[0],F9m.chart);s9m=this.stx.pixelFromValueAdjusted(F9m,this.p0[0],this.p0[1]);p9m=this.stx.pixelFromValueAdjusted(F9m,this.p1["0" << 1335671584],this.p1[+"1"]);m9m=0;Z9m=this.getLineColor();c9m.textBaseline="middle";this.stx.canvasFont("stx_yaxis",c9m);Q9m=20;h9m=this.p1[0] - this.p0[0];c9m.textAlign=B5w;R9m=e9m;E9m=F9m.yAxis.top;u9m=F9m.yAxis.bottom;V9m=this.color;if(V9m == "auto" || Q6l.isTransparent(V9m)){V9m=this.stx.defaultColor;}v9m=this.fillColor;if(v9m == W5w || Q6l.isTransparent(v9m)){v9m=this.stx.defaultColor;}if(this.printLevels){u0I.U7a(5);u9m-=u0I.h8a(Q9m,7);}t9m={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};P9m=[];c9m.save();c9m.fillStyle=v9m;c9m.globalAlpha=0.05;do {R9m=this.stx.pixelFromTick(this.p0[0] + m9m * h9m,F9m.chart);m9m++;if(e9m < M9m && R9m > F9m.left + F9m.width)break;else if(e9m > M9m && R9m < F9m.left)break;else if(R9m < F9m.left || R9m > F9m.left + F9m.width)continue;c9m.beginPath();c9m.moveTo(e9m,E9m);c9m.lineTo(R9m,E9m);c9m.lineTo(R9m,u9m);c9m.lineTo(e9m,u9m);c9m.fill();P9m.push({c:m9m,x:R9m});}while(h9m);c9m.globalAlpha=1;y9m=0;for(var k9m=0;k9m < P9m.length;k9m++){this.stx.plotLine(P9m[k9m].x,P9m[k9m].x,0,u9m,this.highlighted?Z9m:V9m,"segment",c9m,F9m,t9m);if(this.printLevels){c9m.fillStyle=V9m;w9m=this.stx.chart.context.measureText(P9m[k9m].c).width + 3;if(w9m < this.stx.layout.candleWidth + y9m){c9m.fillText(P9m[k9m].c,P9m[k9m].x,u9m + 7);y9m=0;}else {y9m+=this.stx.layout.candleWidth;}}}c9m.restore();c9m.textAlign="left";u0I.o6I();this.stx.plotLine(e9m,M9m,s9m,p9m,Z9m,"segment",c9m,F9m,t9m);if(this.highlighted){d9m=this.highlighted == "p0"?! !"1":! !0;G9m=this.highlighted == "p1"?! ![]:![];this.littleCircle(c9m,e9m,s9m,d9m);this.littleCircle(c9m,M9m,p9m,G9m);}else {z9m=this.stx.valueFromPixel(F9m.height / 2,F9m);u0I.U7a(22);this.setPoint(u0I.h8a("0",1),this.p0[0],z9m,F9m.chart);this.setPoint(1,this.p1["0" << 423282624],z9m,F9m.chart);}}},! ![]);Q6l.Drawing.regression=function(){var J5w;J5w="reg";J5w+="re";J5w+="ssio";J5w+="n";this.name=J5w;};Q6l.inheritsFrom(Q6l.Drawing.regression,Q6l.Drawing.segment);Q6l.extend(Q6l.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1",z5w,"lineWidth1","pattern1",n5w,"color2","lineWidth2",a5w,"active3","color3","lineWidth3","pattern3"],copyConfig:function(H9m){var Y9m;Q6l.Drawing.copyConfig(this,H9m);Y9m=this.stx.currentVectorParameters;this.active1=! !Y9m.active1;this.active2=! !Y9m.active2;this.active3=! !Y9m.active3;this.color1=Y9m.color1 || "auto";this.color2=Y9m.color2 || "auto";this.color3=Y9m.color3 || "auto";this.lineWidth1=Y9m.lineWidth1;this.lineWidth2=Y9m.lineWidth2;this.lineWidth3=Y9m.lineWidth3;this.pattern1=Y9m.pattern1;this.pattern2=Y9m.pattern2;this.pattern3=Y9m.pattern3;},$controls:[U5w,'cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(J9m,x9m,g9m){var l9m,X3w,P3w,d3w,f9m,q9m,b9m;if(x9m < "0" * 1){return;}this.copyConfig();l9m=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,x9m,g9m,l9m.chart);this.penDown=!"";X3w=748432996;P3w=-722780798;d3w=2;for(var m3w=1;u0I.A0w(m3w.toString(),m3w.toString().length,17844) !== X3w;m3w++){f9m=this.stx;this.field=f9m.highlightedDataSetField;d3w+=2;}if(u0I.A0w(d3w.toString(),d3w.toString().length,97248) !== P3w){f9m=this.stx;this.field=f9m.highlightedDataSetField;}if(!this.field && l9m != f9m.chart.panel){for(var D9m in f9m.chart.seriesRenderers){q9m=f9m.chart.seriesRenderers[D9m];if(q9m.params.panel == l9m.name){this.field=q9m.seriesParams[0].field;break;}}for(var C9m in f9m.layout.studies){b9m=f9m.layout.studies[C9m];if(b9m.panel == l9m.name){this.field=Object.keys(b9m.outputMap)[0];break;}}}return !{};}if(this.accidentalClick(x9m,g9m)){return this.dragToDraw;}this.setPoint(1,x9m,g9m,l9m.chart);this.penDown=! !"";return !0;;},getYValue:function(i9m){var x5w,O9m,j9m,X9m,W9m,U9m,K9m,o9m;x5w="C";x5w+="los";x5w+="e";O9m=this.stx.chart.dataSet[i9m];j9m=this.stx.chart.dataSet[i9m];u0I.i6I();if(!O9m){return null;}X9m=this.stx.panels[this.panelName];W9m=this.stx.getYAxisByField(X9m,this.field) || X9m.yAxis;if(this.stx.charts[X9m.name] && X9m.chart.transformFunc && W9m == X9m.yAxis){j9m=O9m.transform;}if(!j9m){return null;}U9m=null;K9m=null;o9m=this.stx.defaultPlotField || x5w;if(this.field){K9m=Q6l.existsInObjectChain(j9m,this.field);if(!K9m){return null;}U9m=K9m=K9m.obj[K9m.member];if(O9m != j9m){U9m=Q6l.existsInObjectChain(O9m,this.field);U9m=U9m.obj[U9m.member];}if(typeof K9m == "object"){K9m=K9m[o9m];U9m=U9m[o9m];}}else {K9m=j9m[o9m];U9m=O9m[o9m];}return {transformed:K9m,untransformed:U9m};},render:function(r9m){var T9m,L9m,B9m,V2C,n2C,M2C,a2C,R2C,Z2C,h2C,E2C,t2C,e2C,v2C,S9m,I9m,z2C,Q2C,P2C,k2C,w2C,u2C,A4w,D4w,V4w,m2C,y2C,c2C,F2C,s2C,p2C,G2C,d2C,Y2C,A9m,c4w,s4w,F4w,H2C,f2C;T9m=this.stx.panels[this.panelName];if(!T9m){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" >> 682186560] < 0){return;}L9m=this.stx.pixelFromTick(this.p0[0],T9m.chart);B9m=this.stx.pixelFromTick(this.p1[0],T9m.chart);if(L9m < T9m.left && B9m < T9m.left){return;}if(L9m > T9m.right && B9m > T9m.right){return;}V2C=this.stx.getYAxisByField(T9m,this.field);n2C=[];M2C=[];a2C=0;R2C=0;Z2C=0;h2C=0;E2C=Math.min(this.p1[+"0"],this.p0[0]);t2C=Math.max(this.p1[0],this.p0[0]) + 1;u0I.N7a(5);e2C=u0I.H8a(t2C,E2C);for(var N9m=E2C;N9m < t2C;N9m++){v2C=this.getYValue(N9m);if(v2C){n2C.push(v2C.transformed);M2C.push(v2C.untransformed);}}S9m=n2C.length;u0I.U7a(44);I9m=u0I.H8a(1,2,S9m,S9m);z2C=Math.pow(I9m,2);u0I.N7a(45);Q2C=u0I.h8a(I9m,2,S9m,3,1);for(N9m="0" - 0;N9m < S9m;N9m++){Z2C+=S9m * n2C[N9m] - a2C;a2C+=n2C[N9m];h2C+=S9m * M2C[N9m] - R2C;R2C+=M2C[N9m];}u0I.U7a(46);P2C=u0I.H8a(Z2C,Q2C,I9m,a2C,S9m,S9m,z2C);u0I.N7a(47);k2C=u0I.h8a(I9m,P2C,S9m,a2C);u0I.U7a(46);w2C=u0I.h8a(h2C,Q2C,I9m,R2C,S9m,S9m,z2C);u0I.N7a(47);u2C=u0I.H8a(I9m,P2C,S9m,R2C);A4w=1194390550;D4w=-1222452175;V4w=2;for(var I4w=+"1";u0I.t0w(I4w.toString(),I4w.toString().length,92685) !== A4w;I4w++){V4w+=2;}if(u0I.A0w(V4w.toString(),V4w.toString().length,"74729" ^ 0) !== D4w){}if(this.p0[0] < this.p1[0]){m2C=k2C;u0I.N7a(48);y2C=u0I.h8a(e2C,P2C,k2C);this.p0[1]=u2C;u0I.N7a(48);this.p1[1]=u0I.H8a(e2C,w2C,u2C);}else {u0I.N7a(48);m2C=u0I.h8a(e2C,P2C,k2C);y2C=k2C;u0I.U7a(48);this.p0[1]=u0I.h8a(e2C,w2C,u2C);this.p1[+"1"]=u2C;}c2C=this.stx.pixelFromTransformedValue(m2C,T9m,V2C);F2C=this.stx.pixelFromTransformedValue(y2C,T9m,V2C);s2C=this.getLineColor();p2C={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(L9m,B9m,c2C,F2C,s2C,"segment",r9m,T9m,p2C);u0I.U7a(5);this.stx.plotLine(L9m,L9m,u0I.h8a(c2C,20),u0I.h8a("20",c2C,u0I.U7a(36)),s2C,"segment",r9m,T9m,p2C);u0I.U7a(5);this.stx.plotLine(B9m,B9m,u0I.h8a(F2C,20),u0I.h8a(20,F2C,u0I.N7a(0)),s2C,"segment",r9m,T9m,p2C);if(this.active1 || this.active2 || this.active3){u0I.U7a(8);G2C=u0I.h8a(a2C,S9m);d2C=0;for(N9m=0;N9m < S9m;N9m++){d2C+=Math.pow(n2C[N9m] - G2C,2);}u0I.U7a(8);Y2C=Math.sqrt(u0I.H8a(d2C,S9m));A9m={context:r9m,panel:T9m,points:{0:{x:L9m,v:m2C},1:{x:B9m,v:y2C}},stddev:Y2C,yAxis:V2C};c4w=-1971470096;s4w=-920132651;u0I.N7a(23);F4w=u0I.H8a(0,"2");for(var q4w=1;u0I.t0w(q4w.toString(),q4w.toString().length,72214) !== c4w;q4w++){this.lines={};F4w+=+"2";}if(u0I.A0w(F4w.toString(),F4w.toString().length,75383) !== s4w){this.lines={};}this.lines={};if(this.active1){this.renderStddev(7630 !== (270,7270)?"1":(!{},"g"),(9500,175.68) !== (2495,432.6)?1940 <= (7817,"2170" - 0)?"p":6589 > (6005,809.1)?0x276:"N":("1.90e+3" >> 823898528,0x2648),A9m);this.renderStddev((9090,7470) != 2823?(6240,+"9430") <= (1320,4326)?"880" ^ 0:"1":225.77,528.89 <= ("39.21" - 0,465.47)?(4400,9200) === (387.65,4740)?(8.73e+3,! ![]):! !{}:"n",A9m);}if(this.active2){this.renderStddev(6525 > (7628,5420)?436.32 != (5792,6900)?5401 == 255.94?(9.81e+3,0x19c1):"2":(318.23,5.65e+3):!"",(3995,358) != ("3920" - 0,8090)?"p":(0x1a71,9.56e+3),A9m);this.renderStddev("2",548.66 >= 678?"E":73.22 == (4510,1010)?("s",744.81):+"6600" >= 7200?689.91:"n",A9m);}if(this.active3){this.renderStddev("3",8654 == 7645?2250 !== (554.91,"8840" & 2147483647)?7.50e+2:!1:"p",A9m);this.renderStddev((+"5920",825.57) === 6183?(4.81e+2,7.37e+2):(+"5230",469) < (9763,3954)?(1060,+"5670") > 8690?! !0:"3":("X",0x197d),"377.96" - 0 <= (176.78,8614)?"n":(5.45e+2,0x1d3d),A9m);}}if(!this.highlighted){this.pixelX=[L9m,B9m];this.pixelY=[c2C,F2C];}else {H2C=this.highlighted == "p0"?! !"1":!1;f2C=this.highlighted == "p1"?!"":!{};this.littleCircle(r9m,L9m,c2C,H2C);this.littleCircle(r9m,B9m,F2C,f2C);}},renderStddev:function(C2C,S2C,J2C){var X5w,X2C,T2C,N2C,L2C,K2C,o2C,i2C,O2C,j2C,q2C,x2C,U2C,l2C,g2C,b2C,D2C,B2C,I2C,W2C,A2C;X5w="co";X5w+="lor";u0I.U7a(49);X2C=u0I.h8a(C2C,"stddev",S2C);u0I.U7a(0);T2C=u0I.h8a(C2C,X5w);u0I.U7a(0);N2C=u0I.H8a(C2C,"pattern");u0I.N7a(0);L2C=u0I.h8a(C2C,"lineWidth");K2C=J2C.points;o2C=K2C[0].v;i2C=K2C[1].v;O2C=J2C.stddev;j2C=S2C === "n"?C2C * -1:C2C * 1;q2C=this.stx;x2C=J2C.panel;U2C=J2C.yAxis;l2C={name:X2C,color:this.getLineColor(this[T2C]),type:"segment",y0:q2C.pixelFromTransformedValue(o2C + O2C * j2C,x2C,U2C),y1:q2C.pixelFromTransformedValue(i2C + O2C * j2C,x2C,U2C),params:{pattern:this[N2C],lineWidth:this[L2C]}};if(this.lines){this.lines[X2C]=l2C;}g2C=J2C.context;b2C=K2C[0].x;D2C=K2C[1].x;q2C.plotLine(b2C,D2C,l2C.y0,l2C.y1,l2C.color,l2C.type,g2C,x2C,l2C.params);q2C.plotLine(b2C,b2C,l2C.y0 - ("10" | 8),l2C.y0 + +"10",l2C.color,l2C.type,g2C,x2C,l2C.params);q2C.plotLine(D2C,D2C,l2C.y1 - 10,l2C.y1 + 10,l2C.color,l2C.type,g2C,x2C,l2C.params);u0I.N7a(0);B2C=u0I.H8a("\u03c3",C2C);I2C=Math.max(b2C,D2C) + ("5" << 232181504);W2C=b2C < D2C?l2C.y1:l2C.y0;g2C.fillStyle=l2C.color;g2C.save();g2C.textBaseline="middle";g2C.fillText(B2C,I2C,W2C);g2C.restore();if(J2C.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(b2C >= x2C.chart.left && b2C <= x2C.chart.right || D2C >= x2C.chart.left && D2C <= x2C.chart.right){u0I.U7a(50);A2C=u0I.h8a(O2C,j2C,b2C < D2C?i2C:o2C);q2C.endClip();q2C.createYAxisLabel(x2C,J2C.formatPrice(A2C,U2C),W2C,l2C.color,null,g2C,U2C);q2C.startClip(x2C.name);}}},intersected:function(a5C,c5C,k5C){var G3w,Z3w,l3w,F5C,R5C,e5C,u5C,V5C,P5C,n5C;G3w=+"1566958255";Z3w=- +"546524851";l3w=2;for(var B4w=1;u0I.t0w(B4w.toString(),B4w.toString().length,27563) !== G3w;B4w++){if(-this.pixelX && -this.pixelY){return 1;}F5C=this.repositionIntersection(a5C,c5C);if(F5C){return F5C;}R5C={0:this.pixelX,1:this.pixelY};l3w+=2;}if(u0I.A0w(l3w.toString(),l3w.toString().length,4582) !== Z3w){if(!this.pixelX || !this.pixelY){return null;}F5C=this.repositionIntersection(a5C,c5C);if(F5C){return F5C;}R5C={0:this.pixelX,1:this.pixelY};}for(var r2C=0;r2C < 2;r2C++){if(this.pointIntersection(R5C[0][r2C],R5C[1][r2C],k5C,! !"1")){u0I.U7a(0);this.highlighted=u0I.h8a(r2C,(8370,1273) <= 1420?"p":595 === (202.35,977.31)?! ![]:(543.04,736.14) === 1870?6.14e+3:0x1ce1);return {action:"drag",point:(2608 == (51.47,5360)?0x1ee8:(713.29,1216) < 6011?"p":(! ![],"J")) + r2C};}}e5C=this;u5C=this.pixelX[0];V5C=this.pixelX[1];P5C=function(v5C){var m5C,y5C;m5C=[u5C,v5C.y0];y5C=[V5C,v5C.y1];return e5C.lineIntersection(a5C,c5C,k5C,e5C.name,m5C,y5C,! !{});};n5C=P5C({y0:this.pixelY["0" | 0],y1:this.pixelY["1" << 703604384]});if(!n5C && this.lines){for(var M5C in this.lines){if(P5C(this.lines[M5C])){n5C=! !1;break;}}}if(n5C){this.highlighted=! !1;return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:a5C,value:c5C};}u0I.o6I();return null;},repositionIntersection:function(s5C,p5C){var P5w;if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! ![]){P5w="mov";P5w+="e";return {action:P5w,p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:s5C,value:p5C};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(G5C,Y5C,Q5C,w5C,h5C,E5C,d5C){var z5C,Z5C,t5C;if(!d5C){u0I.U7a(0);console.log(u0I.h8a(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",w5C));return !{};}if(!h5C){h5C=this.p0;}u0I.o6I();if(!E5C){E5C=this.p1;}if(!(h5C && E5C)){return ! !"";}z5C=this.stx;Z5C=Q6l.convertBoxToPixels(z5C,this.panelName,Q5C);if(Z5C.x0 === undefined){return ![];}t5C={x0:h5C[0],x1:E5C[0],y0:h5C[1],y1:E5C[1]};return Q6l.boxIntersects(Z5C.x0,Z5C.y0,Z5C.x1,Z5C.y1,t5C.x0,t5C.y0,t5C.x1,t5C.y1);},boxIntersection:function(f5C,l5C,H5C){if(H5C.cx0 > Math.max(this.pixelX["0" | 0],this.pixelX[1]) || H5C.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (H5C.cy1 < this.pixelY[0] || H5C.cy0 > this.pixelY[1])){return !"1";}u0I.i6I();return ! !1;},reconstruct:function(g5C,x5C){this.stx=g5C;this.color=x5C.col;this.color1=x5C.col1;this.color2=x5C.col2;this.color3=x5C.col3;this.active1=x5C.dev1;this.active2=x5C.dev2;this.active3=x5C.dev3;this.panelName=x5C.pnl;u0I.o6I();this.pattern=x5C.ptrn;this.pattern1=x5C.ptrn1;this.pattern2=x5C.ptrn2;this.pattern3=x5C.ptrn3;this.lineWidth=x5C.lw;this.lineWidth1=x5C.lw1;this.lineWidth2=x5C.lw2;this.lineWidth3=x5C.lw3;this.d0=x5C.d0;this.d1=x5C.d1;this.tzo0=x5C.tzo0;this.tzo1=x5C.tzo1;this.field=x5C.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);Q6l.Drawing.trendline=function(){u0I.i6I();this.name="trendline";};Q6l.inheritsFrom(Q6l.Drawing.trendline,Q6l.Drawing.segment);Q6l.Drawing.trendline.prototype.configs=[d5w,"fillColor",k5w,"pattern","font"];Q6l.Drawing.trendline.prototype.measure=function(){;};Q6l.Drawing.trendline.prototype.reconstruct=function(q5C,b5C){Q6l.Drawing.segment.prototype.reconstruct.call(this,q5C,b5C);this.callout=new Q6l.Drawing.callout();this.callout.reconstruct(q5C,b5C.callout);};Q6l.Drawing.trendline.prototype.serialize=function(){var D5C;D5C=Q6l.Drawing.segment.prototype.serialize.call(this);D5C.callout=this.callout.serialize();return D5C;};Q6l.Drawing.trendline.prototype.render=function(X5C){var C5C,L5C,U5C,O5C,J5C,K5C,o5C,j5C,i5C,B5C,W5C,I5C,A5C,S5C,T5C,N5C,r5C,n3C,a3C,c3C;C5C=this.stx.panels[this.panelName];if(!C5C){return;}Q6l.Drawing.segment.prototype.render.call(this,X5C);if(!this.callout){this.callout=new Q6l.Drawing.callout();L5C=Q6l.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,L5C);}this.callout.p0=Q6l.clone(this.p0);U5C=this.stx.pixelFromTick(this.p0[0],C5C.chart);O5C=this.stx.pixelFromTick(this.p1["0" & 2147483647],C5C.chart);J5C=this.stx.pixelFromValueAdjusted(C5C,this.p0[0],this.p0[1]);K5C=this.stx.pixelFromValueAdjusted(C5C,this.p1[0],this.p1[1]);if(!isFinite(J5C) || !isFinite(K5C)){return;}u0I.N7a(1);o5C=u0I.H8a(U5C,O5C,2);u0I.U7a(1);j5C=u0I.H8a(J5C,K5C,2);this.fontSize=Q6l.stripPX(this.font && this.font.size || 13);i5C=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?+"0":+"50");B5C=Math.sqrt(Math.pow(O5C - U5C,2) + Math.pow(K5C - J5C,2));W5C=i5C / (B5C || i5C) * (this.p1[1] < this.p0[1]?1:-1);u0I.U7a(51);I5C=u0I.h8a(o5C,W5C,K5C,j5C);u0I.U7a(52);A5C=u0I.H8a(W5C,O5C,j5C,o5C);this.callout.p0[0]=this.stx.tickFromPixel(I5C,C5C.chart);this.callout.p0[+"1"]=this.stx.priceFromPixel(A5C,C5C);this.callout.v0=this.callout.p0[1];this.callout.p1=Q6l.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !1;S5C=this.p1[+"1"] - this.p0[1];this.callout.text="" + Number(S5C).toFixed(2) + (this.p0[1] === 0?"":" (" + Number(+"100" * S5C / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";T5C=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0["0" >> 2062517696] - this.p1["0" | 0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){r5C=this.stx.pixelFromTick(T5C,C5C.chart);u0I.N7a(53);n3C=u0I.h8a(r5C,U5C,J5C,K5C,U5C,J5C,O5C);N5C=this.stx.priceFromPixel(n3C,C5C) || j5C;}else {N5C=this.stx.priceFromPixel(j5C,C5C);}this.callout.stem={t:T5C,v:N5C};this.callout.renderText();this.callout.render(X5C);if(this.highlighted){a3C=this.highlighted == "p0"?! !1:![];c3C=this.highlighted == "p1"?! ![]:!{};this.littleCircle(X5C,U5C,J5C,a3C);this.littleCircle(X5C,O5C,K5C,c3C);}};Q6l.Drawing.trendline.prototype.lineIntersection=function(F3C,R3C,e3C,P3C){return Q6l.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,F3C,R3C,e3C,"segment");};Q6l.Drawing.trendline.prototype.intersected=function(u3C,V3C,v3C){var M3C,k3C;if(!this.p0 || !this.p1){return null;}M3C=this.callout.intersected(u3C,V3C,v3C);k3C=Q6l.Drawing.segment.prototype.intersected.call(this,u3C,V3C,v3C);this.callout.highlighted=! !(M3C || k3C);if(k3C){return k3C;}else if(M3C){return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:u3C,value:V3C};}return null;};Q6l.Drawing.average=function(){u0I.o6I();this.name="average";};Q6l.inheritsFrom(Q6l.Drawing.average,Q6l.Drawing.regression);Q6l.extend(Q6l.Drawing.average.prototype,{configs:Q6l.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var A5w,m3C,s3C,V3w,S3w,I3w,m5w,t5w,j5w,f5w,Z3C,h3C,p3C,D5w,y3C;if(this.p0 && this.p1){A5w=".mSt";A5w+="i";A5w+="ckyInterior";this.stx.setMeasure(0,!{},this.p0[0],this.p1["0" * 1],!"",this.name);m3C=[];s3C="";V3w=2054209226;S3w=676778879;I3w=2;for(var w3w=1;u0I.A0w(w3w.toString(),w3w.toString().length,22824) !== V3w;w3w++){m5w="&e";m5w+="ns";m5w+="p";m5w+=";";if(this.active1){m3C.push((5959,2170) >= (841549,+"268543")?(773023,9507) >= 9871?+"290778":(!"",!{}):"2");}if(this.active2){m3C.push((382537,767632) == (659475,+"5416")?+"7558" > ("507880" * 1,9169)?(! !{},! ![]):+"754" !== 372?!{}:"3":("8131500" ^ 0,"3"));}if(this.active3){m3C.push(m5w);}if(m3C.length){s3C="2" - m3C.join("2") - "2";}I3w+=2;}if(u0I.A0w(I3w.toString(),I3w.toString().length,52212) !== S3w){t5w=" &s";t5w+="igm";t5w+="a";t5w+=";";j5w=",";j5w+=" ";f5w="&e";f5w+="nsp";f5w+=";";if(this.active1){m3C.push((9522,5995) <= (131.86,955.66)?(970.61,1304) < 5146?+"917.37":(!"1",!0):"1");}if(this.active2){m3C.push((938.84,+"639.44") != (738.49,2440)?+"3160" >= ("245.37" * 1,7840)?(![],!{}):"928" >> 152113056 === 150?! ![]:"2":(4.22e+3,"j"));}if(this.active3){m3C.push("3");}if(m3C.length){s3C=f5w + m3C.join(j5w) + t5w;}}Z3C=(this.stx.drawingContainer || document).querySelector(".mMeasure");h3C=this.stx.controls.mSticky;p3C=h3C && h3C.querySelector(A5w);if(Z3C){Z3C.innerHTML+=s3C;}if(p3C){D5w="<";D5w+="b";D5w+="r";D5w+=">";y3C=[];y3C.push(Q6l.capitalize(this.name));y3C.push(this.field || this.stx.defaultPlotField || "Close");y3C.push(p3C.innerHTML + s3C);p3C.innerHTML=y3C.join(D5w);}}},render:function(G3C){u0I.i6I();var E3C,z3C,Q3C,l3C,w3C,D3C,C3C,o3C,J3C,q3C,d3C,H3C,x3C,f3C,t3C,g3C,b3C,K3C,O3C,Y3C,j3C,X3C;E3C=this.stx.panels[this.panelName];if(!E3C){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}z3C=this.stx.pixelFromTick(this.p0[0],E3C.chart);Q3C=this.stx.pixelFromTick(this.p1["0" * 1],E3C.chart);if(z3C < E3C.left && Q3C < E3C.left){return;}if(z3C > E3C.right && Q3C > E3C.right){return;}l3C=this.stx.getYAxisByField(E3C,this.field);w3C=this.stx;D3C=Math.min(this.p1[0],this.p0["0" & 2147483647]);function U3C(i3C,W3C){u0I.o6I();if(W3C && W3C.priceFormatter){i3C=W3C.priceFormatter(w3C,E3C,i3C);}else {i3C=w3C.formatYAxisPrice(i3C,E3C,null,W3C);}return i3C;}C3C=Math.max(this.p1[+"0"],this.p0[0]) + 1;u0I.U7a(5);o3C=u0I.H8a(C3C,D3C);J3C=+"0";q3C=[];for(d3C=D3C;d3C < C3C;d3C++){H3C=this.getYValue(d3C);if(H3C !== null){J3C+=H3C.transformed;q3C.push(H3C);}}x3C=q3C.length;if(!x3C){return;}u0I.U7a(8);f3C=u0I.h8a(J3C,x3C);t3C=w3C.pixelFromTransformedValue(f3C,E3C,l3C);g3C=this.getLineColor();b3C={pattern:this.pattern,lineWidth:this.lineWidth};w3C.plotLine(z3C,Q3C,t3C,t3C,g3C,"segment",G3C,E3C,b3C);u0I.N7a(5);w3C.plotLine(z3C,z3C,u0I.h8a(t3C,20),u0I.h8a(20,t3C,u0I.U7a(0)),g3C,"segment",G3C,E3C,b3C);u0I.N7a(5);w3C.plotLine(Q3C,Q3C,u0I.h8a(t3C,20),u0I.H8a(t3C,"20",0,u0I.N7a(54)),g3C,"segment",G3C,E3C,b3C);if(this.axisLabel && !this.highlighted && !this.penDown){if(z3C >= E3C.chart.left && z3C <= E3C.chart.right || Q3C >= E3C.chart.left && Q3C <= E3C.chart.right){w3C.endClip();w3C.createYAxisLabel(E3C,U3C(f3C,l3C),t3C,g3C,null,G3C,l3C);w3C.startClip(E3C.name);}}if(this.active1 || this.active2 || this.active3){K3C=0;for(d3C=0;d3C < x3C;d3C++){H3C=q3C[d3C];K3C+=Math.pow(H3C.transformed - f3C,+"2");}u0I.N7a(8);O3C=Math.sqrt(u0I.h8a(K3C,x3C));Y3C={context:G3C,formatPrice:U3C,panel:E3C,points:{0:{x:z3C,v:f3C},1:{x:Q3C,v:f3C}},stddev:O3C,yAxis:l3C};this.lines={};if(this.active1){this.renderStddev("1",605.59 !== 665.36?5437 >= (4530,709.37)?"p":+"1371" >= (+"2357",684.96)?(742,! !"1"):("n",526):(1.84e+3,!""),Y3C);this.renderStddev("1",(1110,6591) >= (6030,7800)?! ![]:(674.95,904.53) === +"297.94"?"936.25" - 0:"n",Y3C);}if(this.active2){this.renderStddev("2",6347 < (5960,"934.03" - 0)?4118 <= 2534?("v",+"904.38"):(!{},"8.64e+3" >> 1325272832):"p",Y3C);this.renderStddev("2",(260.98,"1210" & 2147483647) != 470.67?"n":0x52d,Y3C);}if(this.active3){this.renderStddev("3",(7160,982.06) === (9259,820.17)?(0x8e2,"V"):(8150,575) > (2639,5563)?"D":"p",Y3C);this.renderStddev((+"514.98",+"1630") == 2960?+"0x21dd":+"8262" <= (301.34,+"9003")?"3":(285.65,+"0x729"),"n",Y3C);}}if(!this.highlighted){this.pixelX=[z3C,Q3C];this.pixelY=[t3C,t3C];}else {j3C=this.highlighted == "p0"?! !{}:! !0;X3C=this.highlighted == "p1"?! ![]:!{};this.littleCircle(G3C,z3C,t3C,j3C);this.littleCircle(G3C,Q3C,t3C,X3C);}},reconstruct:function(T3C,S3C){var y3w,p3w,T3w;u0I.U7a(23);y3w=-u0I.h8a(0,"2108258568");p3w=2075906099;T3w=2;for(var o3w=+"1";u0I.t0w(o3w.toString(),o3w.toString().length,22798) !== y3w;o3w++){this.axisLabel=S3C.al;Q6l.Drawing.regression.prototype.reconstruct.call(this,T3C,S3C);T3w+=+"2";}if(u0I.A0w(T3w.toString(),T3w.toString().length,"52431" & 2147483647) !== p3w){this.axisLabel=S3C.al;Q6l.Drawing.regression.prototype.reconstruct.call(this,T3C,S3C);}},serialize:function(){var N3C;u0I.i6I();N3C=Q6l.Drawing.regression.prototype.serialize.call(this);N3C.al=this.axisLabel;return N3C;}},!0);Q6l.Drawing.quadrant=function(){u0I.o6I();this.name="quadrant";};Q6l.inheritsFrom(Q6l.Drawing.quadrant,Q6l.Drawing.regression);Q6l.extend(Q6l.Drawing.quadrant.prototype,{configs:[V5w,"fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(A3C){var M5w,S5w,B3C,L3C,I3C,r3C,R4C,n4C,a4C,k4C,e4C,V4C,M4C,u4C,y4C,s4C,P4C,c4C,v4C,F4C,I5w,w5w,p4C,Z4C,O0w,y0w,p0w;M5w="segmen";M5w+="t";S5w="tir";S5w+="o";S5w+="ne";B3C=this.stx;L3C=B3C.panels[this.panelName];if(!L3C){return;}if(!this.p1){return;}I3C=B3C.pixelFromTick(this.p0[0],L3C.chart);r3C=B3C.pixelFromTick(this.p1[0],L3C.chart);if(I3C < L3C.left && r3C < L3C.left){return;}if(I3C > L3C.right && r3C > L3C.right){return;}R4C=this.stx.getYAxisByField(L3C,this.field);n4C=null;a4C=null;for(var m4C=Math.min(this.p1[0],this.p0[0]);m4C <= Math.max(this.p1[0],this.p0[0]);m4C++){k4C=this.getYValue(m4C);if(k4C !== null){if(n4C === null || k4C.transformed > n4C){n4C=k4C.transformed;}if(a4C === null || k4C.transformed < a4C){a4C=k4C.transformed;}}}e4C=B3C.pixelFromTransformedValue(n4C,L3C,R4C);u0I.N7a(55);V4C=B3C.pixelFromTransformedValue(u0I.H8a(365530528,a4C,"4",n4C,3),L3C,R4C);u0I.U7a(56);M4C=B3C.pixelFromTransformedValue(u0I.h8a(a4C,2,"3",n4C),L3C,R4C);u0I.U7a(1);u4C=B3C.pixelFromTransformedValue(u0I.H8a(n4C,a4C,2),L3C,R4C);u0I.U7a(57);y4C=B3C.pixelFromTransformedValue(u0I.h8a(2,a4C,n4C,3),L3C,R4C);u0I.U7a(58);s4C=B3C.pixelFromTransformedValue(u0I.H8a(a4C,4,"3",n4C),L3C,R4C);P4C=B3C.pixelFromTransformedValue(a4C,L3C,R4C);u0I.N7a(5);this.p0[u0I.H8a("1",0)]=0;this.p1[1]=!"1";c4C=this.getLineColor();v4C=this.fillColor;if(v4C == "auto" || Q6l.isTransparent(v4C)){v4C=B3C.defaultColor;}A3C.fillStyle=v4C;F4C={pattern:this.pattern,lineWidth:this.lineWidth};B3C.plotLine(I3C,r3C,e4C,e4C,c4C,"segment",A3C,L3C,F4C);B3C.plotLine(I3C,r3C,P4C,P4C,c4C,"segment",A3C,L3C,F4C);if(this.name == "quadrant"){B3C.plotLine(I3C,r3C,V4C,V4C,c4C,"segment",A3C,L3C,F4C);B3C.plotLine(I3C,r3C,s4C,s4C,c4C,"segment",A3C,L3C,F4C);}else if(this.name == S5w){I5w="segme";I5w+="n";I5w+="t";B3C.plotLine(I3C,r3C,M4C,M4C,c4C,I5w,A3C,L3C,F4C);B3C.plotLine(I3C,r3C,y4C,y4C,c4C,"segment",A3C,L3C,F4C);}B3C.plotLine(I3C,I3C,e4C,P4C,c4C,M5w,A3C,L3C,F4C);B3C.plotLine(r3C,r3C,e4C,P4C,c4C,"segment",A3C,L3C,F4C);B3C.plotLine(I3C,r3C,u4C,u4C,c4C,"segment",A3C,L3C,Q6l.extend(F4C,{opacity:this.name == "tirone"?0.2:1}));A3C.globalAlpha=0.1;A3C.beginPath();u0I.N7a(5);A3C.fillRect(I3C,e4C,u0I.h8a(r3C,I3C),u0I.H8a(P4C,e4C));if(this.name == "quadrant"){u0I.N7a(5);A3C.fillRect(I3C,V4C,u0I.H8a(r3C,I3C),u0I.h8a(s4C,V4C));}else if(this.name == "tirone"){u0I.N7a(5);A3C.fillRect(I3C,M4C,u0I.H8a(r3C,I3C),u0I.H8a(y4C,M4C));}A3C.globalAlpha=1;if(!this.highlighted){this.pixelX=[I3C,r3C];this.pixelY=[e4C,P4C];if(L3C.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(u4C);}else {w5w="p";w5w+="0";p4C=this.highlighted == w5w?! !{}:!{};Z4C=this.highlighted == "p1"?! ![]:! !0;O0w=-1418359765;y0w=-1629453822;p0w=2;for(var E0w=1;u0I.A0w(E0w.toString(),E0w.toString().length,80769) !== O0w;E0w++){this.littleCircle(A3C,I3C,u4C,p4C);this.littleCircle(A3C,r3C,u4C,Z4C);p0w+=2;}if(u0I.A0w(p0w.toString(),p0w.toString().length,"77437" & 2147483647) !== y0w){this.littleCircle(A3C,I3C,u4C,p4C);this.littleCircle(A3C,r3C,u4C,Z4C);}}},intersected:function(t4C,z4C,Q4C){var E4C,u5w;if(!this.pixelX || !this.pixelY){return null;}E4C=this.repositionIntersection(t4C,z4C);if(E4C){return E4C;}for(var h4C="0" | 0;h4C < 2;h4C++){if(this.pointIntersection(this.pixelX[h4C],this.pixelY[2],Q4C,!0)){u5w="dra";u5w+="g";u0I.U7a(0);this.highlighted=u0I.H8a(h4C,181.92 !== 603.49?"9154" * 1 < (2079,18.56)?(+"374",3.66) != (4000,6666)?145.12:"590.79" * 1:"p":9.77e+3);return {action:u5w,point:"p" + h4C};}}if(this.boxIntersection(null,null,Q4C)){this.highlighted=! ![];return {action:"move",p0:Q6l.clone(this.p0),p1:Q6l.clone(this.p1),tick:t4C,value:z4C};}return null;},reconstruct:function(d4C,w4C){this.stx=d4C;this.color=w4C.col;this.fillColor=w4C.fc;this.panelName=w4C.pnl;this.pattern=w4C.ptrn;this.lineWidth=w4C.lw;this.d0=w4C.d0;this.d1=w4C.d1;this.tzo0=w4C.tzo0;this.tzo1=w4C.tzo1;this.field=w4C.fld;this.adjust();},serialize:function(){u0I.i6I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!"");Q6l.Drawing.tirone=function(){this.name="tirone";};Q6l.inheritsFrom(Q6l.Drawing.tirone,Q6l.Drawing.quadrant);Q6l.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=![];this.annotationPoints=[];u0I.i6I();this.edit=null;};Q6l.inheritsFrom(Q6l.Drawing.elliottwave,Q6l.Drawing.annotation);Q6l.Drawing.elliottwave.defaultTemplate={impulse:[(72.9,5550) != (1352,2038)?6750 != 6893?"I":(!"","G"):! !{},"II",e5w,"IV",131.06 < (1980,147.83)?"V":9.87e+3],corrective:[568.82 < 2220?"A":"u",(612,2499) <= (7020,733.78)?553.99:4040 > 9578?(!"1",265.26):(126.66,8888) !== (7950,9787)?"B":"c",(6272,8320) < 554.99?5881 !== (6070,5250)?798.47 >= 43.25?("s",1.66e+3):("z",2.09e+3):+"1.55e+3":"C"],decoration:"enclosed",showLines:!""};Q6l.Drawing.elliottwave.prototype.initializeSettings=function(G4C){G4C.currentVectorParameters.waveParameters=Q6l.clone(Q6l.Drawing.elliottwave.defaultTemplate);};Q6l.Drawing.elliottwave.prototype.configs=[C5w,"lineWidth","lineColor","pattern","font","waveParameters"];Q6l.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];Q6l.Drawing.elliottwave.prototype.construct=function(Y4C,f4C){var H4C;this.stx=Y4C;this.panelName=f4C.name;H4C=Y4C.currentVectorParameters;Object.assign(this,H4C.waveParameters);};Q6l.Drawing.elliottwave.prototype.serialize=function(){u0I.o6I();var x4C,v5w;x4C={};for(var l4C=0;l4C < this.points.length;l4C++){v5w="t";v5w+="z";v5w+="o";u0I.N7a(0);x4C[u0I.h8a(l4C,+"5053" === (2070,5800)?(! ![],"m"):"d")]=this[u0I.H8a(l4C,(9350,4849) === (2281,1080)?(!0,!{}):"d")];u0I.N7a(0);x4C[u0I.h8a(l4C,"tzo")]=this[u0I.H8a(l4C,v5w)];u0I.U7a(0);x4C[u0I.H8a(l4C,(525.47,7160) !== 8685?"v":("u",7.93e+3))]=this[u0I.h8a(l4C,(439.06,242) === 7662?(! !"1",5.66e+3):"v")];}x4C.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:Q6l.removeNullValues(Q6l.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},x4C);};Q6l.Drawing.elliottwave.prototype.reconstruct=function(q4C,g4C){var L5w,i5w,h5w,b5w;u0I.i6I();L5w="e";L5w+="nclo";L5w+="sed";i5w="w";i5w+="eight";h5w="siz";h5w+="e";b5w="sty";b5w+="le";this.stx=q4C;this.color=g4C.col;this.panelName=g4C.pnl;this.pattern=g4C.ptrn;this.lineWidth=g4C.lw;this.font=Q6l.replaceFields(g4C.fnt,{st:b5w,sz:h5w,wt:i5w,fl:"family"});this.decoration=g4C.decor;this.showLines=g4C.show;this.dx=g4C.dx;this.dy=g4C.dy;this.trend=g4C.trend;this.annotationPoints=g4C.annotations.split(+"1070" !== 179?",":(789.41,881.51));if(g4C.decor === L5w){this.calculateRadius(q4C.chart.tempCanvas.context);}this.maxSegments=g4C.mxSeg;this.reconstructPoints(g4C);this.adjust();};Q6l.Drawing.elliottwave.prototype.reconstructPoints=function(D4C){var C4C,J4C,K4C;C4C=this.stx.panels[this.panelName];if(!C4C){return;}u0I.o6I();for(var b4C=0;b4C < this.annotationPoints.length;b4C++){u0I.U7a(0);this[u0I.h8a(b4C,"d")]=D4C[u0I.h8a(b4C,1200 === (11.98,2016)?(![],0x4ae):"d")];u0I.U7a(0);this[u0I.h8a(b4C,(1057,397.31) < 7460?"v":333.24)]=D4C[u0I.H8a(b4C,880.87 > (874.52,9690)?2.00e+3:9770 <= (3,9262)?(0x132a,"u"):("8927" & 2147483647,986.62) === 675.44?2.30e+3:"v")];u0I.U7a(0);this[u0I.h8a(b4C,"tzo")]=D4C[u0I.h8a(b4C,"tzo")];J4C=Q6l.strToDateTime(D4C[((7154,219.16) < (+"4600",655.96)?"d":("876.47" * 1,530.53) == ("309.16" - 0,"5230" * 1)?(!"1",4.79e+3):6644 <= (2750,736)?+"0x12b1":0x620) + b4C]);K4C=this.stx.tickFromDate(J4C,C4C.chart);this.points.push([K4C,D4C[(9850 != (531.42,6660)?"v":454.08) + b4C]]);}};Q6l.Drawing.elliottwave.prototype.calculateRadius=function(X4C){var U4C,j4C;this.getFontString();X4C.font=this.fontString;U4C=0;for(var O4C=0;O4C < this.annotationPoints.length;O4C++){j4C=X4C.measureText(this.annotationPoints[O4C]).width;if(U4C < j4C){U4C=j4C;}}this.enclosedRadius=U4C;};Q6l.Drawing.elliottwave.prototype.check=function(S4C,N4C,o4C){var i4C,W4C;if(o4C === 1 && this.points.length === ("2" | 0)){return ! ![];}u0I.o6I();u0I.U7a(59);i4C=this.points[u0I.h8a("1",o4C)];if(i4C && S4C <= i4C["0" ^ 0]){return !{};}u0I.U7a(0);W4C=this.points[u0I.H8a(1,o4C)];if(W4C && S4C >= W4C[0]){return !{};}if(!T4C(this.points)){return !"1";}function T4C(B4C){for(var L4C=+"2";L4C < B4C.length;L4C++){if(Math.sign(B4C[L4C][1] - B4C[L4C - 1][1]) == Math.sign(B4C[L4C - 1]["1" * 1] - B4C[L4C - 2][1])){return ! !"";}}u0I.o6I();return !"";}return ! !"1";};Q6l.Drawing.elliottwave.prototype.move=function(I4C,A4C,r4C){this.copyConfig();this.points[this.lastPoint + 1]=[A4C,r4C];this.render(I4C);};Q6l.Drawing.elliottwave.prototype.adjust=function(){var a0C,c0C;a0C=this.stx.panels[this.panelName];if(!a0C){return;}for(var n0C=0;this.maxSegments + 1 > n0C;n0C++){u0I.N7a(0);c0C=this[u0I.H8a(n0C,(5660,6362) == +"6910"?443.14:(6658,7320) == (202.15,640)?(31,147.96) == (9250,"344.49" - 0)?"Q":"b":"d")];this.setPoint(n0C,c0C,this[(4180 !== +"2753"?"v":(646,"3.82e+3" | 3776)) + n0C],a0C.chart);this.points[n0C][0]=this.stx.tickFromDate(Q6l.strToDateTime(c0C),a0C.chart);u0I.U7a(0);this.points[n0C][+"1"]=this[u0I.H8a(n0C,7500 < 4790?0x1f24:"v")];}};Q6l.Drawing.elliottwave.prototype.click=function(P0C,F0C,R0C){var e0C,Y5w;e0C=this.stx.panels[this.panelName];if(!e0C){return;}this.copyConfig();if(!this.penDown){Y5w="e";Y5w+="n";Y5w+="cl";Y5w+="osed";this.setPoint(0,F0C,R0C,e0C.chart);this.points.push(this.p0);this.penDown=!0;this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(261.48 >= (515.52,1540)?(! !"",6.90e+3):5590 === 25.91?4.91e+3:"0");if(this.decoration === Y5w){this.calculateRadius(P0C);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return !"1";}u0I.o6I();if(this.accidentalClick(F0C,R0C)){this.penDown=!0;return !{};}if(this.check(F0C,R0C,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,F0C,R0C,e0C.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return ! !{};}}return ! !0;};Q6l.Drawing.elliottwave.prototype.render=function(k0C){var R5w,V0C,H0C,D0C,C0C,J0C,f0C,l0C,v0C,m0C,x0C,y0C,M0C,Q5w,c5w,K5w,r5w,p0C,h0C,s0C,z0C,Q0C,K0C,U0C,w0C,G0C,Z0C,q0C,b0C,O0C,Y0C;R5w="m";R5w+="i";R5w+="d";R5w+="dle";V0C=this.stx.panels[this.panelName];if(!V0C){return;}H0C=this.stx;D0C=this.annotationPoints;C0C=this.pattern?Q6l.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();k0C.font=this.fontString;k0C.textAlign="center";k0C.textBaseline=R5w;k0C.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(k0C);}this.lastFontString=this.fontString;J0C=this.getLineColor();k0C.fillStyle=k0C.strokeStyle=J0C;k0C.save();k0C.setLineDash(C0C);f0C=this.dx;l0C=this.dy;v0C=this.points;m0C=this.pts;x0C=!this.showLines && this.highlighted;y0C=v0C.length;if(this.penDown && this.segment){Q5w="t";Q5w+="op";M0C=this.trend * (y0C % 2 - 0.5) < 0;if(V0C.yAxis.flipped){M0C=!M0C;}this.drawDropZone(k0C,v0C[y0C - 2]["1" << 1889178048],this.stx.priceFromPixel(V0C.yAxis[M0C?Q5w:"bottom"]),v0C[y0C - +"2"][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){c5w="bo";c5w+="ttom";K5w="t";K5w+="o";K5w+="p";r5w="m";r5w+="i";r5w+="n";p0C=parseInt(this.highlighted.substring(1,this.highlighted.length),10);M0C=this.trend * (p0C % 2 - 0.5) > 0;u0I.N7a(5);h0C=v0C[u0I.h8a(p0C,1)];u0I.N7a(0);s0C=v0C[u0I.H8a(1,p0C)];z0C=p0C > 0?h0C[1]:s0C[1];if(s0C){z0C=Math[M0C?"max":r5w](z0C,s0C[1]);}if(V0C.yAxis.flipped){M0C=!M0C;}this.drawDropZone(k0C,z0C,this.stx.priceFromPixel(V0C.yAxis[M0C?K5w:c5w]),h0C?h0C[0]:null,s0C?s0C[0]:null);}for(var u0C=0;u0C < y0C;u0C++){Q0C=v0C[u0C];K0C=H0C.pixelFromTick(Q0C[0],V0C.chart);U0C=H0C.pixelFromValueAdjusted(V0C,Q0C[0],Q0C[1]);m0C[u0C]=[K0C,U0C];}u0C=0;if(this.showLines || x0C){k0C.beginPath();if(x0C){k0C.globalAlpha=+"0.3";}for(;u0C < m0C.length;u0C++){k0C.lineTo(m0C[u0C][0],m0C[u0C][1]);}k0C.stroke();u0C=0;}k0C.restore();for(;u0C < y0C;u0C++){w0C=u0C % 2?f0C:-f0C;G0C=u0C % +"2"?l0C:-l0C;w0C*=this.trend;G0C*=this.trend;if(V0C.yAxis.flipped){w0C*=-1;G0C*=- +"1";}Z0C=m0C[u0C];q0C=Z0C[2]=Z0C[0] + w0C;b0C=Z0C[3]=Z0C[1] + G0C;O0C=this.enclosedRadius || 8;Y0C=D0C[u0C];if(this.decoration === "parentheses"){u0I.U7a(49);Y0C=u0I.H8a(Y0C,2200 === ("89.02" - 0,80.56)?+"472.52":698.45 <= 2090?"(":"9.67e+3" | 324,49 < +"9182"?")":+"2840" > (5830,6576)?! !"1":"t");}k0C.fillText(Y0C,q0C,b0C);if(this.decoration === "enclosed"){k0C.beginPath();k0C.arc(q0C,b0C,O0C,0,2 * Math.PI,![]);k0C.stroke();}if(this.highlighted){k0C.save();this.littleCircle(k0C,this.pts[u0C]["0" * 1],this.pts[u0C][1],this.highlighted === "p" + u0C);k0C.restore();}}};Q6l.Drawing.elliottwave.prototype.reposition=function(r0C,X0C,W0C,S0C){var s5w,L0C,B0C,I0C,i0C,T0C,A0C;s5w="m";s5w+="o";s5w+="v";u0I.o6I();s5w+="e";if(!X0C){return;}L0C=this.stx.panels[this.panelName];B0C=X0C.tick - W0C;I0C=X0C.value - S0C;if(X0C.action === s5w){for(var o0C=0;X0C.points.length > o0C;o0C++){i0C=X0C.points[o0C];this.setPoint(o0C,i0C[0] - B0C,i0C[1] - I0C,L0C.chart);this.points[o0C]=[i0C[0] - B0C,i0C[1] - I0C];}}if(X0C.action === "drag"){T0C=X0C.point;A0C=this.points;A0C[T0C]=[W0C,S0C];if(this.check(W0C,S0C,T0C)){this.setPoint(T0C,W0C,S0C,L0C.chart);;};}this.render(r0C);};Q6l.Drawing.elliottwave.prototype.intersected=function(c6C,F6C,R6C){var e6C,F5w,a6C,Y4w,R4w,Q4w;if(!this.p0 || !this.p1){return null;}for(var n6C=0;this.points.length > n6C;n6C++){F5w="s";F5w+="egment";a6C=this.points[n6C];if(this.pointIntersection(a6C[0],a6C[1],R6C)){u0I.U7a(0);this.highlighted=u0I.h8a(n6C,(4050,3350) <= 7020?"p":(0xde2,"d"));return {action:"drag",point:n6C,tick:c6C,value:F6C};}if(this.points[n6C + 1] && this.lineIntersection(c6C,F6C,R6C,F5w,a6C,this.points[n6C + 1])){this.highlighted=! ![];e6C={action:"move",points:Q6l.clone(this.points),tick:c6C,value:F6C};}}Y4w=-1186756365;R4w=-1628552673;Q4w=+"2";for(var K4w="1" & 2147483647;u0I.t0w(K4w.toString(),K4w.toString().length,+"68459") !== Y4w;K4w++){return e6C;}if(u0I.t0w(Q4w.toString(),Q4w.toString().length,63412) !== R4w){return e6C;}};Q6l.Drawing.elliottwave.prototype.measure=function(){var P6C,s0w,F0w,g0w,V6C,u6C,k6C;if(this.points.length >= +"2"){P6C=this.points;s0w=-1930513409;F0w=1596870342;g0w=2;for(var N0w=1;u0I.t0w(N0w.toString(),N0w.toString().length,99243) !== s0w;N0w++){this.stx.setMeasure(P6C["8" << 1058514720][+"3"],P6C[P6C.length % 9][2],P6C["1" >> 829302560]["3" - 0],P6C[P6C.length * 2][4],! !"");V6C=this.stx.controls.mSticky;u0I.N7a(17);g0w+=u0I.h8a(0,"2");}if(u0I.A0w(g0w.toString(),g0w.toString().length,65718) !== F0w){this.stx.setMeasure(P6C[0][1],P6C[P6C.length - 1][1],P6C[0][0],P6C[P6C.length - ("1" >> 414379360)][0],! !1);V6C=this.stx.controls.mSticky;}u6C=V6C && V6C.querySelector(".mStickyInterior");if(u6C){k6C=[];k6C.push(Q6l.capitalize("Elliott Wave"));if(this.getYValue){k6C.push(this.field || this.stx.defaultPlotField || "Close");}k6C.push(u6C.innerHTML);u6C.innerHTML=k6C.join("<br>");}}};Q6l.Drawing.printProjection=function(h6C,g6C,M6C){var m6C,y6C,Y6C,E6C,H6C,t6C,f6C,z6C,Z6C,d6C,p6C,l6C,G6C,w6C,v6C,x6C;m6C=g6C.arr;u0I.o6I();if(m6C.length > 1){y6C=m6C[0][0];Y6C=Math.round(h6C.chart.maxTicks * +"0.75");for(var s6C=1;s6C < m6C.length;s6C++){u0I.N7a(5);E6C=m6C[u0I.H8a(s6C,1)][0];H6C=m6C[s6C][0];t6C=Q6l.strToDateTime(E6C);f6C=Q6l.strToDateTime(H6C).getTime();z6C=h6C.standardMarketIterator(t6C);Z6C=0;while(t6C.getTime() < f6C){t6C=z6C.next();Z6C+=+"1";}d6C=Q6l.strToDateTime(E6C).getTime();if(d6C > Q6l.strToDateTime(M6C[M6C.length - 1].Date).getTime()){p6C=M6C.length - 1;Z6C+=1;}else {for(p6C=M6C.length - 1;p6C >= 0;p6C--){if(d6C <= Q6l.strToDateTime(M6C[p6C].Date).getTime())break;}}l6C={x0:0,x1:Z6C,y0:M6C[p6C].Close,y1:m6C[s6C][1]};y6C=Q6l.strToDateTime(E6C);z6C=h6C.standardMarketIterator(y6C);G6C=![];for(var Q6C=0;Q6C <= Z6C;Q6C++){if(!G6C){G6C=! ![];}else {y6C=z6C.next();}if(y6C.getTime() <= M6C[M6C.length - 1].DT.getTime())continue;w6C=Q6l.yIntersection(l6C,Q6C);if(!w6C){w6C=0;}v6C=Math.round(w6C * 10000) / 10000;if(v6C === 0){v6C=m6C[s6C][1];}x6C={Date:Q6l.yyyymmddhhmmssmmm(y6C),DT:y6C,Open:v6C,Close:v6C,High:v6C,Low:v6C,Volume:0,Adj_Close:v6C,Split_Close:v6C,projection:! ![]};if(h6C.layout.interval == "minute")if(Y6C-- < 0)break;M6C[M6C.length]=x6C;}}}};}};F2l=b6C=>{var q6C,g5w;q6C=typeof _CIQ !== "undefined"?_CIQ:b6C.CIQ;if(!q6C.computeEquationChart){g5w="equationsAdvanced feature requires first";g5w+=" activatin";g5w+="g equat";g5w+="ions feature.";console.error(g5w);}else {q6C.formatEquation=function(j6C){var y7I=Q6II;var J6C,U6C,D6C,K6C,C6C;J6C="";U6C=[];D6C="";K6C=!{};for(var O6C=1;O6C < j6C.length;O6C++){C6C=j6C[O6C].toUpperCase();if(C6C == (41.45 >= (2810,655)?!{}:"[") && !K6C){K6C=! !{};}else if(C6C == ((153.89,2400) >= 4970?("V","F"):"]") && K6C){K6C=!{};if(D6C !== ""){U6C.push(D6C);y7I.N7a(49);J6C+=y7I.H8a(D6C,"[","73.65" - 0 >= 7840?("i",! !{}):(456,5902) === 56.14?(150.30,"a"):"]");}D6C="";}else if(K6C){D6C+=C6C;}else if(C6C == "+" || C6C == "-" || C6C == ((7690,"5250" << 880196672) >= ("10.63" * 1,7170)?(5660,7880) == (+"182.12",1390)?(0x3db,0x72):"p":"*") || C6C == (212.31 != (1216,633.34)?6801 == (5540,182.96)?("a",+"9.74e+3"):728.81 === 5506?(6.16e+2,"6.51e+3" & 2147483647):"/":!0) || C6C == ((7120,58.99) <= (175.11,+"7340")?(712,468.15) != (3904,569.97)?":":0x15ff:4.33e+3) || C6C == (2705 === (+"919.87",837.36)?(878.17,523.94):"891.91" - 0 != ("5782" | 1040,"244.79" - 0)?"%":3060 > 5150?"p":(!{},! !0)) || C6C == "(" || C6C == (5037 < 1960?6.20e+3:")")){if(D6C !== "" && isNaN(D6C)){U6C.push(D6C);y7I.U7a(49);J6C+=y7I.h8a(D6C,(4281,283.67) !== (739.6,7525)?"[":(!"",0x1d96),"]");}else {J6C+=D6C;}if(C6C == (("3219" & 2147483647,473.47) !== ("3335" | 3331,7410)?(552,6757) <= ("8685" >> 319072800,291.34)?("0x6f" << 967193024,0xede):(2590,"2940" * 1) <= 612.8?(0x166,1.80e+3):":":"K")){C6C=(4339,3094) !== (3669,+"5450")?(7199,5153) !== (762.92,5960)?"/":(1.77e+3,"I"):("m",69.67);}J6C+=C6C;D6C="";}else if(C6C != " "){D6C+=C6C;}}y7I.o6I();if(D6C !== "" && isNaN(D6C)){U6C.push(D6C);y7I.U7a(49);J6C+=y7I.H8a(D6C,"[","]");}else {J6C+=D6C;}return {equation:J6C,symbols:U6C};};q6C.fetchEquationChart=function(X6C,L6C){var W6C,S6C,T6C,N6C,i6C;W6C=q6C.formatEquation(X6C.symbol);S6C=W6C.symbols;T6C=[];Q6II.i6I();N6C=X6C.stx;X6C.stx=null;for(var o6C="0" >> 944527968;o6C < S6C.length;o6C++){i6C=q6C.shallowClone(X6C);i6C.stx=N6C;i6C.symbol=S6C[o6C];i6C.symbolObject={symbol:S6C[o6C]};T6C.push(i6C);}X6C.stx=N6C;N6C.quoteDriver.multiFetch(T6C,function(c7C){var n7C,B6C,I6C,A6C,F7C;n7C={};X6C.loadMoreReplace=! !1;B6C={charge:0};Q6II.i6I();for(var r6C=0;r6C < c7C.length;r6C++){I6C=c7C[r6C];if(I6C.dataCallback.error){L6C({error:I6C.dataCallback.error});return;}n7C[I6C.params.symbol]=I6C.dataCallback.quotes;X6C.loadMoreReplace=X6C.loadMoreReplace && I6C.params.loadMoreReplace;X6C.moreToLoad=X6C.moreToLoad || I6C.dataCallback.moreAvailable;A6C=I6C.dataCallback.attribution;if(A6C){if(A6C.charge){B6C.charge+=A6C.charge;}B6C.source=A6C.source;if(B6C.exchange === undefined){B6C.exchange=A6C.exchange;}else if(B6C.exchange != A6C.exchange){B6C.exchange="";};}}if(T6C.length || !(X6C.loadMore || X6C.update)){try{F7C=q6C.computeEquationChart(W6C.equation,n7C);L6C({quotes:F7C,moreAvailable:X6C.moreToLoad,attribution:B6C});}catch(R7C){var q5w,a7C;q5w="I";q5w+="nva";q5w+="lid equa";q5w+="tion: ";a7C={error:q5w + W6C.equation};if(R7C.name && R7C.name == "NoException"){a7C.suppressAlert=! ![];}L6C(a7C);}}});};}};R2l=P7C=>{Q6II.o6I();var e7C;e7C=typeof _CIQ !== "undefined"?_CIQ:P7C.CIQ;if(!e7C.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {e7C.ChartEngine.prototype.removeDOMMarker=function(k7C){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");Q6II.i6I();e7C.Marker.Performance.prototype.removeDOMMarker.call(k7C.params.node,k7C);};e7C.ChartEngine.prototype.drawMarkers=function(){var N5w;N5w="CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.P";N5w+="erformance.drawMarkers instead.";console.warn(N5w);Q6II.i6I();e7C.Marker.Performance.drawMarkers(this);};e7C.ChartEngine.prototype.calculateMarkerStyles=function(u7C,V7C){var O5w;Q6II.o6I();O5w="CIQ.ChartEn";O5w+="gine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(O5w);e7C.Marker.Performance.calculateMarkerStyles(this,u7C,V7C);};e7C.ChartEngine.prototype.drawCircleMarker=function(M7C,v7C,m7C){Q6II.i6I();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");e7C.Marker.Performance.drawCircleMarker(M7C,v7C,m7C);};e7C.ChartEngine.prototype.drawSquareMarker=function(y7C,s7C,p7C){Q6II.i6I();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");e7C.Marker.Performance.drawSquareMarker(y7C,s7C,p7C);};e7C.ChartEngine.prototype.drawCalloutMarker=function(Z7C,h7C,E7C){var y5w;y5w="CIQ.Char";y5w+="tEngine#drawCalloutMarker is scheduled for deprecation in a future ";y5w+="release";y5w+="\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.";console.warn(y5w);Q6II.i6I();e7C.Marker.Performance.drawCalloutMarker(Z7C,h7C,E7C);};e7C.ChartEngine.prototype.drawMarkerStem=function(t7C,z7C,Q7C){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");e7C.Marker.Performance.drawMarkerStem(t7C,z7C,Q7C);};e7C.ChartEngine.prototype.positionDOMMarkers=function(){Q6II.o6I();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");e7C.Marker.Performance.drawMarkers(this);};e7C.Marker.Performance=function(G7C){var p5w,d7C,w7C,H7C,l7C,Y7C,f7C,x7C,g7C;p5w=".stx-m";p5w+="arker";this.params={displayCategory:! !{},displayStem:! !{},invert:! !0,story:"",headline:""};e7C.extend(this.params,G7C);d7C=this.template=document.createElement("TEMPLATE");Q6II.U7a(60);d7C.innerHTML=Q6II.H8a('<div class="stx-marker highlight">','<div class="stx-visual">',"</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>","</div>",'<div class="stx-stem"></div>','<div class="stx-marker-content">');w7C=this.template.content.cloneNode(! !{});Q6II.i6I();H7C=w7C.querySelector(p5w,d7C);H7C.classList.add(G7C.type);H7C.classList.add(G7C.category);l7C=w7C.querySelector(".stx-visual",d7C);Y7C=w7C.querySelector(".stx-marker-expand");f7C=w7C.querySelector("h4",d7C);x7C=w7C.querySelector(8807 > ("5920" - 0,8490)?(992,+"5025") >= 5644?(717.85,8440) <= 7948?461.55:(!"","S"):"p":5.81e+3,d7C);f7C.innerText=this.params.headline;x7C.innerText=this.params.story;this.hasText=! !G7C.headline || ! !G7C.story;this.deferAttach=! ![];this.node=w7C.firstChild;this.node.params=this.params;this.visual=l7C;this.expand=Y7C;if(G7C.type === "callout"){g7C=Y7C.removeChild(f7C);w7C.querySelector(".stx-marker-content",d7C).insertBefore(g7C,Y7C);}};e7C.inheritsFrom(e7C.Marker.Performance,e7C.Marker.NodeCreator,!"1");e7C.Marker.Performance.consolidateExpanded=function(U7C){var q7C,b7C,J7C,E5w,C7C,K7C;q7C=U7C.markerHelper.highlighted;if(!q7C.length){return;}b7C=q7C[q7C.length - +"1"];J7C=b7C.params.node;if(!b7C.consolidated){b7C.consolidated=[];}for(var D7C=q7C.length - 2;D7C >= 0;D7C--){E5w="</c";E5w+="onsolidated>";C7C=O7C(q7C[D7C]);Q6II.N7a(49);K7C=Q6II.h8a(C7C,"<consolidated>",E5w);if(C7C.length){J7C.expand.innerHTML+=K7C;}}b7C.stxNodeCreator.quickCache(b7C);Q6II.o6I();function O7C(i7C){var T5w,X7C,j7C,o7C;T5w="no";T5w+="n";T5w+="e";X7C=i7C.params.node;j7C=X7C.expand;if(!j7C){return "";}o7C=j7C.style.display !== T5w?j7C.innerHTML:"";return o7C;}};e7C.Marker.Performance.reconstituteExpanded=function(N7C){var W7C,L7C,B7C,T7C;W7C=N7C.markerHelper.highlighted;if(!W7C.length || !N7C.activeMarker){return;}W7C=[N7C.activeMarker];for(var S7C=W7C.length - 1;S7C >= +"0";S7C--){L7C=W7C[S7C];B7C=L7C.params.node;T7C=B7C.expand;while(T7C.lastElementChild.nodeName === "CONSOLIDATED"){T7C.removeChild(T7C.lastElementChild);}}};e7C.Marker.Performance.drawMarkers=function(c1C){Q6II.i6I();var a1C,I7C,r7C,n1C,F1C,R1C;a1C=c1C.getMarkerArray("all");I7C=c1C.chart;for(var A7C=0;A7C < a1C.length;A7C++){r7C=a1C[A7C];n1C=r7C.stxNodeCreator;F1C=I7C.dataSegment[0].tick;R1C=I7C.dataSegment[I7C.dataSegment.length - ("1" - 0)].tick;if(F1C <= r7C.tick <= R1C){if(n1C && n1C.drawMarker){n1C.drawMarker(r7C);}}}};e7C.Marker.Performance.calculateMarkerStyles=function(P1C,k1C,M1C){var e1C,G5w,o5w,u1C,V1C;e1C=document.querySelector(".stx-marker-templates");if(!e1C){G5w="-";G5w+="1000px";o5w="hi";o5w+="dde";o5w+="n";e1C=document.createElement("DIV");e1C.style.visibility=o5w;e1C.style.left=G5w;document.body.append(e1C);}e1C.appendChild(k1C.node);u1C=getComputedStyle(k1C.stxNodeCreator.visual);if(!P1C.styles.stx_marker_stem){V1C=getComputedStyle(document.querySelector(".stx-stem",k1C.node));P1C.styles.stx_marker_stem=P1C.cloneStyle(V1C);}P1C.styles[M1C]=P1C.cloneStyle(u1C);e1C.removeChild(k1C.node);};e7C.Marker.Performance.drawCircleMarker=function(p1C,Q1C,m1C){var t1C,z1C,v1C,y1C,s1C,Z1C,h1C,E1C;t1C=p1C.params.stx;z1C=t1C.chart;v1C=z1C.context;y1C=m1C.x;s1C=m1C.y;Z1C=m1C.radius;h1C=m1C.label;E1C=m1C.color?m1C.color:Q1C.backgroundColor;v1C.beginPath();v1C.setLineDash([]);v1C.lineWidth=1;v1C.fillStyle=E1C;v1C.strokeStyle=E1C;v1C.font="normal bold 12px Roboto, Helvetica, sans-serif";Q6II.o6I();v1C.arc(y1C,s1C,Z1C,0,+"2" * Math.PI,!{});v1C.fill();v1C.stroke();v1C.closePath();if(h1C){v1C.fillStyle=e7C.colorsEqual("white",v1C.fillStyle)?"black":"white";v1C.fillText(h1C.charAt(0).toUpperCase(),y1C - 4,s1C + 1);}if(p1C.highlight || p1C.active){v1C.beginPath();Q6II.U7a(0);v1C.arc(y1C,s1C,Q6II.h8a(4,Z1C),0,2 * Math.PI,![]);v1C.stroke();v1C.closePath();}};e7C.Marker.Performance.drawSquareMarker=function(l1C,D1C,d1C){var V1I=Q6II;var q1C,b1C,w1C,H1C,f1C,G1C,x1C,g1C,Y1C;q1C=l1C.params.stx;b1C=q1C.chart;w1C=b1C.context;H1C=d1C.x;f1C=d1C.y;G1C=d1C.half;x1C=d1C.label;g1C=d1C.color?d1C.color:D1C.backgroundColor;V1I.U7a(61);Y1C=V1I.H8a(G1C,"2");w1C.beginPath();w1C.setLineDash([]);V1I.U7a(11);w1C.lineWidth=V1I.H8a(1412977056,"1");w1C.fillStyle=g1C;w1C.strokeStyle=g1C;w1C.font="normal bold 12px Roboto, Helvetica, sans-serif";V1I.U7a(5);w1C.rect(V1I.H8a(H1C,G1C),V1I.H8a(f1C,G1C),Y1C,Y1C);w1C.fill();if(l1C.highlight || l1C.active){V1I.N7a(62);w1C.rect(V1I.h8a(4,G1C,H1C),V1I.h8a(4,G1C,f1C,V1I.N7a(62)),V1I.H8a(8,Y1C,V1I.U7a(0)),V1I.H8a("8",0,Y1C,V1I.N7a(19)));}w1C.stroke();w1C.closePath();if(x1C){w1C.fillStyle=e7C.colorsEqual("white",w1C.fillStyle)?"black":"white";w1C.fillText(x1C.charAt(0).toUpperCase(),H1C - 4,f1C + 1);}};e7C.Marker.Performance.drawCalloutMarker=function(U1C,I1C,J1C){var N1C,L1C,C1C,K1C,A1C,j1C,X1C,o1C,i1C,W1C,B1C,O1C,S1C,T1C;N1C=U1C.params.stx;L1C=N1C.chart;C1C=L1C.context;K1C=U1C.params;A1C=J1C.x;j1C=J1C.y;Q6II.i6I();X1C=J1C.half;o1C=J1C.midWidth;i1C=J1C.headline;W1C=J1C.color?J1C.color:I1C.backgroundColor;B1C=X1C * 2 || 25;O1C=Math.round(C1C.measureText(i1C).width);S1C=o1C?o1C * 2:O1C + ("8" << 115550752);C1C.beginPath();C1C.setLineDash([]);C1C.lineWidth=1;C1C.fillStyle=W1C;C1C.strokeStyle=W1C;C1C.font="normal bold 12px Roboto, Helvetica, sans-serif";C1C.rect(K1C.box.x0,K1C.box.y0,S1C,B1C);C1C.fill();C1C.stroke();C1C.closePath();C1C.beginPath();C1C.fillStyle=U1C.highlight || U1C.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";Q6II.U7a(63);T1C=Q6II.H8a(O1C,2,"20",S1C);C1C.rect(K1C.box.x0 + T1C,j1C - X1C,O1C + 40,22);C1C.fill();C1C.stroke();C1C.closePath();C1C.fillStyle="black";C1C.fillText(i1C,K1C.box.x0 + T1C + 10,j1C);};e7C.Marker.Performance.drawMarkerStem=function(n9C,R9C,a9C){var e9C,P9C,r1C,c9C,V9C,F9C,k9C,u9C;e9C=n9C.params.stx;P9C=e9C.chart;r1C=P9C.context;c9C=a9C.x;V9C=a9C.y;r1C.beginPath();r1C.strokeStyle=R9C.borderLeftColor;Q6II.o6I();r1C.setLineDash([1,1]);F9C=e7C.stripPX(R9C.height);k9C=a9C.invert?n9C.params.box.y0:n9C.params.box.y1;u9C=a9C.invert?n9C.params.box.y0 - F9C:n9C.params.box.y1 + F9C;r1C.moveTo(c9C,k9C);r1C.lineTo(c9C,u9C);r1C.stroke();r1C.closePath();};e7C.Marker.Performance.prototype.drawMarker=function(M9C){var T1I=Q6II;var l5w,Z5w,Q9C,m9C,l9C,x9C,Y9C,y9C,h9C,E9C,g9C,H9C,w9C,f9C,d9C,s9C,G9C,v9C,t9C,z9C,q9C,b9C,p9C,Z9C,H5w;T1I.i6I();l5w="call";l5w+="out";Z5w="sq";Z5w+="uare";Q9C=M9C.params;m9C=M9C.params.stx;if(!m9C){return;}l9C=m9C.chart;x9C=l9C.dataSegment;if(!x9C.length){return;}Y9C=m9C.panels[M9C.params.panelName];y9C=M9C.stxNodeCreator.params;h9C=y9C.type;E9C=y9C.category;g9C=y9C.headline;H9C=y9C.displayCategory;w9C=y9C.color;f9C=y9C.invert;T1I.U7a(64);d9C=T1I.H8a("stx_marker_",h9C,E9C,(915.38,"8385" ^ 0) === 3290?(158.03,31.39):("554" ^ 0,7350) < 3740?7236 > 228?666.71:("R","343.54" - 0):"_");if(!m9C.styles[d9C]){e7C.Marker.Performance.calculateMarkerStyles(m9C,M9C,d9C);}s9C=M9C.style=m9C.styles[d9C];G9C=m9C.styles.stx_marker_stem;v9C=parseInt(s9C.height,10) / 2;t9C=parseInt(s9C.width,"10" >> 1105446688) / 2;z9C=y9C.displayStem?parseInt(G9C.height,10) + parseInt(G9C.marginBottom,10):0;q9C=z9C + parseInt(s9C.height,10);b9C=z9C?z9C + v9C:0;p9C=m9C.pixelFromDate(Q9C.x);Z9C=Q9C.node.calculateYPosition({marker:M9C,panel:Y9C,height:q9C,half:v9C,offset:b9C,inverted:f9C});if(!M9C.tick && M9C.tick !== +"0"){return;}Q9C.box={x0:p9C - (t9C || v9C),y0:Z9C - v9C,x1:p9C + (t9C || v9C),y1:Z9C + v9C,midY:v9C,midX:t9C || v9C,stemHeight:z9C};if(!H9C){E9C=H9C;}m9C.startClip(Y9C.name);if(h9C === "circle"){e7C.Marker.Performance.drawCircleMarker(M9C,s9C,{x:p9C,y:Z9C,radius:v9C,label:E9C,color:w9C});}else if(h9C === Z5w){e7C.Marker.Performance.drawSquareMarker(M9C,s9C,{x:p9C,y:Z9C,half:v9C,label:E9C,color:w9C});}else if(h9C === l5w){e7C.Marker.Performance.drawCalloutMarker(M9C,s9C,{x:p9C,y:Z9C,half:v9C,midWidth:t9C,headline:g9C,color:w9C});}else {H5w=" is unsupported with canvas markers!\nSupporte";H5w+="d Styles are Square, Circle, and Callout.";T1I.N7a(49);console.warn(T1I.H8a(h9C,"Marker type: ",H5w));}if(y9C.displayStem){e7C.Marker.Performance.drawMarkerStem(M9C,G9C,{x:p9C,y:Z9C,invert:f9C});}m9C.endClip();if(M9C.attached){this.positionPopUpNode(M9C);}};e7C.Marker.Performance.prototype.positionPopUpNode=function(C9C){var W9w,X9C,K9C,D9C,o9C,O9C,J9C,i9C,B9w,L9C,B9C,I9C,A9C,W9C,U9C,N9C,S9C,j9C,T9C,r9C;W9w="h";W9w+="idden";if(!C9C.attached || !C9C.params.box){return;}X9C=C9C.params;K9C=X9C.stx;D9C=X9C.box;o9C=C9C.params.node.expand;O9C=K9C.chart.dataSet;J9C=K9C.chart.dataSegment;if(C9C.tick){B9w="D";B9w+="a";B9w+="t";B9w+="e";L9C=[O9C[J9C[+"0"] && J9C[0].tick - 1],O9C[J9C[0] && J9C[+"0"].tick - 2]];B9C=K9C.getFirstLastDataRecord(L9C.concat(J9C),"Date");I9C=[O9C[J9C[J9C.length - 1].tick + 1],O9C[J9C[J9C.length - 1].tick + 2]];A9C=K9C.getFirstLastDataRecord(J9C.concat(I9C),B9w,! !{});i9C=B9C.DT <= O9C[C9C.tick].DT && O9C[C9C.tick].DT <= A9C.DT;}else {i9C=!{};}if(!C9C.highlight && !C9C.active){i9C=!{};}o9C.style.visibility=i9C?"":W9w;if(!i9C){return;}W9C=K9C.panels[X9C.panelName];U9C=o9C.rects;N9C=U9C.height / 2;j9C=C9C.node.params.infoOffset || 0;if(C9C.node.params.infoOnLeft){S9C=D9C.x0 - U9C.width - j9C < W9C.left?D9C.x1 + j9C:D9C.x0 - U9C.width - j9C;}else {S9C=D9C.x0 + U9C.width > W9C.right?D9C.x0 - U9C.width - j9C:D9C.x1 + j9C;}S9C-=K9C.chart.left;T9C=D9C.y0 - N9C >= W9C.top?D9C.y0 + D9C.midY - N9C:D9C.y0;if(!X9C.avoidFlush && D9C.y1 + D9C.stemHeight === W9C.yAxis.bottom && U9C.height > D9C.y1 - D9C.y0 + D9C.stemHeight){T9C=D9C.y1 - U9C.height + D9C.stemHeight;}T9C-=K9C.chart.panel.top;r9C="translateX(" + Math.floor(S9C) + "px) translateY(" + Math.floor(T9C) + "px) translateZ(0)";o9C.style.transform=r9C;o9C.transform={translateX:S9C,translateY:T9C};};e7C.Marker.Performance.prototype.quickCache=function(R23){var e23,n23,c23,k23;e23=R23.params.node;n23=e23.expand;c23=R23.style;k23=e7C.stripPX(c23.marginLeft) + e7C.stripPX(c23.marginRight) + e7C.stripPX(c23.borderRight) + e7C.stripPX(c23.borderLeft);Q6II.o6I();n23.rects=n23.getBoundingClientRect();n23.scrollBarWidth=n23.rects.width - n23.clientWidth - k23;};e7C.Marker.Performance.prototype.calculateYPosition=function(Z23){var z9w,J9w,s23,V23,Q23,E23,m23,w23,M23,d23,Y23,v23,z23,H23,u23,l23,g23;z9w="on_ca";z9w+="ndle";J9w="abo";J9w+="v";J9w+="e_cand";J9w+="le";s23=Z23.marker;V23=Z23.panel;Q23=Z23.height;E23=Z23.half;m23=Z23.offset;w23=Z23.inverted;Q6II.i6I();M23=s23.params.stx;d23=M23.chart;Y23=M23.chart.highLowBars;v23=d23.dataSet[s23.tick];if(!v23){return;}z23=Y23?v23.High:v23.Close;H23=s23.params.yPositioner;switch(H23){case "value":if(s23.params.y || s23.params.y === 0){u23=M23.pixelFromPrice(s23.params.y,V23) - Q23 * 0.5 + E23;}else {u23=M23.pixelFromPrice(z23,V23) - m23;}break;case J9w:u23=M23.pixelFromPrice(z23,V23) - m23;break;case "below_candle":u23=M23.pixelFromPrice(v23.Low || z23,V23);if(w23 && m23){u23+=m23;}else {u23+=E23;}break;case z9w:(l23=v23.High || v23.Close,g23=v23.Low || v23.Low === 0 || v23.Close);u23=M23.pixelFromPrice((l23 + g23) / +"2",V23) - Q23 * 0.5 + E23;break;case "top":u23=M23.pixelFromPrice(V23.yAxis.high,V23);if(w23 && m23){u23+=m23;}else {u23+=E23;}break;case "bottom":u23=M23.pixelFromPrice(V23.yAxis.low,V23) - (m23 || E23);break;default:break;}return u23;};e7C.Marker.Performance.prototype.prepareForHolder=function(J23){var q23,U23;q23=this.expand;U23=J23.params.stx;q23.classList.add(this.params.type);U23.markerHelper.domMarkers.push(J23);return q23;};e7C.Marker.Performance.prototype.addToHolder=function(X23){var j23,O23;j23=this.expand;O23=X23.params.stx;e7C.Marker.Performance.reconstituteExpanded(O23);e7C.Marker.Performance.consolidateExpanded(O23);this.quickCache(X23);function o23(i23){O23.activeMarker=X23;O23.activeMarker.click({cx:i23.clientX,cy:i23.clientY,panel:O23.currentPanel});i23.stopPropagation();}if(j23.clickClosure){return;}j23.addEventListener("mousedown",o23);j23.addEventListener("touchstart",o23);j23.clickClosure=o23;};e7C.Marker.Performance.prototype.remove=function(S23){var W23,B23,C1w,v1w,b1w,I23,L23;W23=S23.params.stx;if(!W23){return;}if(!W23.markerHelper.domMarkers){return;}B23=W23.markerHelper.domMarkers.indexOf(S23);if(B23 != -1){W23.markerHelper.domMarkers.splice(B23,1);}if(S23.attached){C1w=-2098250180;v1w=-897470895;b1w=2;for(var i1w=+"1";Q6II.A0w(i1w.toString(),i1w.toString().length,83443) !== C1w;i1w++){I23=W23.panels[S23.params.panelName];b1w+=2;}if(Q6II.t0w(b1w.toString(),b1w.toString().length,28960) !== v1w){I23=W23.panels[S23.params.panelName];}I23=W23.panels[S23.params.panelName];L23=S23.params.node.expand;if(L23.parentNode === I23.subholder){I23.subholder.removeChild(L23);}L23.removeEventListener("click",L23.clickClosure);}};e7C.Marker.Performance.prototype.click=function(c53){var n53,F53,r23;if(!this.hasText){return;}if(typeof arguments[0] === "number"){c53={cx:arguments[0],cy:arguments[1],marker:arguments[+"2"],panel:arguments[3]};}var {cx:a53, cy:R53, marker:A23, panel:e53}=c53;n53=A23.params.stx;if(A23.attached){r23=this.expand;if(r23.rects.width - r23.scrollBarWidth + r23.transform.translateX < n53.backOutX(a53) && n53.backOutX(a53) < r23.rects.width + r23.transform.translateX){return;}this.remove(A23);}else {n53.addToHolder(A23);F53=! !{};}A23.attached=!A23.attached;A23.active=!A23.active;if(F53){A23.stxNodeCreator.positionPopUpNode(A23);}};}};e2l=k53=>{var P53;P53=typeof _CIQ !== "undefined"?_CIQ:k53.CIQ;P53.Renderer.OHLC.requestNew=function(h53,u53){var V53,v53,m53,y53,s53,p53,d9w,X9w,x9w,U9w,a9w,n9w,Z53,P9w,k9w;V53=null;v53=u53.hlc;m53=u53.colored;y53=u53.hollow;s53=u53.volume;p53=u53.histogram;for(var M53=0;M53 < h53.length;M53++){d9w="hl";d9w+="c";X9w="histog";X9w+="ra";X9w+="m";x9w="colo";x9w+="red";U9w="ho";U9w+="ll";U9w+="o";U9w+="w";a9w="vo";a9w+="l";a9w+="ume";n9w="ba";n9w+="r";Z53=h53[M53];switch(Z53){case n9w:case "candle":V53=Z53;break;case a9w:s53=! !1;break;case U9w:y53=! !{};break;case x9w:m53=! ![];break;case X9w:P9w="ca";P9w+="nd";P9w+="l";P9w+="e";p53=! !1;V53=P9w;break;case d9w:k9w="b";k9w+="a";k9w+="r";v53=! ![];V53=k9w;break;default:return null;}}if(V53 === null){return null;}return new P53.Renderer.OHLC({params:P53.extend(u53,{type:V53,hlc:v53,colored:m53,hollow:y53,volume:s53,histogram:p53})});};P53.Renderer.OHLC.getChartParts=function(Y53,G53){var o9w,E9w,T9w,p9w,y9w,O9w,N9w,q9w,g9w,F9w,s9w,c9w,K9w,r9w,Q9w,R9w,Y9w,L9w,i9w,h9w,b9w,v9w,C9w,e9w,u9w,w9w,M9w,I9w,S9w,V9w,D9w,A9w,t9w,j9w,f9w,m9w,z53,Q53,w53,E53,t53,d53;o9w="h";o9w+="oll";o9w+="o";o9w+="w";E9w="fill_c";E9w+="olor_dow";E9w+="n";T9w="bor";T9w+="der_co";T9w+="l";T9w+="or_up";p9w="can";p9w+="dl";p9w+="e";y9w="s";y9w+="tx_hollow_cand";y9w+="le_eve";y9w+="n";O9w="border_co";O9w+="lor_";O9w+="down";N9w="stx_hollow_candle_d";N9w+="own";q9w="fi";q9w+="l";q9w+="l_c";q9w+="olor_up";g9w="st";g9w+="x_hol";g9w+="low";g9w+="_candle_up";F9w="stx_holl";F9w+="ow_candle_even";s9w="bo";s9w+="rde";s9w+="r";s9w+="_color_down";c9w="stx_hollow_candle_do";c9w+="wn";K9w="s";K9w+="ha";K9w+="dow";r9w="hol";r9w+="l";r9w+="ow";Q9w="border_";Q9w+="c";Q9w+="olor_up";R9w="stx";R9w+="_hollow_candle_u";R9w+="p";Y9w="borde";Y9w+="r_color";Y9w+="_up";L9w="s";L9w+="tx_candle_up";i9w="c";i9w+="andl";i9w+="e";h9w="stx_candle_s";h9w+="hadow_";h9w+="even";b9w="can";b9w+="d";b9w+="l";b9w+="e";v9w="border_color_";v9w+="down";C9w="c";C9w+="a";C9w+="nd";C9w+="le";e9w="bord";e9w+="er";e9w+="_colo";e9w+="r_up";u9w="c";u9w+="a";u9w+="nd";u9w+="le";w9w="border_c";w9w+="olo";w9w+="r_up";M9w="stx_b";M9w+="ar_ev";M9w+="e";M9w+="n";I9w="ba";I9w+="r";S9w="b";S9w+="a";S9w+="r";V9w="ba";V9w+="r";D9w="histo";D9w+="gram";A9w="bo";A9w+="rder_color";Q6II.o6I();A9w+="_dow";A9w+="n";t9w="s";t9w+="tx_histogram_down";j9w="hist";j9w+="ogr";j9w+="a";j9w+="m";f9w="b";f9w+="order_color_";f9w+="up";m9w="fill";m9w+="_";m9w+="co";m9w+="lor_up";z53=+"1";Q6II.N7a(14);Q53=Q6II.h8a(1516422784,"2");w53=4;E53=8;t53=16;d53=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:E53,fill:m9w,border:f9w,useColorInMap:! !{},useBorderStyleProp:! ![]},{type:j9w,drawType:"histogram",style:t9w,condition:t53,fill:"fill_color_down",border:A9w,useColorInMap:!"",useBorderStyleProp:! !"1"},{type:D9w,drawType:"histogram",style:"stx_histogram_even",condition:d53,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !"1",useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"bar",drawType:V9w,style:Y53 || "stx_bar_chart",border:"border_color",useColorInMap:!""},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:G53?E53:z53,border:"border_color_up",useColorInMap:! !{}},{type:S9w,drawType:"bar",style:"stx_bar_down",condition:G53?t53:Q53,border:"border_color_down",useColorInMap:! !{}},{type:I9w,drawType:"bar",style:M9w,condition:G53?d53:w53,border:"border_color_even",skipIfPass:!"",useColorInMap:! ![]},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:w9w},{type:u9w,drawType:"shadow",style:"stx_candle_shadow_up",condition:E53,border:e9w},{type:C9w,drawType:"shadow",style:"stx_candle_shadow_down",condition:t53,border:v9w},{type:b9w,drawType:"shadow",style:h9w,condition:d53,border:"border_color_even",skipIfPass:!""},{type:i9w,drawType:"candle",style:L9w,condition:E53,fill:"fill_color_up",border:Y9w,useColorInMap:!0,useBorderStyleProp:! !{}},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:t53,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1,useBorderStyleProp:! ![]},{type:"hollow",drawType:"shadow",style:R9w,condition:z53,border:Q9w},{type:r9w,drawType:K9w,style:c9w,condition:Q53,border:s9w},{type:"hollow",drawType:"shadow",style:F9w,condition:w53,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:g9w,condition:z53 | t53,fill:q9w,border:"border_color_up",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:N9w,condition:Q53 | t53,fill:"fill_color_down",border:O9w,useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:y9w,condition:w53 | t53,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !1,useColorInMap:!0},{type:"hollow",drawType:p9w,style:"stx_hollow_candle_up",condition:z53 | E53,fill:"fill_color_up",border:T9w},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:Q53 | E53,fill:E9w,border:"border_color_down"},{type:o9w,drawType:"candle",style:"stx_hollow_candle_even",condition:w53 | E53,fill:"fill_color_even",border:"border_color_even"}];;};P53.Renderer.Bars=function(f53){var H53;this.construct(f53);H53=this.params;H53.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;H53.hlc=H53.volume=H53.hollow=H53.histogram=!{};};P53.inheritsFrom(P53.Renderer.Bars,P53.Renderer.OHLC,![]);P53.Renderer.HLC=function(x53){var l53;this.construct(x53);l53=this.params;Q6II.i6I();l53.type="bar";l53.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};l53.volume=l53.hollow=l53.histogram=![];};P53.inheritsFrom(P53.Renderer.HLC,P53.Renderer.Bars,!1);P53.Renderer.Shading=function(g53){this.construct(g53);this.beenSetup=!{};this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];Q6II.i6I();if(this.params.type == "rangechannel"){this.highLowBars=! !"1";}};P53.inheritsFrom(P53.Renderer.Shading,P53.Renderer.Lines,!"1");P53.Renderer.Shading.requestNew=function(D53,J53){var q53,C53;q53=null;for(var b53=0;b53 < D53.length;b53++){C53=D53[b53];if(C53 == "rangechannel"){q53="rangechannel";}}if(q53 === null){return null;}return new P53.Renderer.Shading({params:P53.extend(J53,{type:q53})});};P53.Renderer.Shading.prototype.setShading=function(K53){if(K53.constructor != Array){K53=[K53];}this.shading=K53;};P53.Renderer.Shading.prototype.draw=function(){var G9w,j53,X53,B0o,H9w,l9w,Z9w,A53,i53,r53,T53,n83,o53,O53,N53,L53,a83,J0o,W0o,U53,S53,B53,I53,W53;G9w="rangechan";G9w+="n";G9w+="el";Q6II.o6I();j53=this.stx;X53=j53.panels[this.params.panel].chart;if(this.params.type == G9w){if(this.beenSetup){if(this.seriesParams.length > "2" * 1){this.removeSeries(this.seriesParams[2].id);}}else {B0o="stx_";B0o+="line_down";H9w="L";H9w+="ow";l9w="Sh";l9w+="a";l9w+="di";l9w+="ng";Z9w="a";Z9w+="u";Z9w+="to";this.beenSetup=! !{};this.params.display=this.seriesParams["0" >> 92864192].display;this.params.yAxis=this.seriesParams[0].yAxis;A53=this.seriesParams[0].color || Z9w;i53=this.seriesParams[0].symbol;r53="";if(i53){Q6II.N7a(0);r53=Q6II.H8a(".",i53);}this.removeAllSeries(! !{});T53=this.params.name;j53.addSeries(null,{symbol:i53,loadData:! !i53,field:"High",renderer:l9w,name:T53,style:"stx_line_up",display:this.params.display,shareYAxis:! ![]});j53.addSeries(null,{symbol:i53,loadData:! !i53,field:H9w,renderer:"Shading",name:T53,style:B0o,display:this.params.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams["0" | 0].id,secondary:this.seriesParams[1].id,color:A53});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");n83=this;this.errTimeout=setTimeout(function(){var T1w,E1w,o1w;Q6II.o6I();T1w=406891793;E1w=-355932364;o1w=+"2";for(var Z1w=1;Q6II.A0w(Z1w.toString(),Z1w.toString().length,+"56683") !== T1w;Z1w++){n83.errTimeout=null;o1w+=2;}if(Q6II.t0w(o1w.toString(),o1w.toString().length,41158) !== E1w){n83.errTimeout=1;}},10000);}}o53={};for(O53=0;O53 < this.seriesParams.length;O53++){N53={};if(X53.series[this.seriesParams[O53].id]){N53=P53.clone(X53.series[this.seriesParams[O53].id].parameters);}o53[this.seriesParams[O53].id]={parameters:P53.extend(P53.extend(N53,this.params),this.seriesParams[O53]),yValueCache:this.caches[this.seriesParams[O53].id]};}function c83(e83){var F83,P83,R83;F83=o53[e83];if(F83){P83=F83.parameters.field;R83=F83.parameters.subField;Q6II.N7a(0);return Q6II.H8a(R83?(5582 > (+"6890",4240)?".":7500 <= (9394,4330)?! !"1":(1830,9125) >= 5360?("J",+"1.91e+3"):(611.22,!"")) + R83:"",P83);}return e83;}j53.drawSeries(X53,o53,this.params.yAxis,this);if(X53.legend && this.params.type == "rangechannel"){if(!X53.legend.colorMap){X53.legend.colorMap={};}L53=this.params.display;a83=[j53.getCanvasColor("stx_line_up"),j53.getCanvasColor("stx_line_down")];X53.legend.colorMap[L53]={color:a83,display:L53,isBase:this == j53.mainSeriesRenderer};;}for(O53 in o53){this.caches[O53]=o53[O53].yValueCache;}for(O53=0;O53 < this.shading.length;O53++){J0o="C";J0o+="l";J0o+="os";J0o+="e";W0o="aut";W0o+="o";U53=this.shading[O53];S53=U53.color;if(U53.color == W0o){S53=j53.defaultColor;}if(!U53.primary){U53.primary=J0o;}if(!U53.secondary && this.seriesParams[0]){U53.secondary=this.seriesParams[0].field;}if(!U53.secondary)continue;else if(!o53[U53.primary] && U53.primary != "Close")continue;else if(!o53[U53.secondary])continue;else if(U53.primary == "Close" && this.params.yAxis && this.params.yAxis != X53.yAxis)continue;B53=c83(U53.primary).split(5590 != 4610?".":2795 != (7290,7055)?(0x22f5,26):511);I53=c83(U53.secondary).split(".");W53={topBand:B53[0],topSubBand:B53[1],topColor:U53.greater || S53 || j53.containerColor,topAxis:this.params.yAxis,bottomBand:I53[0],bottomSubBand:I53[1],bottomColor:U53.lesser || S53 || j53.containerColor,bottomAxis:U53.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || X53.tension,opacity:0.1};if(!W53.topColor && !W53.bottomColor)continue;if(!this.params.highlight && j53.highlightedDraggable){W53.opacity*=0.3;}P53.fillIntersecting(j53,this.params.panel,W53);}};P53.Renderer.Histogram=function(k83){this.construct(k83);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!"";if(this.params.yAxis){this.params.bindToYAxis=! !"1";if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};P53.inheritsFrom(P53.Renderer.Histogram,P53.Renderer,!{});Q6II.o6I();P53.Renderer.Histogram.prototype.adjustYAxis=function(){Q6II.i6I();var u83;u83=this.params.yAxis;if(!u83 || u83.baseline){return;}u83.min=0;u83.highValue/=this.params.heightPercentage || 1;};P53.Renderer.Histogram.prototype.draw=function(){Q6II.o6I();var V83,M83,v83,m83;V83=P53.clone(this.params);V83.type=V83.subtype;this.useSum=V83.subtype == "stacked";if(!V83.yAxis || V83.yAxis == this.stx.chart.yAxis){V83.bindToYAxis=!"";}this.stx.drawHistogram(V83,this.seriesParams);M83=V83.yAxis && V83.yAxis.baseline;if(M83 && M83.color){v83=this.stx.panels[this.params.panel];m83=this.stx.pixelFromPrice(M83.value,v83,this.params.yAxis) - 0.5;this.stx.plotLine({x0:v83.left,x1:v83.right,y0:m83,y1:m83,color:M83.color,type:"line",context:v83.chart.context,confineToPanel:v83,pattern:M83.pattern || "solid",lineWidth:M83.lineWidth || 1,opacity:M83.opacity || 0.8,globalCompositeOperation:"destination-over"});}};P53.Renderer.Histogram.prototype.getBasis=function(h83,E83,t83){var p83,Z83,y83;p83=0;if(h83 && this.useSum){for(var s83=0;s83 < this.seriesParams.length;s83++){Z83=this.seriesParams[s83].field;if(Z83 === E83)break;y83=h83[Z83];if(y83 && typeof y83 === "object"){y83=y83[t83 || this.seriesParams[s83].subField || this.stx.chart.defaultPlotField || "Close"];}if(y83){p83+=y83;}}}return p83;};P53.Renderer.Heatmap=function(z83){Q6II.o6I();var z0o;z0o="h";z0o+="eatm";z0o+="a";z0o+="p";this.construct(z83);this.params.type=z0o;this.params.highlightable=! !0;this.barsHaveWidth=this.standaloneBars=! !"1";};P53.inheritsFrom(P53.Renderer.Heatmap,P53.Renderer,! !0);P53.Renderer.Heatmap.requestNew=function(d83,Y83){var Q83,n0o,G83;Q83=null;for(var w83=0;w83 < d83.length;w83++){n0o="heatma";n0o+="p";G83=d83[w83];if(G83 == "heatmap"){Q83=n0o;}}if(Q83 === null){return null;}Q6II.i6I();return new P53.Renderer.Heatmap({params:P53.extend(Y83,{type:Q83})});};P53.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(P53.clone(this.params),this.seriesParams);};P53.Renderer.Scatter=function(H83){this.construct(H83);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=!"";};P53.inheritsFrom(P53.Renderer.Scatter,P53.Renderer.Lines,!{});P53.Renderer.Scatter.requestNew=function(x83,q83){var f83,g83;f83=null;for(var l83=0;l83 < x83.length;l83++){g83=x83[l83];if(g83 == "scatterplot"){f83="scatter";}}Q6II.o6I();if(f83 === null){return null;}return new P53.Renderer.Scatter({params:P53.extend(q83,{type:f83})});};P53.Renderer.Scatter.prototype.drawIndividualSeries=function(J83,D83){Q6II.i6I();var C83,b83;C83=this.stx.panels[D83.panel] || J83.panel;b83={colors:[]};if(this.stx.scatter){b83=this.stx.scatter(C83,D83);}else {console.warn("Error, Scatter renderer requires customChart.js");}return b83;};};P2l=U83=>{var a0o,K83,x0o;a0o="u";a0o+="n";a0o+="defined";K83=typeof _CIQ !== a0o?_CIQ:U83.CIQ;if(!K83.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {x0o="Accumulation/";x0o+="Distributi";x0o+="on";K83.Studies.calculateAccumulationDistribution=function(T83,o83){var S83,U0o,O83,X83,i83,W83;S83=o83.chart.scrubbed;for(var j83=o83.startFrom;j83 < S83.length;j83++){U0o="R";U0o+="esult";U0o+=" ";if(!j83)continue;O83=S83[j83];if(O83.futureTick)break;Q6II.N7a(5);X83=S83[Q6II.h8a(j83,1)];i83=0;if(O83.Close > X83.Close){i83=O83.Close - Math.min(O83.Low,X83.Close);}else if(O83.Close < X83.Close){i83=O83.Close - Math.max(O83.High,X83.Close);}if(o83.inputs["Use Volume"]){i83*=O83.Volume;}W83=X83["Result " + o83.name];if(!W83){W83=0;}W83+=i83;if(!isNaN(O83.Close)){O83[U0o + o83.name]=W83;}}};K83.Studies.studyLibrary=K83.extend(K83.Studies.studyLibrary,{"W Acc Dist":{name:x0o,calculateFN:K83.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !""}}});}};k2l=L83=>{var X0o,N83,m0o,k0o;X0o="un";Q6II.o6I();X0o+="def";X0o+="ined";N83=typeof _CIQ !== X0o?_CIQ:L83.CIQ;if(!N83.Studies){console.error("adx feature requires first activating studies feature.");}else {m0o="#F";m0o+="F";m0o+="0000";k0o="AD";k0o+="X/DMS";N83.Studies.calculateADX=function(n43,B83){var n1I=Q6II;var r83,R33,P33,Y33,l33,g33,b33,I83,k33,V33,D33,C33,j33,P0o,d0o,S33;N83.Studies.calculateStudyATR(n43,B83);r83=B83.chart.scrubbed;R33=B83.days;P33=parseInt(B83.inputs["Smoothing Period"],10);if(!P33 && P33 !== 0){P33=R33;}if(r83.length < B83.days + 1){B83.error=! ![];return;}Y33=0;l33=0;g33=0;b33=0;for(var A83=Math.max(+"1",B83.startFrom);A83 < r83.length;A83++){I83=r83[A83];k33=Math.max(+"0",I83.High - r83[A83 - 1].High);V33=Math.max(0,r83[A83 - 1].Low - I83.Low);if(k33 > V33){V33=0;}else if(V33 > k33){k33=+"0";}else {k33=V33=0;}if(A83 <= R33){l33+=k33;g33+=V33;Y33+=I83["True Range " + B83.name];}else {l33=r83[A83 - 1]["_sm+DM " + B83.name] * (R33 - ("1" ^ 0)) / R33 + k33;g33=r83[A83 - +"1"]["_sm-DM " + B83.name] * (R33 - 1) / R33 + V33;Y33=r83[A83 - 1]["_smTR " + B83.name] * (R33 - +"1") / R33 + I83["True Range " + B83.name];}I83["_sm+DM " + B83.name]=l33;I83["_sm-DM " + B83.name]=g33;I83["_smTR " + B83.name]=Y33;if(A83 < R33)continue;n1I.N7a(65);D33=n1I.h8a(l33,100,Y33);n1I.N7a(66);C33=n1I.h8a(0,Y33,"100",g33);j33=100 * Math.abs(D33 - C33) / (D33 + C33);I83["+DI " + B83.name]=D33;I83["-DI " + B83.name]=C33;if(B83.inputs.Series !== !"1" && P33){if(A83 < R33 + P33 - 1){if(A83 == B83.startFrom){for(var m33=R33;m33 < B83.startFrom;m33++){P0o="-";P0o+="D";P0o+="I ";b33+=100 * Math.abs(r83[m33]["+DI " + B83.name] - r83[m33][P0o + B83.name]) / (r83[m33]["+DI " + B83.name] + r83[m33]["-DI " + B83.name]);}}b33+=j33;}else if(A83 == R33 + P33 - 1){n1I.N7a(8);I83["ADX " + B83.name]=n1I.h8a(b33,P33);}else {I83["ADX " + B83.name]=(r83[A83 - 1]["ADX " + B83.name] * (P33 - 1) + j33) / P33;}}if(B83.inputs.Histogram){d0o="-";d0o+="D";d0o+="I";d0o+=" ";S33=B83.name + "_hist";if(!I83["+DI " + B83.name] && I83["+DI " + B83.name] !== +"0")continue;if(!I83["-DI " + B83.name] && I83["-DI " + B83.name] !== ("0" | 0))continue;I83[S33]=I83["+DI " + B83.name] - I83[d0o + B83.name];if(B83.inputs.Series === !{}){I83["+DI " + B83.name]=null;I83["-DI " + B83.name]=null;}B83.outputMap[S33]="";}}};N83.Studies.displayADX=function(c43,a43,k43){var u43,F43,R43,V43,M43,e43,P43;u43=a43.underlay?0.3:a43.inputs.Series?0.4:"1" >> 459628224;if(a43.inputs.Series && a43.inputs.Shading){F43="+DI " + a43.name;R43="-DI " + a43.name;V43=N83.Studies.determineColor(a43.outputs[a43.outputMap[F43]]);M43=N83.Studies.determineColor(a43.outputs[a43.outputMap[R43]]);e43=a43.getYAxis(c43);P43={topBand:F43,bottomBand:R43,topColor:V43,bottomColor:M43,skipTransform:c43.panels[a43.panel].name != a43.chart.name,topAxis:e43,bottomAxis:e43,opacity:0.3};if(!a43.highlight && c43.highlightedDraggable){P43.opacity*=0.3;}N83.fillIntersecting(c43,a43.panel,P43);}if(a43.inputs.Histogram){N83.Studies.createHistogram(c43,a43,k43,! !0,u43);}if(a43.inputs.Series !== !"1"){N83.Studies.displaySeriesAsLine(c43,a43,k43);}else if(!a43.inputs.Series && !a43.inputs.Histogram){c43.displayErrorAsWatermark(a43.panel,c43.translateIf(a43.name) + ": " + c43.translateIf("Nothing to display"));}};N83.Studies.studyLibrary=N83.extend(N83.Studies.studyLibrary,{ADX:{name:k0o,calculateFN:N83.Studies.calculateADX,seriesFN:N83.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:![]},outputs:{"+DI":"#00FF00","-DI":m0o,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};u2l=m43=>{var f0o,v43,R0o,Y0o;f0o="un";f0o+="defin";f0o+="e";f0o+="d";v43=typeof _CIQ !== f0o?_CIQ:m43.CIQ;if(!v43.Studies){console.error("alligator feature requires first activating studies feature.");}else {R0o="#";R0o+="00";R0o+="DD";R0o+="00";Y0o="Alligato";Y0o+="r";v43.Studies.calculateAlligator=function(z43,p43){var q1I=Q6II;var t0o,j0o,Z43,y43,I0o,S0o,V0o,D0o,A0o,M0o,u0o,w0o,E43,t43,h43;t0o="Teeth P";t0o+="eri";t0o+="od";j0o="Ja";j0o+="w Period";Z43={J:Number(p43.inputs[j0o]),T:Number(p43.inputs[t0o]),L:Number(p43.inputs["Lips Period"])};y43=p43.chart.scrubbed;if(y43.length < Math.max(Z43.J,Z43.T,Z43.L) + 1){p43.error=! ![];return;}if(p43.type === "Gator" || p43.inputs["Show Lines"]){I0o="Lips";I0o+=" Offset";S0o="Te";S0o+="e";S0o+="t";S0o+="h";V0o="Teet";V0o+="h Offset";D0o="J";D0o+="aw";A0o="welles wild";A0o+="er";v43.Studies.MA(A0o,Z43.J,"hl/2",p43.inputs["Jaw Offset"],D0o,z43,p43);v43.Studies.MA("welles wilder",Z43.T,"hl/2",p43.inputs[V0o],S0o,z43,p43);v43.Studies.MA("welles wilder",Z43.L,"hl/2",p43.inputs[I0o],"Lips",z43,p43);}for(var s43=p43.startFrom;s43 < y43.length;s43++){M0o="Ga";M0o+="to";M0o+="r";if(!y43[s43])continue;if(p43.type == M0o){u0o="_";u0o+="hist1";w0o="T";w0o+="eet";w0o+="h";w0o+=" ";E43=y43[s43]["Jaw " + p43.name];t43=y43[s43]["Lips " + p43.name];h43=y43[s43][w0o + p43.name];if(h43 || h43 === +"0"){if(E43 || E43 === 0){q1I.U7a(5);y43[s43][p43.name + "_hist1"]=Math.abs(q1I.H8a(E43,h43));}if(t43 || t43 === +"0"){q1I.N7a(5);y43[s43][p43.name + "_hist2"]=-Math.abs(q1I.h8a(h43,t43));}}p43.outputMap={};p43.outputMap[p43.name + u0o]="";p43.outputMap[p43.name + "_hist2"]="";}if(p43.inputs["Show Fractals"]){if(!y43[s43 - ("2" >> 1142341792)] || !y43[s43 - ("1" | 0)] || !y43[s43] || !y43[s43 + ("1" - 0)] || !y43[s43 + 2])continue;if(y43[s43 - ("2" | 0)].High && y43[s43 - +"1"].High && y43[s43].High && y43[s43 + 1].High && y43[s43 + 2].High){if(y43[s43].High > y43[s43 - 1].High && y43[s43].High > y43[s43 - 2].High && y43[s43].High > y43[s43 + +"1"].High && y43[s43].High > y43[s43 + +"2"].High){y43[s43]["Fractal High " + p43.name]=1;}}if(y43[s43 - 2].Low && y43[s43 - 1].Low && y43[s43].Low && y43[s43 + 1].Low && y43[s43 + +"2"].Low){if(y43[s43].Low < y43[s43 - 1].Low && y43[s43].Low < y43[s43 - +"2"].Low && y43[s43].Low < y43[s43 + +"1"].Low && y43[s43].Low < y43[s43 + 2].Low){y43[s43]["Fractal Low " + p43.name]=1;}}}}};v43.Studies.displayAlligator=function(Q43,G43,Y43){var v0o,w43,b0o;v0o="Show Frac";v0o+="t";v0o+="als";w43=G43.getContext(Q43);if(G43.inputs["Show Lines"]){v43.Studies.displaySeriesAsLine(Q43,G43,Y43);}if(G43.inputs[v0o]){Q43.startClip();w43.globalAlpha=G43.underlay?0.3:1;if(!G43.highlight && Q43.highlightedDraggable){w43.globalAlpha*=0.3;}for(var d43=2;d43 < Y43.length - 2;d43++){if(Y43[d43]){b0o="h";b0o+="i";b0o+="gh";if(Y43[d43]["Fractal High " + G43.name]){H43(b0o,d43);}if(Y43[d43]["Fractal Low " + G43.name]){H43("low",d43);}}}Q43.endClip();}function H43(x43,g43){var B1w,W1w,J1w,l43,f43,e0o,C0o;B1w=-650736057;W1w=-1168239618;J1w=2;for(var n1w=1;Q6II.t0w(n1w.toString(),n1w.toString().length,"83234" & 2147483647) !== B1w;n1w++){J1w+=2;}if(Q6II.A0w(J1w.toString(),J1w.toString().length,84756) !== W1w){}f43=Q43.chart.panel.yAxis.flipped;if(x43 == "high"){e0o="b";e0o+="ottom";w43.fillStyle=Q43.defaultColor;w43.textBaseline=f43?"top":e0o;l43=Q43.pixelFromPrice(Y43[g43].High);w43.fillText(f43?"\u25BC":1720 == 3580?(! ![],0x23b5):"\u25B2",Q43.pixelFromBar(d43,Q43.chart) - w43.measureText("\u25B2").width / 2 + 1,f43?l43 + 5:l43 - 5);;}else if(x43 == "low"){C0o="t";C0o+="op";w43.fillStyle=Q43.defaultColor;w43.textBaseline=f43?"bottom":C0o;l43=Q43.pixelFromPrice(Y43[g43].Low);w43.fillText(f43?"\u25B2":(1500,3731) == (+"170.25",9711)?4755 !== (2860,1760)?(740.12,3324) < (168.21,571)?(954.20,!"1"):"X":4.87e+3:"\u25BC",Q43.pixelFromBar(d43,Q43.chart) - w43.measureText(("9300" ^ 0,9468) > (7880,+"7355")?(5360,5408) !== (9030,+"447.94")?"\u25BC":8.45e+3:321.96).width / 2 + ("1" >> 1418769952),f43?l43 - 5:l43 + 5);;}}};v43.Studies.displayGator=function(b43,q43,X43){var b1I=Q6II;var i0o,h0o,j43,C43,o43,i43,U43,W43,S43,K43,O43,L0o;i0o="stx_hi";i0o+="stogram";h0o="D";h0o+="ecreasing";h0o+=" ";h0o+="Bar";j43=b43.panels[q43.panel];C43=q43.getContext(b43);o43=q43.getYAxis(b43);i43=b43.pixelFromPrice(0,j43,o43);U43=b43.layout.candleWidth - +"2";if(U43 < 2){U43=1;}W43=v43.Studies.determineColor(q43.outputs["Increasing Bar"]);S43=v43.Studies.determineColor(q43.outputs[h0o]);b43.canvasColor(i0o);if(!q43.underlay){C43.globalAlpha=1;}C43.fillStyle="#CCCCCC";b43.startClip(q43.panel);if(!q43.highlight && b43.highlightedDraggable){b1I.U7a(22);C43.globalAlpha*=b1I.H8a("0.3",1);}for(var J43=0;J43 < X43.length;J43++){K43=X43[J43];b1I.N7a(67);O43=X43[b1I.h8a("1",J43,1507199840)];if(!K43)continue;for(var D43=1;D43 <= 2;D43++){L0o="_";L0o+="h";L0o+="ist";if(!O43){O43=b43.getPreviousBar(b43.chart,q43.name + "_hist" + D43,J43);}if(!O43){C43.fillStyle="#CCCCCC";}else if(Math.abs(O43[q43.name + L0o + D43]) < Math.abs(K43[q43.name + "_hist" + D43])){C43.fillStyle=W43;}else if(Math.abs(O43[q43.name + "_hist" + D43]) > Math.abs(K43[q43.name + "_hist" + D43])){C43.fillStyle=S43;}if(K43.candleWidth){U43=Math.floor(Math.max(1,K43.candleWidth - 2));}C43.fillRect(Math.floor(b43.pixelFromBar(J43,j43.chart) - U43 / 2),Math.floor(i43),Math.floor(U43),Math.floor(b43.pixelFromPrice(K43[q43.name + "_hist" + D43],j43,o43) - i43));}}b43.endClip();};v43.Studies.studyLibrary=v43.extend(v43.Studies.studyLibrary,{Alligator:{name:Y0o,overlay:! !{},seriesFN:v43.Studies.displayAlligator,calculateFN:v43.Studies.calculateAlligator,inputs:{"Show Lines":! ![],"Jaw Period":+"13","Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!"1"},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:R0o}},Gator:{name:"Gator Oscillator",seriesFN:v43.Studies.displayGator,calculateFN:v43.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":+"5","Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};V2l=N43=>{var T43,Q0o;T43=typeof _CIQ !== "undefined"?_CIQ:N43.CIQ;Q6II.o6I();if(!T43.Studies){Q0o="aroon feature requires fi";Q0o+="rst activating studies feature.";console.error(Q0o);}else {T43.Studies.calculateAroon=function(W03,L43){var a03,F03,y03,I43,A43,r0o,H03,r43,c0o,K0o,B43,K03,U03,X03,i03;a03=L43.chart.scrubbed;if(a03.length < L43.days + 1){L43.error=!"";return;}F03=0;Q6II.o6I();y03=0;I43=null;A43=null;if(L43.startFrom > 0){r0o="_s";r0o+="tat";r0o+="e";r0o+=" ";H03=a03[L43.startFrom - 1][r0o + L43.name];if(H03){F03=H03[0];Q6II.U7a(23);y03=H03[Q6II.h8a(0,"1")];I43=H03[2];A43=H03[+"3"];}}for(var Q03=L43.startFrom;Q03 < a03.length;Q03++){c0o="Aroon Dow";c0o+="n";c0o+=" ";K0o="Aroon";K0o+=" O";K0o+="scillator";K0o+=" ";B43=a03[Q03];if(B43.futureTick)break;if(I43 === null){I43=B43.High;}if(A43 === null){A43=B43.Low;}I43=Math.max(I43,B43.High);if(I43 == B43.High){F03=+"0";}else {F03++;if(F03 > L43.days){I43=B43.High;F03=0;for(r43=1;r43 <= L43.days;r43++){I43=Math.max(I43,a03[Q03 - r43].High);if(I43 == a03[Q03 - r43].High){F03=r43;}}}}A43=Math.min(A43,B43.Low);if(A43 == B43.Low){y03=0;}else {y03++;if(y03 > L43.days){A43=B43.Low;y03=0;for(r43=+"1";r43 <= L43.days;r43++){A43=Math.min(A43,a03[Q03 - r43].Low);if(A43 == a03[Q03 - r43].Low){y03=r43;}}}}K03=!isNaN(B43.High);U03=!isNaN(B43.Low);X03=100 * (+"1" - F03 / L43.days);if(K03){B43["Aroon Up " + L43.name]=X03;}i03=100 * (1 - y03 / L43.days);if(U03){B43["Aroon Down " + L43.name]=i03;}if(K03 && U03){B43[K0o + L43.name]=B43["Aroon Up " + L43.name] - B43[c0o + L43.name];}B43["_state " + L43.name]=[F03,y03,I43,A43];}};T43.Studies.studyLibrary=T43.extend(T43.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:T43.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:T43.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};M2l=L03=>{Q6II.o6I();var T03,l0o,Z0o,G0o,o0o,E0o,T0o;T03=typeof _CIQ !== "undefined"?_CIQ:L03.CIQ;if(!T03.Studies){console.error("atr feature requires first activating studies feature.");}else {l0o="sq";l0o+="uare";l0o+="wav";l0o+="e";Z0o="ATR Trailing";Z0o+=" Stops";G0o="au";G0o+="to";o0o="STARC";o0o+=" B";o0o+="ands";E0o="a";E0o+="ut";E0o+="o";T0o="Ave";T0o+="rage True Range";T03.Studies.calculateATRBands=function(c63,n63){var s0o,a63;s0o="A";s0o+="TR";s0o+=" ";T03.Studies.calculateStudyATR(c63,n63);a63=n63.inputs.Field;if(!a63 || a63 == "field"){a63="Close";}T03.Studies.calculateGenericEnvelope(c63,n63,n63.inputs.Shift,a63,s0o + n63.name);};T03.Studies.calculateSTARCBands=function(R63,F63){var F0o;F0o="_";F0o+="M";F0o+="A";T03.Studies.calculateStudyATR(R63,F63);T03.Studies.MA("simple",F63.inputs["MA Period"],"Close",0,F0o,R63,F63);T03.Studies.calculateGenericEnvelope(R63,F63,F63.inputs.Multiplier,"_MA " + F63.name,"ATR " + F63.name);};T03.Studies.calculateATRStops=function(p63,e63){var p1I=Q6II;var p0o,y0o,V63,m63,O0o,g0o,P63,s63,k63,u63,v63,y63,N0o,q0o;p0o="All S";p0o+="t";p0o+="o";p0o+="ps ";y0o="A";y0o+="ll S";y0o+="top";y0o+="s";V63=e63.chart.scrubbed;if(!V63){return;}T03.Studies.calculateStudyATR(p63,e63);m63=e63.inputs.HighLow;for(var M63=Math.max(e63.startFrom - ("1" | 0),+"1");M63 < V63.length - 1;M63++){O0o="All";O0o+=" Stops ";g0o="ATR";g0o+=" ";P63=V63[M63];p1I.U7a(5);s63=V63[p1I.h8a(M63,1)];k63=P63["Buy Stops " + e63.name];if(!k63){k63=P63["Sell Stops " + e63.name];}if(!k63){p1I.N7a(5);k63=p1I.h8a("0",0);}if(!P63 || !s63)continue;u63=P63.Close;v63=u63;y63=P63[g0o + e63.name] * e63.inputs.Multiplier;if(P63.Close > k63 && s63.Close > k63){if(m63){u63=P63.High;}p1I.U7a(5);v63=Math.max(k63,p1I.h8a(u63,y63));}else if(P63.Close <= k63 && s63.Close <= k63){if(m63){u63=P63.Low;}p1I.N7a(0);v63=Math.min(k63,p1I.H8a(y63,u63));}else if(P63.Close > k63){if(m63){u63=P63.High;}p1I.U7a(5);v63=p1I.H8a(u63,y63);}else if(P63.Close <= k63){if(m63){u63=P63.Low;}p1I.N7a(0);v63=p1I.h8a(y63,u63);}if(u63 <= v63){N0o="Sell Sto";N0o+="p";N0o+="s ";q0o="Buy S";q0o+="tops ";p1I.U7a(68);V63[p1I.h8a("1",M63,2147483647)][q0o + e63.name]=v63;p1I.N7a(19);delete V63[p1I.H8a("1",0,M63)][N0o + e63.name];}else if(u63 > v63){p1I.U7a(0);V63[p1I.H8a(1,M63)]["Sell Stops " + e63.name]=v63;p1I.N7a(0);delete V63[p1I.H8a(1,M63)]["Buy Stops " + e63.name];}p1I.N7a(0);V63[p1I.H8a(1,M63)][O0o + e63.name]=v63;}e63.referenceOutput=y0o;e63.outputMap={};e63.outputMap[p0o + e63.name]="";};T03.Studies.studyLibrary=T03.extend(T03.Studies.studyLibrary,{ATR:{name:T0o,calculateFN:T03.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! ![],seriesFN:T03.Studies.displayChannel,calculateFN:T03.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":E0o},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:o0o,overlay:! !"1",seriesFN:T03.Studies.displayChannel,calculateFN:T03.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:+"1.3","Channel Fill":! !"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":G0o},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:Z0o,overlay:! ![],seriesFN:T03.Studies.displayPSAR2,calculateFN:T03.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",l0o],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};v2l=h63=>{var Z63,S2w,I2w,M2w,U1o;Q6II.i6I();Z63=typeof _CIQ !== "undefined"?_CIQ:h63.CIQ;if(!Z63.Studies){S2w=1578385901;I2w=-321526791;M2w=2;for(var u2w=1;Q6II.t0w(u2w.toString(),u2w.toString().length,+"26605") !== S2w;u2w++){console.error("");M2w+=2;}if(Q6II.A0w(M2w.toString(),M2w.toString().length,67157) !== I2w){console.error("awesomeOscillator feature requires first activating studies feature.");}}else {U1o="#00";U1o+="DD";U1o+="00";Z63.Studies.calculateAwesomeOscillator=function(Q63,E63){var B1o,H0o,t63,W1o;B1o="_";B1o+="M";B1o+="A";B1o+="5";H0o="simp";H0o+="le";t63=E63.chart.scrubbed;if(t63.length < 33){E63.error=! !{};return;}Z63.Studies.MA(H0o,5,"hl/2",0,B1o,Q63,E63);Z63.Studies.MA("simple",34,"hl/2",0,"_MA34",Q63,E63);for(var z63=Math.max(E63.startFrom,33);z63 < t63.length;z63++){W1o="_";W1o+="M";W1o+="A5 ";if(!t63[z63])continue;t63[z63][E63.name + "_hist"]=t63[z63][W1o + E63.name] - t63[z63]["_MA34 " + E63.name];}E63.outputMap={};E63.outputMap[E63.name + "_hist"]="";};Z63.Studies.displayAwesomeOscillator=function(d63,w63,g63){var J1o,x63,G63,q63,b63,f63,D63,C63,a1o,n1o,z1o,H63,l63;J1o="s";J1o+="tx_histogram";x63=d63.panels[w63.panel];G63=w63.getContext(d63);q63=w63.getYAxis(d63);b63=d63.pixelFromPrice(0,x63,q63);f63=d63.layout.candleWidth - 2;if(f63 < 2){f63=1;}D63=Z63.Studies.determineColor(w63.outputs["Increasing Bar"]);C63=Z63.Studies.determineColor(w63.outputs["Decreasing Bar"]);d63.canvasColor(J1o);if(!w63.underlay){G63.globalAlpha=1;}G63.fillStyle="#CCCCCC";d63.startClip(w63.panel);if(!w63.highlight && d63.highlightedDraggable){G63.globalAlpha*=0.3;}for(var Y63=0;Y63 < g63.length;Y63++){a1o="_";a1o+="hi";a1o+="st";n1o="_";n1o+="h";n1o+="i";n1o+="st";z1o="_";z1o+="h";z1o+="i";z1o+="st";H63=g63[Y63];Q6II.U7a(59);l63=g63[Q6II.H8a("1",Y63)];if(!l63){l63=d63.getPreviousBar(d63.chart,w63.name + z1o,Y63);}if(!H63)continue;if(!l63);else if(l63[w63.name + "_hist"] < H63[w63.name + "_hist"]){G63.fillStyle=D63;}else if(l63[w63.name + n1o] > H63[w63.name + "_hist"]){G63.fillStyle=C63;}if(H63.candleWidth){f63=Math.floor(Math.max(1,H63.candleWidth - 2));}G63.fillRect(Math.floor(d63.pixelFromBar(Y63,x63.chart) - f63 / +"2"),Math.floor(b63),Math.floor(f63),Math.floor(d63.pixelFromPrice(H63[w63.name + a1o],x63,q63) - b63));}d63.endClip();};Z63.Studies.studyLibrary=Z63.extend(Z63.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:Z63.Studies.displayAwesomeOscillator,calculateFN:Z63.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":U1o,"Decreasing Bar":"#FF0000"}}});}};m2l=K63=>{var J63,x1o,m1o,k1o,d1o;J63=typeof _CIQ !== "undefined"?_CIQ:K63.CIQ;if(!J63.Studies){x1o="balanceOfPower feature requires fi";x1o+="rst ";x1o+="activati";x1o+="ng studies feature.";console.error(x1o);}else {m1o="m";m1o+="a";k1o="-1 ";k1o+="to";k1o+=" ";k1o+="1";d1o="Balance";d1o+=" of Pow";d1o+="er";J63.Studies.calculateBalanceOfPower=function(o63,U63){var i1I=Q6II;var P1o,j63,o0w,G0w,Z0w,X1o,O63;P1o="R";P1o+="e";P1o+="sult";j63=U63.chart.scrubbed;if(j63.length < U63.days + ("1" | 1)){i1I.N7a(20);o0w=i1I.H8a("543727147",2147483647);G0w=-1251113511;Z0w=2;for(var H0w=1;i1I.A0w(H0w.toString(),H0w.toString().length,91726) !== o0w;H0w++){U63.error=! !{};Z0w+=2;}if(i1I.A0w(Z0w.toString(),Z0w.toString().length,78839) !== G0w){U63.error=!{};}return;}for(var X63=U63.startFrom;X63 < j63.length;X63++){X1o="_";X1o+="Ratio ";O63=j63[X63];O63["_Ratio " + U63.name]=O63.Close - O63.Open;if(O63.High - O63.Low !== 0){O63[X1o + U63.name]/=O63.High - O63.Low;}}i1I.o6I();J63.Studies.MA(U63.inputs["Moving Average Type"],U63.days,"_Ratio " + U63.name,0,P1o,o63,U63);};J63.Studies.studyLibrary=J63.extend(J63.Studies.studyLibrary,{"Bal Pwr":{name:d1o,range:k1o,centerline:0,calculateFN:J63.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":m1o}}});}};y2l=W63=>{var i63,f1o,e1o,u1o,w1o,M1o,I1o,S1o,V1o;Q6II.i6I();i63=typeof _CIQ !== "undefined"?_CIQ:W63.CIQ;if(!i63.Studies){f1o="bollinger featur";f1o+="e requires first activating stud";f1o+="ies feat";f1o+="ure.";console.error(f1o);}else {e1o="au";e1o+="to";u1o="aut";u1o+="o";w1o="m";w1o+="a";M1o="f";M1o+="ield";I1o="au";I1o+="to";S1o="m";S1o+="a";V1o="Bolling";V1o+="er";V1o+=" Bands";i63.Studies.calculateBollinger=function(N63,S63){var D1o,A1o,t1o,j1o,T63;D1o="%";D1o+="b";A1o="Stand";A1o+="ard ";A1o+="De";A1o+="viations";t1o="C";t1o+="lo";t1o+="se";j1o="fi";j1o+="e";j1o+="l";j1o+="d";T63=S63.inputs.Field;if(!T63 || T63 == j1o){T63=t1o;}i63.Studies.MA(S63.inputs["Moving Average Type"],S63.days,T63,"0" << 1548338848,"_MA",N63,S63);S63.std=new i63.Studies.StudyDescriptor(S63.name,"STD Dev",S63.panel);S63.std.chart=S63.chart;S63.std.startFrom=S63.startFrom;S63.std.days=S63.days;S63.std.inputs={Field:T63,"Standard Deviations":1,Type:S63.inputs["Moving Average Type"]};S63.std.outputs={"_STD Dev":null};i63.Studies.calculateStandardDeviation(N63,S63.std);i63.Studies.calculateGenericEnvelope(N63,S63,S63.inputs[A1o],"_MA " + S63.name,"_STD Dev " + S63.name);if(S63.type == "Boll %b"){S63.zoneOutput=D1o;}};i63.Studies.studyLibrary=i63.extend(i63.Studies.studyLibrary,{"Bollinger Bands":{name:V1o,overlay:! ![],calculateFN:i63.Studies.calculateBollinger,seriesFN:i63.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":S1o,"Channel Fill":!""},outputs:{"Bollinger Bands Top":I1o,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:i63.Studies.calculateBollinger,inputs:{Period:20,Field:M1o,"Standard Deviations":2,"Moving Average Type":w1o},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"100",studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:u1o}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:i63.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:e1o},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}}});}};s2l=B63=>{var L63,h1o;L63=typeof _CIQ !== "undefined"?_CIQ:B63.CIQ;if(!L63.Studies){console.error("cci feature requires first activating studies feature.");}else {h1o="au";h1o+="t";h1o+="o";L63.Studies.calculateCCI=function(F73,I63){var r63,b1o,v1o,C1o,A63,a73;r63=I63.chart.scrubbed;Q6II.o6I();if(r63.length < I63.days + 1){I63.error=! !{};return;}L63.Studies.MA("simple",I63.days,"hlc/3",0,"MA",F73,I63);for(var n73=Math.max(I63.startFrom,I63.days - 1);n73 < r63.length;n73++){b1o="M";b1o+="A";b1o+=" ";v1o="R";v1o+="es";v1o+="ult ";C1o="R";C1o+="esu";C1o+="lt ";A63=r63[n73];if(!A63)continue;a73=0;for(var c73=0;c73 < I63.days;c73++){a73+=Math.abs(r63[n73 - c73]["hlc/3"] - A63["MA " + I63.name]);}a73/=I63.days;if(Math.abs(a73) < 0.00000001){A63[C1o + I63.name]=0;}else {A63[v1o + I63.name]=(A63["hlc/3"] - A63[b1o + I63.name]) / (0.015 * a73);}}};L63.Studies.studyLibrary=L63.extend(L63.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:L63.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-("100" - 0),studyOverSoldColor:h1o}},attributes:{Period:{min:2}}}});}};p2l=e73=>{var R73;Q6II.i6I();R73=typeof _CIQ !== "undefined"?_CIQ:e73.CIQ;if(!R73.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {R73.Studies.calculateCenterOfGravity=function(s73,P73){var A1I=Q6II;var i1o,k73,u73,m73,v73,y73;i1o="fiel";A1I.o6I();i1o+="d";k73=P73.chart.scrubbed;if(k73.length < P73.days){P73.error=!"";return;}u73=P73.inputs.Field;if(!u73 || u73 == i1o){u73="Close";}for(var V73=Math.max(P73.startFrom,P73.days - 1);V73 < k73.length;V73++){m73=0;v73=0;for(var M73=0;M73 < P73.days;M73++){A1I.N7a(5);y73=k73[A1I.h8a(V73,M73)][u73];A1I.U7a(69);m73-=A1I.H8a(1,y73,M73);v73+=y73;}if(v73){A1I.N7a(8);k73[V73]["Result " + P73.name]=A1I.h8a(m73,v73);}}};R73.Studies.studyLibrary=R73.extend(R73.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:R73.Studies.calculateCenterOfGravity,inputs:{Period:+"10",Field:"field"}}});}};Z2l=Z73=>{var p73,L1o,c1o;Q6II.o6I();p73=typeof _CIQ !== "undefined"?_CIQ:Z73.CIQ;if(!p73.Studies){L1o="ch";L1o+="aikin feature requires first activating s";L1o+="tudies ";L1o+="feature.";console.error(L1o);}else {c1o="Chaikin";c1o+=" Vola";c1o+="tili";c1o+="ty";p73.Studies.calculateChaikinMoneyFlow=function(d73,t73){var B1I=Q6II;var P2w,d2w,k2w,h73,Q73,z73,w73;P2w=1657576449;d2w=2123977805;k2w=+"2";for(var f2w=1;B1I.A0w(f2w.toString(),f2w.toString().length,52640) !== P2w;f2w++){h73=t73.chart.scrubbed;k2w+=2;}B1I.i6I();if(B1I.A0w(k2w.toString(),k2w.toString().length,+"62918") !== d2w){h73=t73.chart.scrubbed;}h73=t73.chart.scrubbed;if(h73.length < t73.days){t73.error=! ![];return;}Q73=+"0";z73=+"0";w73=h73[t73.startFrom - ("1" << 168128512)];if(w73){if(w73["_sumMF " + t73.name]){Q73=w73["_sumMF " + t73.name];}if(w73["_sumV " + t73.name]){z73=w73["_sumV " + t73.name];}}for(var E73=t73.startFrom;E73 < h73.length;E73++){if(h73[E73].High == h73[E73].Low){h73[E73]["_MFV " + t73.name]=0;}else {h73[E73]["_MFV " + t73.name]=h73[E73].Volume * (2 * h73[E73].Close - h73[E73].High - h73[E73].Low) / (h73[E73].High - h73[E73].Low);}Q73+=h73[E73]["_MFV " + t73.name];z73+=h73[E73].Volume;if(E73 > t73.days - 1){Q73-=h73[E73 - t73.days]["_MFV " + t73.name];z73-=h73[E73 - t73.days].Volume;if(z73){B1I.U7a(8);h73[E73]["Result " + t73.name]=B1I.H8a(Q73,z73);}}h73[E73]["_sumMF " + t73.name]=Q73;h73[E73]["_sumV " + t73.name]=z73;}};p73.Studies.calculateChaikinVolatility=function(l73,G73){var R1o,Y1o,H73,Y73,f73,K1o,r1o,Q1o;R1o="Ra";R1o+="te O";R1o+="f Chan";R1o+="ge";Y1o="_High-";Y1o+="L";Y1o+="ow";Y1o+=" ";H73=G73.chart.scrubbed;if(H73.length < G73.days){G73.error=! ![];return;}for(Y73=G73.startFrom;Y73 < H73.length;Y73++){if(H73[Y73].futureTick)break;H73[Y73]["_High-Low " + G73.name]=H73[Y73].High - H73[Y73].Low;}p73.Studies.MA(G73.inputs["Moving Average Type"],G73.days,Y1o + G73.name,0,"_MA",l73,G73);f73=G73.inputs[R1o];if(!f73){f73=G73.days;}for(Y73=Math.max(G73.startFrom,f73);Y73 < H73.length;Y73++){K1o="_";K1o+="MA";K1o+=" ";r1o="R";r1o+="esu";r1o+="lt ";Q1o="_";Q1o+="M";Q1o+="A";Q1o+=" ";if(!H73[Y73 - f73][Q1o + G73.name])continue;if(H73[Y73].futureTick)break;H73[Y73][r1o + G73.name]=100 * (H73[Y73]["_MA " + G73.name] / H73[Y73 - f73][K1o + G73.name] - 1);}};p73.Studies.studyLibrary=p73.extend(p73.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:p73.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:c1o,calculateFN:p73.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};h2l=g73=>{var x73,g1o,s1o;x73=typeof _CIQ !== "undefined"?_CIQ:g73.CIQ;Q6II.i6I();if(!x73.Studies){console.error("chande feature requires first activating studies feature.");}else {g1o="aut";g1o+="o";s1o="V";s1o+="ar";s1o+="i";s1o+="able";x73.Studies.prettify.variable="vma";x73.Studies.movingAverage.conversions.vma="variable";x73.Studies.movingAverage.translations.variable=s1o;x73.Studies.movingAverage.typeMap.vma="Variable";x73.Studies.movingAverage.typeMap.variable="Variable";x73.Studies.calculateChandeForecast=function(K73,q73){var b73,E4w,o4w,G4w,D73,J73;b73=q73.chart.scrubbed;if(b73.length < q73.days + 1){E4w=1519939686;o4w=743974334;G4w=2;for(var l4w=1;Q6II.t0w(l4w.toString(),l4w.toString().length,"60828" - 0) !== E4w;l4w++){q73.error=!1;return;}if(Q6II.A0w(G4w.toString(),G4w.toString().length,"36277" * 1) !== o4w){q73.error=! !{};return;}}D73=q73.inputs.Field;if(!D73 || D73 == "field"){D73="Close";}x73.Studies.MA("time series",q73.days,D73,0,"MA",K73,q73);for(var C73=Math.max(1,q73.startFrom);C73 < b73.length;C73++){J73=b73[C73][D73];if(J73 && typeof J73 == "object"){J73=J73[q73.subField];}b73[C73]["Result " + q73.name]=100 * (1 - b73[C73]["MA " + q73.name] / J73);}};x73.Studies.calculateChandeMomentum=function(A73,U73){var k1I=Q6II;var W73,X73,o73,S73,T73,N73,i73,j73,L73,B73;W73=U73.name;for(var I73 in U73.outputs){k1I.N7a(49);W73=k1I.h8a(1970 < (715.23,835.64)?! ![]:" ",I73,W73);}X73=U73.chart.scrubbed;if(X73.length < U73.days + 1){U73.error=! ![];return;}o73=U73.inputs.Field;if(!o73 || o73 == "field"){o73="Close";}S73=0;T73=0;N73=[];for(var O73=U73.startFrom - U73.days + +"1";O73 < X73.length;O73++){if(O73 < 1)continue;i73=X73[O73][o73];k1I.N7a(5);j73=X73[k1I.H8a(O73,1)][o73];if(i73 && typeof i73 == "object"){i73=i73.Close;}if(j73 && typeof j73 == "object"){j73=j73.Close;}if(j73 === undefined)continue;k1I.N7a(5);L73=k1I.h8a(i73,j73);N73.push(L73);S73+=L73;T73+=Math.abs(L73);if(N73.length == U73.days){k1I.U7a(65);X73[O73][W73]=k1I.H8a(S73,100,T73);B73=N73.shift();S73-=B73;T73-=Math.abs(B73);}}};x73.Studies.calculateMovingAverageVariable=function(Z13,r73){var L1I=Q6II;var t13,F13,y13,e13,R13,P13,c13,n13,a13,k13,v13,s13,m13,F1o,u13,E13,V13,p13,M13;t13=r73.inputs.Type;L1I.i6I();F13=r73.chart.scrubbed;y13=("2" ^ 0) / (r73.days + 1);e13=null;R13=r73.name;for(var h13 in r73.outputs){L1I.N7a(49);R13=L1I.H8a(" ",h13,R13);}P13=r73.inputs.Field;if(!P13 || P13 == "field"){P13="Close";}r73.cmo=new x73.Studies.StudyDescriptor(r73.name,"cmo",r73.panel);r73.cmo.chart=r73.chart;r73.cmo.days=9;r73.cmo.inputs={Field:P13};r73.cmo.startFrom=r73.startFrom;r73.cmo.outputs={_CMO:null};x73.Studies.calculateChandeMomentum(Z13,r73.cmo);c13=parseInt(r73.inputs.Offset,10);if(isNaN(c13)){c13=+"0";}v13=r73.startFrom;s13=c13;for(n13=r73.startFrom - 1;n13 >= 0;n13--){a13=F13[n13][R13];if(!a13 && a13 !== 0)continue;if(e13 === null){e13=a13;}if(s13 <= 0)break;s13--;v13=n13;}if(e13 === null){e13=v13=0;}m13=[];for(n13=v13;n13 < F13.length;n13++){F1o="_";F1o+="CMO";F1o+=" ";u13=F13[n13];a13=u13[P13];if(a13 && typeof a13 == "object"){a13=a13[r73.subField];}E13=n13 + c13 >= 0 && n13 + c13 < F13.length;V13=E13?F13[n13 + c13]:null;if(!a13 && a13 !== 0){if(V13){V13[R13]=null;}else if(n13 + c13 >= F13.length){k13={};k13[R13]=null;m13.push(k13);}continue;}if(!u13["_CMO " + r73.name] && u13["_CMO " + r73.name] !== 0)continue;p13=Math.abs(u13[F1o + r73.name]) / 100;L1I.U7a(70);M13=L1I.H8a(y13,y13,p13,e13,p13,a13,"1");e13=M13;if(n13 < r73.days){M13=null;}if(V13){V13[R13]=M13;}else if(n13 + c13 >= F13.length){k13={};k13[R13]=M13;m13.push(k13);}}r73.appendFutureTicks(Z13,m13);};x73.Studies.studyLibrary=x73.extend(x73.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:x73.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:x73.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:g1o,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};E2l=Q13=>{var q1o,z13,N1o;q1o="u";q1o+="n";q1o+="defined";z13=typeof _CIQ !== q1o?_CIQ:Q13.CIQ;if(!z13.Studies){console.error("choppiness feature requires first activating studies feature.");}else {N1o="Cho";N1o+="ppine";N1o+="ss Inde";N1o+="x";z13.Studies.calculateChoppiness=function(f13,w13){var G13,d13,H13;z13.Studies.calculateStudyATR(f13,w13);function l13(D13,b13){var g13,q13;g13=Number.MAX_VALUE * -("1" & 2147483647);q13=Number.MAX_VALUE;for(var x13=b13 - D13 + +"1";x13 <= b13;x13++){if(x13 < 0)continue;g13=Math.max(g13,G13[x13].High);q13=Math.min(q13,G13[x13].Low);}return [q13,g13];}Q6II.i6I();G13=w13.chart.scrubbed;if(G13.length < w13.days + 1){w13.error=!0;return;}for(var Y13=Math.max(w13.startFrom,w13.days);Y13 < G13.length;Y13++){d13=G13[Y13];if(!d13)continue;if(d13.futureTick)break;H13=l13(w13.days,Y13);if(d13["Sum True Range " + w13.name]){d13["Result " + w13.name]=100 * Math.log(d13["Sum True Range " + w13.name] / Math.max(0.000001,H13[1] - H13[0])) / Math.log(w13.days);}else if(!isNaN(d13)){d13["Result " + w13.name]=0;}}};z13.Studies.studyLibrary=z13.extend(z13.Studies.studyLibrary,{Choppiness:{name:N1o,calculateFN:z13.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"50" * 1,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};t2l=J13=>{var O1o,C13,a3o,n3o;O1o="un";O1o+="de";O1o+="fi";Q6II.i6I();O1o+="ned";C13=typeof _CIQ !== O1o?_CIQ:J13.CIQ;if(!C13.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!C13.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {a3o="#FF";a3o+="0";a3o+="0";a3o+="00";n3o="-1 to";n3o+=" 1";C13.Studies.calculateCorrelationCoefficient=function(A13,K13){var l1I=Q6II;var O13,X13,g2w,q2w,N2w,o13,H4w,B2w,W2w,i13,W13,T13,N13,L13,B13,I13,T1o,p1o,j13,y1o,G1o,o1o,E1o,n2y,a2y,c2y,F2y;O13=K13.chart.scrubbed;X13=K13.days;if(O13.length < X13 + 1){K13.error=! ![];return;}g2w=1055105634;l1I.o6I();q2w=-150466322;N2w=+"2";for(var y2w=1;l1I.A0w(y2w.toString(),y2w.toString().length,"50269" - 0) !== g2w;y2w++){K13.compare=K13.inputs[""];N2w+=+"2";}if(l1I.t0w(N2w.toString(),N2w.toString().length,49194) !== q2w){K13.compare=K13.inputs["Compare To"];}if(!K13.compare){K13.compare=[];K13.outputs={};K13.outputMap={};for(var r13 in A13.chart.series){o13=A13.chart.series[r13];if(o13.parameters.color){K13.compare.push(o13.display);K13.outputs["Result " + o13.display]=o13.parameters.color;K13.outputMap["Result " + o13.display + " " + K13.name]="Result " + o13.display;}}}else {K13.compare=[K13.compare];}if(!K13.compare.length){K13.error="Correlation Coefficient requires at least one comparison symbol";H4w=1708364363;B2w=594228565;W2w=2;for(var z2w=1;l1I.A0w(z2w.toString(),z2w.toString().length,21552) !== H4w;z2w++){return;}if(l1I.t0w(W2w.toString(),W2w.toString().length,39337) !== B2w){return;}return;}for(var S13=0;S13 < K13.compare.length;S13++){i13=0;W13=0;T13=0;N13=0;L13=0;B13=K13.compare[S13];I13=0;for(var U13=K13.startFrom - X13;U13 < O13.length;U13++){T1o="_temps";T1o+=" ";p1o="_";p1o+="temp";p1o+="s";p1o+=" ";if(!O13[U13])continue;j13=O13[U13][B13];if(j13 && typeof j13 == "object"){j13=j13.Close;}if(!j13 && j13 !== 0){y1o="_";y1o+="temps";y1o+=" ";if(U13 > 0 && O13[U13 - ("1" & 2147483647)] && O13[U13 - 1][y1o + K13.name] && O13[U13 - +"1"]["_temps " + K13.name].c){j13=O13[U13 - 1]["_temps " + K13.name].c;}else {j13=0;}}if(j13 && typeof j13 == "object"){j13=j13.Close;}O13[U13][p1o + K13.name]={};i13+=O13[U13]["_temps " + K13.name].b=O13[U13].Close;W13+=O13[U13]["_temps " + K13.name].c=j13;T13+=O13[U13]["_temps " + K13.name].b2=Math.pow(O13[U13].Close,2);N13+=O13[U13][T1o + K13.name].c2=Math.pow(j13,+"2");L13+=O13[U13]["_temps " + K13.name].bc=O13[U13].Close * j13;if(I13 >= X13){G1o="R";G1o+="esult ";o1o="_";o1o+="te";o1o+="mps";o1o+=" ";E1o="_te";E1o+="mp";E1o+="s ";i13-=O13[U13 - X13]["_temps " + K13.name].b;W13-=O13[U13 - X13][E1o + K13.name].c;T13-=O13[U13 - X13]["_temps " + K13.name].b2;N13-=O13[U13 - X13]["_temps " + K13.name].c2;L13-=O13[U13 - X13][o1o + K13.name].bc;n2y=T13 / X13 - Math.pow(i13 / X13,2);a2y=N13 / X13 - Math.pow(W13 / X13,"2" ^ 0);c2y=L13 / X13 - i13 * W13 / Math.pow(X13,2);F2y=c2y / Math.sqrt(n2y * a2y);O13[U13][G1o + B13 + ((7475,"1051" | 26) > (631,29.28)?" ":(892.43,7260) !== (922.57,+"852.53")?(3860,890.3) != 6520?676.93:(0x144d,886.15):"680.51" * 1) + K13.name]=F2y;}I13++;}}};C13.Studies.calculatePerformance=function(V2y,R2y){var Z1o,e2y,u2y,k2y;Z1o="_";Z1o+="MA ";Z1o+="Co";Z1o+="mp";e2y=R2y.chart.scrubbed;u2y=R2y.inputs["Comparison Symbol"].toUpperCase();if(!u2y){u2y=R2y.study.inputs["Comparison Symbol"];}if(!R2y.days){R2y.days=R2y.study.inputs.Period;}if(e2y.length < R2y.days + 1){R2y.error=! !"1";return;}Q6II.i6I();C13.Studies.MA("ma",R2y.days,"Close","0" >> 139535008,"_MA Base",V2y,R2y);C13.Studies.MA("ma",R2y.days,u2y,0,Z1o,V2y,R2y);for(var P2y=R2y.startFrom;P2y < e2y.length;P2y++){k2y=e2y[P2y][u2y];if(k2y && (k2y.Close || k2y.Close === 0)){k2y=k2y.Close;}e2y[P2y]["Result " + R2y.name]=e2y[P2y].Close / k2y * (e2y[P2y]["_MA Comp " + R2y.name] / e2y[P2y]["_MA Base " + R2y.name]);}};C13.Studies.calculateBeta=function(Z2y,M2y){var z1I=Q6II;var W3o,l1o,m2y,p2y,y2y,s2y,B3o,H1o,z3o,J3o;W3o="_";W3o+="COV";W3o+="AR";l1o="_CompChan";l1o+="ge ";m2y=M2y.chart.scrubbed;p2y=M2y.inputs["Comparison Symbol"].toUpperCase();if(!p2y){p2y=M2y.study.inputs["Comparison Symbol"];}if(!M2y.days){M2y.days=M2y.study.inputs.Period;}if(m2y.length < M2y.days + 1){M2y.error=! !{};return;}for(var v2y=Math.max(M2y.startFrom,1);v2y < m2y.length;v2y++){m2y[v2y]["_BaseChange " + M2y.name]=m2y[v2y].Close / m2y[v2y - 1].Close - +"1";y2y=m2y[v2y][p2y];if(y2y && (y2y.Close || y2y.Close === 0)){y2y=y2y.Close;}z1I.N7a(5);s2y=m2y[z1I.H8a(v2y,1)][p2y];if(s2y && (s2y.Close || s2y.Close === 0)){s2y=s2y.Close;}z1I.U7a(71);m2y[v2y]["_CompChange " + M2y.name]=z1I.H8a(y2y,1,s2y);}C13.Studies.MA("ma",M2y.days,"_BaseChange " + M2y.name,0,"_MA Base",Z2y,M2y);C13.Studies.MA("ma",M2y.days,l1o + M2y.name,0,"_MA Comp",Z2y,M2y);for(v2y=Math.max(M2y.startFrom,M2y.days);v2y < m2y.length;v2y++){B3o="_Comp";B3o+="Change ";H1o="_";H1o+="MA Ba";H1o+="se ";m2y[v2y]["_COVARn " + M2y.name]=(m2y[v2y]["_BaseChange " + M2y.name] - m2y[v2y][H1o + M2y.name]) * (m2y[v2y]["_CompChange " + M2y.name] - m2y[v2y]["_MA Comp " + M2y.name]);m2y[v2y]["_VARn " + M2y.name]=Math.pow(m2y[v2y][B3o + M2y.name] - m2y[v2y]["_MA Comp " + M2y.name],2);}C13.Studies.MA("ma",M2y.days,"_COVARn " + M2y.name,0,W3o,Z2y,M2y);z1I.i6I();C13.Studies.MA("ma",M2y.days,"_VARn " + M2y.name,"0" << 778891808,"_VAR",Z2y,M2y);for(v2y=Math.max(M2y.startFrom,M2y.days * 2 - 1);v2y < m2y.length;v2y++){z3o="_VAR";z3o+=" ";J3o="_C";J3o+="O";J3o+="VAR";J3o+=" ";m2y[v2y]["Result " + M2y.name]=m2y[v2y][J3o + M2y.name] / m2y[v2y][z3o + M2y.name];}};C13.Studies.studyLibrary=C13.extend(C13.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:n3o,calculateFN:C13.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:+"1",initializeFN:C13.Studies.initPriceRelative,seriesFN:C13.Studies.displayVsComparisonSymbol,calculateFN:C13.Studies.calculatePerformance,inputs:{Period:"120" & 2147483647,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:a3o},deferUpdate:!""},Beta:{name:"Beta",centerline:1,initializeFN:C13.Studies.initPriceRelative,seriesFN:C13.Studies.displayVsComparisonSymbol,calculateFN:C13.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! ![]}});}};z2l=E2y=>{var h2y;h2y=typeof _CIQ !== "undefined"?_CIQ:E2y.CIQ;if(!h2y.Studies){console.error("coppock feature requires first activating studies feature.");}else {h2y.Studies.calculateCoppock=function(l2y,t2y){var w1I=Q6II;var X3o,x3o,U3o,z2y,Q2y,d2y,G2y,Y2y,H2y,f2y;X3o="Lo";X3o+="ng ";X3o+="Ro";X3o+="C";x3o="C";x3o+="l";x3o+="os";x3o+="e";U3o="fiel";U3o+="d";z2y=t2y.chart.scrubbed;Q2y=t2y.inputs.Field;if(!Q2y || Q2y == U3o){Q2y=x3o;}d2y=parseInt(t2y.inputs[X3o],10);if(!d2y){d2y=14;}G2y=parseInt(t2y.inputs["Short RoC"],10);if(!G2y){G2y=11;}Y2y=t2y.days;if(!Y2y){Y2y=10;}if(d2y < G2y){return;}if(z2y.length < Math.max(G2y,d2y,Y2y) + ("1" ^ 0)){t2y.error=!0;return;}for(var w2y=Math.max(t2y.startFrom,d2y);w2y < z2y.length;w2y++){w1I.U7a(5);H2y=z2y[w1I.H8a(w2y,G2y)][Q2y];w1I.N7a(5);f2y=z2y[w1I.h8a(w2y,d2y)][Q2y];if(H2y && f2y){z2y[w2y]["_Sum " + t2y.name]=100 * (z2y[w2y][Q2y] / H2y + z2y[w2y][Q2y] / f2y - +"2");}}w1I.o6I();h2y.Studies.MA("weighted",Y2y,"_Sum " + t2y.name,0,"Result",l2y,t2y);};h2y.Studies.studyLibrary=h2y.extend(h2y.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:h2y.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}});}};Q2l=g2y=>{var x2y,i3o;x2y=typeof _CIQ !== "undefined"?_CIQ:g2y.CIQ;if(!x2y.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {i3o="hig";i3o+="h/l";i3o+="ow";x2y.Studies.calculateDarvas=function(A2y,O2y){var O1I=Q6II;var P3o,q2y,U2y,N2y,B2y,j2y,C2y,K2y,i2y,X2y,W2y,o2y,D2y,J2y,S2y,u3o,b2y,m3o,k3o,d3o,f3o,j3o,S3o,V3o,D3o,A3o,t3o,I3o,M3o,w3o;P3o="A";P3o+="TH";q2y=O2y.chart.scrubbed;O1I.N7a(14);U2y=O1I.H8a(1450705280,"0");N2y=parseInt(O2y.inputs["ATH Lookback Period"],10);if(O2y.inputs["Volume Spike"]){x2y.Studies.MA("simple",N2y,"Volume",0,"ADV",A2y,O2y);}B2y=parseFloat(O2y.inputs["Volume % of Avg"]) / 100;j2y="none";C2y={};K2y=null;i2y=null;X2y=null;W2y=parseFloat(O2y.inputs["Level Offset"]);o2y=!{};if(o2y){console.log("*****************");}J2y={};["Darvas","Ghost","Profit","Loss",P3o,"ADV","Spike"].forEach(function(r2y){O1I.o6I();J2y[r2y]=r2y + " " + O2y.name;});for(D2y=O2y.startFrom - 1;D2y > 0;D2y--){S2y=q2y[D2y];if(S2y[J2y.Darvas] || S2y[J2y.Ghost]){for(var I2y in J2y){S2y[I2y]=null;}}else {U2y=S2y[J2y.ATH] || 0;i2y=S2y[J2y.Profit];X2y=S2y[J2y.Loss];break;}}for(D2y;D2y < q2y.length;D2y++){u3o="Volume S";u3o+="pike";b2y=q2y[D2y];if(!b2y)continue;if(parseFloat(O2y.inputs["Price Minimum"]) <= q2y[U2y].Close){m3o="h";m3o+="i";m3o+="g";m3o+="h";k3o="Exit Fie";k3o+="ld";if(K2y && (!K2y.End || D2y == K2y.End + 1)){if(q2y[D2y - +"1"].Close > C2y.High){C2y={State:1,High:2 * C2y.High - C2y.Low,Low:C2y.High,Start:D2y,End:2 * C2y.End - C2y.Start + 1};}else {K2y=null;;}if(K2y){b2y[J2y.Ghost]=x2y.clone(C2y);if(o2y){console.log("Ghost begin:" + b2y.DT);}C2y.State=0;if(q2y[C2y.End]){d3o="Gho";d3o+="st end:";q2y[C2y.End][J2y.Ghost]=x2y.clone(C2y);if(o2y){console.log(d3o + q2y[C2y.End].DT);}}K2y={Start:C2y.Start,End:C2y.End};i2y=C2y.High + W2y;if(!X2y || X2y < C2y.Low - W2y){X2y=C2y.Low - W2y;}}}b2y[J2y.Profit]=i2y;b2y[J2y.Loss]=X2y;if(b2y.Close >= i2y){i2y=null;}else if(O2y.inputs[k3o] == "high/low" && b2y.High >= i2y){i2y=null;}if(j2y == "none"){if(D2y == U2y + 3){if(!q2y[U2y + ("2" | 2)][J2y.Darvas] && !q2y[U2y + 1][J2y.Darvas] && !q2y[U2y][J2y.Darvas] && q2y[U2y].High > b2y.High){j2y="high";;}}}if(j2y == m3o){if(b2y.High > q2y[U2y].High){f3o="n";f3o+="one";j2y=f3o;}else if(q2y[D2y - +"3"].Low < q2y[D2y - +"2"].Low && q2y[D2y - 3].Low < q2y[D2y - 1].Low && q2y[D2y - 3].Low < b2y.Low){j3o="Darvas b";j3o+="egin:";C2y={State:+"1",High:q2y[U2y].High,Low:q2y[D2y - 3].Low,Start:U2y};q2y[U2y][J2y.Darvas]=x2y.clone(C2y);j2y="darvas";if(o2y){console.log(j3o + q2y[U2y].DT);}if(o2y){console.log("Darvas established:" + b2y.DT);}if(K2y){if(K2y.End > D2y && q2y[K2y.Start]){b2y[J2y.Ghost]=x2y.clone(q2y[K2y.Start][J2y.Ghost]);b2y[J2y.Ghost].End=D2y;if(q2y[K2y.End]){delete q2y[K2y.End][J2y.Ghost];if(o2y){console.log("Ghost End removed:" + q2y[K2y.End].DT);}}}b2y[J2y.Ghost].State=0;q2y[K2y.Start][J2y.Ghost].End=D2y;if(o2y){console.log("Ghost end:" + b2y.DT);}K2y=null;}i2y=C2y.High + W2y;if(!X2y || X2y < C2y.Low - W2y){X2y=C2y.Low - W2y;}}}if(j2y == "darvas"){S3o="non";S3o+="e";V3o="n";V3o+="o";V3o+="n";V3o+="e";D3o="no";D3o+="n";D3o+="e";A3o="no";A3o+="n";A3o+="e";t3o="n";t3o+="o";t3o+="ne";if(b2y.Close > C2y.High){K2y={};}else if(O2y.inputs["Exit Field"] == "high/low" && b2y.High > C2y.High){K2y={};}else if(b2y.Close < C2y.Low){j2y=t3o;}else if(O2y.inputs["Exit Field"] == "high/low" && b2y.Low < C2y.Low){j2y=A3o;}if(K2y){j2y=D3o;}else if(j2y == V3o){i2y=null;X2y=null;}if(!O2y.inputs["Ghost Boxes"]){K2y=null;}if(j2y == S3o){for(var L2y=C2y.Start + 1;L2y < D2y;L2y++){q2y[L2y][J2y.Darvas]=x2y.clone(C2y);}C2y.State=0;C2y.End=D2y;b2y[J2y.Darvas]=x2y.clone(C2y);if(o2y){console.log("Darvas end:" + b2y.DT);}b2y[J2y.ATH]=U2y;continue;}}if(X2y){I3o="hig";I3o+="h";I3o+="/";I3o+="low";if(b2y.Close < C2y.Low || O2y.inputs["Exit Field"] == I3o && b2y.Low < C2y.Low){M3o="Exi";M3o+="t";M3o+=" F";M3o+="ield";if(j2y == "darvas"){j2y="none";}if(b2y.Close < X2y || O2y.inputs[M3o] == "high/low" && b2y.Low < X2y){i2y=null;X2y=null;}if(K2y){if(K2y.End > D2y && q2y[K2y.Start]){b2y[J2y.Ghost]=x2y.clone(q2y[K2y.Start][J2y.Ghost]);b2y[J2y.Ghost].End=D2y;if(q2y[K2y.End]){delete q2y[K2y.End][J2y.Ghost];if(o2y){console.log("Ghost End removed:" + q2y[K2y.End].DT);}}}b2y[J2y.Ghost].State=0;q2y[K2y.Start][J2y.Ghost].End=D2y;if(o2y){console.log("Ghost end:" + b2y.DT);}K2y=null;}}}}if(b2y.High >= q2y[U2y].High){U2y=D2y;if(o2y){console.log("All Time High:" + b2y.DT);}}if(D2y < 3 || b2y.High >= q2y[D2y - 1].High && b2y.High >= q2y[D2y - 2].High && b2y.High >= q2y[D2y - +"3"].High){if(D2y - U2y >= N2y){w3o="A";w3o+="ll Time Hi";w3o+="gh:";U2y=D2y;for(var T2y=0;T2y < N2y;T2y++){if(D2y - T2y < +"0")break;if(q2y[D2y - T2y].High > q2y[U2y].High){O1I.N7a(5);U2y=O1I.H8a(D2y,T2y);}}if(o2y){console.log(w3o + b2y.DT);}}}if(O2y.inputs[u3o] && D2y > N2y && D2y == U2y){if(b2y[J2y.ADV] * B2y < b2y.Volume){b2y[J2y.Spike]=1;if(o2y){console.log("Volume Spike:" + b2y.DT);}}}b2y[J2y.ATH]=U2y;}};x2y.Studies.displayDarvas=function(a5y,R5y,P5y){var C1I=Q6II;var E5y,M5y,s5y,e5y,n5y,c5y,F5y,G5y,v5y,k5y,C3o,e3o,w5y,Y5y,l5y,H5y,u5y,V5y,m5y,t5y,y5y,h5y,p5y,Q5y,Z5y,z5y,x5y,d5y,v3o,g5y,b3o,h3o,f5y;E5y=x2y.Studies.determineColor(R5y.outputs.Levels);if(!E5y || E5y == "auto" || x2y.isTransparent(E5y)){E5y=a5y.defaultColor;}M5y=x2y.Studies.determineColor(R5y.outputs.Darvas);if(!M5y || M5y == "auto" || x2y.isTransparent(M5y)){M5y=a5y.defaultColor;}s5y=x2y.Studies.determineColor(R5y.outputs.Ghost);if(!s5y || s5y == "auto" || x2y.isTransparent(s5y)){s5y=a5y.defaultColor;}e5y=a5y.panels[R5y.panel];n5y=R5y.getContext(a5y);k5y=a5y.layout.candleWidth - +"2";if(k5y < 2){k5y=1;}a5y.startClip(R5y.panel);if(R5y.inputs["Stop Levels"]){if(n5y.setLineDash){n5y.setLineDash([2,2]);}n5y.lineWidth=2;n5y.strokeStyle=E5y;n5y.beginPath();for(c5y=0;c5y < P5y.length;c5y++){C3o="L";C3o+="o";C3o+="s";C3o+="s ";e3o="L";e3o+="o";e3o+="ss ";F5y=P5y[c5y];C1I.U7a(5);w5y=P5y[C1I.H8a(c5y,1)];if(!F5y)continue;v5y=F5y[e3o + R5y.name]?Math.floor(a5y.pixelFromPrice(F5y[C3o + R5y.name],e5y)):null;Y5y=w5y && w5y["Loss " + R5y.name]?Math.floor(a5y.pixelFromPrice(w5y["Loss " + R5y.name],e5y)):null;if(v5y){if(F5y.candleWidth){k5y=Math.floor(Math.max(1,F5y.candleWidth));}l5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) + k5y / 2);H5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) - k5y / 2);if(Y5y && Y5y >= v5y){n5y.lineTo(H5y,v5y);}else if(c5y === 0){n5y.moveTo(a5y.chart.left,v5y);}else {n5y.moveTo(H5y,v5y);}n5y.lineTo(l5y,v5y);}}n5y.stroke();if(n5y.setLineDash){n5y.setLineDash([]);}n5y.lineWidth=1;}u5y=-10;m5y=0;y5y=-10;p5y=0;C1I.o6I();Z5y=!1;z5y=![];x5y=n5y.measureText("\u25B2").width / ("2" ^ 0);d5y=0;for(c5y=0;c5y < P5y.length;c5y++){v3o="Darva";v3o+="s ";if(!P5y[c5y])continue;if(P5y[c5y].Close || P5y[c5y].Close === +"0"){d5y=c5y;}if(P5y[c5y]["Spike " + R5y.name]){n5y.fillStyle=M5y;n5y.textBaseline="bottom";g5y=a5y.pixelFromPrice(P5y[c5y].High,a5y.chart.panel);n5y.fillText(8640 > 5598?"\u25BC":! !{},a5y.pixelFromBar(c5y) - x5y,g5y - 5);;}if(P5y[c5y].candleWidth){k5y=Math.floor(Math.max(1,P5y[c5y].candleWidth));}if(P5y[c5y][v3o + R5y.name]){F5y=P5y[c5y]["Darvas " + R5y.name];if(F5y.State == ("1" ^ 0) && !Z5y){u5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) - k5y / +"2");V5y=Math.floor(a5y.pixelFromPrice(F5y.High,e5y));t5y=Math.floor(a5y.pixelFromPrice(F5y.Low,e5y)) - V5y;Z5y=! !{};}else if(F5y.State === 0){m5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) + k5y / 2) - u5y;V5y=Math.floor(a5y.pixelFromPrice(F5y.High,e5y));t5y=Math.floor(a5y.pixelFromPrice(F5y.Low,e5y)) - V5y;n5y.strokeStyle=M5y;n5y.fillStyle=M5y;if(!R5y.inputs["Stop Levels"]){n5y.strokeRect(u5y,V5y,m5y,t5y);n5y.globalAlpha=0.2;}else {C1I.U7a(5);n5y.globalAlpha=C1I.h8a("0.3",0);}n5y.fillRect(u5y,V5y,m5y,t5y);n5y.globalAlpha=1;Z5y=!1;}}if(P5y[c5y]["Ghost " + R5y.name] && R5y.inputs["Ghost Boxes"]){F5y=P5y[c5y]["Ghost " + R5y.name];if(F5y.State == "1" * 1 && !z5y){y5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) - k5y / 2);h5y=Math.floor(a5y.pixelFromPrice(F5y.High,e5y));p5y=Math.floor((F5y.End - F5y.Start + ("1" - 0)) * a5y.layout.candleWidth + k5y / 2);Q5y=Math.floor(a5y.pixelFromPrice(F5y.Low,e5y)) - h5y;z5y=! ![];}else if(F5y.State === 0){if(F5y.Start == F5y.End){y5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) - k5y / 2);}p5y=Math.floor(a5y.pixelFromBar(c5y,e5y.chart) + k5y / 2) - y5y;h5y=Math.floor(a5y.pixelFromPrice(F5y.High,e5y));Q5y=Math.floor(a5y.pixelFromPrice(F5y.Low,e5y)) - h5y;n5y.strokeStyle=s5y;n5y.fillStyle=s5y;if(!R5y.inputs["Stop Levels"]){n5y.strokeRect(y5y,h5y,p5y,Q5y);n5y.globalAlpha=0.2;}else {n5y.globalAlpha=0.3;}n5y.fillRect(y5y,h5y,p5y,Q5y);n5y.globalAlpha=1;z5y=![];}}}if(Z5y){m5y=Math.floor(a5y.pixelFromBar(d5y,e5y.chart) + k5y / +"2") - u5y;n5y.strokeStyle=M5y;n5y.fillStyle=M5y;if(!R5y.inputs["Stop Levels"]){n5y.beginPath();C1I.N7a(50);n5y.moveTo(C1I.H8a(2,m5y,u5y),V5y);n5y.lineTo(u5y,V5y);C1I.N7a(0);n5y.lineTo(u5y,C1I.H8a(t5y,V5y));C1I.U7a(50);n5y.lineTo(C1I.H8a(2,m5y,u5y),C1I.H8a(t5y,V5y,C1I.N7a(0)));n5y.stroke();C1I.U7a(5);n5y.globalAlpha=C1I.h8a("0.2",0);}else {n5y.globalAlpha=0.3;}C1I.N7a(22);n5y.fillRect(u5y,V5y,C1I.H8a(2,m5y),t5y);n5y.globalAlpha=1;}if(z5y){b3o="Stop";b3o+=" Levels";n5y.strokeStyle=s5y;n5y.fillStyle=s5y;if(!R5y.inputs[b3o]){n5y.strokeRect(y5y,h5y,p5y,Q5y);n5y.globalAlpha=0.2;}else {C1I.N7a(22);n5y.globalAlpha=C1I.H8a("0.3",1);}n5y.fillRect(y5y,h5y,p5y,Q5y);n5y.globalAlpha=1;}if(Z5y || z5y){h3o="Stop ";h3o+="Levels";if(R5y.inputs[h3o]){if(n5y.setLineDash){C1I.N7a(22);n5y.setLineDash([C1I.H8a("2",1),2]);}n5y.lineWidth=2;n5y.strokeStyle=E5y;f5y=Math.floor(a5y.pixelFromBar(d5y - +"1",e5y.chart) + k5y / +"2");if(G5y){n5y.beginPath();n5y.moveTo(f5y,G5y);n5y.lineTo(Z5y?u5y + 2 * m5y:y5y + p5y,G5y);n5y.stroke();}if(v5y){n5y.beginPath();n5y.moveTo(f5y,v5y);n5y.lineTo(Z5y?u5y + 2 * m5y:y5y + p5y,v5y);n5y.stroke();}if(n5y.setLineDash){n5y.setLineDash([]);}n5y.lineWidth=1;}Z5y=! !"";z5y=!"1";}a5y.endClip();};x2y.Studies.studyLibrary=x2y.extend(x2y.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!0,calculateFN:x2y.Studies.calculateDarvas,seriesFN:x2y.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",i3o],"Ghost Boxes":! !{},"Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":! !"","Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! ![],attributes:{"Price Minimum":{min:+"0.01",step:+"0.01"},yaxisDisplayValue:{hidden:!0},panelName:{hidden:! ![]},flippedEnabled:{hidden:! ![]}}}});}};w2l=b5y=>{var q5y,Y3o;q5y=typeof _CIQ !== "undefined"?_CIQ:b5y.CIQ;if(!q5y.Studies){console.error("detrended feature requires first activating studies feature.");}else {Y3o="m";Y3o+="a";q5y.Studies.calculateDetrendedPrice=function(X5y,D5y){var L3o,J5y,K5y,O5y,C5y,j5y;L3o="Moving Average T";L3o+="ype";J5y=D5y.chart.scrubbed;if(J5y.length < D5y.days + 1){D5y.error=! !"1";return;}K5y=D5y.inputs.Field;if(!K5y || K5y == "field"){K5y="Close";}O5y=Math.floor(D5y.days / 2 + 1);q5y.Studies.MA(D5y.inputs[L3o],D5y.days,K5y,-O5y,"MA",X5y,D5y);for(var U5y=Math.max(D5y.days - O5y - 1,D5y.startFrom - O5y);U5y < J5y.length - O5y;U5y++){C5y=J5y[U5y][K5y];if(C5y && typeof C5y == "object"){C5y=C5y[D5y.subField];}j5y=J5y[U5y]["MA " + D5y.name];if((C5y || C5y === 0) && (j5y || j5y === 0)){Q6II.N7a(5);J5y[U5y]["Result " + D5y.name]=Q6II.h8a(C5y,j5y);}}};q5y.Studies.studyLibrary=q5y.extend(q5y.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:q5y.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":Y3o}}});}};d2l=i5y=>{var g0I=Q6II;var W4w,J4w,z4w,R3o,o5y,c3o;g0I.U7a(20);W4w=-g0I.H8a("654276025",2147483647);J4w=554653112;z4w=2;for(var a4w=1;g0I.A0w(a4w.toString(),a4w.toString().length,93258) !== W4w;a4w++){R3o="unde";R3o+="f";R3o+="i";R3o+="ned";o5y=typeof _CIQ !== R3o?_CIQ:i5y.CIQ;z4w+=2;}if(g0I.t0w(z4w.toString(),z4w.toString().length,13261) !== J4w){o5y=+_CIQ != ""?_CIQ:i5y.CIQ;}if(!o5y.Studies){console.error("disparity feature requires first activating studies feature.");}else {c3o="fi";c3o+="e";c3o+="l";c3o+="d";o5y.Studies.calculateDisparity=function(B5y,W5y){var r3o,Q3o,S5y,N5y,K3o,L5y;r3o="Moving Average Typ";r3o+="e";Q3o="fiel";Q3o+="d";S5y=W5y.chart.scrubbed;if(S5y.length < W5y.days + 1){W5y.error=! !1;return;}N5y=W5y.inputs.Field;if(!N5y || N5y == Q3o){N5y="Close";}g0I.o6I();o5y.Studies.MA(W5y.inputs[r3o],W5y.days,N5y,0,"_MA",B5y,W5y);for(var T5y=Math.max(W5y.startFrom,W5y.days - 1);T5y < S5y.length;T5y++){K3o="_M";K3o+="A";K3o+=" ";if(!S5y[T5y])continue;L5y=S5y[T5y][K3o + W5y.name];if(L5y){S5y[T5y]["Result " + W5y.name]=+"100" * (S5y[T5y][N5y] / L5y - 1);}}};o5y.Studies.studyLibrary=o5y.extend(o5y.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:o5y.Studies.calculateDisparity,inputs:{Period:14,Field:c3o,"Moving Average Type":"ma"}}});}};G2l=A5y=>{var I5y,s3o,g3o;Q6II.i6I();I5y=typeof _CIQ !== "undefined"?_CIQ:A5y.CIQ;if(!I5y.Studies){s3o="easeO";s3o+="fMovement feature requires first activating studie";s3o+="s ";s3o+="feature.";console.error(s3o);}else {g3o="m";g3o+="a";I5y.Studies.calculateEaseOfMovement=function(k8y,a8y){var W1I=Q6II;var r5y,F3o,F8y,R8y,e8y,P8y,c8y;r5y=a8y.chart.scrubbed;if(r5y.length < a8y.days){a8y.error=!0;return;}for(var n8y=Math.max(1,a8y.startFrom);n8y < r5y.length;n8y++){F3o="_EO";F3o+="M1";F3o+=" ";F8y=(r5y[n8y].High + r5y[n8y].Low) / 2;R8y=(r5y[n8y - +"1"].High + r5y[n8y - +"1"].Low) / +"2";W1I.U7a(5);e8y=W1I.H8a(F8y,R8y);P8y=r5y[n8y].Volume / 100000000 / (r5y[n8y].High - r5y[n8y].Low);W1I.N7a(8);c8y=W1I.h8a(e8y,P8y);if(!isFinite(c8y)){r5y[n8y]["_EOM1 " + a8y.name]=NaN;}else {r5y[n8y][F3o + a8y.name]=c8y;}}I5y.Studies.MA(a8y.inputs["Moving Average Type"],a8y.days,"_EOM1 " + a8y.name,0,"Result",k8y,a8y);};I5y.Studies.studyLibrary=I5y.extend(I5y.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:I5y.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":g3o}}});}};Y2l=V8y=>{var q3o,u8y,p3o,y3o;q3o="un";q3o+="def";q3o+="ine";q3o+="d";u8y=typeof _CIQ !== q3o?_CIQ:V8y.CIQ;if(!u8y.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {p3o="#";p3o+="FF0000";y3o="a";y3o+="uto";u8y.Studies.calculateEhlerFisher=function(E8y,M8y){var N3o,q1w,N1w,O1w,m8y,v8y,s8y,O3o,p8y,Z8y;N3o="_n";N3o+=" ";q1w=255984364;N1w=1652314341;O1w=2;for(var p1w=1;Q6II.A0w(p1w.toString(),p1w.toString().length,"67373" << 1526234752) !== q1w;p1w++){m8y=M8y.chart.scrubbed;O1w+=2;}if(Q6II.A0w(O1w.toString(),O1w.toString().length,55872) !== N1w){m8y=M8y.chart.scrubbed;}if(m8y.length < M8y.days + 1){M8y.error=! !"1";return;}v8y=0;if(M8y.startFrom > 1){v8y=m8y[M8y.startFrom - 1][N3o + M8y.name];}for(var y8y=M8y.startFrom;y8y < m8y.length;y8y++){s8y=m8y[y8y];if(s8y.futureTick)break;if(y8y < M8y.days - 1){O3o="EF ";O3o+="T";O3o+="r";O3o+="igger ";s8y["EF " + M8y.name]=s8y[O3o + M8y.name]=v8y;continue;}p8y=h8y(M8y.days,y8y);v8y=0.33 * 2 * (((m8y[y8y].High + m8y[y8y].Low) / 2 - p8y[0]) / Math.max("0.000001" - 0,p8y[1] - p8y[0]) - 0.5) + +"0.67" * v8y;if(v8y > 0){v8y=Math.min(v8y,0.9999);}else if(v8y < "0" * 1){v8y=Math.max(v8y,-0.9999);}Z8y=y8y?m8y[y8y - 1]["EF " + M8y.name]:+"0";s8y["EF " + M8y.name]=0.5 * Math.log((1 + v8y) / (1 - v8y)) + 0.5 * Z8y;s8y["EF Trigger " + M8y.name]=Z8y;s8y["_n " + M8y.name]=v8y;}function h8y(G8y,d8y){var z8y,Q8y,w8y;z8y=Number.MAX_VALUE;Q8y=Number.MAX_VALUE * -1;for(var t8y=d8y - G8y + 1;t8y <= d8y;t8y++){w8y=(m8y[t8y].High + m8y[t8y].Low) / 2;z8y=Math.min(z8y,w8y);Q8y=Math.max(Q8y,w8y);}return [z8y,Q8y];}};u8y.Studies.studyLibrary=u8y.extend(u8y.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:u8y.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:y3o,"EF Trigger":p3o}}});}};H2l=H8y=>{Q6II.o6I();var Y8y,P4o,X4o,x4o;Y8y=typeof _CIQ !== "undefined"?_CIQ:H8y.CIQ;if(!Y8y.Studies){console.error("elder feature requires first activating studies feature.");}else {P4o="#5F7CB";P4o+="8";X4o="#F";X4o+="F0000";x4o="Elder ";x4o+="Ray Index";Y8y.Studies.calculateElderImpulse=function(b8y,f8y){var T3o,x8y,D8y,C8y,q8y,J6w,z6w,n6w,g8y,o3o,E3o;Q6II.i6I();T3o="_";T3o+="M";T3o+="A";x8y=f8y.chart.scrubbed;D8y=f8y.outputs.Bullish;C8y=f8y.outputs.Bearish;q8y=f8y.outputs.Neutral;Y8y.Studies.MA("exponential",13,"Close",0,T3o,b8y,f8y);f8y.macd=new Y8y.Studies.StudyDescriptor((8460 != 5394?"_":+"6.52e+3") + f8y.name,"macd",f8y.panel);f8y.macd.chart=f8y.chart;f8y.macd.days=f8y.days;J6w=- +"1822759372";z6w=532353024;n6w=2;for(var U6w=1;Q6II.t0w(U6w.toString(),U6w.toString().length,31609) !== J6w;U6w++){f8y.macd.startFrom=f8y.startFrom;f8y.macd.inputs={"Fast MA Period":"12" - 0,"Slow MA Period":26,"Signal Period":9};n6w+=2;}if(Q6II.A0w(n6w.toString(),n6w.toString().length,32892) !== z6w){f8y.macd.startFrom=f8y.startFrom;f8y.macd.inputs={"Fast MA Period":97,"Slow MA Period":57,"Signal Period":7};}f8y.macd.outputs={_MACD:null,_Signal:null};Y8y.Studies.calculateMACD(b8y,f8y.macd);for(var l8y=f8y.startFrom;l8y < x8y.length;l8y++){o3o="_hi";o3o+="st";E3o="_";E3o+="his";E3o+="t";if(l8y === 0){g8y=q8y;}else if(x8y[l8y]["_MA " + f8y.name] > x8y[l8y - 1]["_MA " + f8y.name] && x8y[l8y]["_" + f8y.name + E3o] > x8y[l8y - +"1"][(("192.52" - 0,"7386" >> 1483704512) != 3800?(738.95,8180) >= 6160?"_":"6384" - 0 == (4766,570)?+"522.07":("i",! !"1"):("f",210.05)) + f8y.name + "_hist"]){g8y=D8y;}else if(x8y[l8y]["_MA " + f8y.name] < x8y[l8y - 1]["_MA " + f8y.name] && x8y[l8y][((+"5630",+"7790") < 2118?(0x2157,"h"):"_") + f8y.name + o3o] < x8y[l8y - 1][(4400 != 165.23?8022 === (9762,395)?(278.12,0x1c19):"_":!{}) + f8y.name + "_hist"]){g8y=C8y;}else {g8y=q8y;}x8y[l8y]["Result " + f8y.name]=g8y;;}};Y8y.Studies.calculateElderRay=function(O8y,J8y){var H3o,Z3o,G3o,K8y,l3o;H3o="_";H3o+="hist2";Z3o="C";Z3o+="l";Z3o+="os";Z3o+="e";G3o="exp";G3o+="on";G3o+="ent";G3o+="ial";Q6II.o6I();K8y=J8y.chart.scrubbed;if(K8y.length < J8y.days){J8y.error=!0;return;}Y8y.Studies.MA(G3o,J8y.days,Z3o,0,"_EMA",O8y,J8y);for(var U8y=Math.max(J8y.startFrom,J8y.days - ("1" | 0));U8y < K8y.length;U8y++){l3o="_hi";l3o+="st";l3o+="2";K8y[U8y][J8y.name + "_hist1"]=K8y[U8y].High - K8y[U8y]["_EMA " + J8y.name];K8y[U8y][J8y.name + l3o]=K8y[U8y].Low - K8y[U8y]["_EMA " + J8y.name];}J8y.outputMap={};J8y.outputMap[J8y.name + "_hist1"]="";J8y.outputMap[J8y.name + H3o]="";};Y8y.Studies.calculateElderForce=function(i8y,j8y){var B4o,X8y;B4o="expo";Q6II.o6I();B4o+="nen";B4o+="tial";X8y=j8y.chart.scrubbed;if(X8y.length < j8y.days){j8y.error=! !"1";return;}for(var o8y=Math.max(+"1",j8y.startFrom);o8y < X8y.length;o8y++){X8y[o8y]["_EF1 " + j8y.name]=X8y[o8y].Volume * (X8y[o8y].Close - X8y[o8y - 1].Close);}Y8y.Studies.MA(B4o,j8y.days,"_EF1 " + j8y.name,0,"Result",i8y,j8y);};Y8y.Studies.initElderImpulse=function(S8y,N8y,L8y,B8y,T8y,I8y){var W8y;W8y=Y8y.Studies.initializeFN(S8y,N8y,L8y,B8y,T8y,I8y);if(T8y.calculateOnly){return W8y;}S8y.chart.customChart={chartType:"colored_bar",colorFunction:function(n3y,r8y,a3y){var W4o,A8y;W4o="ob";W4o+="ject";A8y=r8y["Result " + W8y.name];if(A8y && typeof A8y == W4o){A8y=A8y.color;}return A8y;}};S8y.setMainSeriesRenderer();return W8y;};Y8y.Studies.displayElderForce=function(F3y,c3y,u3y){var J4o,e3y,P3y,k3y,R3y;J4o="R";J4o+="esult ";Y8y.Studies.displaySeriesAsLine(F3y,c3y,u3y);e3y=Y8y.Studies.determineColor(c3y.outputs.Result);P3y=F3y.panels[c3y.panel];k3y=c3y.getYAxis(F3y);R3y={skipTransform:P3y.name != c3y.chart.name,panelName:c3y.panel,band:J4o + c3y.name,threshold:0,color:e3y,yAxis:k3y};if(!c3y.highlight && F3y.highlightedDraggable){R3y.opacity=+"0.3";}R3y.direction=1;Y8y.preparePeakValleyFill(F3y,R3y);R3y.direction=-1;Y8y.preparePeakValleyFill(F3y,R3y);};Y8y.Studies.displayElderRay=function(M3y,V3y,t3y){var p3y,y3y,h3y,E3y,s3y,z3y,U4o,a4o,n4o,z4o,v3y;p3y=M3y.panels[V3y.panel];y3y=V3y.getContext(M3y);h3y=V3y.getYAxis(M3y);E3y=M3y.pixelFromPrice(0,p3y,h3y);s3y=M3y.layout.candleWidth - +"2";if(s3y < 2){s3y=1;}M3y.canvasColor("stx_histogram");z3y=y3y.fillStyle;Q6II.o6I();if(!V3y.underlay){y3y.globalAlpha=1;}M3y.startClip(V3y.panel);function Z3y(w3y,Q3y,d3y,G3y){Q6II.o6I();y3y.fillStyle=Y8y.Studies.determineColor(V3y.outputs[d3y]);y3y.fillRect(Math.floor(M3y.pixelFromBar(w3y,p3y.chart) - s3y / 2 + s3y * Q3y),Math.floor(E3y),Math.floor(s3y * (1 - ("2" | 0) * Q3y)),Math.floor(M3y.pixelFromPrice(v3y[V3y.name + G3y],p3y,h3y) - E3y));}if(!V3y.highlight && M3y.highlightedDraggable){y3y.globalAlpha*=0.3;}for(var m3y=0;m3y < t3y.length;m3y++){U4o="Elder ";U4o+="Bear P";U4o+="ower";a4o="Elder Bull";a4o+=" Power";n4o="_";n4o+="hi";n4o+="st";n4o+="1";z4o="_h";z4o+="is";z4o+="t1";v3y=t3y[m3y];if(!v3y)continue;if(v3y.candleWidth){s3y=Math.floor(Math.max(1,v3y.candleWidth - 2));}if(v3y[V3y.name + z4o] > 0){Z3y(m3y,0,"Elder Bull Power",n4o);}if(v3y[V3y.name + "_hist2"] < 0){Q6II.U7a(5);Z3y(m3y,Q6II.h8a("0",0),"Elder Bear Power","_hist2");}if(v3y[V3y.name + "_hist1"] < 0){Z3y(m3y,0.1,a4o,"_hist1");}if(v3y[V3y.name + "_hist2"] > 0){Z3y(m3y,0.1,U4o,"_hist2");}}M3y.endClip();y3y.fillStyle=z3y;};Y8y.Studies.studyLibrary=Y8y.extend(Y8y.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:Y8y.Studies.calculateElderForce,seriesFN:Y8y.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:x4o,seriesFN:Y8y.Studies.displayElderRay,calculateFN:Y8y.Studies.calculateElderRay,centerline:0,inputs:{Period:"13" << 2074034624},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":X4o}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:Y8y.Studies.calculateElderImpulse,initializeFN:Y8y.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! !"1",inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:P4o},removeFN:function(Y3y,H3y){Y3y.chart.customChart=null;Y3y.setMainSeriesRenderer();}}});}};f2l=l3y=>{var f3y,d4o,D4o,A4o,t4o,j4o;f3y=typeof _CIQ !== "undefined"?_CIQ:l3y.CIQ;if(!f3y.Studies){d4o="fracta";d4o+="lChaos feature r";d4o+="equires firs";d4o+="t activating studies feature.";console.error(d4o);}else {D4o="a";D4o+="uto";A4o="Fra";A4o+="c";A4o+="t";A4o+="al Chaos Bands";t4o="-";t4o+="1 to 1";j4o="F";j4o+="ractal Chaos Oscil";j4o+="la";j4o+="tor";f3y.Studies.calculateFractalChaos=function(O3y,b3y){var g3y,C3y,J3y,D3y,k4o,f4o,K3y,U3y,q3y,m4o;g3y=b3y.chart.scrubbed;C3y=0;J3y=0;D3y=0;if(b3y.startFrom && b3y.type == "Fractal Chaos Bands"){k4o="Fr";k4o+="actal";k4o+=" Low ";C3y=g3y[b3y.startFrom - 1]["Fractal High " + b3y.name];J3y=g3y[b3y.startFrom - 1][k4o + b3y.name];}for(var x3y=Math.max(4,b3y.startFrom);x3y < g3y.length;x3y++){f4o="F";f4o+="ractal Ch";f4o+="aos Bands";if(g3y[x3y].futureTick)break;K3y=!isNaN(g3y[x3y].High);U3y=!isNaN(g3y[x3y].Low);if(K3y || U3y){g3y[x3y]["Result " + b3y.name]=+"0";}D3y=0;for(q3y=0;q3y <= x3y;q3y++){if(!g3y[x3y - q3y])break;if(g3y[x3y - q3y].High > g3y[x3y - 2].High)break;if(q3y < 2 && g3y[x3y - q3y].High == g3y[x3y - +"2"].High)break;if(g3y[x3y - q3y].High < g3y[x3y - 2].High){D3y++;}if(D3y == 4){C3y=g3y[x3y - 2].High;break;}}if(b3y.type == "Fractal Chaos Bands"){m4o="Frac";m4o+="tal High ";if(K3y){g3y[x3y][m4o + b3y.name]=C3y > 0?C3y:null;}}else if(D3y == 4){Q6II.U7a(17);g3y[x3y]["Result " + b3y.name]=Q6II.H8a(1,"1");}D3y=0;for(q3y=0;q3y <= x3y;q3y++){if(!g3y[x3y - q3y])break;if(g3y[x3y - q3y].Low < g3y[x3y - 2].Low)break;if(q3y < 2 && g3y[x3y - q3y].Low == g3y[x3y - 2].Low)break;if(g3y[x3y - q3y].Low > g3y[x3y - 2].Low){D3y++;}if(D3y == 4){J3y=g3y[x3y - 2].Low;break;}}if(b3y.type == f4o){if(U3y){g3y[x3y]["Fractal Low " + b3y.name]=J3y > +"0"?J3y:null;}}else if(D3y == 4){g3y[x3y]["Result " + b3y.name]=-1;}}};f3y.Studies.studyLibrary=f3y.extend(f3y.Studies.studyLibrary,{"Fractal Chaos":{name:j4o,range:t4o,calculateFN:f3y.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:A4o,overlay:! ![],calculateFN:f3y.Studies.calculateFractalChaos,seriesFN:f3y.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":D4o}}});}};l2l=X3y=>{var j3y,v4o,C4o,e4o;j3y=typeof _CIQ !== "undefined"?_CIQ:X3y.CIQ;if(!j3y.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {v4o="High Minus";v4o+=" Low";C4o="a";C4o+="uto";e4o="Donchian Chan";e4o+="nel";j3y.Studies.calculateMaxHighMinLow=function(A3y,o3y){var M1I=Q6II;var i3y,I3y,B3y,N3y,T3y,S3y,S4o,V4o,L3y,I4o,w4o,M4o;i3y=o3y.chart.scrubbed;I3y=o3y.days;B3y=o3y.days;if(o3y.inputs["High Period"]){I3y=o3y.inputs["High Period"];}if(o3y.inputs["Low Period"]){B3y=o3y.inputs["Low Period"];}if(i3y.length < Math.max(I3y,B3y) + 1){o3y.error=! !1;return;}N3y=Number.MAX_VALUE;M1I.i6I();T3y=Number.MAX_VALUE * -1;if(o3y.startFrom > 1){for(S3y=1;S3y < I3y;S3y++){if(o3y.startFrom - S3y >= 0){T3y=Math.max(T3y,i3y[o3y.startFrom - S3y].High);}}for(S3y=1;S3y < B3y;S3y++){if(o3y.startFrom - S3y >= 0){N3y=Math.min(N3y,i3y[o3y.startFrom - S3y].Low);}}}for(var W3y=Math.max("0" * 1,o3y.startFrom - 1);W3y < i3y.length;W3y++){S4o="W";S4o+="illia";S4o+="ms %R";V4o="Donch";V4o+="i";V4o+="an Width";T3y=Math.max(T3y,i3y[W3y].High);N3y=Math.min(N3y,i3y[W3y].Low);if(W3y >= I3y){if(i3y[W3y - I3y].High == T3y){T3y=i3y[W3y].High;for(S3y=1;S3y < I3y;S3y++){T3y=Math.max(T3y,i3y[W3y - S3y].High);}}}if(W3y >= B3y){if(i3y[W3y - B3y].Low == N3y){N3y=i3y[W3y].Low;for(S3y=1;S3y < B3y;S3y++){N3y=Math.min(N3y,i3y[W3y - S3y].Low);}}}M1I.U7a(14);L3y=M1I.H8a(1902363616,"0");if(o3y.type == "HHV"){L3y=T3y;}else if(o3y.type == "LLV"){L3y=N3y;}else if(o3y.type == V4o){M1I.U7a(5);L3y=M1I.H8a(T3y,N3y);}else if(o3y.type == "GAPO" || o3y.type == "Gopala"){L3y=Math.log(T3y - N3y) / Math.log(B3y);}else if(o3y.type == "VT HZ Filter"){M1I.N7a(5);L3y=M1I.h8a(T3y,N3y);i3y[W3y]["_MHML " + o3y.name]=L3y;continue;}else if(o3y.type == S4o){L3y=- +"100" * (T3y - i3y[W3y].Close) / (T3y - N3y);i3y[W3y]["Result " + o3y.name]=L3y;continue;}if(W3y == i3y.length - "1" * 1)break;if(!i3y[W3y + 1].futureTick){I4o="Donchi";I4o+="an Ch";I4o+="annel";if(o3y.type == I4o){w4o="Donchia";w4o+="n Low ";M4o="D";M4o+="onch";M4o+="ian";M4o+=" High ";M1I.U7a(0);i3y[M1I.H8a(1,W3y)][M4o + o3y.name]=T3y;M1I.U7a(36);i3y[M1I.H8a("1",W3y)][w4o + o3y.name]=N3y;M1I.U7a(0);i3y[M1I.h8a(1,W3y)]["Donchian Median " + o3y.name]=M1I.H8a(T3y,N3y,2,M1I.U7a(1));}else {M1I.N7a(0);i3y[M1I.H8a(1,W3y)]["Result " + o3y.name]=L3y;}}}};j3y.Studies.calculateVerticalHorizontalFilter=function(e4y,r3y){var n4y,c4y,F4y,R4y,u4o;n4y=r3y.chart.scrubbed;if(n4y.length < r3y.days + 1){r3y.error=!"";return;}r3y.mhml=new j3y.Studies.StudyDescriptor(r3y.name,r3y.type,r3y.panel);r3y.mhml.chart=r3y.chart;r3y.mhml.days=r3y.days;r3y.mhml.startFrom=r3y.startFrom;r3y.mhml.inputs={};r3y.mhml.outputs={_MHML:null};j3y.Studies.calculateMaxHighMinLow(e4y,r3y.mhml);c4y=0;F4y=[];for(var a4y=Math.max(+"1",r3y.startFrom - r3y.days);a4y < n4y.length;a4y++){R4y=Math.abs(n4y[a4y].Close - n4y[a4y - +"1"].Close);F4y.push(R4y);c4y+=R4y;if(F4y.length == r3y.days){u4o="Resu";u4o+="l";u4o+="t";u4o+=" ";n4y[a4y][u4o + r3y.name]=n4y[a4y]["_MHML " + r3y.name] / c4y;c4y-=F4y.shift();}}};j3y.Studies.studyLibrary=j3y.extend(j3y.Studies.studyLibrary,{"Donchian Channel":{name:e4o,overlay:! !{},calculateFN:j3y.Studies.calculateMaxHighMinLow,seriesFN:j3y.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:j3y.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:j3y.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:j3y.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:j3y.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:j3y.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:- +"20",studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:C4o}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:j3y.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:v4o,calculateFN:function(V4y,u4y){Q6II.o6I();var k4y;k4y=u4y.chart.scrubbed;for(var P4y=u4y.startFrom;P4y < k4y.length;P4y++){k4y[P4y]["Result " + u4y.name]=k4y[P4y].High - k4y[P4y].Low;}},inputs:{}}});}};x2l=v4y=>{var M4y,K4o,r4o,Q4o,R4o;Q6II.i6I();M4y=typeof _CIQ !== "undefined"?_CIQ:v4y.CIQ;if(!M4y.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {K4o="#FF";K4o+="0000";r4o="#00FF0";r4o+="0";Q4o="#";Q4o+="FF00";Q4o+="0";Q4o+="0";R4o="#00";R4o+="00FF";M4y.Studies.calculateIchimoku=function(w4y,y4y){Q6II.o6I();var b4o,s4y,p4y,m4y,Z4y,t4y,z4y,Q4y,i4o,h4o,Y4o,L4o,h4y;b4o="Leadin";b4o+="g Span";b4o+=" B Period";s4y=y4y.chart.scrubbed;p4y={Base:Number(y4y.inputs["Base Line Period"]),Conv:Number(y4y.inputs["Conversion Line Period"]),LeadB:Number(y4y.inputs[b4o]),Lag:Number(y4y.inputs["Lagging Span Period"])};for(m4y=y4y.startFrom;m4y < s4y.length;m4y++){if(!s4y[m4y])continue;Z4y=E4y(p4y.Conv,m4y);s4y[m4y]["Conversion Line " + y4y.name]=(Z4y[+"1"] + Z4y[0]) / 2;Z4y=E4y(p4y.Base,m4y);s4y[m4y]["Base Line " + y4y.name]=(Z4y[1] + Z4y[0]) / 2;if(m4y < p4y.Lag)continue;s4y[m4y - p4y.Lag]["Lagging Span " + y4y.name]=s4y[m4y].Close;}t4y=[];for(m4y=Math.max(0,y4y.startFrom - p4y.Base);m4y < s4y.length;m4y++){Z4y=E4y(p4y.LeadB,m4y);z4y=(s4y[m4y]["Conversion Line " + y4y.name] + s4y[m4y]["Base Line " + y4y.name]) / 2;Q4y=(Z4y[1] + Z4y[0]) / 2;if(s4y[m4y + p4y.Base]){i4o="Leadi";i4o+="ng Span B ";h4o="Lead";h4o+="ing ";h4o+="S";h4o+="pan A ";s4y[m4y + p4y.Base][h4o + y4y.name]=z4y;s4y[m4y + p4y.Base][i4o + y4y.name]=Q4y;}else {Y4o="L";Y4o+="eading Span B ";L4o="Lea";L4o+="ding Sp";L4o+="an A ";h4y={};h4y[L4o + y4y.name]=z4y;h4y[Y4o + y4y.name]=Q4y;t4y.push(h4y);}}y4y.appendFutureTicks(w4y,t4y);function E4y(f4y,H4y){var G4y,Y4y;G4y=Number.MAX_VALUE;Y4y=Number.MAX_VALUE * -1;Q6II.i6I();for(var d4y=H4y - f4y + 1;d4y <= H4y;d4y++){if(d4y < 0)continue;G4y=Math.min(G4y,s4y[d4y].Low);Y4y=Math.max(Y4y,s4y[d4y].High);}return [G4y,Y4y];}};M4y.Studies.displayIchimoku=function(x4y,l4y,U4y){var g4y,q4y,C4y,J4y,K4y,b4y,D4y;g4y="Leading Span A " + l4y.name;Q6II.i6I();q4y="Leading Span B " + l4y.name;C4y=M4y.Studies.determineColor(l4y.outputs[l4y.outputMap[g4y]]);J4y=M4y.Studies.determineColor(l4y.outputs[l4y.outputMap[q4y]]);K4y=x4y.panels[l4y.panel];b4y=l4y.getYAxis(x4y);D4y={topBand:g4y,bottomBand:q4y,topColor:C4y,bottomColor:J4y,skipTransform:K4y.name != l4y.chart.name,topAxis:b4y,bottomAxis:b4y,opacity:0.3};if(!l4y.highlight && x4y.highlightedDraggable){Q6II.N7a(22);D4y.opacity*=Q6II.h8a("0.3",1);}M4y.fillIntersecting(x4y,l4y.panel,D4y);M4y.Studies.displaySeriesAsLine(x4y,l4y,U4y);};M4y.Studies.studyLibrary=M4y.extend(M4y.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !"1",calculateFN:M4y.Studies.calculateIchimoku,seriesFN:M4y.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":R4o,"Base Line":Q4o,"Leading Span A":r4o,"Leading Span B":K4o,"Lagging Span":"#808000"}}});}};g2l=j4y=>{var c4o,O4y;c4o="und";c4o+="ef";c4o+="ine";c4o+="d";O4y=typeof _CIQ !== c4o?_CIQ:j4y.CIQ;if(!O4y.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {O4y.Studies.calculateIntradayMomentum=function(B4y,X4y){var d1I=Q6II;var o4y,T4y,W4y,I1w,M1w,w1w,S4y,s4o,N4y,L4y;o4y=X4y.chart.scrubbed;T4y=X4y.days;if(o4y.length < T4y + 1){X4y.error=! !{};return;}W4y=0;d1I.N7a(14);d1I.o6I();I1w=-d1I.H8a(219823040,"1545727092");M1w=1161210664;w1w=2;for(var e1w=1;d1I.A0w(e1w.toString(),e1w.toString().length,93689) !== I1w;e1w++){S4y=0;d1I.N7a(22);w1w+=d1I.H8a("2",1);}if(d1I.A0w(w1w.toString(),w1w.toString().length,49449) !== M1w){S4y=1;}if(X4y.startFrom > 1){s4o="_";s4o+="totU";s4o+="p ";W4y=o4y[X4y.startFrom - 1][s4o + X4y.name];S4y=o4y[X4y.startFrom - 1]["_totDn " + X4y.name];}for(var i4y=X4y.startFrom;i4y < o4y.length;i4y++){N4y=o4y[i4y].Close - o4y[i4y].Open;if(N4y > 0){W4y+=N4y;}else {S4y-=N4y;}if(i4y >= T4y){L4y=o4y[i4y - T4y].Close - o4y[i4y - T4y].Open;if(L4y > +"0"){W4y-=L4y;}else {S4y+=L4y;}}d1I.N7a(72);o4y[i4y]["Result " + X4y.name]=d1I.h8a(100,W4y,W4y,S4y);o4y[i4y]["_totUp " + X4y.name]=W4y;o4y[i4y]["_totDn " + X4y.name]=S4y;}};O4y.Studies.studyLibrary=O4y.extend(O4y.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:O4y.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};q2l=A4y=>{var I4y,q4o;I4y=typeof _CIQ !== "undefined"?_CIQ:A4y.CIQ;Q6II.o6I();if(!I4y.Studies){console.error("keltner feature requires first activating studies feature.");}else {q4o="a";q4o+="uto";I4y.Studies.calculateKeltner=function(n0y,r4y){var g4o,F4o;g4o="C";g4o+="los";g4o+="e";F4o="M";F4o+="oving Ave";F4o+="ra";Q6II.i6I();F4o+="ge Type";I4y.Studies.MA(r4y.inputs[F4o],r4y.days,g4o,0,"MA",n0y,r4y);I4y.Studies.calculateStudyATR(n0y,r4y);I4y.Studies.calculateGenericEnvelope(n0y,r4y,r4y.inputs.Shift,"MA " + r4y.name,"ATR " + r4y.name);};I4y.Studies.studyLibrary=I4y.extend(I4y.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:I4y.Studies.displayChannel,calculateFN:I4y.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !{}},outputs:{"Keltner Top":q4o,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:+"0.1",step:0.1}}}});}};b2l=c0y=>{var a0y,t1w,A1w,D1w,E4o;a0y=typeof _CIQ !== "undefined"?_CIQ:c0y.CIQ;if(!a0y.Studies){console.error("klinger feature requires first activating studies feature.");}else {a0y.Studies.calculateKlinger=function(M0y,R0y){var T4o,p4o,y4o,N4o,e0y,v0y,P0y,m0y,k0y,p0y,u0y,y0y,s0y,F0y,O4o,V0y;T4o="Sig";T4o+="nal";T4o+=" Periods";p4o="expo";p4o+="nent";p4o+="ial";y4o="_EMA-";y4o+="S";N4o="_";N4o+="hi";N4o+="s";N4o+="t";e0y=R0y.chart.scrubbed;v0y=Number(R0y.inputs["Short Cycle"]);P0y=Number(R0y.inputs["Long Cycle"]);if(e0y.length < Math.max(v0y,P0y) + 1){R0y.error=! !{};return;}m0y=R0y.name + N4o;k0y="Klinger " + R0y.name;p0y="KlingerSignal " + R0y.name;u0y="_SV " + R0y.name;y0y="_EMA-S " + R0y.name;s0y="_EMA-L " + R0y.name;for(F0y=Math.max(1,R0y.startFrom);F0y < e0y.length;F0y++){O4o="hl";O4o+="c";O4o+="/3";V0y=e0y[F0y].Volume;if(e0y[F0y][O4o] < e0y[F0y - 1]["hlc/3"]){V0y*=-1;}if(V0y){e0y[F0y][u0y]=V0y;}}Q6II.o6I();a0y.Studies.MA("exponential",v0y,u0y,0,y4o,M0y,R0y);a0y.Studies.MA(p4o,P0y,u0y,0,"_EMA-L",M0y,R0y);for(F0y=Math.max(P0y,R0y.startFrom);F0y < e0y.length;F0y++){if(e0y[F0y].futureTick || e0y[F0y][y0y] === null || e0y[F0y][s0y] === null)break;e0y[F0y][k0y]=e0y[F0y][y0y] - e0y[F0y][s0y];}a0y.Studies.MA("exponential",Number(R0y.inputs[T4o]),k0y,+"0","KlingerSignal",M0y,R0y);for(F0y=R0y.startFrom;F0y < e0y.length;F0y++){e0y[F0y][m0y]=e0y[F0y][k0y] - e0y[F0y][p0y];}R0y.outputMap[m0y]="";};t1w=60768277;A1w=422507635;D1w=2;for(var S1w=1;Q6II.A0w(S1w.toString(),S1w.toString().length,41060) !== t1w;S1w++){E4o="Short";E4o+=" Cycle";a0y.Studies.studyLibrary=a0y.extend(a0y.Studies.studyLibrary,{Klinger:{name:"auto",seriesFN:a0y.Studies.displayHistogramWithSeries,calculateFN:a0y.Studies.calculateKlinger,inputs:{"Signal Periods":80,"Short Cycle":42,"Long Cycle":+"21"},outputs:{Klinger:"Short Cycle",KlingerSignal:"Short Cycle","Increasing Bar":"Short Cycle","Decreasing Bar":E4o}}});D1w+=2;}if(Q6II.t0w(D1w.toString(),D1w.toString().length,21522) !== A1w){a0y.Studies.studyLibrary=a0y.extend(a0y.Studies.studyLibrary,{Klinger:{name:"auto",seriesFN:a0y.Studies.displayHistogramWithSeries,calculateFN:a0y.Studies.calculateKlinger,inputs:{"Signal Periods":+"80","Short Cycle":42,"Long Cycle":21},outputs:{Klinger:"Short Cycle",KlingerSignal:"Short Cycle","Increasing Bar":"Short Cycle","Decreasing Bar":"Short Cycle"}}});}a0y.Studies.studyLibrary=a0y.extend(a0y.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:a0y.Studies.displayHistogramWithSeries,calculateFN:a0y.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":+"55"},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};D2l=h0y=>{var Z0y,o4o,a2o,n2o,Z4o,G4o;Z0y=typeof _CIQ !== "undefined"?_CIQ:h0y.CIQ;Q6II.i6I();if(!Z0y.Studies){o4o="linea";o4o+="rRegre";o4o+="ssion feature requires first activating stu";o4o+="dies feature.";console.error(o4o);}else {a2o="a";a2o+="ut";a2o+="o";n2o="a";n2o+="u";n2o+="to";Z4o="T";Z4o+="ime Se";Z4o+="r";Z4o+="ies";G4o="time se";G4o+="ries";Z0y.Studies.prettify["time series"]="tsma";Z0y.Studies.movingAverage.conversions.tsma="time series";Z0y.Studies.movingAverage.translations[G4o]=Z4o;Z0y.Studies.movingAverage.typeMap.tsma="TimeSeries";Z0y.Studies.movingAverage.typeMap["time series"]="TimeSeries";Z0y.Studies.calculateMovingAverageTimeSeries=function(l0y,E0y){var N1I=Q6II;var l4o,Q0y,z0y,w0y,d0y,G0y,Y0y,H0y,f0y;l4o="m";l4o+="a";E0y.ma=new Z0y.Studies.StudyDescriptor(E0y.name,l4o,E0y.panel);E0y.ma.chart=E0y.chart;E0y.ma.days=E0y.days;E0y.ma.startFrom=E0y.startFrom;E0y.ma.inputs=E0y.inputs;Z0y.Studies.calculateLinearRegressionIndicator(l0y,E0y.ma);Q0y=E0y.name;for(var x0y in E0y.outputs){N1I.N7a(49);Q0y=N1I.h8a(" ",x0y,Q0y);}z0y=parseInt(E0y.inputs.Offset,10);if(isNaN(z0y)){z0y=0;}w0y=E0y.chart.scrubbed;d0y=z0y;for(var t0y=E0y.startFrom - 1;t0y >= 0;t0y--){G0y=w0y[t0y][Q0y];if(!G0y && G0y !== +"0")continue;if(d0y > 0){d0y--;continue;}break;}Y0y=[];for(t0y++;t0y < w0y.length;t0y++){H0y=w0y[t0y];if(t0y + z0y >= 0){if(t0y + z0y < w0y.length){N1I.N7a(0);w0y[N1I.h8a(z0y,t0y)][Q0y]=H0y["Forecast " + E0y.name];}else {f0y={};f0y[Q0y]=H0y["Forecast " + E0y.name];Y0y.push(f0y);}}}E0y.appendFutureTicks(l0y,Y0y);};Z0y.Studies.calculateLinearRegressionIndicator=function(N0y,g0y){var Y1I=Q6II;var H4o,b0y,K0y,j0y,i0y,W0y,C0y,X0y,U0y,B2o,o0y,z2o,W2o,D0y,J2o,J0y,O0y,S0y,T0y;H4o="Cl";H4o+="os";H4o+="e";b0y=g0y.chart.scrubbed;if(b0y.length < g0y.days + 1){g0y.error=! !"1";return;}K0y=g0y.inputs.Field;if(!K0y || K0y == "field"){K0y=H4o;}j0y=g0y.days * (g0y.days + 1) / 2;i0y=Math.pow(j0y,+"2");W0y=j0y * (2 * g0y.days + 1) / +"3";Y1I.U7a(14);C0y=Y1I.H8a(542708512,"0");X0y=0;U0y=0;if(g0y.startFrom){B2o="_s";B2o+="u";B2o+="ms";B2o+=" ";o0y=b0y[g0y.startFrom - 1][B2o + g0y.name];if(o0y){X0y=o0y[0];C0y=o0y[1];U0y=o0y[2];}}for(var q0y=g0y.startFrom;q0y < b0y.length;q0y++){z2o="Int";z2o+="ercept ";W2o="obj";W2o+="ect";D0y=b0y[q0y][K0y];if(D0y && typeof D0y == W2o){D0y=D0y[g0y.subField];}if(!D0y && D0y !== 0)continue;X0y+=g0y.days * D0y - C0y;C0y+=D0y;U0y+=Math.pow(D0y,+"2");if(q0y < g0y.days - 1)continue;else if(q0y > g0y.days - ("1" << 1688618176)){J2o="obj";J2o+="e";J2o+="ct";J0y=b0y[q0y - g0y.days][K0y];if(J0y && typeof J0y == J2o){J0y=J0y[g0y.subField];}if(!J0y && J0y !== 0)continue;C0y-=J0y;U0y-=Math.pow(J0y,2);}O0y=(g0y.days * X0y - j0y * C0y) / (g0y.days * W0y - i0y);b0y[q0y]["Slope " + g0y.name]=O0y;S0y=(C0y - O0y * j0y) / g0y.days;b0y[q0y][z2o + g0y.name]=S0y;b0y[q0y]["Forecast " + g0y.name]=S0y + O0y * g0y.days;T0y=(g0y.days * W0y - i0y) / (g0y.days * U0y - Math.pow(C0y,2));Y1I.N7a(73);b0y[q0y]["RSquared " + g0y.name]=Y1I.H8a(O0y,O0y,T0y);b0y[q0y]["_sums " + g0y.name]=[X0y,C0y,U0y];}};Z0y.Studies.studyLibrary=Z0y.extend(Z0y.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! ![],calculateFN:Z0y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !1,calculateFN:Z0y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:Z0y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:n2o}},"LR Slope":{name:"Linear Reg Slope",calculateFN:Z0y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:a2o}},"Time Fcst":{name:"Time Series Forecast",overlay:! !"1",calculateFN:Z0y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};C2l=B0y=>{var L0y,U2o,j2o;L0y=typeof _CIQ !== "undefined"?_CIQ:B0y.CIQ;if(!L0y.Studies){U2o="macd feature requires first activating studies fe";U2o+="atu";U2o+="re.";console.error(U2o);}else {j2o="#FF";j2o+="000";j2o+="0";L0y.Studies.calculateMACD=function(m6y,I0y){var S1I=Q6II;var m2o,k2o,x2o,F6y,R6y,A0y,P6y,M6y,c6y,r0y,y6y,d2o,P2o,X2o,v6y,s6y,f2o,h6y;m2o="MA";m2o+="CD";m2o+=" ";k2o="Si";k2o+="gnal";k2o+=" ";k2o+="MA Type";x2o="Sl";x2o+="o";x2o+="w MA Period";F6y=I0y.chart.scrubbed;R6y=I0y.inputs;A0y=I0y.name;if(!I0y.macd1Days){I0y.macd1Days=parseFloat(R6y["Fast MA Period"]);}if(!I0y.macd2Days){I0y.macd2Days=parseFloat(R6y[x2o]);}if(!I0y.signalDays){I0y.signalDays=parseFloat(R6y["Signal Period"]);}if(!I0y.days){I0y.days=Math.max(I0y.macd1Days,I0y.macd2Days,I0y.signalDays);}if(F6y.length < I0y.days + 1){I0y.error=! !"1";return;}P6y=I0y.inputs.Field;if(!P6y || P6y == "field"){P6y="Close";}M6y=R6y["Moving Average Type"];if(!M6y){M6y="exponential";}L0y.Studies.MA(M6y,I0y.macd1Days,P6y,0,"_MACD1",m6y,I0y);L0y.Studies.MA(M6y,I0y.macd2Days,P6y,"0" ^ 0,"_MACD2",m6y,I0y);y6y=Math.max(I0y.startFrom,I0y.days - 1);for(c6y=y6y;c6y < F6y.length;c6y++){d2o="_";d2o+="MACD2";d2o+=" ";P2o="_MACD1";P2o+=" ";X2o="_M";X2o+="AC";X2o+="D1 ";r0y=F6y[c6y];if((r0y[X2o + A0y] || r0y[P2o + A0y] === 0) && (r0y[d2o + A0y] || r0y["_MACD2 " + A0y] === 0)){S1I.N7a(0);r0y[S1I.H8a(A0y,"MACD ")]=r0y["_MACD1 " + A0y] - r0y["_MACD2 " + A0y];}}v6y=R6y[k2o];if(!v6y){v6y="exponential";}L0y.Studies.MA(v6y,I0y.signalDays,m2o + A0y,0,"Signal",m6y,I0y);S1I.N7a(0);s6y=S1I.h8a("_hist",A0y);for(c6y=y6y;c6y < F6y.length;c6y++){f2o="Si";f2o+="g";f2o+="nal ";r0y=F6y[c6y];S1I.N7a(0);h6y=r0y[S1I.H8a(A0y,"Signal ")];if(!h6y && h6y !== 0)continue;r0y[s6y]=r0y["MACD " + A0y] - r0y[f2o + A0y];}I0y.outputMap[s6y]="";};L0y.Studies.studyLibrary=L0y.extend(L0y.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:L0y.Studies.calculateMACD,seriesFN:L0y.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":j2o}}});}};J2l=t6y=>{var E6y,t2o,M2o;E6y=typeof _CIQ !== "undefined"?_CIQ:t6y.CIQ;if(!E6y.Studies){t2o="massInde";t2o+="x feature requires first activating studies feature.";console.error(t2o);}else {M2o="Mass";M2o+=" Ind";M2o+="ex";E6y.Studies.calculateMassIndex=function(H6y,z6y){Q6II.i6I();var V2o,D2o,A2o,Q6y,Y6y,S2o;V2o="_to";V2o+="tal ";D2o="_EMA";D2o+="2";A2o="_High-L";A2o+="ow";A2o+=" ";Q6y=z6y.chart.scrubbed;if(Q6y.length < Math.max(9,z6y.days + 1)){z6y.error=! !1;return;}for(var d6y=z6y.startFrom;d6y < Q6y.length;d6y++){Q6y[d6y]["_High-Low " + z6y.name]=Q6y[d6y].High - Q6y[d6y].Low;}Q6II.N7a(23);E6y.Studies.MA("exponential",Q6II.H8a(0,"9"),A2o + z6y.name,0,"_EMA",H6y,z6y);E6y.Studies.MA("exponential",9,"_EMA " + z6y.name,"0" | 0,D2o,H6y,z6y);Y6y=0;if(Q6y[z6y.startFrom - "1" * 1] && Q6y[z6y.startFrom - +"1"]["_total " + z6y.name]){Y6y=Q6y[z6y.startFrom - 1][V2o + z6y.name];}for(var w6y=Math.max(17,z6y.startFrom);w6y < Q6y.length;w6y++){S2o="_total";S2o+=" ";Y6y+=Q6y[w6y]["_EMA " + z6y.name] / Q6y[w6y]["_EMA2 " + z6y.name];if(w6y >= +"17" + z6y.days - 1){Q6y[w6y]["Result " + z6y.name]=Y6y;Y6y-=Q6y[w6y - z6y.days + +"1"]["_EMA " + z6y.name] / Q6y[w6y - z6y.days + 1]["_EMA2 " + z6y.name];}Q6y[w6y][S2o + z6y.name]=Y6y;}};E6y.Studies.displayMassIndex=function(l6y,f6y,C6y){var I2o,x6y,K6y,g6y,q6y,D6y;Q6II.o6I();I2o="B";I2o+="ulge Threshold";E6y.Studies.displaySeriesAsLine(l6y,f6y,C6y);x6y=f6y.inputs[I2o];K6y=l6y.panels[f6y.panel];g6y=f6y.getYAxis(l6y);q6y=E6y.Studies.determineColor(f6y.outputs.Result);D6y={skipTransform:l6y.panels[f6y.panel].name != f6y.chart.name,panelName:f6y.panel,band:"Result " + f6y.name,threshold:x6y,direction:+"1",color:q6y,yAxis:g6y,opacity:0.3};if(!f6y.highlight && l6y.highlightedDraggable){D6y.opacity*=+"0.3";}E6y.preparePeakValleyFill(l6y,D6y);E6y.Studies.drawHorizontal(l6y,f6y,null,x6y,g6y,q6y);};E6y.Studies.studyLibrary=E6y.extend(E6y.Studies.studyLibrary,{"Mass Idx":{name:M2o,seriesFN:E6y.Studies.displayMassIndex,calculateFN:E6y.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};K2l=O6y=>{var U6y,C2o,e2o;U6y=typeof _CIQ !== "undefined"?_CIQ:O6y.CIQ;Q6II.i6I();if(!U6y.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {C2o="a";C2o+="uto";e2o="0 ";e2o+="to ";e2o+="100";U6y.Studies.calculateMoneyFlowIndex=function(e7y,i6y){var D9I=Q6II;var w2o,o6y,N6y,W6y,B6y,c7y,A6y,F7y,n7y,u2o,R7y,L6y,a7y;w2o="_r";w2o+="aw";w2o+="M";w2o+="F ";o6y=i6y.chart.scrubbed;if(o6y.length < i6y.days + 1){i6y.error=! !{};return;}N6y=0;W6y=0;B6y=o6y[i6y.startFrom - 1];c7y=w2o + i6y.name;A6y="_cumMF " + i6y.name;F7y="Result " + i6y.name;if(B6y && B6y[A6y]){N6y=B6y[A6y][0];W6y=B6y[A6y][1];}for(var X6y=i6y.startFrom;X6y < o6y.length;X6y++){n7y=o6y[X6y]["hlc/3"];if(X6y > 0 && !o6y[X6y].futureTick){u2o="h";u2o+="lc/";u2o+="3";D9I.U7a(59);R7y=o6y[D9I.H8a("1",X6y)][u2o];L6y=n7y * o6y[X6y].Volume;if(n7y > R7y){N6y+=L6y;}else if(n7y < R7y){D9I.N7a(23);L6y*=-D9I.H8a(0,"1");W6y-=L6y;}else {L6y=0;}if(X6y > i6y.days){a7y=o6y[X6y - i6y.days][c7y];if(a7y > 0){N6y-=a7y;}else {W6y+=a7y;}if(W6y === 0){o6y[X6y][F7y]=100;}else if(o6y[X6y].Volume){D9I.N7a(74);o6y[X6y][F7y]=D9I.H8a(N6y,100,"1",100,W6y);}}o6y[X6y][c7y]=L6y;o6y[X6y][A6y]=[N6y,W6y];}}};U6y.Studies.studyLibrary=U6y.extend(U6y.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:e2o,calculateFN:U6y.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:C2o}}}});}};U2l=k7y=>{var v6I=Q6II;var v2o,P7y,k4w,m4w,f4w,B6o,H2o,l2o,Z2o,i2o,h2o,b2o;v2o="und";v2o+="efined";P7y=typeof _CIQ !== v2o?_CIQ:k7y.CIQ;if(!P7y.Studies){k4w=692415584;m4w=- +"1861299372";v6I.N7a(20);f4w=v6I.h8a("2",2147483647);for(var t4w=1;v6I.t0w(t4w.toString(),t4w.toString().length,+"13557") !== k4w;t4w++){console.error("");f4w+=2;}if(v6I.t0w(f4w.toString(),f4w.toString().length,92277) !== m4w){console.error("");}console.error("movingAverages feature requires first activating studies feature.");}else {B6o="#FF";B6o+="0000";H2o="Moving Averag";H2o+="e Deviation";l2o="a";l2o+="u";l2o+="t";l2o+="o";Z2o="percen";Z2o+="t";i2o="Doubl";i2o+="eExp";i2o+="onential";h2o="Doub";h2o+="le Ex";h2o+="ponential";b2o="te";b2o+="ma";P7y.Studies.prettify=P7y.extend({"2-exponential":"dema","3-exponential":b2o,hull:"hma"},P7y.Studies.prettify);P7y.extend(P7y.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":h2o,"3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":i2o,tema:"TripleExponential","3-exponential":"TripleExponential"}});P7y.Studies.calculateMovingAverageHull=function(Z7y,u7y){var r2o,R2o,Y2o,L2o,M7y,v7y,V7y,m7y,Q2o,y7y,s7y,h7y,p7y;r2o="w";r2o+="m";r2o+="a";R2o="w";R2o+="ma";Y2o="w";Y2o+="ma";L2o="f";L2o+="i";L2o+="eld";M7y=u7y.chart.scrubbed;v7y=u7y.inputs.Field;if(!v7y || v7y == L2o){v7y="Close";}P7y.Studies.MA(Y2o,u7y.days,v7y,0,"_WMA1",Z7y,u7y);P7y.Studies.MA(R2o,Math.ceil(u7y.days / 2),v7y,"0" << 1454715904,"_WMA2",Z7y,u7y);for(V7y=u7y.startFrom - 1;V7y >= ("0" & 2147483647);V7y--){m7y=M7y[V7y][v7y];if(m7y && typeof m7y == "object"){m7y=m7y[u7y.subField];}if(m7y || m7y === 0)break;}for(V7y++;V7y < M7y.length;V7y++){Q2o="_";Q2o+="W";Q2o+="MA2 ";y7y=M7y[V7y];y7y["_MMA " + u7y.name]=2 * y7y[Q2o + u7y.name] - y7y["_WMA1 " + u7y.name];}s7y=parseInt(u7y.inputs.Offset,10);if(isNaN(s7y)){s7y=0;}h7y=Math.floor(Math.sqrt(u7y.days));P7y.Studies.MA(r2o,h7y,"_MMA " + u7y.name,s7y,"_HMA",Z7y,u7y);p7y=u7y.name;for(var E7y in u7y.outputs){v6I.U7a(49);p7y=v6I.H8a(5207 !== ("325" >> 1957703776,7860)?(8648,5350) > (+"7569",1520)?" ":(0x2371,"S"):("K",+"126.76"),E7y,p7y);}for(V7y=Math.max(u7y.days + h7y - 1,u7y.startFrom);V7y < M7y.length;V7y++){M7y[V7y][p7y]=M7y[V7y]["_HMA " + u7y.name];}};P7y.Studies.calculateMovingAverageDoubleExponential=function(H7y,t7y){var s2o,c2o,K2o,d7y,G7y,Q7y,R0w,Q0w,r0w,z7y,w7y,f7y,F2o,Y7y,l7y,x7y,g7y,q7y;s2o="_";s2o+="EM";s2o+="A1";s2o+=" ";c2o="e";c2o+="m";c2o+="a";K2o="fi";v6I.i6I();K2o+="eld";d7y=t7y.chart.scrubbed;G7y=t7y.inputs.Field;if(!G7y || G7y == K2o){G7y="Close";}P7y.Studies.MA("ema",t7y.days,G7y,0,"_EMA1",H7y,t7y);P7y.Studies.MA(c2o,t7y.days,s2o + t7y.name,0,"_EMA2",H7y,t7y);Q7y=parseInt(t7y.inputs.Offset,10);R0w=-577205400;Q0w=-500436834;r0w=2;for(var c0w=1;v6I.A0w(c0w.toString(),c0w.toString().length,66776) !== R0w;c0w++){if(isNaN(Q7y)){Q7y=0;}r0w+=2;}if(v6I.t0w(r0w.toString(),r0w.toString().length,43149) !== Q0w){if(isNaN(Q7y)){Q7y=5;}}f7y=Q7y;for(z7y=t7y.startFrom - 1;z7y >= 0;z7y--){F2o="obje";F2o+="ct";w7y=d7y[z7y][G7y];if(w7y && typeof w7y == F2o){w7y=w7y[t7y.subField];}if(!w7y && w7y !== +"0")continue;if(f7y > +"0"){f7y--;continue;}break;}Y7y=t7y.name;for(var b7y in t7y.outputs){v6I.U7a(49);Y7y=v6I.H8a(" ",b7y,Y7y);}l7y=[];for(z7y++;z7y < d7y.length;z7y++){if(z7y < 2 * (t7y.days - 1))continue;x7y=d7y[z7y];g7y=2 * x7y["_EMA1 " + t7y.name] - x7y["_EMA2 " + t7y.name];if(z7y + Q7y >= ("0" & 2147483647)){if(z7y + Q7y < d7y.length){v6I.U7a(0);d7y[v6I.H8a(Q7y,z7y)][Y7y]=g7y;}else {q7y={};q7y[Y7y]=g7y;l7y.push(q7y);}}}t7y.appendFutureTicks(H7y,l7y);};P7y.Studies.calculateMovingAverageTripleExponential=function(X7y,D7y){var N2o,q2o,g2o,U7y,O7y,J7y,C7y,K7y,i7y,j7y,W7y,O2o,o7y,S7y,T7y;v6I.i6I();N2o="_EM";N2o+="A";N2o+="3";q2o="_";q2o+="E";q2o+="MA2";g2o="_";g2o+="EMA1";U7y=D7y.chart.scrubbed;O7y=D7y.inputs.Field;if(!O7y || O7y == "field"){O7y="Close";}P7y.Studies.MA("ema",D7y.days,O7y,0,g2o,X7y,D7y);P7y.Studies.MA("ema",D7y.days,"_EMA1 " + D7y.name,+"0",q2o,X7y,D7y);P7y.Studies.MA("ema",D7y.days,"_EMA2 " + D7y.name,"0" - 0,N2o,X7y,D7y);J7y=parseInt(D7y.inputs.Offset,10);if(isNaN(J7y)){J7y=0;}i7y=J7y;for(C7y=D7y.startFrom - 1;C7y >= 0;C7y--){K7y=U7y[C7y][O7y];if(K7y && typeof K7y == "object"){K7y=K7y[D7y.subField];}if(!K7y && K7y !== 0)continue;if(i7y > 0){i7y--;continue;}break;}j7y=D7y.name;for(var N7y in D7y.outputs){v6I.U7a(49);j7y=v6I.H8a(" ",N7y,j7y);}W7y=[];for(C7y++;C7y < U7y.length;C7y++){O2o="_EM";O2o+="A3 ";if(C7y < 3 * (D7y.days - ("1" - 0)))continue;o7y=U7y[C7y];S7y=3 * o7y["_EMA1 " + D7y.name] - 3 * o7y["_EMA2 " + D7y.name] + o7y[O2o + D7y.name];if(C7y + J7y >= 0){if(C7y + J7y < U7y.length){v6I.U7a(0);U7y[v6I.H8a(J7y,C7y)][j7y]=S7y;}else {T7y={};T7y[j7y]=S7y;W7y.push(T7y);}}}D7y.appendFutureTicks(X7y,W7y);};P7y.Studies.calculateMAEnvelope=function(r7y,L7y){var y2o,B7y,I7y,A7y,z3w,n3w,a3w,p2o;y2o="Shi";y2o+="ft";y2o+=" Typ";y2o+="e";B7y=L7y.inputs.Field;if(!B7y || B7y == "field"){B7y="Close";}P7y.Studies.MA(L7y.inputs["Moving Average Type"],L7y.days,B7y,0,"MA",r7y,L7y);I7y=L7y.inputs[y2o];A7y=L7y.inputs.Shift;if(!I7y){I7y="percent";A7y=L7y.inputs["Shift Percentage"];}v6I.o6I();if(I7y == "percent"){v6I.U7a(38);P7y.Studies.calculateGenericEnvelope(r7y,L7y,v6I.H8a(1,A7y,"100"),"MA " + L7y.name);}else if(I7y == "points"){v6I.N7a(22);z3w=v6I.h8a("1741899619",1);n3w=-1858667527;a3w=2;for(var x3w=+"1";v6I.A0w(x3w.toString(),x3w.toString().length,"1236" * 1) !== z3w;x3w++){P7y.Studies.calculateGenericEnvelope(r7y,L7y,1,"" - L7y.name,1,Number(A7y));a3w+=2;}if(v6I.A0w(a3w.toString(),a3w.toString().length,1126) !== n3w){p2o="M";p2o+="A";p2o+=" ";P7y.Studies.calculateGenericEnvelope(r7y,L7y,null,p2o + L7y.name,null,Number(A7y));}}};P7y.Studies.calculateMADev=function(M1y,n1y){var o2o,E2o,T2o,e1y,c1y,P1y,k1y,V1y,G2o,F1y,a1y,R1y;o2o="Mo";o2o+="ving Av";o2o+="erage Type";E2o="Points Or Percen";E2o+="t";T2o="C";T2o+="lo";T2o+="se";e1y=n1y.chart.scrubbed;if(e1y.length < n1y.days + 1){n1y.error=! !{};return;}c1y=n1y.inputs.Field;if(!c1y || c1y == "field"){c1y=T2o;}P1y=n1y.inputs[E2o];if(!P1y){P1y="Points";}k1y=n1y.inputs[o2o];if(!k1y){k1y="exponential";}P7y.Studies.MA(k1y,n1y.days,c1y,+"0","_MA",M1y,n1y);V1y=n1y.name + "_hist";for(var u1y=Math.max(n1y.startFrom,n1y.days - 1);u1y < e1y.length;u1y++){G2o="_";G2o+="M";G2o+="A";G2o+=" ";F1y=e1y[u1y];a1y=F1y[c1y];if(a1y && typeof a1y == "object"){a1y=a1y[n1y.subField];}R1y=F1y[G2o + n1y.name];if(R1y || R1y === 0){if(P1y == "Points"){v6I.N7a(5);F1y[V1y]=v6I.h8a(a1y,R1y);}else {v6I.N7a(75);F1y[V1y]=v6I.h8a(R1y,a1y,"100",1);}}}n1y.outputMap={};n1y.outputMap[n1y.name + "_hist"]="";};P7y.Studies.studyLibrary=P7y.extend(P7y.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:P7y.Studies.displayChannel,calculateFN:P7y.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[Z2o,"points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"MA Env Top":l2o,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:H2o,calculateFN:P7y.Studies.calculateMADev,seriesFN:P7y.Studies.displayHistogramWithSeries,inputs:{Period:"12" >> 107708224,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":B6o}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:P7y.Studies.displayChannel,calculateFN:function(m1y,v1y){v6I.i6I();v1y.inputs["Moving Average Type"]="triangular";P7y.Studies.calculateMAEnvelope(m1y,v1y);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:"0.1" * 1,step:0.1}}}});}};O2l=s1y=>{Q6II.o6I();var y1y;y1y=typeof _CIQ !== "undefined"?_CIQ:s1y.CIQ;if(!y1y.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {y1y.Studies.calculatePSAR=function(x1y,t1y){var v9I=Q6II;var J6o,W6o,p1y,z1y,h1y,Q1y,E1y,G1y,Y1y,n6o,z6o,w1y,d1y,H1y,f1y;J6o="Max";J6o+="imu";J6o+="m A";J6o+="F";W6o="Min";W6o+="imum A";W6o+="F";p1y=t1y.chart.scrubbed;z1y=+"0";h1y=null;Q1y=![];E1y=0;G1y=parseFloat(t1y.inputs[W6o]);Y1y=parseFloat(t1y.inputs[J6o]);if(t1y.startFrom > 0){n6o="_s";n6o+="ta";n6o+="t";n6o+="e ";z6o="Re";z6o+="sult ";E1y=p1y[t1y.startFrom - 1][z6o + t1y.name];w1y=p1y[t1y.startFrom - 1][n6o + t1y.name];if(w1y && w1y.length == 3){z1y=w1y[0];h1y=w1y[1];Q1y=w1y[2];}}v9I.i6I();function l1y(){z1y=0;h1y=null;Q1y=!Q1y;}for(var Z1y=t1y.startFrom - 1;Z1y < p1y.length - 1;Z1y++){if(Z1y < 0)continue;if(p1y[Z1y].futureTick)break;d1y=E1y;if(Q1y){if(!h1y || h1y < p1y[Z1y].High){h1y=p1y[Z1y].High;v9I.U7a(0);z1y=Math.min(v9I.H8a(G1y,z1y),Y1y);}v9I.U7a(76);E1y=v9I.h8a(z1y,d1y,d1y,h1y);H1y=Math.min(p1y[Math.max(1,Z1y) - 1].Low,p1y[Z1y].Low);if(E1y > p1y[Z1y + +"1"].Low){E1y=h1y;l1y();}else if(E1y > H1y){E1y=H1y;}}else {if(!h1y || h1y > p1y[Z1y].Low){h1y=p1y[Z1y].Low;v9I.N7a(0);z1y=Math.min(v9I.h8a(G1y,z1y),Y1y);}v9I.U7a(76);E1y=v9I.H8a(z1y,d1y,d1y,h1y);f1y=Math.max(p1y[Math.max(1,Z1y) - 1].High,p1y[Z1y].High);if(E1y < p1y[Z1y + 1].High){E1y=h1y;l1y();}else if(E1y < f1y){E1y=f1y;}}v9I.N7a(0);p1y[v9I.h8a(1,Z1y)]["_state " + t1y.name]=[z1y,h1y,Q1y];if(!isNaN(p1y[Z1y].High) || !isNaN(p1y[Z1y].Low)){v9I.U7a(0);p1y[v9I.H8a(1,Z1y)]["Result " + t1y.name]=E1y;}}};y1y.Studies.studyLibrary=y1y.extend(y1y.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:y1y.Studies.calculatePSAR,seriesFN:y1y.Studies.displayPSAR2,inputs:{"Minimum AF":"0.02" - 0,"Maximum AF":+"0.2"}}});}};j2l=q1y=>{var g1y,i6o,h6o;g1y=typeof _CIQ !== "undefined"?_CIQ:q1y.CIQ;if(!g1y.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {i6o="#b";i6o+="3d98";i6o+="7";h6o="Pi";h6o+="vot ";h6o+="Point";h6o+="s";g1y.Studies.calculatePivotPoints=function(K1y,J1y){var X6o,x6o,U6o,a6o,D1y,U1y,d6o,P6o,X1y,O1y,b1y,S6o,f6o,m6o,k6o,o1y,i1y,A6o,t6o,j6o,V6o,D6o;X6o="s";X6o+="e";X6o+="co";X6o+="nd";x6o="milli";x6o+="second";U6o="se";U6o+="cond";a6o="y";a6o+="e";a6o+="a";a6o+="r";function j1y(){b1y.pivotPoint=(b1y.high + b1y.low + D1y[C1y - 1].Close) / 3;b1y.prevHigh=b1y.high;b1y.prevLow=b1y.low;b1y.hlSpread=b1y.high - b1y.low;b1y.high=b1y.low=0;}D1y=J1y.chart.scrubbed;U1y="day";if(K1y.layout.interval == "day"){U1y="month";}else if(g1y.ChartEngine.isDailyInterval(K1y.layout.interval)){U1y=a6o;}else if(K1y.layout.interval == U6o || K1y.layout.interval == x6o || K1y.layout.timeUnit == X6o || K1y.layout.timeUnit == "millisecond"){U1y="15min";}else {d6o="wee";d6o+="k";P6o="m";P6o+="in";P6o+="ut";P6o+="e";X1y=K1y.layout.periodicity;if(K1y.layout.interval != P6o){X1y*=K1y.layout.interval;}if(X1y >= 30){U1y=d6o;}}O1y=null;b1y={pivotPoint:NaN,high:+"0",low:0,prevHigh:0,prevLow:0,hlSpread:0};if(J1y.startFrom > 1 && D1y[J1y.startFrom - +"1"]["_pointers " + J1y.name]){b1y=g1y.clone(D1y[J1y.startFrom - 1]["_pointers " + J1y.name]);}for(var C1y=Math.max(1,J1y.startFrom);C1y < D1y.length;C1y++){S6o="_p";S6o+="ointers ";f6o="fibona";f6o+="c";f6o+="ci";m6o="P";m6o+="i";m6o+="v";m6o+="ot ";k6o="yea";k6o+="r";if(!D1y[C1y - 1])continue;b1y.high=Math.max(b1y.high,D1y[C1y - 1].High);b1y.low=Math.min(b1y.low > 0?b1y.low:D1y[C1y - 1].Low,D1y[C1y - 1].Low);if(J1y.inputs.Continuous){j1y();}else if(U1y == k6o && D1y[C1y].DT.getYear() != D1y[C1y - 1].DT.getYear()){j1y();}else if(U1y == "month" && D1y[C1y].DT.getMonth() != D1y[C1y - ("1" ^ 0)].DT.getMonth()){j1y();}else if(U1y == "week" && D1y[C1y].DT.getDay() < D1y[C1y - 1].DT.getDay()){j1y();}else if(U1y == "day"){if(O1y === null){O1y=g1y.Studies.getMarketOffset({stx:K1y,localQuoteDate:D1y[C1y].DT,shiftToDateBoundary:!0});}o1y=new Date(new Date(+D1y[C1y].DT).setMilliseconds(D1y[C1y].DT.getMilliseconds() + O1y));i1y=new Date(new Date(+D1y[C1y - 1].DT).setMilliseconds(D1y[C1y - 1].DT.getMilliseconds() + O1y));if(i1y.getDate() !== o1y.getDate() && i1y.getDay() !== 0 && K1y.chart.market.isMarketDate(o1y)){O1y=null;j1y();}}else if(U1y == "15min" && (D1y[C1y].DT.getHours() != D1y[C1y - ("1" & 2147483647)].DT.getHours() || Math.floor(D1y[C1y].DT.getMinutes() / 15) != Math.floor(D1y[C1y - 1].DT.getMinutes() / 15))){j1y();}D1y[C1y][m6o + J1y.name]=b1y.pivotPoint;if(J1y.inputs.Type.toLowerCase() == f6o){A6o="Support ";A6o+="3 ";t6o="Resistan";t6o+="c";t6o+="e ";t6o+="3 ";j6o="Resistanc";j6o+="e 2 ";D1y[C1y]["Resistance 1 " + J1y.name]=b1y.pivotPoint + +"0.382" * b1y.hlSpread;D1y[C1y][j6o + J1y.name]=b1y.pivotPoint + 0.618 * b1y.hlSpread;D1y[C1y][t6o + J1y.name]=b1y.pivotPoint + b1y.hlSpread;D1y[C1y]["Support 1 " + J1y.name]=b1y.pivotPoint - 0.382 * b1y.hlSpread;D1y[C1y]["Support 2 " + J1y.name]=b1y.pivotPoint - 0.618 * b1y.hlSpread;D1y[C1y][A6o + J1y.name]=b1y.pivotPoint - b1y.hlSpread;}else {V6o="Suppo";V6o+="rt 3 ";D6o="Resistan";D6o+="ce 2 ";D1y[C1y]["Resistance 1 " + J1y.name]=("2" - 0) * b1y.pivotPoint - b1y.prevLow;D1y[C1y][D6o + J1y.name]=b1y.pivotPoint + b1y.hlSpread;D1y[C1y]["Resistance 3 " + J1y.name]=b1y.prevHigh + 2 * (b1y.pivotPoint - b1y.prevLow);D1y[C1y]["Support 1 " + J1y.name]=2 * b1y.pivotPoint - b1y.prevHigh;D1y[C1y]["Support 2 " + J1y.name]=b1y.pivotPoint - b1y.hlSpread;D1y[C1y][V6o + J1y.name]=b1y.prevLow - 2 * (b1y.prevHigh - b1y.pivotPoint);}D1y[C1y][S6o + J1y.name]=g1y.clone(b1y);}};g1y.Studies.displayPivotPoints=function(S1y,W1y,L1y){Q6II.o6I();var b6o,v6o,C6o,e6o,u6o,w6o,M6o,I6o,N1y,T1y;W1y.noSlopes=!W1y.inputs.Continuous;g1y.Studies.displaySeriesAsLine(S1y,W1y,L1y);if(W1y.inputs.Shading){b6o="Su";b6o+="pport ";b6o+="3";b6o+=" ";v6o="Supp";v6o+="ort 2";C6o="Sup";C6o+="por";C6o+="t ";C6o+="2 ";e6o="Suppo";e6o+="r";e6o+="t 1";u6o="P";u6o+="ivot ";w6o="Pi";w6o+="v";w6o+="ot";w6o+=" ";M6o="R";M6o+="es";M6o+="ist";M6o+="ance 2 ";I6o="Resistance";I6o+=" 3 ";N1y=S1y.panels[W1y.panel];T1y={noSlopes:W1y.noSlopes,opacity:W1y.parameters.opacity?W1y.parameters.opacity:0.2,skipTransform:N1y.name != W1y.chart.name,yAxis:W1y.getYAxis(S1y)};if(!W1y.highlight && S1y.highlightedDraggable){T1y.opacity*=0.3;}g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:I6o + W1y.name,bottomBand:M6o + W1y.name,color:g1y.Studies.determineColor(W1y.outputs["Resistance 3"])},T1y));g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:"Resistance 2 " + W1y.name,bottomBand:"Resistance 1 " + W1y.name,color:g1y.Studies.determineColor(W1y.outputs["Resistance 2"])},T1y));g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:"Resistance 1 " + W1y.name,bottomBand:w6o + W1y.name,color:g1y.Studies.determineColor(W1y.outputs["Resistance 1"])},T1y));g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:"Support 1 " + W1y.name,bottomBand:u6o + W1y.name,color:g1y.Studies.determineColor(W1y.outputs[e6o])},T1y));g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:C6o + W1y.name,bottomBand:"Support 1 " + W1y.name,color:g1y.Studies.determineColor(W1y.outputs[v6o])},T1y));g1y.prepareChannelFill(S1y,g1y.extend({panelName:W1y.panel,topBand:b6o + W1y.name,bottomBand:"Support 2 " + W1y.name,color:g1y.Studies.determineColor(W1y.outputs["Support 3"])},T1y));}};g1y.Studies.studyLibrary=g1y.extend(g1y.Studies.studyLibrary,{"Pivot Points":{name:h6o,overlay:! !1,seriesFN:g1y.Studies.displayPivotPoints,calculateFN:g1y.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:! !0},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":i6o,"Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};X2l=I1y=>{var L6o,B1y,s6o;L6o="und";L6o+="efined";B1y=typeof _CIQ !== L6o?_CIQ:I1y.CIQ;if(!B1y.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {s6o="au";s6o+="t";s6o+="o";B1y.Studies.calculatePrettyGoodOscillator=function(a9y,A1y){var r6o,Q6o,R6o,Y6o,r1y,c6o,K6o;r6o="_";r6o+="SM";r6o+="A";Q6o="simp";Q6o+="le";R6o="_";R6o+="E";R6o+="M";R6o+="A";Y6o="trueRang";Y6o+="e";r1y=A1y.chart.scrubbed;if(r1y.length < A1y.days + 1){A1y.error=! !1;return;}B1y.Studies.MA("exponential",A1y.days,Y6o,0,R6o,a9y,A1y);B1y.Studies.MA(Q6o,A1y.days,"Close",+"0",r6o,a9y,A1y);for(var n9y=Math.max(1,A1y.startFrom);n9y < r1y.length;n9y++){c6o="_";c6o+="EMA";c6o+=" ";K6o="_";K6o+="SM";K6o+="A ";if(!r1y[n9y][K6o + A1y.name] || !r1y[n9y]["_EMA " + A1y.name])continue;r1y[n9y]["Result " + A1y.name]=(r1y[n9y].Close - r1y[n9y]["_SMA " + A1y.name]) / r1y[n9y][c6o + A1y.name];}};B1y.Studies.studyLibrary=B1y.extend(B1y.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:B1y.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:s6o}}}});}};o2l=F9y=>{var F6o,c9y;F6o="u";Q6II.o6I();F6o+="ndefined";c9y=typeof _CIQ !== F6o?_CIQ:F9y.CIQ;if(!c9y.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {c9y.Studies.calculatePMO=function(V9y,R9y){var O6o,N6o,q6o,g6o,k9y,e9y,u9y,P9y,M9y;O6o="P";O6o+="M";O6o+="O";N6o="PMOSi";N6o+="g";N6o+="n";N6o+="al";q6o="ex";q6o+="pon";q6o+="e";q6o+="ntial";g6o="Double";g6o+=" Smoothing P";g6o+="eriod";k9y={Smooth:Number(R9y.inputs["Smoothing Period"]) - 1,Double:Number(R9y.inputs[g6o]) - 1,Signal:Number(R9y.inputs["Signal Period"])};e9y=R9y.chart.scrubbed;if(e9y.length < k9y.Smooth + k9y.Double){R9y.error=! ![];return;}Q6II.i6I();u9y=R9y.inputs.Field;if(!u9y || u9y == "field"){u9y="Close";}for(P9y=R9y.startFrom;P9y < e9y.length;P9y++){if(!e9y[P9y])continue;if(!e9y[P9y - 1])continue;Q6II.N7a(59);M9y=e9y[Q6II.H8a("1",P9y)][u9y];if(M9y){e9y[P9y]["_ROCx10 " + R9y.name]=1000 * (e9y[P9y][u9y] / M9y - 1);}}c9y.Studies.MA("exponential",k9y.Smooth,"_ROCx10 " + R9y.name,0,"_EMAx10",V9y,R9y);c9y.Studies.MA("exponential",k9y.Double,"_EMAx10 " + R9y.name,0,"PMO",V9y,R9y);c9y.Studies.MA(q6o,k9y.Signal,"PMO " + R9y.name,0,N6o,V9y,R9y);R9y.zoneOutput=O6o;};c9y.Studies.studyLibrary=c9y.extend(c9y.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:c9y.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":"20" << 604069280,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"2.5",studyOverBoughtColor:"auto",studyOverSoldValue:-("2.5" - 0),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"0" & 2147483647,step:"0.05"},studyOverSoldValue:{max:"0" | 0,step:"0.05"}}}});}};i2l=m9y=>{var v9y,y6o,B5o,G7o,E7o,q7o,c7o,R7o,i7o;v9y=typeof _CIQ !== "undefined"?_CIQ:m9y.CIQ;if(!v9y.Studies){y6o="priceVolumeOscillator ";y6o+="featur";y6o+="e requires first activating studies feature.";console.error(y6o);}else {B5o="au";B5o+="t";B5o+="o";G7o="a";G7o+="u";G7o+="to";E7o="#";E7o+="00DD0";E7o+="0";q7o="vd";q7o+="m";q7o+="a";c7o="R";c7o+="AV";c7o+="I";R7o="P";R7o+="o";R7o+="in";R7o+="ts";i7o="P";i7o+="rice O";i7o+="scillato";i7o+="r";v9y.Studies.calculatePriceOscillator=function(G9y,y9y){var G9I=Q6II;var E6o,T6o,h3w,i3w,L3w,p6o,t9y,d9y,z9y,p9y,Z9y,Q9y,s9y,h9y,E9y,Z6o,G6o,o6o,W7o,H6o,l6o;E6o="_Short M";E6o+="A";T6o="Poin";T6o+="ts Or ";T6o+="Perce";T6o+="nt";h3w=890082897;i3w=- +"455744128";L3w=2;for(var R3w="1" & 2147483647;G9I.t0w(R3w.toString(),R3w.toString().length,33332) !== h3w;R3w++){p6o="L";p6o+="ong Cycle";t9y=y9y.chart.scrubbed;d9y=Number(y9y.inputs["Long Cycle"]);z9y=Number(y9y.inputs[p6o]);L3w+=2;}if(G9I.t0w(L3w.toString(),L3w.toString().length,76915) !== i3w){t9y=y9y.chart.scrubbed;d9y=Number(y9y.inputs["Long Cycle"]);z9y=Number(y9y.inputs["Long Cycle"]);}t9y=y9y.chart.scrubbed;d9y=Number(y9y.inputs["Short Cycle"]);z9y=Number(y9y.inputs["Long Cycle"]);if(t9y.length < Math.max(d9y,z9y) + 1){y9y.error=! !{};return;}p9y=y9y.inputs.Field;Z9y=y9y.inputs["Moving Average Type"];if(!Z9y){Z9y="simple";}if(!p9y || p9y == "field"){p9y="Close";}if(y9y.parameters.isVolume){p9y="Volume";Z9y="exponential";}Q9y=y9y.inputs[T6o];if(!Q9y){Q9y="Percent";}v9y.Studies.MA(Z9y,d9y,p9y,0,E6o,G9y,y9y);v9y.Studies.MA(Z9y,z9y,p9y,0,"_Long MA",G9y,y9y);for(var w9y=Math.max(z9y,y9y.startFrom);w9y < t9y.length;w9y++){s9y=t9y[w9y];if(!s9y)continue;h9y=s9y["_Short MA " + y9y.name];E9y=s9y["_Long MA " + y9y.name];if((h9y || h9y === 0) && (E9y || E9y === 0)){Z6o="Result";Z6o+=" ";G6o="Resu";G6o+="l";G6o+="t";G6o+=" ";o6o="Po";o6o+="i";o6o+="nt";o6o+="s";if(Q9y == o6o){G9I.N7a(5);s9y[G6o + y9y.name]=G9I.h8a(h9y,E9y);}else {G9I.N7a(77);s9y[Z6o + y9y.name]=G9I.h8a(h9y,1,E9y,100);}if(y9y.outputs["Increasing Bar"]){W7o="_hi";W7o+="s";W7o+="t";H6o="Re";H6o+="su";H6o+="lt";H6o+=" ";l6o="_hi";l6o+="st";s9y[y9y.name + l6o]=s9y[H6o + y9y.name];y9y.outputMap={};y9y.outputMap[y9y.name + W7o]="";}}}};v9y.Studies.displayRAVI=function(H9y,Y9y,D9y){var a9I=Q6II;var m7o,x7o,U7o,b9y,l9y,C9y,J9y,g9y,O9y,j9y,b7o,e7o,u7o,I7o,V7o,f9y,q9y,K9y,U9y;m7o="stx";m7o+="_h";a9I.o6I();m7o+="is";m7o+="togram";x7o="Decre";x7o+="asi";x7o+="ng B";x7o+="ar";U7o="Increa";U7o+="sing ";U7o+="Bar";b9y=H9y.panels[Y9y.panel];l9y=Y9y.getContext(H9y);C9y=Y9y.getYAxis(H9y);J9y=H9y.pixelFromPrice(0,b9y,C9y);g9y=H9y.layout.candleWidth - +"2";if(g9y < 2){a9I.N7a(22);g9y=a9I.H8a("1",1);}O9y=v9y.Studies.determineColor(Y9y.outputs[U7o]);j9y=v9y.Studies.determineColor(Y9y.outputs[x7o]);H9y.startClip(Y9y.panel);H9y.canvasColor(m7o);if(!Y9y.underlay){l9y.globalAlpha=1;}if(!Y9y.highlight && H9y.highlightedDraggable){l9y.globalAlpha*=0.3;}for(var x9y=0;x9y < D9y.length;x9y++){b7o="#";b7o+="CC";b7o+="CCC";b7o+="C";e7o="_h";e7o+="i";e7o+="st";u7o="_h";u7o+="is";u7o+="t";I7o="#CC";I7o+="CCC";I7o+="C";V7o="_h";V7o+="ist";f9y=D9y[x9y];a9I.N7a(59);q9y=D9y[a9I.h8a("1",x9y)];if(!q9y){q9y=H9y.getPreviousBar(H9y.chart,Y9y.name + V7o,x9y);}if(!f9y)continue;a9I.U7a(20);K9y=a9I.h8a("0",2147483647);U9y=0;if(Y9y.parameters && Y9y.parameters.studyOverZonesEnabled){K9y=parseFloat(Y9y.parameters.studyOverBoughtValue);U9y=parseFloat(Y9y.parameters.studyOverSoldValue);}if(!q9y){l9y.fillStyle=I7o;}else if(f9y[Y9y.name + "_hist"] > K9y && q9y[Y9y.name + "_hist"] < f9y[Y9y.name + u7o]){l9y.fillStyle=O9y;}else if(f9y[Y9y.name + "_hist"] < U9y && q9y[Y9y.name + "_hist"] > f9y[Y9y.name + e7o]){l9y.fillStyle=j9y;}else {l9y.fillStyle=b7o;}if(f9y.candleWidth){g9y=Math.floor(Math.max(1,f9y.candleWidth - +"2"));}l9y.fillRect(Math.floor(H9y.pixelFromBar(x9y,b9y.chart) - g9y / 2),Math.floor(J9y),Math.floor(g9y),Math.floor(H9y.pixelFromPrice(f9y[Y9y.name + "_hist"],b9y,C9y) - J9y));}H9y.endClip();};v9y.Studies.studyLibrary=v9y.extend(v9y.Studies.studyLibrary,{"Price Osc":{name:i7o,calculateFN:v9y.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":+"26","Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:v9y.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":+"26","Points Or Percent":[R7o,"Percent"]},parameters:{init:{isVolume:! ![]}}},RAVI:{name:c7o,seriesFN:v9y.Studies.displayRAVI,calculateFN:v9y.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":q7o,"Short Cycle":"7" - 0,"Long Cycle":65},outputs:{"Increasing Bar":E7o,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:3,studyOverBoughtColor:G7o,studyOverSoldValue:-3,studyOverSoldColor:B5o}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};W2l=o9y=>{var X9y;X9y=typeof _CIQ !== "undefined"?_CIQ:o9y.CIQ;if(!X9y.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {X9y.Studies.calculatePrimeNumber=function(F2X,T9y){var N9y,A9y,S9y,W9y,i9y,L9y,a2X,c2X;N9y=[];A9y=T9y.chart.scrubbed;for(var I9y=T9y.startFrom;I9y < A9y.length;I9y++){S9y=A9y[I9y];if(!S9y)continue;W9y=S9y.High;if(!isNaN(W9y)){for(var r9y=0;W9y > 0 && W9y <= ("10" & 2147483647);r9y++){W9y*=10;}if(B9y(W9y)){W9y+=2;}W9y=Math.ceil(W9y);if(W9y % 2 === 0){W9y++;}while(!B9y(W9y)){W9y+=2;}W9y/=Math.pow(10,r9y);}i9y=S9y.Low;if(!isNaN(i9y)){for(var n2X=0;i9y > 0 && i9y <= 10;n2X++){i9y*=+"10";}if(B9y(i9y)){i9y-=2;}i9y=Math.floor(i9y);if(i9y % 2 === ("0" | 0)){i9y--;}if(i9y > +"0"){while(!B9y(i9y)){i9y-=+"2";}Q6II.N7a(22);i9y/=Math.pow(Q6II.H8a("10",1),n2X);}}if(T9y.type == "Prime Number Bands"){if(!isNaN(W9y)){S9y["Prime Bands Top " + T9y.name]=W9y;}if(!isNaN(i9y)){S9y["Prime Bands Bottom " + T9y.name]=Math.max(0,i9y);}}else {L9y=+"0";a2X=T9y.inputs["Tolerance Percentage"] * (W9y - i9y) / ("100" | 32);c2X=W9y + i9y - 2 * S9y.Close;if(c2X < a2X){L9y=+"1";}else if(c2X > a2X){L9y=-1;}if(L9y){S9y["Result " + T9y.name]=L9y;}}}Q6II.o6I();function B9y(R2X){var P2X;if(R2X <= 0){return !{};}else if(R2X != Math.floor(R2X)){return ! !"";}else if(N9y[R2X] === !"" || N9y[R2X] === !{}){return N9y[R2X];}P2X=parseInt(Math.sqrt(R2X),10);for(var e2X=2;e2X <= P2X;e2X++){if(R2X % e2X === 0){N9y[R2X]=!{};return ! !0;}}Q6II.i6I();N9y[R2X]=! !{};return ! ![];}};X9y.Studies.studyLibrary=X9y.extend(X9y.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:X9y.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:+"0.1"}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:X9y.Studies.calculatePrimeNumber,seriesFN:X9y.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};S2l=u2X=>{var k2X,W5o,m5o,k5o;k2X=typeof _CIQ !== "undefined"?_CIQ:u2X.CIQ;if(!k2X.Studies){W5o="pring feature requires fir";W5o+="st activat";W5o+="ing studies feature.";console.error(W5o);}else {m5o="d";m5o+="ail";m5o+="y";k5o="Pring's ";k5o+="Know Sure Thing";k2X.Studies.calculateKST=function(h2X,V2X){var K9I=Q6II;var U5o,a5o,n5o,z5o,J5o,m2X,s2X,y2X,p2X,E2X,v2X,M2X,x5o,X5o,Z2X;U5o="Signal";U5o+=" Period";a5o="Heav";a5o+="y S";a5o+="MA Pe";a5o+="riod";K9I.o6I();n5o="Heaviest Rate of Change ";n5o+="Period";z5o="Ligh";z5o+="test Rate of Change Period";J5o="f";J5o+="i";J5o+="el";J5o+="d";m2X=V2X.chart.scrubbed;s2X=V2X.inputs.Field;if(!s2X || s2X == J5o){s2X="Close";}y2X={};p2X={};y2X[1]=Number(V2X.inputs[z5o]);y2X[2]=Number(V2X.inputs["Light Rate of Change Period"]);y2X[3]=Number(V2X.inputs["Heavy Rate of Change Period"]);y2X[4]=Number(V2X.inputs[n5o]);K9I.N7a(22);p2X[K9I.H8a("1",1)]=Number(V2X.inputs["Lightest SMA Period"]);p2X[2]=Number(V2X.inputs["Light SMA Period"]);K9I.N7a(5);p2X[K9I.H8a("3",0)]=Number(V2X.inputs[a5o]);p2X[4]=Number(V2X.inputs["Heaviest SMA Period"]);E2X=Number(V2X.inputs[U5o]);for(v2X=V2X.startFrom;v2X < m2X.length;v2X++){if(!m2X[v2X])continue;for(M2X=1;M2X <= 4;M2X++){x5o="_";x5o+="R";x5o+="O";x5o+="C";if(v2X >= y2X[M2X] && m2X[v2X - y2X[M2X]] && m2X[v2X - y2X[M2X]][s2X]){m2X[v2X][x5o + M2X + " " + V2X.name]=100 * (m2X[v2X][s2X] / m2X[v2X - y2X[M2X]][s2X] - 1);}}}for(M2X=1;M2X <= 4;M2X++){k2X.Studies.MA("simple",p2X[M2X],"_ROC" + M2X + (320.53 != (4067,7601)?1440 == (1270,157.23)?("3390" << 999521600,7942) == (8851,770.96)?359:(! !"",2.87e+3):" ":(! !1,+"565.21")) + V2X.name,+"0","_SMA" + M2X,h2X,V2X);}for(v2X=V2X.startFrom;v2X < m2X.length;v2X++){m2X[v2X]["KST " + V2X.name]=null;for(M2X=1;M2X <= "4" << 384468640;M2X++){X5o="_";X5o+="S";X5o+="MA";Z2X=m2X[v2X][X5o + M2X + (937.46 != 374.96?" ":"X") + V2X.name];if(Z2X || Z2X === 0){K9I.N7a(22);m2X[v2X]["KST " + V2X.name]+=K9I.H8a(M2X,Z2X);}}}k2X.Studies.MA("simple",E2X,"KST " + V2X.name,+"0","KSTSignal",h2X,V2X);};k2X.Studies.calculateSpecialK=function(l2X,d2X){Q6II.i6I();var P5o,Q2X,G2X,w2X,Y2X,H2X,z2X,t2X,d5o,f2X;P5o="d";P5o+="ai";P5o+="l";P5o+="y";Q2X=d2X.chart.scrubbed;G2X=d2X.inputs.Field;if(!G2X || G2X == "field"){G2X="Close";}w2X=d2X.inputs.Interval;if(!w2X){w2X=P5o;}Y2X={daily:[10,15,20,30,+"50",65,75,100,195,265,390,530],weekly:[4,"5" ^ 0,"6" & 2147483647,+"8",10,"13" ^ 0,15,20,39,52,78,104]};H2X={daily:[10,+"10","10" * 1,15,50,65,"75" - 0,+"100",130,130,130,+"195"],weekly:[4,5,6,8,10,+"13",15,"20" - 0,26,26,"26" & 2147483647,+"39"]};for(z2X=d2X.startFrom;z2X < Q2X.length;z2X++){if(!Q2X[z2X])continue;for(t2X=0;t2X < Y2X[w2X].length;t2X++){if(z2X >= Y2X[w2X][t2X] && Q2X[z2X - Y2X[w2X][t2X]] && Q2X[z2X - Y2X[w2X][t2X]][G2X]){Q2X[z2X]["_ROC" + t2X + " " + d2X.name]=+"100" * (Q2X[z2X][G2X] / Q2X[z2X - Y2X[w2X][t2X]][G2X] - 1);}}}for(t2X=0;t2X < H2X[w2X].length;t2X++){d5o="s";d5o+="i";d5o+="mple";k2X.Studies.MA(w2X == "daily"?d5o:"exponential",H2X[w2X][t2X],"_ROC" + t2X + " " + d2X.name,+"0","_MA" + t2X,l2X,d2X);}for(z2X=d2X.startFrom;z2X < Q2X.length;z2X++){Q2X[z2X]["Result " + d2X.name]=null;for(t2X=0;t2X < H2X[w2X].length;t2X++){f2X=Q2X[z2X]["_MA" + t2X + " " + d2X.name];if(f2X || f2X === 0){Q6II.U7a(78);Q2X[z2X]["Result " + d2X.name]+=Q6II.h8a(0,t2X,4,"1",f2X);}}}};k2X.Studies.studyLibrary=k2X.extend(k2X.Studies.studyLibrary,{"Pring KST":{name:k5o,calculateFN:k2X.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:k2X.Studies.calculateSpecialK,inputs:{Field:"field",Interval:[m5o,"weekly"]}}});}};T2l=g2X=>{var f5o,x2X,q2X,r5o,Q5o,R5o,Y5o,L5o;f5o="unde";f5o+="fin";Q6II.o6I();f5o+="ed";x2X=typeof _CIQ !== f5o?_CIQ:g2X.CIQ;q2X=typeof _timezoneJS !== "undefined"?_timezoneJS:g2X.timezoneJS;if(!x2X.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {r5o="#cfbd";r5o+="0e";Q5o="-";Q5o+="1";Q5o+="50";Q5o+="%";R5o="-";R5o+="5";R5o+="0%";Y5o="Non";Y5o+="e";L5o="+50";L5o+="%";x2X.Studies.initProjectedVolume=function(C2X,U2X,D2X,O2X,j2X,X2X){var j5o,b2X,K2X;j5o="Anchor Ti";j5o+="m";j5o+="e";var {market:J2X}=C2X.chart;b2X="0";b2X+="0";b2X+=":00";if(J2X){b2X=J2X.getNormalOpen();}Q6II.i6I();if(b2X.match(/^[\d]{2}:[\d]{2}$/)){b2X+=":00";}if(!D2X[j5o] || !D2X["Anchor Time"].length){D2X["Anchor Time"]=b2X;}K2X=x2X.Studies.initializeFN(C2X,U2X,D2X,O2X,j2X,X2X);if(!C2X.currentlyImporting){K2X.defaultAnchorTime=b2X;}return K2X;};x2X.Studies.validateProjectedVolumeLookback=function(S2X,T2X){var {interval:o2X, periodicity:i2X}=S2X.layout;var {"Lookback Days":W2X}=T2X.inputs;Q6II.U7a(79);return Q6II.h8a(o2X,W2X,i2X,10);};x2X.Studies.calculateProjectedVolume=function(B2X,N2X){var Z9I=Q6II;var e5o,I5o,S5o,V5o,D5o,A5o,t5o,i5X,R5X,V5X,S5X,T5X,Y5X,H5X,I2X,f5X,t1X,A2X,l5X,x5X,N5X,g5X,e5X,D5X,Q1X,F5X,w1X,p5X,r2X,t5X,a5X,M5X,B5X,I5X,A5X,r5X,J5X,K5X,d5X,H1X,a1X,M5o,v5X,m5X,G5X,f1X,U5X,w5o,n5X,c1X,F1X,j5X,R1X,Z5X,u5o;e5o="Average";e5o+=" Lin";e5o+="e";I5o="PV";I5o+=" ";S5o="V";S5o+=" ";V5o="HH";V5o+=":";V5o+="m";V5o+="m";D5o=":";D5o+="0";D5o+="0";function l1X(W1X){var N1X;Z9I.i6I();W1X.setHours(0);W1X.setMinutes(0);N1X=x2X.Studies.getMarketOffset({stx:B2X,localQuoteDate:W1X});return new Date(W1X.getTime() + N1X);}function k1X(K1X,O1X,j1X){while(O1X){K1X=new Date(new Date(K1X).setDate(K1X.getDate() + (j1X?1:-1)));if(c5X.isMarketDate(K1X)){O1X--;}}return K1X;}A5o="0";A5o+="0";A5o+=":0";A5o+="0";t5o="m";function e1X(C1X){console.error(`Expected data for ${V1X(C1X).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}t5o+="inu";t5o+="t";t5o+="e";var {interval:M1X, timeUnit:X5X, aggregationType:o5X}=B2X.layout;var {symbol:v1X, scroll:m1X, scrubbed:L2X, market:c5X}=B2X.chart;function h5X(A1X,r1X){var B1X,I1X,L1X;B1X=V1X(A1X);I1X=c5X.getOpen(B1X) || l1X(B1X);L1X=u1X(I1X);if(!r1X){return L1X;}if(L1X < 0){L1X=u1X(k1X(I1X,+"1",! ![]));}Z9I.o6I();if(L1X >= L2X.length){return ! !0;}return L1X;}i5X=N2X.type === "PAV";R5X=N2X.study?N2X.study.name:N2X.type;if(x2X.ChartEngine.isDailyInterval(M1X)){N2X.error=`${R5X} is Intraday Only`;}else if(X5X === "tick"){N2X.error=`Tick mode not supported for ${R5X}`;}else if(X5X !== t5o){N2X.error=`Sub-minute periodicities not supported for ${R5X}`;}else if(!o5X || !["ohlc","heikinashi"].includes(o5X)){N2X.error=`Aggregation type not supported for ${R5X}`;}else if(!x2X.Studies.validateProjectedVolumeLookback(B2X,N2X)){N2X.error=`Selected lookback/periodicity combo not supported for ${R5X}`;}if(N2X.error){return;}if(N2X.inputs["Anchor Selector"]){x2X.Studies.initAnchorHandle(B2X,N2X);}else {x2X.Studies.removeAnchorHandle(B2X,N2X);}V5X=c5X?c5X.getNormalOpen():A5o;if(V5X.match(/^[\d]{2}:[\d]{2}$/)){V5X+=D5o;}if(!B2X.currentlyImporting && V5X !== N2X.defaultAnchorTime){N2X.defaultAnchorTime=V5X;N2X.inputs["Anchor Time"]=V5X;x2X.Studies.repositionAnchor(B2X,N2X);return;}var {"Lookback Days":E5X, "Anchor Time":p1X}=N2X.inputs;var [Z1X,E1X,W5X = 0]=p1X.split(":");S5X=x2X.Market.Symbology.isForexSymbol(v1X);function y5X(J1X){return {hours:J1X.getHours(),minutes:J1X.getMinutes()};}T5X=N2X.getDependents(B2X);Y5X=+"0";H5X=[];T5X.forEach(({inputs:g1X, outputMap:q1X})=>{if(g1X.Period){Y5X=Math.max(parseInt(g1X.Period),Y5X);H5X.push(...Object.keys(q1X));}});N2X.dependentsOutputMap=H5X;f5X=h5X(L2X.length - 1,! ![]);t1X=Math.ceil(L2X.length - +"1" - m1X);Z9I.N7a(5);A2X=h5X(Z9I.h8a(t1X,Y5X));if(S5X && L2X[A2X] && x2X.dateToStr(L2X[A2X].DT,V5o) !== V5X){Z9I.U7a(5);A2X=h5X(Z9I.H8a(A2X,1));;}if(!S5X && N2X.startFrom > A2X && L2X[A2X] && L2X[A2X][S5o + N2X.name] !== undefined && H5X.every(b1X=>{return ![undefined,null].includes(L2X[A2X][b1X]);}) && f5X !== !{}){I2X=f5X;;}else {I2X=A2X;}l5X=k1X(V1X(A2X),E5X);l5X.setHours(0,0,0);x5X=h5X(0,! !{});function u1X(o1X){var C5o;C5o="scrubb";C5o+="e";C5o+="d";return B2X.tickFromDate(o1X,null,null,!0,C5o);}N5X=(x5X || x5X === 0) && u1X(k1X(L2X[x5X].DT,E5X,!0));if(L2X[0].DT > l5X){if(B2X.quoteDriver){B2X.quoteDriver.extendHistoricalData({from:l5X});if(N5X > 0){I2X=N5X;}else {return;}}else {return N2X.error=`Not enough data to calculate ${R5X}`;}}if(I2X < 0 || I2X > L2X.length - 1){return;}g5X=L2X.length - N2X.startFrom === 1 && N2X.cachedFutureTicks && N2X.cachedLastProjection && +N2X.cachedLastProjection.DT === +L2X[L2X.length - 1].DT && L2X[I2X][I5o + N2X.name];if(g5X){L2X[L2X.length - ("1" - 0)]["PV " + N2X.name]=N2X.cachedLastProjection.projectedValue;N2X.appendFutureTicks(B2X,N2X.cachedFutureTicks);I2X=N2X.startFrom;}else {N2X.cachedFutureTicks=null;N2X.cachedLastProjection=null;e5X=[f5X];D5X=[];for(var L5X=0;L5X < E5X;L5X++){Q1X=h5X(e5X[0] - 1);e5X.unshift(Q1X);;}while(e5X[E5X] >= I2X){F5X=e5X.pop();if(!L2X[F5X]){return e1X(F5X);}w1X=y5X(L2X[F5X].DT);var {hours:P5X, minutes:s5X}=w1X;p5X=c5X.getClose(L2X[F5X].DT);r2X=void +"0";if(!p5X){r2X={hours:24,minutes:"0" & 2147483647};}else {t5X=c5X.getNextClose(L2X[F5X].DT);r2X=y5X(p5X);while(!(r2X.hours === 0 && r2X.minutes === +"0") && p5X.getDate() === t5X.getDate()){p5X=t5X;t5X=c5X.getNextClose(t5X);}r2X=y5X(p5X);if(r2X.hours === 0){r2X.hours=24;}}a5X=e5X.slice();for(var Q5X=0;Q5X < a5X.length;Q5X++){M5X=a5X[Q5X];if(!L2X[M5X]){return e1X(M5X);}var {hours:w5X, minutes:C5X}=y5X(L2X[M5X].DT);if(w5X < P5X || w5X === P5X && C5X < s5X){do {M5X++;({hours:w5X, minutes:C5X}=y5X(L2X[M5X].DT));}while(!(w5X === P5X && C5X === s5X));}a5X[Q5X]=M5X;}while(P5X < r2X.hours || P5X === r2X.hours && s5X < r2X.minutes){B5X=!{};I5X=void 0;A5X=void 0;Z9I.U7a(14);r5X=Z9I.h8a(646868832,"0");J5X=0;for(var k5X="0" - 0;k5X < a5X.length;k5X++){K5X=a5X[k5X];if(K5X === null)continue;d5X=L2X[K5X];if(!d5X){return e1X(K5X);}var {hours:G1X, minutes:Y1X}=y5X(d5X.DT);H1X=d5X.DT.getDate();if(G1X === P5X && Y1X === s5X){r5X+=d5X.Volume;J5X++;a5X[k5X]++;if(L2X[a5X[k5X]].DT.getDate() !== H1X){a5X[k5X]=null;}else if(!B5X){({hours:I5X, minutes:A5X}=y5X(L2X[a5X[k5X]].DT));B5X=! !"1";;}}}P5X=I5X;s5X=A5X;if(J5X === 0)break;Z9I.N7a(8);a1X=Z9I.H8a(r5X,J5X);if(L2X[F5X]){L2X[F5X]["PV " + N2X.name]=a1X;}else {M5o="P";M5o+="V ";D5X.push({[M5o + N2X.name]:a1X});}F5X++;}e5X.unshift(h5X(e5X[0] - 1));;}N2X.cachedLastProjection={DT:L2X[L2X.length - 1].DT,projectedValue:L2X[L2X.length - 1]["PV " + N2X.name]};N2X.cachedFutureTicks=D5X;N2X.appendFutureTicks(B2X,D5X);}v5X=null;m5X=0;G5X=0;if(g5X && i5X){while(I2X > 0){Z9I.N7a(34);U5X=L2X[Z9I.H8a(I2X,"1",0)]["V " + N2X.name];if(U5X || U5X === 0){m5X=U5X;break;}I2X--;}}for(var u5X=I2X;u5X < L2X.length;u5X++){w5o="Amer";w5o+="ica/Ne";w5o+="w_York";n5X=L2X[u5X];c1X=n5X.Volume;F1X=n5X["PV " + N2X.name];if(!n5X.futureTick){f1X=u5X;}if(v5X === null){v5X=x2X.Studies.getMarketOffset({stx:B2X,localQuoteDate:L2X[u5X].DT,shiftToDateBoundary:! !"1"});}j5X=new Date(new Date(n5X.DT).getTime() + v5X);R1X=L2X[u5X - 1] && new Date(new Date(L2X[u5X - 1].DT).getTime() + v5X);Z5X=new q2X.Date(n5X.DT,c5X.market_def.market_tz || w5o);Z5X.setHours(Z1X,E1X,W5X);Z9I.U7a(0);Z5X=new Date(Z9I.h8a(v5X,Z5X));Z5X.setDate(j5X.getDate());if(R1X && j5X.getDate() !== R1X.getDate()){v5X=null;m5X=0;G5X=0;}if(j5X < Z5X){u5o="V";u5o+=" ";Z9I.N7a(20);n5X[u5o + N2X.name]=Z9I.H8a("0",2147483647);n5X["PV " + N2X.name]=0;continue;}if(i5X){m5X+=c1X;G5X+=F1X;}else {m5X=c1X;G5X=F1X;}n5X["V " + N2X.name]=m5X;if(!g5X){n5X["PV " + N2X.name]=G5X;}if([NaN,null,undefined].includes(m5X) && !n5X.futureTick){N2X.error=`${R5X} requires volume`;return;}}N2X.cachedLastProjection.projectedValue=L2X[f1X]["PV " + N2X.name];N2X.outputMap={};N2X.outputMap["V " + N2X.name]="";N2X.outputMap["PV " + N2X.name]=e5o;T5X.forEach(D1X=>{Z9I.i6I();D1X.startFrom=I2X;D1X.study.calculateFN(B2X,D1X);});function V1X(i1X){Z9I.o6I();return B2X.dateFromTick(i1X,null,!0,"scrubbed");}};x2X.Studies.displayProjectedVolume=function(F2Y,c2Y,R2Y){var b5o,v5o,V2Y,e2Y,y2Y,p2Y,d2Y,l2Y,x2Y;b5o="stx";b5o+="_volume_un";b5o+="derl";b5o+="ay_up";v5o="o";Q6II.i6I();v5o+="b";v5o+="je";v5o+="ct";if(c2Y.error){return x2X.Studies.removeAnchorHandle(F2Y,c2Y);}var {"Alert Threshold":k2Y = ""}=c2Y.inputs;V2Y=parseInt(k2Y.slice(0,-1),10) / 100;e2Y=c2Y.outputs["Alert Bar"];if(typeof e2Y === v5o){e2Y=e2Y.color;}c2Y.volumeField="V " + c2Y.name;c2Y.plotStepLine=! ![];c2Y.alignStepToSide=! !{};c2Y.extendToEndOfLastBar=! !{};c2Y.lineWidth=+"2";y2Y=F2Y.canvasStyle(b5o).opacity;p2Y=F2Y.canvasStyle("stx_volume_underlay_down").opacity;c2Y.colorFunction=function(q2Y){var g7I=Q6II;var h5o,I2Y,g2Y,n5Y,b2Y,K2Y,U2Y;h5o="P";h5o+="V";h5o+=" ";var {Open:j2Y, Close:T2Y, iqPrevClose:L2Y}=q2Y;I2Y=F2Y.colorByCandleDirection?j2Y:L2Y;g7I.N7a(80);g7I.o6I();g2Y=g7I.H8a(I2Y,T2Y);n5Y=q2Y[h5o + c2Y.name];b2Y=q2Y["V " + c2Y.name];g7I.U7a(81);K2Y=g7I.h8a(1,V2Y,n5Y);U2Y=V2Y < 0?b2Y < K2Y:b2Y > K2Y;return {fill_color:U2Y && e2Y || (g2Y?this.fill_color_down:this.fill_color_up),border_color:g2Y?this.border_color_down:this.border_color_up,opacity:U2Y?1:g2Y?p2Y:y2Y,border_opacity:g2Y?p2Y:y2Y};};d2Y=c2Y.study?c2Y.study.name:c2Y.type;var {loadingMore:Y2Y}=F2Y.chart;l2Y=R2Y.some(a5Y=>{var i5o;i5o="PV";i5o+=" ";return a5Y && a5Y[c2Y.volumeField] && a5Y[i5o + c2Y.name];});x2Y=R2Y[0] && !R2Y[0].futureTick && (R2Y[0]["PV " + c2Y.name] === undefined || (c2Y.dependentsOutputMap || []).some(c5Y=>{return [undefined,null].includes(R2Y[+"0"][c5Y]);}));if(!l2Y && Y2Y){return c2Y.error=`Fetching data for ${d2Y}`;}x2X.Studies.createVolumeChart(F2Y,c2Y,R2Y);x2X.Studies.displaySeriesAsLine(F2Y,c2Y,R2Y);if(c2Y.anchorHandle){x2X.Studies.displayAnchorHandleAndLine(F2Y,c2Y,R2Y);}if(x2Y){x2X.Studies.calculateProjectedVolume(F2Y,c2Y);}};x2X.Studies.studyLibrary=x2X.extend(x2X.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:x2X.Studies.calculateProjectedVolume,seriesFN:x2X.Studies.displayProjectedVolume,initializeFN:x2X.Studies.initProjectedVolume,removeFN:x2X.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%",L5o,"+25%",Y5o,"-25%",R5o,"-75%","-100%","-125%",Q5o],"Anchor Selector":! !"1"},outputs:{"Average Line":"#fe641c","Alert Bar":r5o,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:x2X.Studies.calculateProjectedVolume,seriesFN:x2X.Studies.displayProjectedVolume,initializeFN:x2X.Studies.initProjectedVolume,removeFN:x2X.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};N2l=R5Y=>{var F5Y,r2w,K2w,c2w,K5o;F5Y=typeof _CIQ !== "undefined"?_CIQ:R5Y.CIQ;if(!F5Y.Studies){r2w=-793007270;K2w=-1695699021;c2w=2;for(var F2w=1;Q6II.t0w(F2w.toString(),F2w.toString().length,66701) !== r2w;F2w++){console.error("");c2w+=2;}if(Q6II.t0w(c2w.toString(),c2w.toString().length,40661) !== K2w){console.error("");}console.error("psychologicalLine feature requires first activating studies feature.");}else {K5o="0 t";K5o+="o 100";F5Y.Studies.calculatePsychologicalLine=function(m5Y,e5Y){var k5Y,u5Y,M5Y,V5Y,v5Y;k5Y=e5Y.chart.scrubbed;if(k5Y.length < e5Y.days + 1){e5Y.error=! !1;return;}u5Y=[];Q6II.i6I();M5Y=100 / e5Y.days;V5Y=0;for(var P5Y=Math.max(e5Y.startFrom - e5Y.days,1);P5Y < k5Y.length;P5Y++){if(k5Y[P5Y].futureTick)break;v5Y=Number(k5Y[P5Y].Close > k5Y[P5Y - ("1" << 1485372704)].Close);if(v5Y){V5Y+=M5Y;}u5Y.push(v5Y);if(u5Y.length > e5Y.days){V5Y-=u5Y.shift() * M5Y;}if(P5Y < e5Y.startFrom)continue;if(!isNaN(k5Y[P5Y].Close)){k5Y[P5Y]["Result " + e5Y.name]=V5Y;}}};F5Y.Studies.studyLibrary=F5Y.extend(F5Y.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:K5o,calculateFN:F5Y.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};L2l=s5Y=>{var y5Y;y5Y=typeof _CIQ !== "undefined"?_CIQ:s5Y.CIQ;Q6II.i6I();if(!y5Y.Studies){console.error("qstick feature requires first activating studies feature.");}else {y5Y.Studies.calculateQStick=function(E5Y,p5Y){var Z5Y,c5o;Z5Y=p5Y.chart.scrubbed;if(Z5Y.length < p5Y.days + 1){p5Y.error=!0;return;}Q6II.i6I();for(var h5Y=p5Y.startFrom;h5Y < Z5Y.length;h5Y++){c5o="_C";c5o+="lose-Open ";Z5Y[h5Y][c5o + p5Y.name]=Z5Y[h5Y].Close - Z5Y[h5Y].Open;}y5Y.Studies.MA(p5Y.inputs["Moving Average Type"],p5Y.days,"_Close-Open " + p5Y.name,0,"Result",E5Y,p5Y);};y5Y.Studies.studyLibrary=y5Y.extend(y5Y.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:y5Y.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};B2l=z5Y=>{var t5Y,s5o,l5o,Z5o,G5o;t5Y=typeof _CIQ !== "undefined"?_CIQ:z5Y.CIQ;if(!t5Y.Studies){s5o="rainbow feature requires first a";s5o+="c";s5o+="tiva";s5o+="ting studies feature.";console.error(s5o);}else {l5o="fiel";l5o+="d";Z5o="#";Z5o+="0";Z5o+="0";Z5o+="00FF";G5o="#";G5o+="00";G5o+="FF7F";t5Y.Studies.calculateRainbow=function(D5Y,Q5Y){var q5o,w5Y,Y5Y,q5Y,b5Y,l5Y,x5Y,g5Y,H5Y,F5o,f5Y,g5o,p5o,y5o,O5o,N5o;function C5Y(j5Y,O5Y){var K5Y,U5Y;K5Y=Number.MAX_VALUE * -1;U5Y=Number.MAX_VALUE;for(var J5Y=O5Y - j5Y + 1;J5Y <= O5Y;J5Y++){if(J5Y < 0)continue;K5Y=Math.max(K5Y,w5Y[J5Y].Close);U5Y=Math.min(U5Y,w5Y[J5Y].Close);}return [U5Y,K5Y];}Q6II.o6I();q5o="O";q5o+="sc";w5Y=Q5Y.chart.scrubbed;if(w5Y.length < Q5Y.days + 1){Q5Y.error=! !"1";return;}Y5Y=Q5Y.inputs.Field;if(!Y5Y || Y5Y == "field"){Y5Y="Close";}q5Y=Y5Y;for(var G5Y=1;G5Y <= 10;G5Y++){t5Y.Studies.MA("simple",Q5Y.days,q5Y,0,"SMA" + G5Y,D5Y,Q5Y);q5Y="SMA" + G5Y + ((717.19,252) != 9700?1180 !== ("1620" << 717346528,87.77)?629.93 < 425?("C","s"):" ":9.11e+3:(!{},316.03)) + Q5Y.name;}for(var d5Y=Math.max(Q5Y.startFrom,10);d5Y < w5Y.length;d5Y++){if(!w5Y[d5Y])continue;if(w5Y[d5Y].futureTick)break;b5Y=0;l5Y=0;x5Y=Number.MAX_VALUE * -1;g5Y=Number.MAX_VALUE;for(G5Y=1;G5Y <= 10;G5Y++){H5Y=w5Y[d5Y]["SMA" + G5Y + ((4270,253.8) <= (393.05,7862)?(72.66,1750) != ("84.13" * 1,7233)?" ":(0x209d,"s"):! !"1") + Q5Y.name];if(H5Y || H5Y === 0){b5Y+=H5Y;l5Y++;x5Y=Math.max(x5Y,H5Y);g5Y=Math.min(g5Y,H5Y);}}if(Q5Y.name.indexOf("Osc") > -("1" ^ 0)){F5o="HH";F5o+="V/LLV ";F5o+="Lookback";f5Y=C5Y(Q5Y.inputs[F5o],d5Y);if(l5Y){g5o="O";g5o+="v";g5o+="er";g5o+=" ";w5Y[d5Y][Q5Y.name + "_hist"]=100 * (w5Y[d5Y][Y5Y] - b5Y / l5Y) / Math.max(0.000001,f5Y[1] - f5Y[0]);w5Y[d5Y]["Over " + Q5Y.name]=100 * (x5Y - g5Y) / Math.max(+"0.000001",f5Y[1] - f5Y[0]);w5Y[d5Y]["Under " + Q5Y.name]=-w5Y[d5Y][g5o + Q5Y.name];w5Y[d5Y]["Zero " + Q5Y.name]=0;}}}if(Q5Y.name.indexOf(q5o) > - +"1"){p5o="_hi";p5o+="st";y5o="Z";y5o+="e";y5o+="r";y5o+="o ";O5o="Un";O5o+="d";O5o+="er ";N5o="Over";N5o+=" ";Q5Y.outputMap={};Q5Y.outputMap[N5o + Q5Y.name]="Positive Bar";Q5Y.outputMap[O5o + Q5Y.name]="Negative Bar";Q5Y.outputMap[y5o + Q5Y.name]="";Q5Y.outputMap[Q5Y.name + p5o]="";}};t5Y.Studies.displayRainbowMA=function(i5Y,o5Y,S5Y){var p9I=Q6II;var v4w,b4w,h4w,W5Y;v4w=-1340678926;b4w=607152403;h4w=2;for(var L4w=1;p9I.A0w(L4w.toString(),L4w.toString().length,20302) !== v4w;L4w++){W5Y=i5Y.panels[o5Y.panel];p9I.N7a(11);h4w+=p9I.H8a(390528672,"2");}p9I.i6I();if(p9I.A0w(h4w.toString(),h4w.toString().length,13749) !== b4w){W5Y=i5Y.panels[o5Y.panel];}for(var X5Y=10;X5Y > 0;X5Y--){t5Y.Studies.displayIndividualSeriesAsLine(i5Y,o5Y,W5Y,"SMA" + X5Y + ((+"192.68",7510) != 8100?" ":("3680" - 0,377.34) == (632.19,140.45)?(0x19d0,0x18ee):"A") + o5Y.name,S5Y);}};t5Y.Studies.displayRainbowOsc=function(N5Y,T5Y,k8Y){var h9I=Q6II;var o5o,E5o,T5o,I5Y,B5Y,L5Y,n8Y,a8Y,F8Y,R8Y,e8Y,P8Y,r5Y,A5Y;o5o="Un";o5o+="de";o5o+="r";o5o+=" ";E5o="O";E5o+="v";E5o+="er";E5o+=" ";T5o="Po";T5o+="sitive";T5o+=" B";T5o+="ar";t5Y.Studies.displaySeriesAsLine(N5Y,T5Y,k8Y);I5Y=N5Y.panels[T5Y.panel];B5Y=T5Y.getContext(N5Y);L5Y=T5Y.getYAxis(N5Y);N5Y.startClip(T5Y.panel);if(!T5Y.highlight && N5Y.highlightedDraggable){B5Y.globalAlpha*=0.3;}n8Y=N5Y.pixelFromPrice(0,I5Y,L5Y);a8Y=I5Y.name != T5Y.chart.name;F8Y=t5Y.Studies.determineColor(T5Y.outputs[T5o]);B5Y.strokeStyle=F8Y;N5Y.plotDataSegmentAsLine(E5o + T5Y.name,I5Y,{skipTransform:a8Y,label:!1,yAxis:L5Y});R8Y=B5Y.createLinearGradient(0,n8Y,0,L5Y.flipped?L5Y.bottom:L5Y.top);R8Y.addColorStop(0,N5Y.containerColor);h9I.U7a(22);R8Y.addColorStop(h9I.h8a("1",1),F8Y);t5Y.prepareChannelFill(N5Y,{skipTransform:a8Y,color:R8Y,opacity:!T5Y.highlight && N5Y.highlightedDraggable?0.3:+"1",panelName:T5Y.panel,topBand:"Over " + T5Y.name,bottomBand:"Zero " + T5Y.name,yAxis:L5Y});e8Y=t5Y.Studies.determineColor(T5Y.outputs["Negative Bar"]);B5Y.strokeStyle=e8Y;N5Y.plotDataSegmentAsLine("Under " + T5Y.name,I5Y,{skipTransform:a8Y,label:!{},yAxis:L5Y});P8Y=B5Y.createLinearGradient(0,n8Y,0,L5Y.flipped?L5Y.top:L5Y.bottom);h9I.N7a(5);P8Y.addColorStop(h9I.h8a("0",0),N5Y.containerColor);h9I.N7a(17);P8Y.addColorStop(h9I.H8a(1,"1"),e8Y);t5Y.prepareChannelFill(N5Y,{skipTransform:a8Y,color:P8Y,opacity:!T5Y.highlight && N5Y.highlightedDraggable?0.3:+"1",panelName:T5Y.panel,topBand:"Zero " + T5Y.name,bottomBand:o5o + T5Y.name,yAxis:L5Y});r5Y=N5Y.layout.candleWidth - 2;if(r5Y < 2){r5Y=+"1";}h9I.o6I();N5Y.canvasColor("stx_histogram");if(!T5Y.underlay){B5Y.globalAlpha=1;}if(!T5Y.highlight && N5Y.highlightedDraggable){B5Y.globalAlpha*=0.3;}B5Y.fillStyle="#CCCCCC";for(var c8Y="0" & 2147483647;c8Y < k8Y.length;c8Y++){A5Y=k8Y[c8Y];if(!A5Y)continue;if(A5Y[T5Y.name + "_hist"] > 0){B5Y.fillStyle=F8Y;}else if(A5Y[T5Y.name + "_hist"] < 0){B5Y.fillStyle=e8Y;}if(A5Y.candleWidth){r5Y=Math.floor(Math.max(1,A5Y.candleWidth - 2));}B5Y.fillRect(Math.floor(N5Y.pixelFromBar(c8Y,I5Y.chart) - r5Y / 2),Math.floor(n8Y),Math.floor(r5Y),Math.floor(N5Y.pixelFromPrice(A5Y[T5Y.name + "_hist"],I5Y,L5Y) - n8Y));}N5Y.endClip();};t5Y.Studies.studyLibrary=t5Y.extend(t5Y.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!"",calculateFN:t5Y.Studies.calculateRainbow,seriesFN:t5Y.Studies.displayRainbowMA,inputs:{Period:+"2",Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:G5o,SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:Z5o,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:t5Y.Studies.calculateRainbow,seriesFN:t5Y.Studies.displayRainbowOsc,centerline:0,inputs:{Period:+"2",Field:l5o,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};I2l=V8Y=>{var u8Y,W8k;u8Y=typeof _CIQ !== "undefined"?_CIQ:V8Y.CIQ;if(!u8Y.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {W8k="Random Walk";W8k+=" Index";u8Y.Studies.calculateRandomWalk=function(w8Y,y8Y){var i9I=Q6II;var v8Y,h8Y,E8Y,t8Y,s8Y,p8Y,Z8Y,z8Y,Q8Y,B8k,H5o;v8Y=y8Y.chart.scrubbed;if(v8Y.length < y8Y.days + +"1"){y8Y.error=! !1;return;}for(var M8Y=Math.max("2" - 0,y8Y.startFrom);M8Y < v8Y.length;M8Y++){i9I.N7a(5);h8Y=i9I.h8a("0",0);E8Y=v8Y[M8Y].High;t8Y=v8Y[M8Y].Low;i9I.N7a(23);s8Y=i9I.h8a(0,"0");p8Y=0;for(var m8Y=1;m8Y <= y8Y.days;m8Y++){if(v8Y[M8Y].futureTick)break;if(M8Y <= m8Y){s8Y=p8Y=0;break;}h8Y+=v8Y[M8Y - m8Y].trueRange;Z8Y=h8Y / m8Y * Math.sqrt(m8Y);if(Z8Y){z8Y=(E8Y - v8Y[M8Y - m8Y].Low) / Z8Y;Q8Y=(v8Y[M8Y - m8Y].High - t8Y) / Z8Y;s8Y=Math.max(s8Y,z8Y);p8Y=Math.max(p8Y,Q8Y);}}if(!v8Y[M8Y].futureTick && (!isNaN(E8Y) || !isNaN(t8Y))){B8k="Ran";B8k+="dom W";B8k+="a";B8k+="lk Low ";H5o="Random Walk ";H5o+="Hi";H5o+="gh ";v8Y[M8Y][H5o + y8Y.name]=s8Y;v8Y[M8Y][B8k + y8Y.name]=p8Y;}}};u8Y.Studies.studyLibrary=u8Y.extend(u8Y.Studies.studyLibrary,{"Random Walk":{name:W8k,calculateFN:u8Y.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};A2l=G8Y=>{var d8Y,u3w,e3w,C3w,J8k,k8k,d8k,P8k;Q6II.i6I();d8Y=typeof _CIQ !== "undefined"?_CIQ:G8Y.CIQ;if(!d8Y.Studies){u3w=1975383248;e3w=-316919032;C3w=2;for(var b3w=1;Q6II.A0w(b3w.toString(),b3w.toString().length,39191) !== u3w;b3w++){J8k="relativ";J8k+="eVigor feature requires firs";J8k+="t activating st";J8k+="udies feature.";console.error(J8k);C3w+=2;}if(Q6II.A0w(C3w.toString(),C3w.toString().length,+"29033") !== e3w){console.error("");}}else {k8k="#FF000";k8k+="0";d8k="au";d8k+="to";P8k="Relative Vigor In";P8k+="dex";d8Y.Studies.calculateRelativeVigor=function(D8Y,Y8Y){var o9I=Q6II;var x8k,U8k,n8k,f8Y,H8Y,z8k,l8Y,g8Y,q8Y,a8k,C8Y,b8Y,x8Y,X8k;x8k="R";x8k+="elVigS";x8k+="ignal";U8k="trian";U8k+="g";U8k+="ul";U8k+="ar";n8k="_C";n8k+="hange";n8k+=" ";f8Y=Y8Y.chart.scrubbed;if(f8Y.length < Y8Y.days + 1){Y8Y.error=! ![];return;}for(H8Y=Y8Y.startFrom;H8Y < f8Y.length;H8Y++){z8k="_Ra";z8k+="ng";z8k+="e ";l8Y=f8Y[H8Y];if(!isNaN(l8Y.Close) && !isNaN(l8Y.Open)){l8Y["_Change " + Y8Y.name]=l8Y.Close - l8Y.Open;}if(!isNaN(l8Y.High) && !isNaN(l8Y.Low)){l8Y[z8k + Y8Y.name]=l8Y.High - l8Y.Low;}}d8Y.Studies.MA("triangular",4,n8k + Y8Y.name,0,"_Numer",D8Y,Y8Y);d8Y.Studies.MA("triangular",4,"_Range " + Y8Y.name,0,"_Denom",D8Y,Y8Y);g8Y=[];q8Y=[];for(H8Y=Math.max(Y8Y.startFrom - Y8Y.days,0);H8Y < f8Y.length;H8Y++){a8k="_D";a8k+="enom ";if(f8Y[H8Y].futureTick)break;if(f8Y[H8Y]["_Numer " + Y8Y.name] === null && f8Y[H8Y][a8k + Y8Y.name] === null)continue;g8Y.push(f8Y[H8Y]["_Numer " + Y8Y.name]);q8Y.push(f8Y[H8Y]["_Denom " + Y8Y.name]);if(g8Y.length > Y8Y.days){g8Y.shift();q8Y.shift();}C8Y=0;o9I.N7a(11);b8Y=o9I.h8a(290919264,"0");for(x8Y=0;x8Y < g8Y.length;x8Y++){C8Y+=g8Y[x8Y];}for(x8Y=+"0";x8Y < q8Y.length;x8Y++){b8Y+=q8Y[x8Y];}if(b8Y === 0){b8Y=0.00000001;}if(H8Y < Y8Y.startFrom)continue;o9I.U7a(8);f8Y[H8Y]["Rel Vig " + Y8Y.name]=o9I.H8a(C8Y,b8Y);}d8Y.Studies.MA(U8k,4,"Rel Vig " + Y8Y.name,0,x8k,D8Y,Y8Y);for(H8Y=Y8Y.startFrom;H8Y < f8Y.length;H8Y++){X8k="Re";X8k+="l";X8k+=" Vi";X8k+="g ";f8Y[H8Y][Y8Y.name + "_hist"]=f8Y[H8Y][X8k + Y8Y.name] - f8Y[H8Y]["RelVigSignal " + Y8Y.name];}Y8Y.outputMap[Y8Y.name + "_hist"]="";};d8Y.Studies.studyLibrary=d8Y.extend(d8Y.Studies.studyLibrary,{"Rel Vig":{name:P8k,seriesFN:d8Y.Studies.displayHistogramWithSeries,calculateFN:d8Y.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":d8k,RelVigSignal:k8k,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};r2l=K8Y=>{var J8Y,A8k;J8Y=typeof _CIQ !== "undefined"?_CIQ:K8Y.CIQ;if(!J8Y.Studies){console.error("rsi feature requires first activating studies feature.");}else {A8k="0 to ";A8k+="100";J8Y.Studies.calculateRSI=function(B8Y,U8Y){var A9I=Q6II;var f8k,m8k,S8Y,O8Y,t8k,j8k,i8Y,W8Y,T8Y,N8Y,j8Y,X8Y;f8k="Cl";f8k+="o";f8k+="s";f8k+="e";m8k="f";m8k+="i";m8k+="e";m8k+="ld";function L8Y(r8Y,I8Y){var A8Y;if(I8Y === ("0" & 2147483647)){return 100;}A9I.i6I();A9I.N7a(8);A8Y=A9I.H8a(r8Y,I8Y);A9I.N7a(82);return A9I.H8a(1342395040,100,A8Y,"100",1);}S8Y=U8Y.chart.scrubbed;O8Y=U8Y.inputs.Field;if(!O8Y || O8Y == m8k){O8Y=f8k;}if(S8Y.length < U8Y.days + 1){U8Y.error=! !"1";return;}for(var o8Y=U8Y.startFrom;o8Y < S8Y.length;o8Y++){t8k="_av";t8k+="g";t8k+="G ";j8k="_avgL";j8k+=" ";if(!o8Y)continue;i8Y=S8Y[o8Y];A9I.N7a(5);W8Y=S8Y[A9I.h8a(o8Y,1)];if(!i8Y[O8Y] && i8Y[O8Y] !== 0)continue;if(!W8Y[O8Y] && W8Y[O8Y] !== 0)continue;T8Y=i8Y[O8Y] - W8Y[O8Y];N8Y=Math.min(o8Y,U8Y.days);j8Y=W8Y["_avgG " + U8Y.name];if(!j8Y){j8Y=+"0";}A9I.N7a(8);j8Y-=A9I.h8a(j8Y,N8Y);X8Y=W8Y[j8k + U8Y.name];if(!X8Y){X8Y=0;}A9I.N7a(8);X8Y-=A9I.H8a(X8Y,N8Y);if(T8Y > +"0"){A9I.N7a(8);j8Y+=A9I.h8a(T8Y,N8Y);}else if(T8Y <= 0){A9I.N7a(8);X8Y-=A9I.h8a(T8Y,N8Y);}else continue;if(o8Y >= U8Y.days){if((j8Y || j8Y !== 0) && (X8Y || X8Y !== +"0")){i8Y["RSI " + U8Y.name]=L8Y(j8Y,X8Y);}}i8Y[t8k + U8Y.name]=j8Y;i8Y["_avgL " + U8Y.name]=X8Y;}U8Y.zoneOutput="RSI";};J8Y.Studies.studyLibrary=J8Y.extend(J8Y.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:"14" | 2,Field:"field"},calculateFN:J8Y.Studies.calculateRSI,range:A8k,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};F5l=a3Y=>{var j6I=Q6II;var D8k,n3Y,b0w,h0w,i0w,C8k;D8k="undef";D8k+="ined";j6I.o6I();n3Y=typeof _CIQ !== D8k?_CIQ:a3Y.CIQ;if(!n3Y.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {n3Y.Studies.calculateSchaff=function(w3Y,c3Y){var M8k,I8k,S8k,V8k,k3Y,V3Y,z3Y,M3Y,v3Y,Q3Y,m3Y,p3Y,u3Y,Z3Y,h3Y,E3Y,e3Y,w8k,t3Y,e8k,u8k;M8k="_M";M8k+="ACD";M8k+="2";I8k="_";I8k+="MA";I8k+="CD1";S8k="Moving ";S8k+="Averag";S8k+="e Typ";S8k+="e";V8k="Shor";V8k+="t Cy";V8k+="cl";j6I.o6I();V8k+="e";k3Y=c3Y.chart.scrubbed;V3Y=c3Y.days;z3Y=Number(c3Y.inputs[V8k]);M3Y=Number(c3Y.inputs["Long Cycle"]);if(k3Y.length < Math.max(V3Y,z3Y,M3Y) + 1){c3Y.error=! !{};return;}v3Y=c3Y.inputs.Field;function d3Y(g3Y,x3Y,q3Y){var H3Y,f3Y,G3Y;j6I.o6I();H3Y=null;f3Y=null;for(var l3Y=x3Y - g3Y + 1;l3Y <= x3Y;l3Y++){G3Y=k3Y[l3Y][q3Y + (("353" << 1982854656,793.62) > 6680?(!"1",!""):(533.55,"587" >> 419245344) <= (269,"346.25" * 1)?(781.3,2670) >= 719.11?191.30:(8.89e+3,"F"):" ") + c3Y.name];if(!G3Y)continue;H3Y=H3Y === null?G3Y:Math.min(H3Y,G3Y);f3Y=f3Y === null?G3Y:Math.max(f3Y,G3Y);}return [H3Y,f3Y];}if(!v3Y || v3Y == "field"){v3Y="Close";}Q3Y=0.5;n3Y.Studies.MA(c3Y.inputs[S8k],z3Y,v3Y,0,I8k,w3Y,c3Y);n3Y.Studies.MA(c3Y.inputs["Moving Average Type"],M3Y,v3Y,"0" | 0,M8k,w3Y,c3Y);m3Y=0;p3Y=0;for(var R3Y=c3Y.startFrom;R3Y < k3Y.length;R3Y++){u3Y=k3Y[R3Y];if(R3Y < M3Y - 1)continue;Z3Y=u3Y["_MACD1 " + c3Y.name];h3Y=u3Y["_MACD2 " + c3Y.name];if(Z3Y || Z3Y === 0 || h3Y || h3Y === 0){j6I.N7a(5);u3Y["_MACD " + c3Y.name]=j6I.H8a(Z3Y,h3Y);}E3Y=u3Y["_MACD " + c3Y.name];if(R3Y < M3Y + (V3Y - 1))continue;e3Y=d3Y(V3Y,R3Y,"_MACD");m3Y=e3Y["1" << 977271648] > e3Y["0" ^ 0]?+"100" * (E3Y - e3Y[0]) / (e3Y[1] - e3Y[0]):m3Y;if(E3Y || E3Y === 0){w8k="_";w8k+="PF";w8k+=" ";u3Y["_PF " + c3Y.name]=k3Y[R3Y - 1][w8k + c3Y.name]?k3Y[R3Y - +"1"]["_PF " + c3Y.name] + Q3Y * (m3Y - k3Y[R3Y - 1]["_PF " + c3Y.name]):m3Y;}t3Y=u3Y["_PF " + c3Y.name];if(R3Y < M3Y + 2 * (V3Y - 1))continue;e3Y=d3Y(V3Y,R3Y,"_PF");p3Y=e3Y[1] > e3Y[0]?100 * (t3Y - e3Y[0]) / (e3Y[1] - e3Y[0]):p3Y;if(t3Y || t3Y === 0){e8k="Res";e8k+="ult ";u8k="R";u8k+="esu";u8k+="lt ";u3Y["Result " + c3Y.name]=k3Y[R3Y - 1]["Result " + c3Y.name]?k3Y[R3Y - 1][u8k + c3Y.name] + Q3Y * (p3Y - k3Y[R3Y - +"1"][e8k + c3Y.name]):p3Y;}}};b0w=1497819094;j6I.N7a(11);h0w=j6I.H8a(1838011840,"1374961348");i0w=2;for(var Y0w=1;j6I.t0w(Y0w.toString(),Y0w.toString().length,77308) !== b0w;Y0w++){n3Y.Studies.studyLibrary=n3Y.extend(n3Y.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"Long Cycle",calculateFN:n3Y.Studies.calculateSchaff,inputs:{Period:"16" & 2147483647,Field:"auto","Short Cycle":72,"Long Cycle":72,"Moving Average Type":"auto"},parameters:{init:{studyOverZonesEnabled:!{},studyOverBoughtValue:24,studyOverBoughtColor:"Schaff Trend Cycle",studyOverSoldValue:36,studyOverSoldColor:"Schaff Trend Cycle"}}}});i0w+=2;}if(j6I.A0w(i0w.toString(),i0w.toString().length,54329) !== h0w){C8k="f";C8k+="iel";C8k+="d";n3Y.Studies.studyLibrary=n3Y.extend(n3Y.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:n3Y.Studies.calculateSchaff,inputs:{Period:10,Field:C8k,"Short Cycle":+"23","Long Cycle":+"50","Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}}};R5l=D3Y=>{var v8k,b3Y;v8k="unde";v8k+="fi";v8k+="n";v8k+="ed";b3Y=typeof _CIQ !== v8k?_CIQ:D3Y.CIQ;if(!b3Y.Studies){console.error("shinohara feature requires first activating studies feature.");}else {b3Y.Studies.calculateShinohara=function(O3Y,K3Y){Q6II.o6I();var J3Y,U3Y,b8k;J3Y=K3Y.chart.scrubbed;if(J3Y.length < K3Y.days + 1){K3Y.error=! !{};return;}U3Y={weakNum:"0" ^ 0,weakDen:0,strongNum:0,strongDen:0};if(K3Y.startFrom > 1){b8k="_";b8k+="acc";b8k+="u";b8k+="ms ";U3Y=b3Y.clone(J3Y[K3Y.startFrom - +"1"][b8k + K3Y.name]);}for(var C3Y=K3Y.startFrom;C3Y < J3Y.length;C3Y++){U3Y.weakNum+=J3Y[C3Y].High - J3Y[C3Y].Close;U3Y.weakDen+=J3Y[C3Y].Close - J3Y[C3Y].Low;if(C3Y > 0){U3Y.strongNum+=J3Y[C3Y].High - J3Y[C3Y - 1].Close;U3Y.strongDen+=J3Y[C3Y - 1].Close - J3Y[C3Y].Low;}if(C3Y >= K3Y.days){U3Y.weakNum-=J3Y[C3Y - K3Y.days].High - J3Y[C3Y - K3Y.days].Close;U3Y.weakDen-=J3Y[C3Y - K3Y.days].Close - J3Y[C3Y - K3Y.days].Low;J3Y[C3Y]["Weak Ratio " + K3Y.name]=("100" - 0) * U3Y.weakNum / U3Y.weakDen;if(C3Y > K3Y.days){U3Y.strongNum-=J3Y[C3Y - K3Y.days].High - J3Y[C3Y - K3Y.days - 1].Close;U3Y.strongDen-=J3Y[C3Y - K3Y.days - 1].Close - J3Y[C3Y - K3Y.days].Low;J3Y[C3Y]["Strong Ratio " + K3Y.name]=100 * U3Y.strongNum / U3Y.strongDen;}}J3Y[C3Y]["_accums " + K3Y.name]=b3Y.clone(U3Y);}};b3Y.Studies.studyLibrary=b3Y.extend(b3Y.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:b3Y.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};P5l=X3Y=>{var j3Y,h8k,O8k,N8k,q8k;j3Y=typeof _CIQ !== "undefined"?_CIQ:X3Y.CIQ;if(!j3Y.Studies){h8k="stochastics feature requires ";h8k+="first activating studies fea";h8k+="ture.";console.error(h8k);}else {O8k="au";O8k+="to";N8k="a";N8k+="uto";q8k="e";q8k+="m";q8k+="a";j3Y.Studies.calculateStochastics=function(A3Y,o3Y){var R8k,i8k,S3Y,i3Y,W3Y,F3w,g3w,q3w,L3Y,B3Y,n0Y;R8k="%";R8k+="D";i8k="%K P";i8k+="e";i8k+="rio";i8k+="ds";if(!o3Y.smooth){o3Y.smooth=o3Y.inputs.Smooth;}S3Y=o3Y.inputs.Field;if(!S3Y || S3Y == "field"){S3Y="Close";}i3Y=o3Y.inputs[i8k];if(!i3Y){i3Y=o3Y.days;}W3Y=o3Y.chart.scrubbed;if(W3Y.length < Math.max(i3Y,o3Y.days) + 1){o3Y.error=! !1;F3w=1093619099;g3w=561188392;q3w=+"2";for(var O3w=1;Q6II.A0w(O3w.toString(),O3w.toString().length,39783) !== F3w;O3w++){return;}if(Q6II.A0w(q3w.toString(),q3w.toString().length,74265) !== g3w){return;}return;}L3Y=o3Y.inputs["%K Smoothing Periods"];if(L3Y){o3Y.smooth=!0;}else if(o3Y.smooth){L3Y=3;}B3Y=o3Y.inputs["%D Periods"];if(!B3Y){B3Y=3;}o3Y.outputMap={};function r3Y(V0Y,e0Y,m0Y){var M0Y,F0Y,c0Y,Y8k,L8k,k0Y,u0Y,v0Y;Q6II.U7a(6);M0Y=Q6II.h8a(1,m0Y,V0Y);F0Y=Number.MAX_VALUE * -1;Q6II.o6I();c0Y=Number.MAX_VALUE;for(var P0Y=M0Y;P0Y <= V0Y;P0Y++){Y8k="C";Y8k+="lose";L8k="C";L8k+="lose";k0Y=W3Y[P0Y][e0Y == L8k?"Low":e0Y];u0Y=W3Y[P0Y][e0Y == Y8k?"High":e0Y];if(!k0Y && k0Y !== 0)continue;if(!u0Y && u0Y !== 0)continue;c0Y=Math.min(c0Y,k0Y);F0Y=Math.max(F0Y,u0Y);}if(F0Y == Number.MAX_VALUE * -1 || c0Y == Number.MAX_VALUE){return null;}v0Y=F0Y == c0Y?0:(W3Y[V0Y][e0Y] - c0Y) / (F0Y - c0Y) * 100;return v0Y;}o3Y.outputMap["%K " + o3Y.name]="Fast";o3Y.outputMap["%D " + o3Y.name]="Slow";for(var N3Y=Math.max(i3Y,o3Y.startFrom);N3Y < W3Y.length;N3Y++){n0Y=r3Y(N3Y,S3Y,i3Y);if(n0Y !== null){W3Y[N3Y][o3Y.name]=r3Y(N3Y,S3Y,i3Y);}}j3Y.Studies.MA("simple",o3Y.smooth?L3Y:1,o3Y.name,0,"%K",A3Y,o3Y);j3Y.Studies.MA("simple",B3Y,"%K " + o3Y.name,0,R8k,A3Y,o3Y);};j3Y.Studies.calculateStochMomentum=function(Z0Y,y0Y){var s8k,c8k,K8k,r8k,Q8k,h0Y,t0Y,z0Y,w0Y,s0Y,p0Y,Q0Y,E0Y,g8k,F8k;s8k="expone";s8k+="nti";s8k+="al";c8k="_D";c8k+="HL";c8k+="1";Q6II.i6I();function d0Y(l0Y,f0Y){var Y0Y,H0Y;Y0Y=null;H0Y=null;for(var G0Y=f0Y - l0Y + 1;G0Y <= f0Y;G0Y++){Y0Y=Y0Y === null?s0Y[G0Y].Low:Math.min(Y0Y,s0Y[G0Y].Low);H0Y=H0Y === null?s0Y[G0Y].High:Math.max(H0Y,s0Y[G0Y].High);}return [Y0Y,H0Y];}K8k="_HS1";K8k+=" ";r8k="%K Doub";r8k+="le Smoothing Periods";Q8k="%K Smo";Q8k+="othing Periods";h0Y=Number(y0Y.inputs["%K Periods"]);t0Y=Number(y0Y.inputs[Q8k]);z0Y=Number(y0Y.inputs[r8k]);w0Y=Number(y0Y.inputs["%D Periods"]);s0Y=y0Y.chart.scrubbed;if(s0Y.length < h0Y + t0Y + z0Y - ("1" >> 1582517056) || s0Y.length < w0Y){y0Y.error=! !1;return;}for(p0Y=Math.max(h0Y,y0Y.startFrom) - +"1";p0Y < s0Y.length;p0Y++){Q0Y=s0Y[p0Y];E0Y=d0Y(h0Y,p0Y);Q0Y["_H " + y0Y.name]=Q0Y.Close - (E0Y[0] + E0Y["1" << 1135081664]) / 2;Q0Y["_DHL " + y0Y.name]=E0Y[1] - E0Y[0];}j3Y.Studies.MA("exponential",t0Y,"_H " + y0Y.name,0,"_HS1",Z0Y,y0Y);j3Y.Studies.MA("exponential",z0Y,K8k + y0Y.name,0,"_HS2",Z0Y,y0Y);j3Y.Studies.MA("exponential",t0Y,"_DHL " + y0Y.name,0,c8k,Z0Y,y0Y);j3Y.Studies.MA(s8k,z0Y,"_DHL1 " + y0Y.name,+"0","_DHL2",Z0Y,y0Y);for(p0Y=h0Y - 1;p0Y < s0Y.length;p0Y++){g8k="_DH";g8k+="L2 ";F8k="%";F8k+="K";F8k+=" ";s0Y[p0Y][F8k + y0Y.name]=s0Y[p0Y]["_HS2 " + y0Y.name] / (0.5 * s0Y[p0Y][g8k + y0Y.name]) * 100;}j3Y.Studies.MA(y0Y.inputs["%D Moving Average Type"],w0Y,"%K " + y0Y.name,0,"%D",Z0Y,y0Y);y0Y.zoneOutput="%K";};j3Y.Studies.studyLibrary=j3Y.extend(j3Y.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:j3Y.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":q8k},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"40" ^ 0,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:j3Y.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!""},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:N8k,studyOverSoldValue:20,studyOverSoldColor:O8k}}}});}};k5l=g0Y=>{var y8k,x0Y,l8k;y8k="u";y8k+="ndefin";y8k+="ed";Q6II.i6I();x0Y=typeof _CIQ !== y8k?_CIQ:g0Y.CIQ;if(!x0Y.Studies){console.error("supertrend feature requires first activating studies feature.");}else {l8k="Supertr";l8k+="en";l8k+="d";x0Y.Studies.calculateSupertrend=function(o0Y,q0Y){var L9I=Q6II;L9I.i6I();var C0Y,E8k,T8k,J0Y,j0Y,X0Y,U0Y,O0Y,p8k;C0Y=q0Y.chart.scrubbed;if(C0Y.length < q0Y.days + 1){q0Y.error=!"";return;}x0Y.Studies.calculateStudyATR(o0Y,q0Y);for(var D0Y=q0Y.startFrom;D0Y < C0Y.length;D0Y++){E8k="_";E8k+="Dow";E8k+="n";E8k+="trend ";T8k="_";T8k+="Upt";T8k+="rend ";J0Y=C0Y[D0Y];if(!J0Y)continue;j0Y=(J0Y.High + J0Y.Low) / 2;X0Y=q0Y.inputs.Multiplier * J0Y["ATR " + q0Y.name];L9I.N7a(5);U0Y=L9I.H8a(j0Y,X0Y);L9I.N7a(0);O0Y=L9I.h8a(X0Y,j0Y);if(D0Y){if(C0Y[D0Y - 1] && C0Y[D0Y - 1].Close && C0Y[D0Y - 1].Close > C0Y[D0Y - ("1" << 1332583616)]["_Uptrend " + q0Y.name] && C0Y[D0Y - 1]["_Uptrend " + q0Y.name] > U0Y){L9I.N7a(5);U0Y=C0Y[L9I.h8a(D0Y,1)]["_Uptrend " + q0Y.name];}if(C0Y[D0Y - 1] && C0Y[D0Y - "1" * 1].Close && C0Y[D0Y - 1].Close < C0Y[D0Y - 1]["_Downtrend " + q0Y.name] && C0Y[D0Y - 1]["_Downtrend " + q0Y.name] < O0Y){L9I.U7a(5);O0Y=C0Y[L9I.H8a(D0Y,1)]["_Downtrend " + q0Y.name];}}J0Y["_Direction " + q0Y.name]=1;if(D0Y){p8k="_Direc";p8k+="ti";p8k+="on ";L9I.U7a(59);J0Y["_Direction " + q0Y.name]=C0Y[L9I.H8a("1",D0Y)][p8k + q0Y.name];if(J0Y.Close > C0Y[D0Y - 1]["_Downtrend " + q0Y.name]){J0Y["_Direction " + q0Y.name]=1;}else if(J0Y.Close < C0Y[D0Y - 1]["_Uptrend " + q0Y.name]){J0Y["_Direction " + q0Y.name]=-1;}}J0Y[T8k + q0Y.name]=U0Y;J0Y[E8k + q0Y.name]=O0Y;J0Y["Trend " + q0Y.name]=J0Y["_Direction " + q0Y.name] > 0?U0Y:O0Y;if(!D0Y)continue;}q0Y.outputMap={};q0Y.outputMap["Trend " + q0Y.name]="";};x0Y.Studies.displaySupertrend=function(T0Y,S0Y,I0Y){var Q9I=Q6II;var A0Y,N0Y,r0Y,V6Y,D0w,V0w,S0w,R6Y,o8k,n6Y,a6Y,B0Y,Z8k,G8k,P6Y,k6Y;A0Y=T0Y.panels[S0Y.panel];N0Y=S0Y.getContext(T0Y);r0Y=S0Y.getYAxis(T0Y);V6Y={skipTransform:A0Y.name != S0Y.chart.name,skipProjections:!0,label:T0Y.preferences.labels,yAxis:r0Y,highlight:S0Y.highlight};function u6Y(v6Y,M6Y,m6Y){if(M6Y && M6Y["_Direction " + S0Y.name] < 0){return S0Y.outputs.Downtrend;}Q9I.i6I();return S0Y.outputs.Uptrend;}N0Y.strokeStyle=u6Y(T0Y,I0Y[I0Y.length - 1]);D0w=-1762362725;V0w=79914173;S0w=2;for(var M0w=1;Q9I.t0w(M0w.toString(),M0w.toString().length,14955) !== D0w;M0w++){N0Y.lineWidth=+"4";if(S0Y.highlight){N0Y.lineWidth=290;}R6Y="" % S0Y.name;S0w+=2;}if(Q9I.A0w(S0w.toString(),S0w.toString().length,58711) !== V0w){o8k="T";o8k+="r";o8k+="end";o8k+=" ";N0Y.lineWidth=+"2";if(S0Y.highlight){N0Y.lineWidth=1.5;}R6Y=o8k + S0Y.name;}for(var e6Y=0;A0Y.chart.transformFunc && r0Y != A0Y.chart.yAxis && e6Y < I0Y.length;e6Y++){n6Y=I0Y[e6Y];if(n6Y && n6Y.transform){n6Y.transform[R6Y]=A0Y.chart.transformFunc(T0Y,A0Y.chart,n6Y[R6Y]);}}T0Y.plotDataSegmentAsLine(R6Y,A0Y,V6Y,u6Y);N0Y.lineWidth=+"1";N0Y.globalAlpha=1;T0Y.startClip(S0Y.panel);if(!S0Y.highlight && T0Y.highlightedDraggable){Q9I.U7a(5);N0Y.globalAlpha*=Q9I.h8a("0.3",0);}a6Y=N0Y.measureText("\u25B2").width / 2;for(B0Y=0;B0Y < I0Y.length;B0Y++){Z8k="_Directio";Z8k+="n ";G8k="_Direct";G8k+="io";G8k+="n ";if(!I0Y[B0Y] || !I0Y[B0Y - 1])continue;if(I0Y[B0Y - 1]["_Direction " + S0Y.name] > I0Y[B0Y][G8k + S0Y.name]){N0Y.fillStyle=S0Y.outputs.Downtrend;N0Y.textBaseline="bottom";P6Y=T0Y.pixelFromPrice(I0Y[B0Y].High,A0Y,r0Y);for(var c6Y="5" - 0;c6Y <= 45;c6Y+=10){if(r0Y.flipped){N0Y.fillText(6050 > 910.16?"\u25B2":(302.03,3582) !== 919?(541.18,+"8730") === 8800?(!1,"l"):! !{}:8.21e+3,T0Y.pixelFromBar(B0Y) - a6Y,P6Y + c6Y);}else {N0Y.fillText("\u25BC",T0Y.pixelFromBar(B0Y) - a6Y,P6Y - c6Y);}}}else if(I0Y[B0Y - 1]["_Direction " + S0Y.name] < I0Y[B0Y][Z8k + S0Y.name]){N0Y.fillStyle=S0Y.outputs.Uptrend;N0Y.textBaseline="top";k6Y=T0Y.pixelFromPrice(I0Y[B0Y].Low,A0Y,r0Y);for(var F6Y=+"5";F6Y <= 45;F6Y+="10" << 82833824){if(r0Y.flipped){N0Y.fillText("\u25BC",T0Y.pixelFromBar(B0Y) - a6Y,k6Y - F6Y);}else {N0Y.fillText("\u25B2",T0Y.pixelFromBar(B0Y) - a6Y,k6Y + F6Y);}}}}T0Y.endClip();};x0Y.Studies.studyLibrary=x0Y.extend(x0Y.Studies.studyLibrary,{Supertrend:{name:l8k,overlay:! ![],seriesFN:x0Y.Studies.displaySupertrend,calculateFN:x0Y.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};u5l=s6Y=>{Q6II.i6I();var y6Y,H8k,W0k;y6Y=typeof _CIQ !== "undefined"?_CIQ:s6Y.CIQ;if(!y6Y.Studies){H8k="swing";H8k+="Inde";H8k+="x feature requires first activating studies featu";H8k+="re.";console.error(H8k);}else {W0k="S";W0k+="wing Index";y6Y.Studies.calculateSwingIndex=function(l6Y,h6Y){var l9I=Q6II;var B0k,E6Y,p6Y,t6Y,Q6Y,w6Y,H6Y,f6Y,G6Y,d6Y,z6Y,Y6Y;B0k="Limit Move Valu";B0k+="e";E6Y=h6Y.inputs[B0k];if(E6Y === null || isNaN(E6Y)){E6Y=+"99999";}p6Y=h6Y.chart.scrubbed;t6Y=0;if(h6Y.startFrom > 1){t6Y=p6Y[h6Y.startFrom - 1]["Result " + h6Y.name];}for(var Z6Y=Math.max(1,h6Y.startFrom);Z6Y < p6Y.length;Z6Y++){Q6Y=Math.abs(p6Y[Z6Y].High - p6Y[Z6Y - 1].Close);w6Y=Math.abs(p6Y[Z6Y].Low - p6Y[Z6Y - 1].Close);H6Y=Math.abs(p6Y[Z6Y].High - p6Y[Z6Y].Low);f6Y=Math.abs(p6Y[Z6Y - 1].Close - p6Y[Z6Y - 1].Open);G6Y=Math.max(Q6Y,w6Y);d6Y=Math.max(H6Y,G6Y);l9I.U7a(50);z6Y=l9I.h8a(0.25,f6Y,d6Y);if(d6Y == Q6Y){l9I.N7a(22);z6Y-=l9I.h8a(0.5,w6Y);}else if(d6Y == w6Y){l9I.N7a(22);z6Y-=l9I.h8a(0.5,Q6Y);}Y6Y=50 * (p6Y[Z6Y].Close - p6Y[Z6Y - 1].Close + 0.5 * (p6Y[Z6Y].Close - p6Y[Z6Y].Open) + 0.25 * (p6Y[Z6Y - 1].Close - p6Y[Z6Y - 1].Open)) / z6Y * (G6Y / E6Y);if(z6Y === 0 || E6Y === 0){Y6Y=0;}if(h6Y.type == "Swing"){t6Y=0;}t6Y+=Y6Y;p6Y[Z6Y]["Result " + h6Y.name]=t6Y;}};y6Y.Studies.studyLibrary=y6Y.extend(y6Y.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:y6Y.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:W0k,calculateFN:y6Y.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};V5l=g6Y=>{Q6II.o6I();var x0k,x6Y,o0k,T0k,N0k;x0k="unde";x0k+="f";x0k+="in";x0k+="ed";x6Y=typeof _CIQ !== x0k?_CIQ:g6Y.CIQ;if(!x6Y.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {o0k="aut";o0k+="o";T0k="aut";T0k+="o";N0k="Trend ";N0k+="Intens";N0k+="ity Inde";N0k+="x";x6Y.Studies.calculateTrendIntensity=function(X6Y,q6Y){var P9I=Q6II;var Y0k,L0k,v0k,j0k,C6Y,J6Y,K6Y,U6Y,b6Y,D6Y,O6Y,j6Y,M0k,S0k;Y0k="Si";Y0k+="gn";Y0k+="al";L0k="Si";L0k+="gnal Pe";L0k+="r";function o6Y(W6Y,i6Y){if(Math.abs(i6Y) < 0.00000001){return +"100";}P9I.N7a(83);return P9I.H8a(i6Y,W6Y,1,100,100);}L0k+="iod";v0k="e";v0k+="m";P9I.i6I();v0k+="a";j0k="m";j0k+="a";C6Y=q6Y.chart.scrubbed;if(C6Y.length < q6Y.days + 1){q6Y.error=! !{};return;}J6Y=q6Y.inputs.Field;if(!J6Y || J6Y == "field"){J6Y="Close";}x6Y.Studies.MA(j0k,q6Y.days,J6Y,"0" << 575892160,"_SMA",X6Y,q6Y);K6Y=0;U6Y=0;O6Y=[];j6Y=Math.ceil(q6Y.days / 2);for(b6Y=Math.max(0,q6Y.startFrom - j6Y);b6Y < C6Y.length;b6Y++){M0k="T";M0k+="I";M0k+="I";M0k+=" ";S0k="_SM";S0k+="A";S0k+=" ";if(!C6Y[b6Y]["_SMA " + q6Y.name] && C6Y[b6Y][S0k + q6Y.name] !== 0)continue;D6Y=C6Y[b6Y][J6Y] - C6Y[b6Y]["_SMA " + q6Y.name];if(D6Y < 0){P9I.U7a(84);U6Y+=P9I.h8a(D6Y,1);}else {K6Y+=D6Y;}O6Y.push(D6Y);if(O6Y.length > j6Y){D6Y=O6Y.shift();if(D6Y < 0){P9I.N7a(84);U6Y-=P9I.h8a(D6Y,1);}else {K6Y-=D6Y;}}if(b6Y < q6Y.startFrom)continue;C6Y[b6Y][M0k + q6Y.name]=o6Y(K6Y,U6Y);}x6Y.Studies.MA(v0k,q6Y.inputs[L0k],"TII " + q6Y.name,0,Y0k,X6Y,q6Y);};x6Y.Studies.studyLibrary=x6Y.extend(x6Y.Studies.studyLibrary,{"Trend Int":{name:N0k,calculateFN:x6Y.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":+"9"},outputs:{TII:T0k,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"80" & 2147483647,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:o0k}}}});}};v5l=T6Y=>{var S6Y,l0k;Q6II.o6I();S6Y=typeof _CIQ !== "undefined"?_CIQ:T6Y.CIQ;if(!S6Y.Studies){l0k="trix feature req";l0k+="uires first activating studies";l0k+=" feature.";console.error(l0k);}else {S6Y.Studies.calculateTRIX=function(F7Y,N6Y){var z9I=Q6II;var L6Y,I6Y,r6Y,B1k,a7Y,c7Y,n7Y;L6Y=N6Y.chart.scrubbed;if(L6Y.length < N6Y.days + +"1"){N6Y.error=!0;return;}I6Y=N6Y.name;z9I.U7a(0);r6Y=["Close",z9I.H8a(I6Y,"_MA1 "),z9I.h8a(I6Y,"_MA2 "),z9I.h8a(I6Y,"_MA3 ")];for(var A6Y=0;A6Y < r6Y.length - 1;A6Y++){B1k="_";B1k+="M";B1k+="A";S6Y.Studies.MA("exponential",N6Y.days,r6Y[A6Y],0,B1k + (A6Y + 1).toString(),F7Y,N6Y);}a7Y=r6Y[3];for(var B6Y=Math.max(1,N6Y.startFrom);B6Y < L6Y.length;B6Y++){z9I.U7a(67);c7Y=L6Y[z9I.h8a("1",B6Y,473697152)][a7Y];if(!c7Y)continue;n7Y=L6Y[B6Y][a7Y];if(n7Y || n7Y === 0){z9I.N7a(0);L6Y[B6Y][z9I.H8a(I6Y,"Result ")]=z9I.h8a(n7Y,1,c7Y,100,z9I.N7a(77));}}};S6Y.Studies.studyLibrary=S6Y.extend(S6Y.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:S6Y.Studies.calculateTRIX}});}};m5l=e7Y=>{var W1k,R7Y,l1w,H1w,B3w,J1k;W1k="un";W1k+="d";W1k+="efined";Q6II.o6I();R7Y=typeof _CIQ !== W1k?_CIQ:e7Y.CIQ;if(!R7Y.Studies){l1w=1226707886;H1w=-983341580;B3w=2;for(var J3w=1;Q6II.t0w(J3w.toString(),J3w.toString().length,46863) !== l1w;J3w++){J1k="twiggsMoneyFlow feature requires first activating studies featu";J1k+="re.";console.error(J1k);B3w+=2;}if(Q6II.A0w(B3w.toString(),B3w.toString().length,41495) !== H1w){console.error("");}}else {R7Y.Studies.calculateTwiggsMoneyFlow=function(s7Y,P7Y){var w9I=Q6II;var u7Y,M7Y,V7Y,v7Y,U1k,a1k,n1k,z1k,x1k,m7Y,y7Y;u7Y=P7Y.chart.scrubbed;if(u7Y.length < P7Y.days){P7Y.error=! !"1";return;}w9I.U7a(5);w9I.i6I();M7Y=w9I.H8a("0",0);w9I.N7a(22);V7Y=w9I.H8a("0",1);v7Y=u7Y[P7Y.startFrom - 1];if(v7Y){U1k="_su";U1k+="mV ";a1k="_";a1k+="su";a1k+="m";a1k+="V ";n1k="_sumM";n1k+="F";n1k+=" ";z1k="_su";z1k+="mMF";z1k+=" ";if(v7Y[z1k + P7Y.name]){M7Y=v7Y[n1k + P7Y.name];}if(v7Y[a1k + P7Y.name]){V7Y=v7Y[U1k + P7Y.name];}}for(var k7Y=Math.max(1,P7Y.startFrom);k7Y < u7Y.length;k7Y++){x1k="_";x1k+="MFV ";m7Y=Math.max(u7Y[k7Y - 1].Close,u7Y[k7Y].High);y7Y=Math.min(u7Y[k7Y - ("1" & 2147483647)].Close,u7Y[k7Y].Low);u7Y[k7Y]["_MFV " + P7Y.name]=u7Y[k7Y].Volume * (2 * u7Y[k7Y].Close - m7Y - y7Y) / (m7Y - y7Y === 0?999999:m7Y - y7Y);if(k7Y > P7Y.days - "1" * 1){M7Y*=(P7Y.days - "1" * 1) / P7Y.days;V7Y*=(P7Y.days - ("1" - 0)) / P7Y.days;}M7Y+=u7Y[k7Y][x1k + P7Y.name];V7Y+=u7Y[k7Y].Volume;if(k7Y > P7Y.days - ("1" << 666857120)){if(V7Y){w9I.U7a(8);u7Y[k7Y]["Result " + P7Y.name]=w9I.h8a(M7Y,V7Y > 0?V7Y:999999);}}u7Y[k7Y]["_sumMF " + P7Y.name]=M7Y;u7Y[k7Y]["_sumV " + P7Y.name]=V7Y;}};R7Y.Studies.studyLibrary=R7Y.extend(R7Y.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:R7Y.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};y5l=Z7Y=>{var p7Y,X1k;p7Y=typeof _CIQ !== "undefined"?_CIQ:Z7Y.CIQ;if(!p7Y.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!p7Y.Studies.calculateTypicalPrice){X1k="typicalPri";X1k+="ce feature requires first";X1k+=" acti";X1k+="vating medianPrice feature.";console.error(X1k);}else {p7Y.Studies.studyLibrary=p7Y.extend(p7Y.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:p7Y.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:p7Y.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};s5l=E7Y=>{Q6II.o6I();var h7Y;h7Y=typeof _CIQ !== "undefined"?_CIQ:E7Y.CIQ;if(!h7Y.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {h7Y.Studies.calculateUlcerIndex=function(G7Y,t7Y){var Q7Y,w7Y,z7Y,P1k,d1k,d7Y;function Y7Y(g7Y,l7Y,x7Y){var f7Y;f7Y=null;for(var H7Y=l7Y - g7Y + 1;H7Y <= l7Y;H7Y++){if(H7Y < 0)continue;f7Y=f7Y === null?Q7Y[H7Y][x7Y]:Math.max(f7Y,Q7Y[H7Y][x7Y]);}return f7Y;}Q7Y=t7Y.chart.scrubbed;if(Q7Y.length < 2 * t7Y.days - 1){t7Y.error=! !1;return;}w7Y=t7Y.inputs.Field;if(!w7Y || w7Y == "field"){w7Y="Close";}for(z7Y=Math.max(t7Y.startFrom,t7Y.days - +"1");z7Y < Q7Y.length;z7Y++){P1k="_";P1k+="P";P1k+="D";P1k+="2 ";Q7Y[z7Y][P1k + t7Y.name]=Math.pow(100 * (Q7Y[z7Y][w7Y] / Y7Y(t7Y.days,z7Y,w7Y) - ("1" >> 1653037312)),+"2");}h7Y.Studies.MA("simple",t7Y.days,"_PD2 " + t7Y.name,0,"_MA",G7Y,t7Y);for(z7Y=Math.max(t7Y.startFrom,2 * (t7Y.days - 1));z7Y < Q7Y.length;z7Y++){d1k="R";d1k+="esul";d1k+="t";d1k+=" ";d7Y=Q7Y[z7Y]["_MA " + t7Y.name];if(d7Y || d7Y === 0){Q7Y[z7Y][d1k + t7Y.name]=Math.sqrt(d7Y);}}};h7Y.Studies.studyLibrary=h7Y.extend(h7Y.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:h7Y.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};p5l=b7Y=>{var q7Y;Q6II.o6I();q7Y=typeof _CIQ !== "undefined"?_CIQ:b7Y.CIQ;if(!q7Y.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {q7Y.Studies.calculateUltimateOscillator=function(n1Y,C7Y){var O9I=Q6II;var D7Y,K7Y,X7Y,o7Y,i7Y,W7Y,O7Y,j7Y,m1k,k1k,f1k,S7Y,N7Y,L7Y,T7Y,B7Y,I7Y,A7Y,r7Y;D7Y=C7Y.chart.scrubbed;K7Y=[C7Y.inputs["Cycle 1"],C7Y.inputs["Cycle 2"],C7Y.inputs["Cycle 3"]];X7Y=Math.max(K7Y[0],K7Y[+"1"],K7Y[2]);O9I.o6I();if(D7Y.length < X7Y + 1){C7Y.error=! !1;return;}o7Y=K7Y[0] * K7Y[1];i7Y=K7Y[0] * K7Y[2];W7Y=K7Y["1" | 0] * K7Y[2];O7Y=[0,0,0];j7Y=[0,0,0];if(C7Y.startFrom){m1k="_acc";m1k+="tr ";k1k="_ac";k1k+="cbp ";if(D7Y[C7Y.startFrom - 1]["_accbp " + C7Y.name]){O7Y=D7Y[C7Y.startFrom - +"1"][k1k + C7Y.name].slice();}if(D7Y[C7Y.startFrom - 1][m1k + C7Y.name]){j7Y=D7Y[C7Y.startFrom - 1]["_acctr " + C7Y.name].slice();}}for(var J7Y=Math.max(1,C7Y.startFrom);J7Y < D7Y.length;J7Y++){f1k="_";f1k+="ac";f1k+="c";f1k+="bp ";S7Y=Math.min(D7Y[J7Y].Low,D7Y[J7Y - 1].Close);N7Y=D7Y[J7Y].Close - S7Y;L7Y=Math.max(D7Y[J7Y].High,D7Y[J7Y - 1].Close) - S7Y;for(var U7Y=0;U7Y < K7Y.length;U7Y++){O7Y[U7Y]+=N7Y;j7Y[U7Y]+=L7Y;if(J7Y > K7Y[U7Y]){T7Y=Math.min(D7Y[J7Y - K7Y[U7Y]].Low,D7Y[J7Y - K7Y[U7Y] - 1].Close);B7Y=D7Y[J7Y - K7Y[U7Y]].Close - T7Y;I7Y=Math.max(D7Y[J7Y - K7Y[U7Y]].High,D7Y[J7Y - K7Y[U7Y] - 1].Close) - T7Y;O7Y[U7Y]-=B7Y;j7Y[U7Y]-=I7Y;}}D7Y[J7Y][f1k + C7Y.name]=O7Y.slice();D7Y[J7Y]["_acctr " + C7Y.name]=j7Y.slice();if(J7Y < X7Y)continue;A7Y=W7Y * O7Y[+"0"] / j7Y[0] + i7Y * O7Y[1] / j7Y[1] + o7Y * O7Y[2] / j7Y[2];O9I.U7a(49);r7Y=O9I.H8a(i7Y,W7Y,o7Y);O9I.U7a(65);D7Y[J7Y]["Result " + C7Y.name]=O9I.h8a(A7Y,100,r7Y);}};q7Y.Studies.studyLibrary=q7Y.extend(q7Y.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:q7Y.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":"14" * 1,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:"auto"}}}});}};Z5l=c1Y=>{var j1k,a1Y,Y1k,L1k,i1k,h1k,b1k;j1k="u";j1k+="ndefined";a1Y=typeof _CIQ !== j1k?_CIQ:c1Y.CIQ;if(!a1Y.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {Y1k="#fff69";Y1k+="e";L1k="#85";L1k+="c99";L1k+="e";i1k="med";i1k+="i";i1k+="a";i1k+="n";h1k="fie";h1k+="ld";b1k="Valuati";b1k+="on Lines";a1Y.Studies.calculateValuationLines=function(V1Y,F1Y,v1Y){var C9I=Q6II;var V1k,D1k,A1k,t1k,Z1Y,t1Y,h1Y,m1Y,y1Y,s1Y,p1Y,R1Y,e1Y,P1Y,u1Y,M1Y,E1Y;V1k="Display 3 Standard Deviatio";V1k+="n (3\u03C3)";D1k="Display 1 Standard D";D1k+="eviation (1\u03C3)";A1k="Displa";A1k+="y ";A1k+="Average";t1k="fi";t1k+="el";t1k+="d";Z1Y=F1Y.inputs.Field == t1k?"Close":F1Y.inputs.Field;t1Y=F1Y.inputs["Average Type"];h1Y=F1Y.inputs[A1k];m1Y=F1Y.inputs[D1k];y1Y=F1Y.inputs["Display 2 Standard Deviation (2\u03C3)"];s1Y=F1Y.inputs[V1k];p1Y=[];for(var k1Y=0;k1Y < v1Y.length;++k1Y){if(v1Y[k1Y] && !isNaN(v1Y[k1Y][Z1Y])){p1Y.push(v1Y[k1Y][Z1Y]);}}R1Y=(function(G1Y,f1Y){var I1k,S1k,z1Y,w1Y,d1Y,Q1Y,Y1Y,H1Y;I1k="m";I1k+="ed";I1k+="ia";I1k+="n";S1k="harmoni";S1k+="c";z1Y=G1Y.length;w1Y=0;d1Y=0;Q1Y=0;switch(f1Y){case "mean":d1Y=z1Y;for(;Q1Y < z1Y;++Q1Y){w1Y+=G1Y[Q1Y];}break;case S1k:w1Y=z1Y;for(;Q1Y < z1Y;++Q1Y){d1Y+=1 / G1Y[Q1Y];}break;case I1k:C9I.N7a(8);Y1Y=Math.floor(C9I.H8a(z1Y,2));H1Y=G1Y.slice().sort(function(l1Y,x1Y){if(l1Y > x1Y){return 1;}if(l1Y < x1Y){C9I.N7a(11);return -C9I.H8a(300133664,"1");}return 0;});if(z1Y % 2 === 0){w1Y=H1Y[Y1Y] + H1Y[Y1Y - 1];d1Y=2;}else {w1Y=H1Y[Y1Y];d1Y=1;}break;}C9I.U7a(8);return C9I.h8a(w1Y,d1Y);})(p1Y,t1Y);e1Y=!(m1Y || y1Y || s1Y) || (function(D1Y,C1Y){var q1Y,b1Y;q1Y=D1Y.length;C9I.i6I();b1Y=0;for(var g1Y=0;g1Y < q1Y;++g1Y){b1Y+=Math.pow(D1Y[g1Y] - C1Y,2);}C9I.U7a(8);return Math.sqrt(C9I.h8a(b1Y,q1Y));})(p1Y,R1Y);F1Y.data={Average:h1Y?[R1Y]:null,"1 Standard Deviation (1\u03C3)":m1Y?[R1Y + e1Y,R1Y - e1Y]:null,"2 Standard Deviation (2\u03C3)":y1Y?[R1Y + e1Y * 2,R1Y - e1Y * 2]:null,"3 Standard Deviation (3\u03C3)":s1Y?[R1Y + e1Y * ("3" << 2079756000),R1Y - e1Y * 3]:null};P1Y=e1Y;if(!F1Y.parameters){F1Y.parameters={};}if(s1Y){C9I.U7a(85);F1Y.parameters.range=[C9I.H8a(R1Y,3,e1Y,P1Y),C9I.H8a("3",R1Y,e1Y,P1Y,C9I.N7a(86))];}else if(y1Y){C9I.U7a(87);F1Y.parameters.range=[C9I.h8a(e1Y,R1Y,P1Y,"2"),C9I.H8a("2",R1Y,e1Y,P1Y,C9I.N7a(86))];}else if(m1Y){C9I.N7a(62);F1Y.parameters.range=[C9I.H8a(P1Y,e1Y,R1Y),C9I.h8a(e1Y,R1Y,P1Y,C9I.U7a(49))];}else if(h1Y){C9I.U7a(5);F1Y.parameters.range=[C9I.H8a(R1Y,P1Y),C9I.H8a(P1Y,R1Y,C9I.N7a(0))];}if(F1Y.panel){u1Y=V1Y.panels[F1Y.panel];M1Y=V1Y.getYAxisByName(u1Y,F1Y.name);if(M1Y){M1Y.decimalPlaces=u1Y.chart.yAxis.printDecimalPlaces;E1Y={yAxis:M1Y};V1Y.calculateYAxisRange(u1Y,M1Y,F1Y.parameters.range["0" << 2079464160],F1Y.parameters.range[1]);V1Y.createYAxis(u1Y,E1Y);V1Y.drawYAxis(u1Y,E1Y);}}};a1Y.Studies.displayValuationLines=function(K1Y,O1Y){var J9I=Q6II;var w1k,M1k,J1Y,j1Y,o1Y,S1Y,F9Y,R9Y,e9Y,i1Y,W1Y,T1Y,B1Y,I1Y,A1Y,r1Y,N1Y,L1Y,U1Y,n9Y,P9Y,a9Y,u1k,v1k,C1k,e1k,c9Y;w1k="stx_y";w1k+="ax";J9I.o6I();w1k+="i";w1k+="s";M1k="HA";M1k+="V";M1k+="G";J1Y=K1Y.panels[O1Y.panel];j1Y=O1Y.getYAxis(K1Y);o1Y=O1Y.getContext(K1Y);S1Y=O1Y.data;F9Y=O1Y.parameters.labels;R9Y=O1Y.inputs["Average Type"];e9Y={mean:"AVG",median:"MED",harmonic:M1k};i1Y=K1Y.canvasStyle("ciq-valuation-average-line");W1Y=K1Y.canvasStyle("ciq-valuation-deviation-line");T1Y=3;B1Y=K1Y.getCanvasFontSize(w1k) + T1Y * 2;for(var X1Y in S1Y){u1k="Av";u1k+="er";u1k+="a";u1k+="ge";if(!S1Y[X1Y])continue;J9I.U7a(88);I1Y=J9I.H8a(u1k,X1Y);A1Y=a1Y.Studies.determineColor(O1Y.outputs[X1Y]);r1Y=S1Y[X1Y];for(N1Y="0" | 0;N1Y < r1Y.length;++N1Y){v1k="l";v1k+="eft";C1k="\u03C3:";C1k+=" ";e1k="s";e1k+="ol";e1k+="i";e1k+="d";L1Y=r1Y[N1Y];U1Y=K1Y.pixelFromPrice(L1Y,J1Y,j1Y);if(U1Y <= J1Y.top || U1Y >= J1Y.yAxis.bottom)continue;a9Y=I1Y?{pattern:i1Y.borderStyle != "none"?i1Y.borderStyle || "solid":e1k,lineWidth:parseFloat(i1Y.borderWidth) || 1,opacity:parseFloat(i1Y.opacity) || 1,yAxis:j1Y}:{pattern:W1Y.borderStyle != "none"?W1Y.borderStyle || "dashed":"dashed",lineWidth:parseFloat(W1Y.borderWidth) || "1" & 2147483647,opacity:parseFloat(W1Y.opacity) || 1,yAxis:j1Y};K1Y.plotLine(J1Y.left,J1Y.right,U1Y,U1Y,A1Y,"line",o1Y,J1Y,a9Y);if(F9Y === "yaxis"){K1Y.createYAxisLabel(J1Y,K1Y.formatYAxisPrice(L1Y,J1Y),U1Y,A1Y,null,o1Y,j1Y);continue;}U1Y+=Math.floor(a9Y.lineWidth / +"2");if(U1Y + B1Y >= J1Y.yAxis.bottom)continue;n9Y=(I1Y?e9Y[R9Y] + ": ":X1Y[0] + C1k) + K1Y.formatYAxisPrice(L1Y,J1Y);P9Y=o1Y.measureText(n9Y).width;c9Y=J1Y.right - P9Y - T1Y;if(j1Y && j1Y.position == v1k){c9Y=J1Y.left + T1Y;}J9I.N7a(89);o1Y.strokeText(n9Y,c9Y,J9I.h8a(U1Y,2,B1Y,0.5));}}};a1Y.Studies.studyLibrary=a1Y.extend(a1Y.Studies.studyLibrary,{"val lines":{name:b1k,calculateFN:function(){},seriesFN:function(k9Y,u9Y,V9Y){Q6II.o6I();a1Y.Studies.calculateValuationLines(k9Y,u9Y,V9Y);a1Y.Studies.displayValuationLines(k9Y,u9Y);},overlay:! !"1",yAxisFN:function(){},inputs:{Field:h1k,"Average Type":["mean",i1k,"harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":! !"","Display 3 Standard Deviation (3\u03C3)":!"1"},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":L1k,"3 Standard Deviation (3\u03C3)":Y1k}}});}};E5l=v9Y=>{var M9Y,i2w,L2w,Y2w,p1k,y1k;M9Y=typeof _CIQ !== "undefined"?_CIQ:v9Y.CIQ;if(!M9Y.Studies){i2w=-1472841357;L2w=1771911131;Y2w=+"2";for(var Q2w=1;Q6II.t0w(Q2w.toString(),Q2w.toString().length,"23298" * 1) !== i2w;Q2w++){console.error("");Y2w+=2;}if(Q6II.A0w(Y2w.toString(),Y2w.toString().length,41515) !== L2w){console.error("volatilityIndex feature requires first activating studies feature.");}}else {p1k="a";p1k+="u";p1k+="to";y1k="Relative Vola";y1k+="tility";M9Y.Studies.calculateRelativeVolatility=function(Q9Y,m9Y){var x9I=Q6II;var F1k,r1k,Q1k,R1k,z9Y,h9Y,y9Y,p9Y,Z9Y,K1k,c1k,s9Y,t9Y,s1k;F1k="Rel ";F1k+="V";F1k+="o";F1k+="l";r1k="s";r1k+="d";r1k+="ev";Q1k="S";Q1k+="TD Period";R1k="Smoothing ";R1k+="Pe";R1k+="riod";m9Y.days=Number(m9Y.inputs[R1k]);z9Y=Number(m9Y.inputs[Q1k]);h9Y=m9Y.chart.scrubbed;if(h9Y.length < m9Y.days + z9Y){m9Y.error=! !"1";return;}y9Y=m9Y.inputs.Field;if(!y9Y || y9Y == "field"){y9Y="Close";}x9I.o6I();m9Y.std=new M9Y.Studies.StudyDescriptor(m9Y.name,r1k,m9Y.panel);m9Y.std.chart=m9Y.chart;m9Y.std.days=z9Y;m9Y.std.startFrom=m9Y.startFrom;m9Y.std.inputs={Field:y9Y,"Standard Deviations":1,Type:"ma"};m9Y.std.outputs={_STD:null};M9Y.Studies.calculateStandardDeviation(Q9Y,m9Y.std);p9Y=0;function w9Y(d9Y,G9Y){var L1w,Y1w,R1w;if(d9Y + G9Y === 0){return 100;}L1w=-507729023;x9I.N7a(14);Y1w=x9I.H8a(1884140768,"2104174247");R1w=2;for(var r1w=1;x9I.A0w(r1w.toString(),r1w.toString().length,62286) !== L1w;r1w++){x9I.N7a(72);return x9I.H8a(100,d9Y,d9Y,G9Y);}if(x9I.A0w(R1w.toString(),R1w.toString().length,48043) !== Y1w){x9I.N7a(90);return x9I.h8a(d9Y,979,G9Y,d9Y);}}x9I.N7a(17);Z9Y=x9I.h8a(0,"0");if(m9Y.startFrom > 1){K1k="_avgG";K1k+=" ";p9Y=h9Y[m9Y.startFrom - ("1" << 311839104)][K1k + m9Y.name] || 0;Z9Y=h9Y[m9Y.startFrom - 1]["_avgL " + m9Y.name] || 0;}for(var E9Y=Math.max(m9Y.startFrom,m9Y.days);E9Y < h9Y.length;E9Y++){c1k="_STD";c1k+=" ";s9Y=h9Y[E9Y];x9I.N7a(5);t9Y=h9Y[x9I.H8a(E9Y,1)];if(!s9Y[y9Y] && s9Y[y9Y] !== 0)continue;if(!t9Y[y9Y] && t9Y[y9Y] !== +"0")continue;if(!s9Y[c1k + m9Y.name] && s9Y["_STD " + m9Y.name] !== 0)continue;if(s9Y[y9Y] > t9Y[y9Y]){s1k="_";s1k+="ST";s1k+="D ";p9Y=(p9Y * (m9Y.days - ("1" >> 161550656)) + s9Y[s1k + m9Y.name]) / m9Y.days;Z9Y=Z9Y * (m9Y.days - 1) / m9Y.days;}else {Z9Y=(Z9Y * (m9Y.days - 1) + s9Y["_STD " + m9Y.name]) / m9Y.days;p9Y=p9Y * (m9Y.days - +"1") / m9Y.days;}s9Y["Rel Vol " + m9Y.name]=w9Y(p9Y,Z9Y);s9Y["_avgG " + m9Y.name]=p9Y;s9Y["_avgL " + m9Y.name]=Z9Y;}m9Y.zoneOutput=F1k;};M9Y.Studies.calculateHistoricalVolatility=function(D9Y,Y9Y){var g1k,H9Y,g9Y,q9Y,U9Y,x9Y,f9Y,N1k,q1k,O1k,C9Y,J9Y,K9Y;g1k="fi";g1k+="e";g1k+="l";g1k+="d";Q6II.i6I();H9Y=Y9Y.chart.scrubbed;if(H9Y.length < Y9Y.days + 1){Y9Y.error=! !{};return;}g9Y=Y9Y.inputs.Field;if(!g9Y || g9Y == g1k){g9Y="Close";}q9Y=Y9Y.inputs["Standard Deviations"];function O9Y(j9Y){Q6II.o6I();if(isNaN(j9Y)){j9Y=365;}if(D9Y.layout.interval == "day"){return j9Y;}else if(D9Y.layout.interval == "week"){return +"52";}else if(D9Y.layout.interval == "month"){return 12;}return j9Y;}if(q9Y < 0){q9Y=1;}U9Y=100 * Math.sqrt(O9Y(Y9Y.inputs["Days Per Year"])) * q9Y;x9Y=[];f9Y=0;if(Y9Y.startFrom > 1){N1k="_st";N1k+="ate ";q1k="_st";q1k+="ate ";f9Y=H9Y[Y9Y.startFrom - 1][q1k + Y9Y.name][0];x9Y=H9Y[Y9Y.startFrom - 1][N1k + Y9Y.name][1].slice();}for(var l9Y=Math.max("1" << 1894864160,Y9Y.startFrom);l9Y < H9Y.length;l9Y++){O1k="_";O1k+="state";O1k+=" ";Q6II.N7a(59);C9Y=H9Y[Q6II.h8a("1",l9Y)][g9Y];if(C9Y){J9Y=Math.log(H9Y[l9Y][g9Y] / C9Y);x9Y.push(J9Y);f9Y+=J9Y;if(l9Y >= Y9Y.days){K9Y=0;f9Y/=Y9Y.days;for(var b9Y=0;b9Y < x9Y.length;b9Y++){K9Y+=Math.pow(x9Y[b9Y] - f9Y,2);}f9Y*=Y9Y.days;f9Y-=x9Y.shift();H9Y[l9Y]["Result " + Y9Y.name]=Math.sqrt(K9Y / Y9Y.days) * U9Y;}}H9Y[l9Y][O1k + Y9Y.name]=[f9Y,x9Y.slice()];}};M9Y.Studies.studyLibrary=M9Y.extend(M9Y.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:M9Y.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}},"Rel Vol":{name:y1k,range:"0 to 100",calculateFN:M9Y.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":p1k},centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};Q5l=o9Y=>{var T1k,X9Y;T1k="unde";T1k+="fine";T1k+="d";X9Y=typeof _CIQ !== T1k?_CIQ:o9Y.CIQ;if(!X9Y.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {X9Y.Studies.displayVolumeProfile=function(S9Y,L9Y,s8r){var G1k,N9Y,I9Y,n8r,F8r,R8r,M8r,W9Y,E1k,a8r,T9Y,p8r,c8r,r9Y,o1k,i9Y,v8r,m8r,k8r,u8r,B9Y,Z8r,y8r,h8r,V8r;G1k="stx_vol";G1k+="u";G1k+="me_pr";G1k+="ofile";if(!S9Y || !S9Y.chart.dataSet){return;}N9Y=S9Y.chart;I9Y=L9Y.parameters.numberOfBars;n8r=L9Y.parameters.widthPercentage;F8r=L9Y.parameters.displayBorder;Q6II.o6I();R8r=L9Y.parameters.displayVolume;if(!I9Y || I9Y < 0){I9Y=30;}I9Y=Math.ceil(I9Y);if(!n8r || n8r < 0){n8r=+"0.25";}if(F8r !== !1){F8r=! ![];}if(R8r !== ! ![]){R8r=!{};}M8r=(N9Y.highValue - N9Y.lowValue) / I9Y;if(M8r === 0){return;}W9Y=[];for(var e8r=N9Y.lowValue;e8r < N9Y.highValue + 0.1;e8r+=M8r){W9Y.push([e8r,0]);}function E8r(g8r,d8r){var F7I=Q6II;var Z2w,l2w,H2w,Y8r,G8r,Q8r,z8r,w8r,H8r,f8r,l8r,x8r;if(!d8r){B9Y-=2;}Z2w=- +"520194179";l2w=+"366584939";F7I.U7a(11);H2w=F7I.H8a(1672790848,"2");for(var W6w=1;F7I.A0w(W6w.toString(),W6w.toString().length,68549) !== Z2w;W6w++){V8r.canvasColor(g8r);H2w+=2;}if(F7I.t0w(H2w.toString(),H2w.toString().length,51633) !== l2w){V8r.canvasColor(g8r);}i9Y.beginPath();Y8r=W9Y[0][0];G8r=B9Y;for(var t8r=1;t8r < W9Y.length;t8r++){if(W9Y[t8r][1]){Q8r=Math.round(B9Y - W9Y[t8r]["1" >> 1708659360] * Z8r / a8r) - 0.5;z8r=Math.round(V8r.pixelFromTransformedValue(Y8r,k8r)) + 0.5;w8r=Math.round(V8r.pixelFromTransformedValue(W9Y[t8r][+"0"],k8r)) + 0.5;if(!d8r){z8r-=0.5;w8r+=0.5;F7I.U7a(22);Q8r+=F7I.H8a("0.5",1);}if(z8r > u8r){z8r=u8r;}if(w8r < u8r){i9Y.moveTo(B9Y,z8r);i9Y.lineTo(B9Y,w8r);i9Y.lineTo(Q8r,w8r);i9Y.lineTo(Q8r,z8r);if(d8r){if(G8r > Q8r || t8r == +"1"){i9Y.lineTo(G8r,z8r);};}else {i9Y.lineTo(B9Y,z8r);if(R8r){H8r=X9Y.condenseInt(W9Y[t8r][1]);F7I.N7a(5);f8r=F7I.H8a(z8r,w8r);if(m8r <= f8r - 2){try{l8r=i9Y.measureText(H8r).width;}catch(q8r){l8r=0;}i9Y.textBaseline="top";x8r=i9Y.fillStyle;i9Y.fillStyle=y8r;F7I.N7a(91);i9Y.fillText(H8r,F7I.H8a("3",l8r,Q8r),F7I.H8a("2",2,f8r,m8r,w8r,F7I.N7a(92)));i9Y.fillStyle=x8r;}}}}G8r=Q8r;}else {G8r=B9Y;;}Y8r=W9Y[t8r][0];}if(!L9Y.highlight && S9Y.highlightedDraggable){i9Y.globalAlpha*=0.3;}if(!d8r){i9Y.fill();}i9Y.strokeStyle=y8r;if(d8r){i9Y.stroke();}i9Y.closePath();}if(W9Y.length < 2){E1k="c";E1k+="h";E1k+="art";S9Y.displayErrorAsWatermark(E1k,S9Y.translateIf("Not enough data to render the Volume Profile"));return;}a8r=0;for(var P8r=0;P8r < s8r.length;P8r++){T9Y=s8r[P8r];if(!T9Y)continue;p8r=T9Y.Volume;if(L9Y.panel == N9Y.name && T9Y.transform){T9Y=T9Y.transform;}Q6II.U7a(14);c8r=W9Y[Q6II.H8a(1847080960,"0")][0];r9Y=0;for(var A9Y=1;A9Y < W9Y.length;A9Y++){r9Y=W9Y[A9Y][0];if(T9Y.Low >= c8r && T9Y.Low <= r9Y || T9Y.Low < c8r && T9Y.High > r9Y || T9Y.High >= c8r && T9Y.High <= r9Y){W9Y[A9Y][1]+=p8r;if(W9Y[A9Y][1] > a8r){a8r=W9Y[A9Y][1];}}c8r=r9Y;}}if(a8r === 0){o1k="ch";o1k+="art";S9Y.displayErrorAsWatermark(o1k,S9Y.translateIf("Not enough data to render the Volume Profile"));return;}S9Y.setStyle("stx_volume_profile","color",X9Y.Studies.determineColor(L9Y.outputs["Bars Color"]));i9Y=L9Y.getContext(S9Y);v8r="stx-float-date";S9Y.canvasFont(v8r,i9Y);m8r=S9Y.getCanvasFontSize(v8r);k8r=N9Y.panel;u8r=k8r.yAxis.bottom;B9Y=Math.round(N9Y.right) - 0.5;Z8r=N9Y.width * n8r;y8r=S9Y.canvasStyle(G1k).borderTopColor;h8r=!X9Y.isTransparent(S9Y.canvasStyle("stx_volume_profile").borderTopColor) && F8r;V8r=S9Y;E8r("stx_volume_profile",! !"");if(h8r){E8r("stx_volume_profile",! ![]);}i9Y.globalAlpha=1;};X9Y.Studies.studyLibrary=X9Y.extend(X9Y.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !1,seriesFN:X9Y.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!"",parameters:{init:{displayBorder:!0,displayVolume:!"1",numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !1}}}});}};w5l=D8r=>{var b8r,W3k;b8r=typeof _CIQ !== "undefined"?_CIQ:D8r.CIQ;if(!b8r.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {W3k="Tra";W3k+="de V";W3k+="olume In";W3k+="dex";b8r.Studies.calculateOnBalanceVolume=function(S8r,K8r){var R9I=Q6II;var Z1k,C8r,U8r,W8r,j8r,X8r,O8r,o8r,i8r;R9I.o6I();Z1k="Clos";Z1k+="e";C8r=K8r.inputs.Field;if(!C8r || C8r == "field"){C8r=Z1k;}U8r=K8r.inputs["Min Tick Value"];W8r=!{};if(!U8r && U8r !== 0){W8r=! !"1";U8r=0;}j8r=K8r.chart.scrubbed;X8r=0;for(var J8r=K8r.startFrom;J8r < j8r.length;J8r++){O8r=j8r[J8r];if(!J8r || !O8r[C8r])continue;if(j8r[J8r - 1][C8r]){R9I.U7a(5);o8r=j8r[R9I.H8a(J8r,1)];}if(!o8r)continue;if(O8r[C8r] - o8r[C8r] > U8r){R9I.U7a(5);X8r=R9I.h8a("1",0);}else if(o8r[C8r] - O8r[C8r] > U8r){R9I.N7a(23);X8r=-R9I.h8a(0,"1");}else if(W8r){X8r=0;}i8r=o8r["Result " + K8r.name];if(!i8r){i8r=0;}i8r+=O8r.Volume * X8r;O8r["Result " + K8r.name]=i8r;}};b8r.Studies.calculatePriceVolumeTrend=function(A8r,B8r){var l1k,L8r,T8r,I8r,H1k;l1k="C";l1k+="los";l1k+="e";L8r=B8r.inputs.Field;if(!L8r || L8r == "field"){L8r=l1k;}T8r=B8r.chart.scrubbed;I8r=0;if(B8r.startFrom > 1){I8r=T8r[B8r.startFrom - 1]["Result " + B8r.name];}for(var N8r=Math.max(1,B8r.startFrom);N8r < T8r.length;N8r++){H1k="Resul";H1k+="t ";if(!T8r[N8r][L8r])continue;if(!T8r[N8r - 1][L8r])continue;I8r+=T8r[N8r].Volume * (T8r[N8r][L8r] - T8r[N8r - 1][L8r]) / T8r[N8r - 1][L8r];T8r[N8r][H1k + B8r.name]=I8r;}};b8r.Studies.calculateVolumeIndex=function(V4r,r8r){var g9I=Q6II;var B3k,R4r,n4r,e4r,c4r,P4r,F4r,u4r;B3k="In";B3k+="de";B3k+="x ";R4r=r8r.inputs.Field;if(!R4r || R4r == "field"){R4r="Close";}n4r=r8r.chart.scrubbed;g9I.o6I();if(n4r.length < r8r.days + ("1" | 0)){r8r.error=! !{};return;}e4r=100;if(r8r.startFrom > 1){e4r=n4r[r8r.startFrom - 1][B3k + r8r.name];}for(var a4r=Math.max(1,r8r.startFrom);a4r < n4r.length;a4r++){c4r=n4r[a4r][R4r];P4r=n4r[a4r].Volume;if(c4r && typeof c4r == "object"){P4r=c4r.Volume;c4r=c4r[r8r.subField];}g9I.U7a(5);F4r=n4r[g9I.h8a(a4r,1)][R4r];u4r=n4r[a4r - 1].Volume;if(F4r && typeof F4r == "object"){u4r=F4r.Volume;F4r=F4r[r8r.subField];}if(!c4r)continue;if(!F4r)continue;if(r8r.type == "Pos Vol" && P4r > u4r || r8r.type == "Neg Vol" && P4r < u4r){g9I.N7a(8);e4r*=g9I.H8a(c4r,F4r);}n4r[a4r]["Index " + r8r.name]=e4r;}b8r.Studies.MA(r8r.inputs["Moving Average Type"],r8r.days,"Index " + r8r.name,"0" * 1,"MA",V4r,r8r);};b8r.Studies.studyLibrary=b8r.extend(b8r.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:b8r.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:b8r.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:b8r.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:b8r.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:W3k,calculateFN:b8r.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(M4r,v4r){var J3k;Q6II.i6I();if(b8r.Studies.calculateRateOfChange){b8r.Studies.calculateRateOfChange(M4r,v4r);}else {J3k="Volume Rate of Chang";J3k+="e study requires first a";J3k+="ctivating momentum feature.";console.error(J3k);b8r.Studies.calculateRateOfChange=function(m4r,y4r){};}},parameters:{init:{isVolume:! !"1"}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,position:"none",zoom:"0" << 302418016,heightFactor:0.25},seriesFN:b8r.Studies.createVolumeChart,calculateFN:b8r.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(s4r,p4r){var z3k;z3k="lay";z3k+="out";s4r.layout.volumeUnderlay=!{};s4r.changeOccurred(z3k);},attributes:{panelName:{hidden:! !{}}}}});}};d5l=h4r=>{Q6II.i6I();var Z4r,U3k;Z4r=typeof _CIQ !== "undefined"?_CIQ:h4r.CIQ;if(!Z4r.Studies){console.error("vortex feature requires first activating studies feature.");}else {U3k="0.";U3k+="0";U3k+="1";Z4r.Studies.calculateVortex=function(x4r,E4r){var M9I=Q6II;var j2w,t2w,A2w,w4r,d4r,t4r,n3k,z4r,G4r,Y4r,H4r,f4r,a3k;j2w=318222775;t2w=944037645;A2w=2;for(var V2w=+"1";M9I.t0w(V2w.toString(),V2w.toString().length,31513) !== j2w;V2w++){w4r=E4r.chart.scrubbed;A2w+=2;}if(M9I.t0w(A2w.toString(),A2w.toString().length,85213) !== t2w){w4r=E4r.chart.scrubbed;}d4r=E4r.days;if(w4r.length < d4r + 1){E4r.error=!"";return;}t4r={tr:0,vmPlus:0,vmMinus:0};M9I.o6I();if(E4r.startFrom > ("1" ^ 0)){t4r=Z4r.clone(w4r[E4r.startFrom - 1]["_totals " + E4r.name]);}for(var Q4r=Math.max(E4r.startFrom,1);Q4r < w4r.length;Q4r++){n3k="_";n3k+="True Rang";n3k+="e ";z4r=w4r[Q4r];M9I.N7a(5);G4r=w4r[M9I.H8a(Q4r,1)];Y4r=Math.abs(z4r.High - G4r.Low);H4r=Math.abs(z4r.Low - G4r.High);f4r=Math.max(z4r.High,G4r.Close) - Math.min(z4r.Low,G4r.Close);t4r.tr+=f4r;t4r.vmPlus+=Y4r;t4r.vmMinus+=H4r;if(Q4r > d4r){M9I.U7a(5);t4r.tr-=w4r[M9I.h8a(Q4r,d4r)]["_True Range " + E4r.name];M9I.N7a(5);t4r.vmPlus-=w4r[M9I.H8a(Q4r,d4r)]["_VMPlus " + E4r.name];M9I.U7a(5);t4r.vmMinus-=w4r[M9I.h8a(Q4r,d4r)]["_VMMinus " + E4r.name];}z4r[n3k + E4r.name]=f4r;z4r["_VMPlus " + E4r.name]=Y4r;z4r["_VMMinus " + E4r.name]=H4r;if(Q4r >= d4r){a3k="+";a3k+="VI";a3k+=" ";z4r[a3k + E4r.name]=t4r.vmPlus / t4r.tr;z4r["-VI " + E4r.name]=t4r.vmMinus / t4r.tr;}z4r["_totals " + E4r.name]=Z4r.clone(t4r);}};Z4r.Studies.studyLibrary=Z4r.extend(Z4r.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:Z4r.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:U3k},studyOverSoldValue:{max:1,step:"0.01"}}}});}};G5l=q4r=>{var g4r,f3k,m3k;g4r=typeof _CIQ !== "undefined"?_CIQ:q4r.CIQ;if(!g4r.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {f3k="#ffd0";f3k+="cf";m3k="0";m3k+=" to ";m3k+="m";m3k+="ax";g4r.Studies.calculateMFI=function(X4r,b4r){var X3k,x3k,C4r,O4r,K4r,U4r,j4r,J4r;X3k="_";X3k+="hi";X3k+="st";x3k="Scale F";x3k+="a";x3k+="ct";x3k+="or";C4r=b4r.chart.scrubbed;K4r=0;U4r=b4r.inputs[x3k];if(!U4r){U4r=b4r.study.inputs["Scale Factor"];}j4r=Math.pow(10,Number(U4r));if(b4r.startFrom > 1){K4r=C4r[b4r.startFrom - ("1" & 2147483647)]["_high " + b4r.name];}for(J4r=b4r.startFrom;J4r < C4r.length;J4r++){if(!C4r[J4r])continue;if(C4r[J4r].Volume){C4r[J4r][b4r.name + "_hist"]=O4r=j4r * (C4r[J4r].High - C4r[J4r].Low) / C4r[J4r].Volume;C4r[J4r]["_high " + b4r.name]=K4r=Math.max(K4r,O4r);}}b4r.outputMap={};b4r.outputMap[b4r.name + X3k]="";};g4r.Studies.displayMFI=function(i4r,o4r,I4r){var P3k,A4r,T4r,B4r,r4r,L4r,n0r,a0r,c0r,F0r,k3k,d3k,W4r,S4r;P3k="s";P3k+="tx_h";P3k+="i";P3k+="stogram";A4r=i4r.panels[o4r.panel];T4r=o4r.getContext(i4r);B4r=o4r.getYAxis(i4r);r4r=B4r.flipped?B4r.top:B4r.bottom;L4r=i4r.layout.candleWidth - 2;if(L4r < 2){L4r=1;}n0r=g4r.Studies.determineColor(o4r.outputs.Green);a0r=g4r.Studies.determineColor(o4r.outputs.Fade);c0r=g4r.Studies.determineColor(o4r.outputs.Fake);F0r=g4r.Studies.determineColor(o4r.outputs.Squat);i4r.canvasColor(P3k);if(!o4r.underlay){T4r.globalAlpha=1;}T4r.fillStyle="#CCCCCC";i4r.startClip(o4r.panel);if(!o4r.highlight && i4r.highlightedDraggable){T4r.globalAlpha*=0.3;}for(var N4r=+"0";N4r < I4r.length;N4r++){k3k="_hi";k3k+="st";d3k="_h";d3k+="i";d3k+="s";d3k+="t";W4r=I4r[N4r];Q6II.N7a(5);S4r=I4r[Q6II.H8a(N4r,1)];if(!S4r){S4r=i4r.getPreviousBar(i4r.chart,o4r.name + "_hist",N4r);}if(!W4r)continue;if(!S4r);else if(S4r[o4r.name + d3k] < W4r[o4r.name + "_hist"]){if(S4r.Volume < W4r.Volume){T4r.fillStyle=n0r;}else if(S4r.Volume > W4r.Volume){T4r.fillStyle=c0r;}}else if(S4r[o4r.name + k3k] > W4r[o4r.name + "_hist"]){if(S4r.Volume < W4r.Volume){T4r.fillStyle=F0r;}else if(S4r.Volume > W4r.Volume){T4r.fillStyle=a0r;}}if(W4r.candleWidth){L4r=Math.floor(Math.max(+"1",W4r.candleWidth - 2));}T4r.fillRect(Math.floor(i4r.pixelFromBar(N4r,A4r.chart) - L4r / +"2"),Math.floor(r4r),Math.floor(L4r),Math.floor(i4r.pixelFromPrice(W4r[o4r.name + "_hist"],A4r,B4r) - r4r));}i4r.endClip();};g4r.Studies.studyLibrary=g4r.extend(g4r.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:g4r.Studies.displayMFI,calculateFN:g4r.Studies.calculateMFI,yAxis:{ground:! !"1"},range:m3k,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:f3k}}});}};x5l={CIQ:n2l,SplinePlotter:Y5l,timezoneJS:H5l,$$:f5l,$$$:l5l};export {a2l as aggregations};export {c2l as drawingAdvanced};export {F2l as equationsAdvanced};export {R2l as highPerformanceMarkers};Q6II.i6I();export {e2l as renderersAdvanced};export {P2l as accumulationDistribution};export {k2l as adx};export {u2l as alligator};export {V2l as aroon};export {M2l as atr};export {v2l as awesomeOscillator};export {m2l as balanceOfPower};export {y2l as bollinger};export {s2l as cci};export {p2l as centerOfGravity};export {Z2l as chaikin};export {h2l as chande};export {E2l as choppiness};export {t2l as comparisonStudies};export {z2l as coppock};export {Q2l as darvasBox};export {w2l as detrended};export {d2l as disparity};export {G2l as easeOfMovement};export {Y2l as ehlerFisher};export {H2l as elder};export {f2l as fractalChaos};export {l2l as highLowStudies};export {x2l as ichimoku};export {g2l as intradayMomentum};export {q2l as keltner};export {b2l as klinger};export {D2l as linearRegression};export {C2l as macd};export {J2l as massIndex};export {K2l as moneyFlow};export {U2l as movingAverages};export {O2l as parabolicSAR};export {j2l as pivotPoints};export {X2l as prettyGoodOscillator};export {o2l as priceMomentumOscillator};export {i2l as priceVolumeOscillator};export {W2l as primeNumber};export {S2l as pring};export {T2l as projectedVolume};export {N2l as psychologicalLine};export {L2l as qstick};export {B2l as rainbow};export {I2l as randomWalk};export {A2l as relativeVigor};export {r2l as rsi};export {F5l as schaffTrendCycle};export {R5l as shinohara};export {P5l as stochastics};export {k5l as supertrend};export {u5l as swingIndex};export {V5l as trendIntensity};export {v5l as trix};export {m5l as twiggsMoneyFlow};export {y5l as typicalPrice};export {s5l as ulcerIndex};export {p5l as ultimateOscillator};export {Z5l as valuationLines};export {E5l as volatilityIndex};export {Q5l as volumeProfile};export {w5l as volumeStudies};export {d5l as vortex};export {G5l as williamsMFI};export {n2l as CIQ, Y5l as SplinePlotter, H5l as timezoneJS, f5l as $$, l5l as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(x5l.CIQ || n2l).activateImports(a2l,c2l,F2l,R2l,e2l,P2l,k2l,u2l,V2l,M2l,v2l,m2l,y2l,s2l,p2l,Z2l,h2l,E2l,t2l,z2l,Q2l,w2l,d2l,G2l,Y2l,H2l,f2l,l2l,x2l,g2l,q2l,b2l,D2l,C2l,J2l,K2l,U2l,O2l,j2l,X2l,o2l,i2l,W2l,S2l,T2l,N2l,L2l,B2l,I2l,A2l,r2l,F5l,R5l,P5l,k5l,u5l,V5l,v5l,m5l,y5l,s5l,p5l,Z5l,E5l,Q5l,w5l,d5l,G5l,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
